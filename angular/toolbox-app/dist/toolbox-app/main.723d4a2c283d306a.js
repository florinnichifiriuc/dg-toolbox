"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ht,Ie,k)=>{k.d(Ie,{Dh:()=>xe,GT:()=>me,cc:()=>Re,on:()=>Ee,pX:()=>ae,xv:()=>Pe});var g=k(7989),R=k(7142);ht=k.hmd(ht);const T=["ngOnDestroy"],ae=(be,Ae,Ke,Je={})=>new Proxy(be,{get:(Z,ue)=>Ke.runOutsideAngular(()=>{var J;if(be[ue])return!(null===(J=Je?.spy)||void 0===J)&&J.get&&Je.spy.get(ue,be[ue]),be[ue];if(T.indexOf(ue)>-1)return()=>{};const pe=Ae.toPromise().then(Le=>{const K=Le&&Le[ue];return"function"==typeof K?K.bind(Le):K&&K.then?K.then(et=>Ke.run(()=>et)):Ke.run(()=>K)});return new Proxy(()=>{},{get:(Le,K)=>pe[K],apply:(Le,K,et)=>pe.then(nt=>{var Dt;const X2=nt&&nt(...et);return!(null===(Dt=Je?.spy)||void 0===Dt)&&Dt.apply&&Je.spy.apply(ue,et,X2),X2})})})}),me=(be,Ae)=>{Ae.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Je=>{Object.defineProperty(be.prototype,Je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Je))})})};class we{constructor(Ae){return Ae}}const xe=new g.OlP("angularfire2.app.options"),Pe=new g.OlP("angularfire2.app.name");function Ee(be,Ae,Ke){const Z="object"==typeof Ke&&Ke||{};Z.name=Z.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const J=R.Z.apps.filter(pe=>pe&&pe.name===Z.name)[0]||Ae.runOutsideAngular(()=>R.Z.initializeApp(be,Z));try{JSON.stringify(be)!==JSON.stringify(J.options)&&O("error",`${J.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(J)}const O=(be,...Ae)=>{(0,g.X6Q)()&&typeof console<"u"&&console[be](...Ae)};function Re(be,Ae,Ke,Je,Z){const[,ue,J]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===be)||[];if(ue)return function He(be,Ae){try{return be.toString()===Ae.toString()}catch{return be===Ae}}(Z,J)||(le("error",`${Ae} was already initialized on the ${Ke} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Z,was:J})),ue;{const pe=Je();return globalThis.\u0275AngularfireInstanceCache.push([be,pe,Z]),pe}}const st=!!ht.hot,le=(be,...Ae)=>{(0,g.X6Q)()&&typeof console<"u"&&console[be](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(ht,Ie,k)=>{k.d(Ie,{$:()=>Z4,A:()=>B,D:()=>He,I:()=>T4,J:()=>ki,L:()=>Te,N:()=>O1,P:()=>Tc,Q:()=>ei,R:()=>Xf,U:()=>oc,V:()=>Er,W:()=>qn,X:()=>pr,Y:()=>j4,Z:()=>$4,_:()=>Fi,a:()=>gr,a0:()=>$f,a1:()=>h2,a2:()=>xC,a3:()=>DC,a4:()=>Vl,a5:()=>fc,a6:()=>mr,a7:()=>Gf,a8:()=>dc,a9:()=>qf,aA:()=>K,aB:()=>Oc,aC:()=>c2,aD:()=>yn,aE:()=>v3,aF:()=>ui,aG:()=>Xl,aH:()=>u2,aL:()=>r3,aO:()=>Cn,aa:()=>En,ab:()=>Z2,ac:()=>Sl,ad:()=>Q4,ae:()=>AC,af:()=>mc,ai:()=>TC,aj:()=>Wf,ak:()=>Ll,an:()=>G4,ao:()=>X4,aq:()=>Nl,ar:()=>t3,as:()=>nt,at:()=>$e,au:()=>de,av:()=>Z,aw:()=>_a,ax:()=>ga,ay:()=>Ft,az:()=>ue,b:()=>bc,c:()=>Ql,d:()=>Yi,e:()=>Jl,f:()=>p3,g:()=>ha,h:()=>Rc,i:()=>sa,j:()=>yr,k:()=>wa,l:()=>l3,m:()=>o8,o:()=>Kc,p:()=>Pe,r:()=>Wl,s:()=>Ac,u:()=>oa});var g=k(5861),R=k(9058),T=k(534),ae=k(7582),me=k(7879),we=k(4537);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},st=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},le=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new me.Yd("@firebase/auth");function Je(_,...h){Ae.logLevel<=me.in.ERROR&&Ae.error(`Auth (${T.SDK_VERSION}): ${_}`,...h)}function Z(_,...h){throw Le(_,...h)}function ue(_,...h){return Le(_,...h)}function J(_,h,m){const M=Object.assign(Object.assign({},st()),{[h]:m});return new R.LL("auth","Firebase",M).create(h,{appName:_.name})}function pe(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Z(_,"argument-error"),J(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...h){if("string"!=typeof _){const m=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=_.name),_._errorFactory.create(m,...M)}return le.create(_,...h)}function K(_,h,...m){if(!_)throw Le(h,...m)}function et(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Je(h),new Error(h)}function nt(_,h){_||et(h)}function Dt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function X2(){return"http:"===hn()||"https:"===hn()}function hn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class pn{constructor(h,m){this.shortDelay=h,this.longDelay=m,nt(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X2()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ur(_,h){nt(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class te{static initialize(h,m,M){this.fetchImpl=h,m&&(this.headersImpl=m),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new pn(3e4,6e4);function X(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function he(_,h,m,M){return ze.apply(this,arguments)}function ze(){return(ze=(0,g.Z)(function*(_,h,m,M,I={}){return Qe(_,I,(0,g.Z)(function*(){let L={},$={};M&&("GET"===h?$=M:L={body:JSON.stringify(M)});const ee=(0,R.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),te.fetch()(Ut(_,_.config.apiHost,m,ee),Object.assign({method:h,headers:De,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Qe(_,h,m){return ke.apply(this,arguments)}function ke(){return(ke=(0,g.Z)(function*(_,h,m){_._canInitEmulator=!1;const M=Object.assign(Object.assign({},ie),h);try{const I=new bt(_),L=yield Promise.race([m(),I.promise]);I.clearNetworkTimeout();const $=yield L.json();if("needConfirmation"in $)throw Kt(_,"account-exists-with-different-credential",$);if(L.ok&&!("errorMessage"in $))return $;{const ee=L.ok?$.errorMessage:$.error.message,[De,Fe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Kt(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===De)throw Kt(_,"email-already-in-use",$);if("USER_DISABLED"===De)throw Kt(_,"user-disabled",$);const it=M[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw J(_,it,Fe);Z(_,it)}}catch(I){if(I instanceof R.ZR)throw I;Z(_,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Qt(_,h,m,M){return mt.apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*(_,h,m,M,I={}){const L=yield he(_,h,m,M,I);return"mfaPendingCredential"in L&&Z(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Ut(_,h,m,M){const I=`${h}${m}?${M}`;return _.config.emulator?ur(_.config,I):`${_.config.apiScheme}://${I}`}class bt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,M)=>{this.timer=setTimeout(()=>M(ue(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(_,h,m){const M={appName:_.name};m.email&&(M.email=m.email),m.phoneNumber&&(M.phoneNumber=m.phoneNumber);const I=ue(_,h,M);return I.customData._tokenResponse=m,I}function g2(){return(g2=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function E2(){return(E2=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function P1(){return(P1=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function s1(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zn(){return(zn=(0,g.Z)(function*(_,h=!1){const m=(0,R.m9)(_),M=yield m.getIdToken(h),I=Mt(M);K(I&&I.exp&&I.auth_time&&I.iat,m.auth,"internal-error");const L="object"==typeof I.firebase?I.firebase:void 0,$=L?.sign_in_provider;return{claims:I,token:M,authTime:s1(ut(I.auth_time)),issuedAtTime:s1(ut(I.iat)),expirationTime:s1(ut(I.exp)),signInProvider:$||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(_){return 1e3*Number(_)}function Mt(_){const[h,m,M]=_.split(".");if(void 0===h||void 0===m||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,R.tV)(m);return I?JSON.parse(I):(Je("Failed to decode base64 JWT payload"),null)}catch(I){return Je("Caught error parsing JWT payload as JSON",I?.toString()),null}}function jt(_,h){return o1.apply(this,arguments)}function o1(){return(o1=(0,g.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(M){throw M instanceof R.ZR&&function R1({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(M)&&_.auth.currentUser===_&&(yield _.auth.signOut()),M}})).apply(this,arguments)}class Lt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const I=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),M)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class y2{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=s1(this.lastLoginAt),this.creationTime=s1(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(_){return $t.apply(this,arguments)}function $t(){return $t=(0,g.Z)(function*(_){var h;const m=_.auth,M=yield _.getIdToken(),I=yield jt(_,function k1(_,h){return P1.apply(this,arguments)}(m,{idToken:M}));K(I?.users.length,m,"internal-error");const L=I.users[0];_._notifyReloadListener(L);const $=null!==(h=L.providerUserInfo)&&void 0!==h&&h.length?function mn(_){return _.map(h=>{var{providerId:m}=h,M=(0,ae._T)(h,["providerId"]);return{providerId:m,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(L.providerUserInfo):[],ee=function C2(_,h){return[..._.filter(M=>!h.some(I=>I.providerId===M.providerId)),...h]}(_.providerData,$),it=!!_.isAnonymous&&!(_.email&&L.passwordHash||ee?.length),Nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ee,metadata:new y2(L.createdAt,L.lastLoginAt),isAnonymous:it};Object.assign(_,Nt)}),$t.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(_){const h=(0,R.m9)(_);yield On(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(_,h){const m=yield Qe(_,{},(0,g.Z)(function*(){const M=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:I,apiKey:L}=_.config,$=Ut(_,I,"/v1/token",`key=${L}`),ee=yield _._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",te.fetch()($,{method:"POST",headers:ee,body:M})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class P2{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){K(h.idToken,"internal-error"),K(typeof h.idToken<"u","internal-error"),K(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ct(_){const h=Mt(_);return K(h,"internal-error"),K(typeof h.exp<"u","internal-error"),K(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var M=this;return(0,g.Z)(function*(){return K(!M.accessToken||M.refreshToken,h,"user-token-expired"),m||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var M=this;return(0,g.Z)(function*(){const{accessToken:I,refreshToken:L,expiresIn:$}=yield function gn(_,h){return vn.apply(this,arguments)}(h,m);M.updateTokensAndExpiration(I,L,Number($))})()}updateTokensAndExpiration(h,m,M){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,m){const{refreshToken:M,accessToken:I,expirationTime:L}=m,$=new P2;return M&&(K("string"==typeof M,"internal-error",{appName:h}),$.refreshToken=M),I&&(K("string"==typeof I,"internal-error",{appName:h}),$.accessToken=I),L&&(K("number"==typeof L,"internal-error",{appName:h}),$.expirationTime=L),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new P2,this.toJSON())}_performRefresh(){return et("not implemented")}}function R2(_,h){K("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class G2{constructor(h){var{uid:m,auth:M,stsTokenManager:I}=h,L=(0,ae._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=M,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new y2(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,g.Z)(function*(){const M=yield jt(m,m.stsTokenManager.getToken(m.auth,h));return K(M,m.auth,"internal-error"),m.accessToken!==M&&(m.accessToken=M,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),M})()}getIdTokenResult(h){return function a1(_){return zn.apply(this,arguments)}(this,h)}reload(){return function fr(_){return Ht.apply(this,arguments)}(this)}_assign(h){this!==h&&(K(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new G2(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var M=this;return(0,g.Z)(function*(){let I=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),I=!0),m&&(yield On(M)),yield M.auth._persistUserIfCurrent(M),I&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,g.Z)(function*(){const m=yield h.getIdToken();return yield jt(h,function m2(_,h){return g2.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var M,I,L,$,ee,De,Fe,it;const Nt=null!==(M=m.displayName)&&void 0!==M?M:void 0,K2=null!==(I=m.email)&&void 0!==I?I:void 0,Jn=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,rs=null!==($=m.photoURL)&&void 0!==$?$:void 0,Ia=null!==(ee=m.tenantId)&&void 0!==ee?ee:void 0,w3=null!==(De=m._redirectEventId)&&void 0!==De?De:void 0,Sa=null!==(Fe=m.createdAt)&&void 0!==Fe?Fe:void 0,f8=null!==(it=m.lastLoginAt)&&void 0!==it?it:void 0,{uid:za,emailVerified:Ea,isAnonymous:b3,providerData:Yc,stsTokenManager:La}=m;K(za&&La,h,"internal-error");const xa=P2.fromJSON(this.name,La);K("string"==typeof za,h,"internal-error"),R2(Nt,h.name),R2(K2,h.name),K("boolean"==typeof Ea,h,"internal-error"),K("boolean"==typeof b3,h,"internal-error"),R2(Jn,h.name),R2(rs,h.name),R2(Ia,h.name),R2(w3,h.name),R2(Sa,h.name),R2(f8,h.name);const Qc=new G2({uid:za,auth:h,email:K2,emailVerified:Ea,displayName:Nt,isAnonymous:b3,photoURL:rs,phoneNumber:Jn,tenantId:Ia,stsTokenManager:xa,createdAt:Sa,lastLoginAt:f8});return Yc&&Array.isArray(Yc)&&(Qc.providerData=Yc.map(d8=>Object.assign({},d8))),w3&&(Qc._redirectEventId=w3),Qc}static _fromIdTokenResponse(h,m,M=!1){return(0,g.Z)(function*(){const I=new P2;I.updateFromServerResponse(m);const L=new G2({uid:m.localId,auth:h,stsTokenManager:I,isAnonymous:M});return yield On(L),L})()}}const w1=new Map;function c2(_){nt(_ instanceof Function,"Expected a class definition");let h=w1.get(_);return h?(nt(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,w1.set(_,h),h)}const O1=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,M){var I=this;return(0,g.Z)(function*(){I.storage[m]=M})()}_get(m){var M=this;return(0,g.Z)(function*(){const I=M.storage[m];return void 0===I?null:I})()}_remove(m){var M=this;return(0,g.Z)(function*(){delete M.storage[m]})()}_addListener(m,M){}_removeListener(m,M){}}return _.type="NONE",_})();function yn(_,h,m){return`firebase:${_}:${h}:${m}`}class F{constructor(h,m,M){this.persistence=h,this.auth=m,this.userKey=M;const{config:I,name:L}=this.auth;this.fullUserKey=yn(this.userKey,I.apiKey,L),this.fullPersistenceKey=yn("persistence",I.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?G2._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,g.Z)(function*(){if(m.persistence===h)return;const M=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,M?m.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,M="authUser"){return(0,g.Z)(function*(){if(!m.length)return new F(c2(O1),h,M);const I=(yield Promise.all(m.map(function(){var Fe=(0,g.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let L=I[0]||c2(O1);const $=yn(M,h.config.apiKey,h.name);let ee=null;for(const Fe of m)try{const it=yield Fe._get($);if(it){const Nt=G2._fromJSON(h,it);Fe!==L&&(ee=Nt),L=Fe;break}}catch{}const De=I.filter(Fe=>Fe._shouldAllowMigration);return L._shouldAllowMigration&&De.length?(L=De[0],ee&&(yield L._set($,ee.toJSON())),yield Promise.all(m.map(function(){var Fe=(0,g.Z)(function*(it){if(it!==L)try{yield it._remove($)}catch{}});return function(it){return Fe.apply(this,arguments)}}())),new F(L,h,M)):new F(L,h,M)})()}}function P(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(q(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(x(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ne(h))return"Blackberry";if(gt(h))return"Webos";if(D(h))return"Safari";if((h.includes("chrome/")||E(h))&&!h.includes("edge/"))return"Chrome";if(de(h))return"Android";{const M=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function x(_=(0,R.z$)()){return/firefox\//i.test(_)}function D(_=(0,R.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function E(_=(0,R.z$)()){return/crios\//i.test(_)}function q(_=(0,R.z$)()){return/iemobile/i.test(_)}function de(_=(0,R.z$)()){return/android/i.test(_)}function Ne(_=(0,R.z$)()){return/blackberry/i.test(_)}function gt(_=(0,R.z$)()){return/webos/i.test(_)}function $e(_=(0,R.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ft(_=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function It(_=(0,R.z$)()){return $e(_)||de(_)||gt(_)||Ne(_)||/windows phone/i.test(_)||q(_)}function Sr(_,h=[]){let m;switch(_){case"Browser":m=P((0,R.z$)());break;case"Worker":m=`${P((0,R.z$)())}-${_}`;break;default:m=_}const M=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${T.SDK_VERSION}/${M}`}function Y(){return(Y=(0,g.Z)(function*(_){return(yield he(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _e(_,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*(_,h){return he(_,"GET","/v2/recaptchaConfig",X(_,h))})).apply(this,arguments)}function Oe(_){return void 0!==_&&void 0!==_.getResponse}function Vt(_){return void 0!==_&&void 0!==_.enterprise}class Bt{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function l2(_){return new Promise((h,m)=>{const M=document.createElement("script");M.setAttribute("src",_),M.onload=h,M.onerror=I=>{const L=ue("internal-error");L.customData=I,m(L)},M.type="text/javascript",M.charset="UTF-8",function A2(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(M)})}function e1(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Ai{constructor(h){this.type="recaptcha-enterprise",this.auth=u2(h)}verify(h="verify",m=!1){var M=this;return(0,g.Z)(function*(){function L(){return L=(0,g.Z)(function*(ee){if(!m){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var De=(0,g.Z)(function*(Fe,it){_e(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Nt=>{if(void 0!==Nt.recaptchaKey){const K2=new Bt(Nt);return null==ee.tenantId?ee._agentRecaptchaConfig=K2:ee._tenantRecaptchaConfigs[ee.tenantId]=K2,Fe(K2.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(Nt=>{it(Nt)})});return function(Fe,it){return De.apply(this,arguments)}}())}),L.apply(this,arguments)}function $(ee,De,Fe){const it=window.grecaptcha;Vt(it)?it.enterprise.ready(()=>{it.enterprise.execute(ee,{action:h}).then(Nt=>{De(Nt)}).catch(()=>{De("NO_RECAPTCHA")})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,De)=>{(function I(ee){return L.apply(this,arguments)})(M.auth).then(Fe=>{if(!m&&Vt(window.grecaptcha))$(Fe,ee,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));l2("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{$(Fe,ee,De)}).catch(it=>{De(it)})}}).catch(Fe=>{De(Fe)})})})()}}function Un(_,h,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,g.Z)(function*(_,h,m,M=!1){const I=new Ai(_);let L;try{L=yield I.verify(m)}catch{L=yield I.verify(m,!0)}const $=Object.assign({},h);return Object.assign($,M?{captchaResp:L}:{captchaResponse:L}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Ni{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const M=L=>new Promise(($,ee)=>{try{$(h(L))}catch(De){ee(De)}});M.onAbort=m,this.queue.push(M);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,g.Z)(function*(){if(m.auth.currentUser===h)return;const M=[];try{for(const I of m.queue)yield I(h),I.onAbort&&M.push(I.onAbort)}catch(I){M.reverse();for(const L of M)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class D4{constructor(h,m,M,I){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=M,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hl(this),this.idTokenSubscription=new hl(this),this.beforeStateQueue=new Ni(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(h,m){var M=this;return m&&(this._popupRedirectResolver=c2(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var I,L;if(!M._deleted&&(M.persistenceManager=yield F.create(M,h),!M._deleted)){if(null!==(I=M._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(m),M.lastNotifiedUid=(null===(L=M.currentUser)||void 0===L?void 0:L.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,g.Z)(function*(){var M;const I=yield m.assertedPersistence.getCurrentUser();let L=I,$=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ee=null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId,De=L?._redirectEventId,Fe=yield m.tryRedirectSignIn(h);(!ee||ee===De)&&Fe?.user&&(L=Fe.user,$=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if($)try{yield m.beforeStateQueue.runMiddleware(L)}catch(ee){L=I,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ee))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(h){var m=this;return(0,g.Z)(function*(){let M=null;try{M=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,g.Z)(function*(){try{yield On(h)}catch(M){if("auth/network-request-failed"!==M?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function a2(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,g.Z)(function*(){const M=h?(0,R.m9)(h):null;return M&&K(M.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(M&&M._clone(m))})()}_updateCurrentUser(h,m=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return h&&K(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),m||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(c2(h))}))}initializeRecaptchaConfig(){var h=this;return(0,g.Z)(function*(){const m=yield _e(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Bt(m);null==h.tenantId?h._agentRecaptchaConfig=M:h._tenantRecaptchaConfigs[h.tenantId]=M,M.emailPasswordEnabled&&new Ai(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,m,M){return this.registerStateListener(this.authStateSubscription,h,m,M)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,M){return this.registerStateListener(this.idTokenSubscription,h,m,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var M=this;return(0,g.Z)(function*(){const I=yield M.getOrInitRedirectPersistenceManager(m);return null===h?I.removeCurrentUser():I.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const M=h&&c2(h)||m._popupRedirectResolver;K(M,m,"argument-error"),m.redirectPersistenceManager=yield F.create(m,[c2(M._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,g.Z)(function*(){var M,I;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(M=m._currentUser)||void 0===M?void 0:M._redirectEventId)===h?m._currentUser:(null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,g.Z)(function*(){if(h===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,M,I){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return K($,this,"internal-error"),$.then(()=>L(this.currentUser)),"function"==typeof m?h.addObserver(m,M,I):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var m;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const I=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();I&&(M["X-Firebase-Client"]=I);const L=yield h._getAppCheckToken();return L&&(M["X-Firebase-AppCheck"]=L),M})()}_getAppCheckToken(){var h=this;return(0,g.Z)(function*(){var m;const M=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return M?.error&&function Ke(_,...h){Ae.logLevel<=me.in.WARN&&Ae.warn(`Auth (${T.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function u2(_){return(0,R.m9)(_)}class hl{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function T4(_,h,m){const M=u2(_);K(M._canInitEmulator,M,"emulator-config-failed"),K(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const I=!!m?.disableWarnings,L=b1(h),{host:$,port:ee}=function N4(_){const h=b1(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const M=m[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(M);if(I){const L=I[1];return{host:L,port:k4(M.substr(L.length+1))}}{const[L,$]=M.split(":");return{host:L,port:k4($)}}}(h);M.config.emulator={url:`${L}//${$}${null===ee?"":`:${ee}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$,port:ee,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function ml(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function b1(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function k4(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ki{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(h){return et("not implemented")}_linkToIdToken(h,m){return et("not implemented")}_getReauthenticationResolver(h){return et("not implemented")}}function P4(_,h){return rc.apply(this,arguments)}function rc(){return(rc=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:resetPassword",X(_,h))})).apply(this,arguments)}function ic(_,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function F1(){return(F1=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",X(_,h))})).apply(this,arguments)}function Os(_,h){return R4.apply(this,arguments)}function R4(){return(R4=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPassword",X(_,h))})).apply(this,arguments)}function Fs(_,h){return O4.apply(this,arguments)}function O4(){return(O4=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendOobCode",X(_,h))})).apply(this,arguments)}function B4(){return(B4=(0,g.Z)(function*(_,h){return Fs(_,h)})).apply(this,arguments)}function Bs(_,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,g.Z)(function*(_,h){return Fs(_,h)})).apply(this,arguments)}function js(_,h){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,g.Z)(function*(_,h){return Fs(_,h)})).apply(this,arguments)}function W2(){return(W2=(0,g.Z)(function*(_,h){return Fs(_,h)})).apply(this,arguments)}function l1(){return(l1=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithEmailLink",X(_,h))})).apply(this,arguments)}class dr extends ki{constructor(h,m,M,I=null){super("password",M),this._email=h,this._password=m,this._tenantId=I}static _fromEmailAndPassword(h,m){return new dr(h,m,"password")}static _fromEmailAndCode(h,m,M=null){return new dr(h,m,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,g.Z)(function*(){var M;switch(m.signInMethod){case"password":const I={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=h._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const L=yield Un(h,I,"signInWithPassword");return Os(h,L)}return Os(h,I).catch(function(){var L=(0,g.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Un(h,I,"signInWithPassword");return Os(h,ee)}return Promise.reject($)});return function($){return L.apply(this,arguments)}}());case"emailLink":return function Pi(_,h){return l1.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Z(h,"internal-error")}})()}_linkToIdToken(h,m){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return ic(h,{idToken:m,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ac(_,h){return $s.apply(this,arguments)}(h,{idToken:m,email:M._email,oobCode:M._password});default:Z(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function jn(_,h){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithIdp",X(_,h))})).apply(this,arguments)}class Te extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Te(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Z("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:I}=m,L=(0,ae._T)(m,["providerId","signInMethod"]);if(!M||!I)return null;const $=new Te(M,I);return $.idToken=L.idToken||void 0,$.accessToken=L.accessToken||void 0,$.secret=L.secret,$.nonce=L.nonce,$.pendingToken=L.pendingToken||null,$}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,m){const M=this.buildRequest();return M.idToken=m,jn(h,M)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,jn(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,R.xO)(m)}return h}}function n2(){return(n2=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:sendVerificationCode",X(_,h))})).apply(this,arguments)}function $n(){return($n=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h))})).apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(_,h){const m=yield Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,h));if(m.temporaryProof)throw Kt(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const d2={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithPhoneNumber",X(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),d2)})).apply(this,arguments)}class pt extends ki{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new pt({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new pt({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function B1(_,h){return $n.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function u1(_,h){return zr.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Gn(_,h){return hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:M,verificationCode:I}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:M,code:I}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:M,phoneNumber:I,temporaryProof:L}=h;return M||m||I||L?new pt({verificationId:m,verificationCode:M,phoneNumber:I,temporaryProof:L}):null}}class H1{constructor(h){var m,M,I,L,$,ee;const De=(0,R.zd)((0,R.pd)(h)),Fe=null!==(m=De.apiKey)&&void 0!==m?m:null,it=null!==(M=De.oobCode)&&void 0!==M?M:null,Nt=function Ri(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=De.mode)&&void 0!==I?I:null);K(Fe&&it&&Nt,"argument-error"),this.apiKey=Fe,this.operation=Nt,this.code=it,this.continueUrl=null!==(L=De.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==($=De.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=De.tenantId)&&void 0!==ee?ee:null}static parseLink(h){const m=function gl(_){const h=(0,R.zd)((0,R.pd)(_)).link,m=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,M=(0,R.zd)((0,R.pd)(_)).deep_link_id;return(M?(0,R.zd)((0,R.pd)(M)).link:null)||M||m||h||_}(h);try{return new H1(m)}catch{return null}}}let ei=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,M){return dr._fromEmailAndPassword(m,M)}static credentialWithLink(m,M){const I=H1.parseLink(M);return K(I,"argument-error"),dr._fromEmailAndCode(m,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class U1{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class V1 extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class pr extends V1{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return K("providerId"in m&&"signInMethod"in m,"argument-error"),Te._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return K(h.idToken||h.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return pr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return pr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:M,oauthTokenSecret:I,pendingToken:L,nonce:$,providerId:ee}=h;if(!M&&!I&&!m&&!L||!ee)return null;try{return new pr(ee)._credential({idToken:m,accessToken:M,nonce:$,pendingToken:L})}catch{return null}}}let oc=(()=>{class _ extends V1{constructor(){super("facebook.com")}static credential(m){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Er=(()=>{class _ extends V1{constructor(){super("google.com"),this.addScope("profile")}static credential(m,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:M})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:M,oauthAccessToken:I}=m;if(!M&&!I)return null;try{return _.credential(M,I)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),qn=(()=>{class _ extends V1{constructor(){super("github.com")}static credential(m){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Cn extends ki{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,m){const M=this.buildRequest();return M.idToken=m,jn(h,M)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,jn(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:I,pendingToken:L}=m;return M&&I&&L&&M===I?new Cn(M,L):null}static _create(h,m){return new Cn(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class j4 extends U1{constructor(h){K(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return j4.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return j4.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Cn.fromJSON(h);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:M}=h;if(!m||!M)return null;try{return Cn._create(M,m)}catch{return null}}}let $4=(()=>{class _ extends V1{constructor(){super("twitter.com")}static credential(m,M){return Te._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:M})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:M,oauthTokenSecret:I}=m;if(!M||!I)return null;try{return _.credential(M,I)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Oi(_,h){return f1.apply(this,arguments)}function f1(){return(f1=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signUp",X(_,h))})).apply(this,arguments)}class d1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,M,I=!1){return(0,g.Z)(function*(){const L=yield G2._fromIdTokenResponse(h,M,I),$=ti(M);return new d1({user:L,providerId:$,_tokenResponse:M,operationType:m})})()}static _forOperation(h,m,M){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const I=ti(M);return new d1({user:h,providerId:I,_tokenResponse:M,operationType:m})})()}}function ti(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Fi(_){return N2.apply(this,arguments)}function N2(){return(N2=(0,g.Z)(function*(_){var h;const m=u2(_);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new d1({user:m.currentUser,providerId:null,operationType:"signIn"});const M=yield Oi(m,{returnSecureToken:!0}),I=yield d1._fromIdTokenResponse(m,"signIn",M,!0);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class cc extends R.ZR{constructor(h,m,M,I){var L;super(m.code,m.message),this.operationType=M,this.user=I,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:h.name,tenantId:null!==(L=h.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,m,M,I){return new cc(h,m,M,I)}}function I1(_,h,m,M){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?cc._fromErrorAndOperation(_,L,h,M):L})}function h1(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function G4(_,h){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,g.Z)(function*(_,h){const m=(0,R.m9)(_);yield ni(!0,m,h);const{providerUserInfo:M}=yield function Jt(_,h){return E2.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),I=h1(M||[]);return m.providerData=m.providerData.filter(L=>I.has(L.providerId)),I.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Wn.apply(this,arguments)}function Bi(_,h){return X1.apply(this,arguments)}function X1(){return(X1=(0,g.Z)(function*(_,h,m=!1){const M=yield jt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return d1._forOperation(_,"link",M)})).apply(this,arguments)}function ni(_,h,m){return q4.apply(this,arguments)}function q4(){return(q4=(0,g.Z)(function*(_,h,m){yield On(h);const I=!1===_?"provider-already-linked":"no-such-provider";K(h1(h.providerData).has(m)===_,h.auth,I)})).apply(this,arguments)}function lc(_,h){return vl.apply(this,arguments)}function vl(){return(vl=(0,g.Z)(function*(_,h,m=!1){const{auth:M}=_,I="reauthenticate";try{const L=yield jt(_,I1(M,I,h,_),m);K(L.idToken,M,"internal-error");const $=Mt(L.idToken);K($,M,"internal-error");const{sub:ee}=$;return K(_.uid===ee,M,"user-mismatch"),d1._forOperation(_,I,L)}catch(L){throw"auth/user-not-found"===L?.code&&Z(M,"user-mismatch"),L}})).apply(this,arguments)}function yl(_,h){return W4.apply(this,arguments)}function W4(){return(W4=(0,g.Z)(function*(_,h,m=!1){const M="signIn",I=yield I1(_,M,h),L=yield d1._fromIdTokenResponse(_,M,I);return m||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Z4(_,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,g.Z)(function*(_,h){return yl(u2(_),h)})).apply(this,arguments)}function $f(_,h){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,g.Z)(function*(_,h){const m=(0,R.m9)(_);return yield ni(!1,m,h.providerId),Bi(m,h)})).apply(this,arguments)}function h2(_,h){return _l.apply(this,arguments)}function _l(){return(_l=(0,g.Z)(function*(_,h){return lc((0,R.m9)(_),h)})).apply(this,arguments)}function Ml(){return(Ml=(0,g.Z)(function*(_,h){return Qt(_,"POST","/v1/accounts:signInWithCustomToken",X(_,h))})).apply(this,arguments)}function xC(_,h){return wl.apply(this,arguments)}function wl(){return wl=(0,g.Z)(function*(_,h){const m=u2(_),M=yield function LC(_,h){return Ml.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),I=yield d1._fromIdTokenResponse(m,"signIn",M);return yield m._updateCurrentUser(I.user),I}),wl.apply(this,arguments)}class K4{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?bl._fromServerResponse(h,m):"totpInfo"in m?qs._fromServerResponse(h,m):Z(h,"internal-error")}}class bl extends K4{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new bl(m)}}class qs extends K4{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new qs(m)}}function ri(_,h,m){var M;K((null===(M=m.url)||void 0===M?void 0:M.length)>0,_,"invalid-continue-uri"),K(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function DC(_,h,m){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,g.Z)(function*(_,h,m){var M;const I=u2(_),L={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $=yield Un(I,L,"getOobCode",!0);m&&ri(I,$,m),yield Bs(I,$)}else m&&ri(I,L,m),yield Bs(I,L).catch(function(){var $=(0,g.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Un(I,L,"getOobCode",!0);m&&ri(I,De,m),yield Bs(I,De)}});return function(ee){return $.apply(this,arguments)}}())}),Hl.apply(this,arguments)}function Vl(_,h,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(_,h,m){yield P4((0,R.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function fc(_,h){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,g.Z)(function*(_,h){yield function jf(_,h){return F1.apply(this,arguments)}((0,R.m9)(_),{oobCode:h})}),Ws.apply(this,arguments)}function mr(_,h){return Y4.apply(this,arguments)}function Y4(){return(Y4=(0,g.Z)(function*(_,h){const m=(0,R.m9)(_),M=yield P4(m,{oobCode:h}),I=M.requestType;switch(K(I,m,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(M.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(M.mfaInfo,m,"internal-error");default:K(M.email,m,"internal-error")}let L=null;return M.mfaInfo&&(L=K4._fromServerResponse(u2(m),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:L},operation:I}})).apply(this,arguments)}function Gf(_,h){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(_,h){const{data:m}=yield mr((0,R.m9)(_),h);return m.email})).apply(this,arguments)}function dc(_,h,m){return Il.apply(this,arguments)}function Il(){return Il=(0,g.Z)(function*(_,h,m){var M;const I=u2(_),L={returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Fe=yield Un(I,L,"signUpPassword");$=Oi(I,Fe)}else $=Oi(I,L).catch(function(){var Fe=(0,g.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Nt=yield Un(I,L,"signUpPassword");return Oi(I,Nt)}return Promise.reject(it)});return function(it){return Fe.apply(this,arguments)}}());const ee=yield $.catch(Fe=>Promise.reject(Fe)),De=yield d1._fromIdTokenResponse(I,"signIn",ee);return yield I._updateCurrentUser(De.user),De}),Il.apply(this,arguments)}function qf(_,h,m){return Z4((0,R.m9)(_),ei.credential(h,m))}function En(_,h,m){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,g.Z)(function*(_,h,m){var M;const I=u2(_),L={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function $(ee,De){K(De.handleCodeInApp,I,"argument-error"),De&&ri(I,ee,De)}if(null!==(M=I._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const ee=yield Un(I,L,"getOobCode",!0);$(ee,m),yield js(I,ee)}else $(L,m),yield js(I,L).catch(function(){var ee=(0,g.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield Un(I,L,"getOobCode",!0);$(Fe,m),yield js(I,Fe)}});return function(De){return ee.apply(this,arguments)}}())}),Lr.apply(this,arguments)}function Z2(_,h){const m=H1.parseLink(h);return"EMAIL_SIGNIN"===m?.operation}function Sl(_,h,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_),I=ei.credentialWithLink(h,m||Dt());return K(I._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Z4(M,I)})).apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:createAuthUri",X(_,h))})).apply(this,arguments)}function Q4(_,h){return pc.apply(this,arguments)}function pc(){return pc=(0,g.Z)(function*(_,h){const M={identifier:h,continueUri:X2()?Dt():"http://localhost"},{signinMethods:I}=yield function hc(_,h){return Ks.apply(this,arguments)}((0,R.m9)(_),M);return I||[]}),pc.apply(this,arguments)}function AC(_,h){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,g.Z)(function*(_,h){const m=(0,R.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&ri(m.auth,I,h);const{email:L}=yield function F4(_,h){return B4.apply(this,arguments)}(m.auth,I);L!==_.email&&(yield _.reload())}),Ys.apply(this,arguments)}function mc(_,h,m){return J4.apply(this,arguments)}function J4(){return J4=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&ri(M.auth,L,m);const{email:$}=yield function q2(_,h){return W2.apply(this,arguments)}(M.auth,L);$!==_.email&&(yield _.reload())}),J4.apply(this,arguments)}function gc(){return(gc=(0,g.Z)(function*(_,h){return he(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function TC(_,h){return El.apply(this,arguments)}function El(){return El=(0,g.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const M=(0,R.m9)(_),L={idToken:yield M.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},$=yield jt(M,function Qs(_,h){return gc.apply(this,arguments)}(M.auth,L));M.displayName=$.displayName||null,M.photoURL=$.photoUrl||null;const ee=M.providerData.find(({providerId:De})=>"password"===De);ee&&(ee.displayName=M.displayName,ee.photoURL=M.photoURL),yield M._updateTokensIfNecessary($)}),El.apply(this,arguments)}function Wf(_,h){return xl((0,R.m9)(_),h,null)}function Ll(_,h){return xl((0,R.m9)(_),null,h)}function xl(_,h,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,g.Z)(function*(_,h,m){const{auth:M}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(L.email=h),m&&(L.password=m);const $=yield jt(_,ic(M,L));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class ii{constructor(h,m,M={}){this.isNewUser=h,this.providerId=m,this.profile=M}}class Dl extends ii{constructor(h,m,M,I){super(h,m,M),this.username=I}}class Js extends ii{constructor(h,m){super(h,"facebook.com",m)}}class Cc extends Dl{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Xs extends ii{constructor(h,m){super(h,"google.com",m)}}class Ui extends Dl{constructor(h,m,M){super(h,"twitter.com",m,M)}}function X4(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function yc(_){var h,m;if(!_)return null;const{providerId:M}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!M&&_?.idToken){const $=null===(m=null===(h=Mt(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new ii(L,"anonymous"!==$&&"custom"!==$?$:null)}if(!M)return null;switch(M){case"facebook.com":return new Js(L,I);case"github.com":return new Cc(L,I);case"google.com":return new Xs(L,I);case"twitter.com":return new Ui(L,I,_.screenName||null);case"custom":case"anonymous":return new ii(L,null);default:return new ii(L,M,I)}}(m)}class S1{constructor(h,m,M){this.type=h,this.credential=m,this.auth=M}static _fromIdtoken(h,m){return new S1("enroll",h,m)}static _fromMfaPendingCredential(h){return new S1("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,M;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return S1._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(M=h.multiFactorSession)&&void 0!==M&&M.idToken)return S1._fromIdtoken(h.multiFactorSession.idToken)}return null}}class t1{constructor(h,m,M){this.session=h,this.hints=m,this.signInResolver=M}static _fromError(h,m){const M=u2(h),I=m.customData._serverResponse,L=(I.mfaInfo||[]).map(ee=>K4._fromServerResponse(M,ee));K(I.mfaPendingCredential,M,"internal-error");const $=S1._fromMfaPendingCredential(I.mfaPendingCredential);return new t1($,L,function(){var ee=(0,g.Z)(function*(De){const Fe=yield De._process(M,$);delete I.mfaInfo,delete I.mfaPendingCredential;const it=Object.assign(Object.assign({},I),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(m.operationType){case"signIn":const Nt=yield d1._fromIdTokenResponse(M,m.operationType,it);return yield M._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return K(m.user,M,"internal-error"),d1._forOperation(m.user,m.operationType,it);default:Z(M,"internal-error")}});return function(De){return ee.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,g.Z)(function*(){return m.signInResolver(h)})()}}function Nl(_,h){var m;const M=(0,R.m9)(_),I=h;return K(h.customData.operationType,M,"argument-error"),K(null===(m=I.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,M,"argument-error"),t1._fromError(M,I)}class ji{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(M=>K4._fromServerResponse(h.auth,M)))})}static _fromUser(h){return new ji(h)}getSession(){var h=this;return(0,g.Z)(function*(){return S1._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,m){var M=this;return(0,g.Z)(function*(){const I=h,L=yield M.getSession(),$=yield jt(M.user,I._process(M.user.auth,L,m));return yield M.user._updateTokensIfNecessary($),M.user.reload()})()}unenroll(h){var m=this;return(0,g.Z)(function*(){const M="string"==typeof h?h:h.uid,I=yield m.user.getIdToken();try{const L=yield jt(m.user,function Rl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:withdraw",X(_,h))}(m.user.auth,{idToken:I,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:$})=>$!==M),yield m.user._updateTokensIfNecessary(L),yield m.user.reload()}catch(L){throw L}})()}}const $i=new WeakMap;function t3(_){const h=(0,R.m9)(_);return $i.has(h)||$i.set(h,ji._fromUser(h)),$i.get(h)}const n3="__sak";class yt{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(n3,"1"),this.storage.removeItem(n3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const bc=(()=>{class _ extends yt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,M)=>this.onStorageEvent(m,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ta(){const _=(0,R.z$)();return D(_)||$e(_)}()&&function c1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const M of Object.keys(this.listeners)){const I=this.storage.getItem(M),L=this.localCache[M];I!==L&&m(M,L,I)}}onStorageEvent(m,M=!1){if(!m.key)return void this.forAllChangedKeys((ee,De,Fe)=>{this.notifyListeners(ee,Fe)});const I=m.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(I);if(m.newValue!==ee)null!==m.newValue?this.storage.setItem(I,m.newValue):this.storage.removeItem(I);else if(this.localCache[I]===m.newValue&&!M)return}const L=()=>{const ee=this.storage.getItem(I);!M&&this.localCache[I]===ee||this.notifyListeners(I,ee)},$=this.storage.getItem(I);!function Xt(){return(0,R.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,M){this.localCache[m]=M;const I=this.listeners[m];if(I)for(const L of Array.from(I))L(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,M,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:M,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,M){var I=()=>super._set,L=this;return(0,g.Z)(function*(){yield I().call(L,m,M),L.localCache[m]=JSON.stringify(M)})()}_get(m){var M=()=>super._get,I=this;return(0,g.Z)(function*(){const L=yield M().call(I,m);return I.localCache[m]=JSON.stringify(L),L})()}_remove(m){var M=()=>super._remove,I=this;return(0,g.Z)(function*(){yield M().call(I,m),delete I.localCache[m]})()}}return _.type="LOCAL",_})(),gr=(()=>{class _ extends yt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,M){}_removeListener(m,M){}}return _.type="SESSION",_})();let Bl=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const M=this.receivers.find(L=>L.isListeningto(m));if(M)return M;const I=new _(m);return this.receivers.push(I),I}isListeningto(m){return this.eventTarget===m}handleEvent(m){var M=this;return(0,g.Z)(function*(){const I=m,{eventId:L,eventType:$,data:ee}=I.data,De=M.handlersMap[$];if(!De?.size)return;I.ports[0].postMessage({status:"ack",eventId:L,eventType:$});const Fe=Array.from(De).map(function(){var Nt=(0,g.Z)(function*(K2){return K2(I.origin,ee)});return function(K2){return Nt.apply(this,arguments)}}()),it=yield function Fl(_){return Promise.all(_.map(function(){var h=(0,g.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(M){return{fulfilled:!1,reason:M}}});return function(m){return h.apply(this,arguments)}}()))}(Fe);I.ports[0].postMessage({status:"done",eventId:L,eventType:$,response:it})})()}_subscribe(m,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(M)}_unsubscribe(m,M){this.handlersMap[m]&&M&&this.handlersMap[m].delete(M),(!M||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function r3(_="",h=10){let m="";for(let M=0;M<h;M++)m+=Math.floor(10*Math.random());return _+m}class Kf{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,M=50){var I=this;return(0,g.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let $,ee;return new Promise((De,Fe)=>{const it=r3("",20);L.port1.start();const Nt=setTimeout(()=>{Fe(new Error("unsupported_event"))},M);ee={messageChannel:L,onMessage(K2){const Jn=K2;if(Jn.data.eventId===it)switch(Jn.data.status){case"ack":clearTimeout(Nt),$=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),De(Jn.data.response);break;default:clearTimeout(Nt),clearTimeout($),Fe(new Error("invalid_response"))}}},I.handlers.add(ee),L.port1.addEventListener("message",ee.onMessage),I.target.postMessage({eventType:h,eventId:it,data:m},[L.port2])}).finally(()=>{ee&&I.removeMessageHandler(ee)})})()}}function _2(){return window}function Ot(){return typeof _2().WorkerGlobalScope<"u"&&"function"==typeof _2().importScripts}function ra(){return(ra=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ai="firebaseLocalStorageDb",Dr="firebaseLocalStorage",vr="fbase_key";class i3{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ia(_,h){return _.transaction([Dr],h?"readwrite":"readonly").objectStore(Dr)}function n1(){const _=indexedDB.open(ai,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const M=_.result;try{M.createObjectStore(Dr,{keyPath:vr})}catch(I){m(I)}}),_.addEventListener("success",(0,g.Z)(function*(){const M=_.result;M.objectStoreNames.contains(Dr)?h(M):(M.close(),yield function jl(){const _=indexedDB.deleteDatabase(ai);return new i3(_).toPromise()}(),h(yield n1()))}))})}function Ln(_,h,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,g.Z)(function*(_,h,m){const M=ia(_,!0).put({[vr]:h,value:m});return new i3(M).toPromise()})).apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(_,h){const m=ia(_,!1).get(h),M=yield new i3(m).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ic(_,h){const m=ia(_,!0).delete(h);return new i3(m).toPromise()}const sa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield n1()),m.db})()}_withRetries(m){var M=this;return(0,g.Z)(function*(){let I=0;for(;;)try{const L=yield M._openDb();return yield m(L)}catch(L){if(I++>3)throw L;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return Ot()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){m.receiver=Bl._getInstance(function Vc(){return Ot()?self:null}()),m.receiver._subscribe("keyChanged",function(){var M=(0,g.Z)(function*(I,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(I,L){return M.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var M=(0,g.Z)(function*(I,L){return["keyChanged"]});return function(I,L){return M.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var M,I;if(m.activeServiceWorker=yield function Ul(){return ra.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Kf(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);L&&null!==(M=L[0])&&void 0!==M&&M.fulfilled&&null!==(I=L[0])&&void 0!==I&&I.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function O2(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:m},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield n1();return yield Ln(m,n3,"1"),yield Ic(m,n3),!0}catch{}return!1})()}_withPendingWrite(m){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield m()}finally{M.pendingWrites--}})()}_set(m,M){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(L=>Ln(L,m,M)),I.localCache[m]=M,I.notifyServiceWorker(m)}))})()}_get(m){var M=this;return(0,g.Z)(function*(){const I=yield M._withRetries(L=>function j1(_,h){return Mn.apply(this,arguments)}(L,m));return M.localCache[m]=I,I})()}_remove(m){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(I=>Ic(I,m)),delete M.localCache[m],M.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const M=yield m._withRetries($=>{const ee=ia($,!1).getAll();return new i3(ee).toPromise()});if(!M)return[];if(0!==m.pendingWrites)return[];const I=[],L=new Set;for(const{fbase_key:$,value:ee}of M)L.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(ee)&&(m.notifyListeners($,ee),I.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!L.has($)&&(m.notifyListeners($,null),I.push($));return I})()}notifyListeners(m,M){this.localCache[m]=M;const I=this.listeners[m];if(I)for(const L of Array.from(I))L(M)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),qi=1e12;class Gl{constructor(h){this.auth=h,this.counter=qi,this._widgets=new Map}render(h,m){const M=this.counter;return this._widgets.set(M,new ql(h,this.auth.name,m||{})),this.counter++,M}reset(h){var m;const M=h||qi;null===(m=this._widgets.get(M))||void 0===m||m.delete(),this._widgets.delete(M)}getResponse(h){var m;return(null===(m=this._widgets.get(h||qi))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,g.Z)(function*(){var M;return null===(M=m._widgets.get(h||qi))||void 0===M||M.execute(),""})()}}class ql{constructor(h,m,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof h?document.getElementById(h):h;K(I,"argument-error",{appName:m}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function aa(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<_;M++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const a3=e1("rcb"),o3=new pn(3e4,6e4);class Qf{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=_2().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return K(function z1(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)&&Oe(_2().grecaptcha)?Promise.resolve(_2().grecaptcha):new Promise((M,I)=>{const L=_2().setTimeout(()=>{I(ue(h,"network-request-failed"))},o3.get());_2()[a3]=()=>{_2().clearTimeout(L),delete _2()[a3];const ee=_2().grecaptcha;if(!ee||!Oe(ee))return void I(ue(h,"internal-error"));const De=ee.render;ee.render=(Fe,it)=>{const Nt=De(Fe,it);return this.counter++,Nt},this.hostLanguage=m,M(ee)},l2(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:a3,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),I(ue(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=_2().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oi{load(h){return(0,g.Z)(function*(){return new Gl(h)})()}clearedOneInstance(){}}const o2="recaptcha",Jf={theme:"light",type:"image"};class Xf{constructor(h,m=Object.assign({},Jf),M){this.parameters=m,this.type=o2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=u2(M),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof h?document.getElementById(h):h;K(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oi:new Qf,this.validateStartingState()}verify(){var h=this;return(0,g.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),M=h.getAssertedRecaptcha();return M.getResponse(m)||new Promise(L=>{const $=ee=>{ee&&(h.tokenChangeListeners.delete($),L(ee))};h.tokenChangeListeners.add($),h.isInvisible&&M.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(M=>M(m)),"function"==typeof h)h(m);else if("string"==typeof h){const M=_2()[h];"function"==typeof M&&M(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,g.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const M=document.createElement("div");m.appendChild(M),m=M}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,g.Z)(function*(){K(X2()&&!Ot(),h.auth,"internal-error"),yield function e9(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function se(_){return Y.apply(this,arguments)}(h.auth);K(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dc{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=pt._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Ac(_,h,m){return c3.apply(this,arguments)}function c3(){return(c3=(0,g.Z)(function*(_,h,m){const M=u2(_),I=yield Ar(M,h,(0,R.m9)(m));return new Dc(I,L=>Z4(M,L))})).apply(this,arguments)}function l3(_,h,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_);yield ni(!1,M,"phone");const I=yield Ar(M.auth,h,(0,R.m9)(m));return new Dc(I,L=>$f(M,L))})).apply(this,arguments)}function Wl(_,h,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_),I=yield Ar(M.auth,h,(0,R.m9)(m));return new Dc(I,L=>h2(M,L))})).apply(this,arguments)}function Ar(_,h,m){return li.apply(this,arguments)}function li(){return li=(0,g.Z)(function*(_,h,m){var M;const I=yield m.verify();try{let L;if(K("string"==typeof I,_,"argument-error"),K(m.type===o2,_,"argument-error"),L="string"==typeof h?{phoneNumber:h}:h,"session"in L){const $=L.session;if("phoneNumber"in L)return K("enroll"===$.type,_,"internal-error"),(yield function kl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:start",X(_,h))}(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{K("signin"===$.type,_,"internal-error");const ee=(null===(M=L.multiFactorHint)||void 0===M?void 0:M.uid)||L.multiFactorUid;return K(ee,_,"missing-multi-factor-info"),(yield function zc(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:start",X(_,h))}(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function wt(_,h){return n2.apply(this,arguments)}(_,{phoneNumber:L.phoneNumber,recaptchaToken:I});return $}}finally{m._reset()}}),li.apply(this,arguments)}function oa(_,h){return u3.apply(this,arguments)}function u3(){return(u3=(0,g.Z)(function*(_,h){yield Bi((0,R.m9)(_),h)})).apply(this,arguments)}let Tc=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=u2(m)}verifyPhoneNumber(m,M){return Ar(this.auth,m,(0,R.m9)(M))}static credential(m,M){return pt._fromVerification(m,M)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:M,temporaryProof:I}=m;return M&&I?pt._fromTokenResponse(M,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Tr(_,h){return h?c2(h):(K(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Yn extends ki{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return jn(h,this._buildIdpRequest())}_linkToIdToken(h,m){return jn(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return jn(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Wi(_){return yl(_.auth,new Yn(_),_.bypassAuthState)}function Zl(_){const{auth:h,user:m}=_;return K(m,h,"internal-error"),lc(m,new Yn(_),_.bypassAuthState)}function Kl(_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(_){const{auth:h,user:m}=_;return K(m,h,"internal-error"),Bi(m,new Yn(_),_.bypassAuthState)})).apply(this,arguments)}class Yl{constructor(h,m,M,I,L=!1){this.auth=h,this.resolver=M,this.user=I,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,g.Z)(function*(M,I){h.pendingPromise={resolve:M,reject:I};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(L){h.reject(L)}});return function(M,I){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:I,postBody:L,tenantId:$,error:ee,type:De}=h;if(ee)return void m.reject(ee);const Fe={auth:m.auth,requestUri:M,sessionId:I,tenantId:$||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(De)(Fe))}catch(it){m.reject(it)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Wi;case"linkViaPopup":case"linkViaRedirect":return Kl;case"reauthViaPopup":case"reauthViaRedirect":return Zl;default:Z(this.auth,"internal-error")}}resolve(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new pn(2e3,1e4);function Ql(_,h,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,g.Z)(function*(_,h,m){const M=u2(_);pe(_,h,U1);const I=Tr(M,m);return new Nr(M,"signInViaPopup",h,I).executeNotNull()})).apply(this,arguments)}function Jl(_,h,m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_);pe(M.auth,h,U1);const I=Tr(M.auth,m);return new Nr(M.auth,"reauthViaPopup",h,I,M).executeNotNull()})).apply(this,arguments)}function Yi(_,h,m){return f3.apply(this,arguments)}function f3(){return(f3=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_);pe(M.auth,h,U1);const I=Tr(M.auth,m);return new Nr(M.auth,"linkViaPopup",h,I,M).executeNotNull()})).apply(this,arguments)}let Nr=(()=>{class _ extends Yl{constructor(m,M,I,L,$){super(m,M,L,$),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.Z)(function*(){const M=yield m.execute();return K(M,m.auth,"internal-error"),M})()}onExecution(){var m=this;return(0,g.Z)(function*(){nt(1===m.filter.length,"Popup operations only handle one event");const M=r3();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],M),m.authWindow.associatedEvent=M,m.resolver._originValidation(m.auth).catch(I=>{m.reject(I)}),m.resolver._isIframeWebStorageSupported(m.auth,I=>{I||m.reject(ue(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var M,I;this.pollId=null!==(I=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Nc.get())};m()}}return _.currentPopupAction=null,_})();const ca="pendingRedirect",Dn=new Map;class t9 extends Yl{constructor(h,m,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,g.Z)(function*(){let M=Dn.get(m.auth._key());if(!M){try{const L=(yield function Pc(_,h){return d3.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;M=()=>Promise.resolve(L)}catch(I){M=()=>Promise.reject(I)}Dn.set(m.auth._key(),M)}return m.bypassAuthState||Dn.set(m.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(M,h);if("unknown"!==h.type){if(h.eventId){const I=yield M.auth._redirectUserForId(h.eventId);if(I)return M.user=I,m().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function d3(){return(d3=(0,g.Z)(function*(_,h){const m=ua(h),M=h3(_);if(!(yield M._isAvailable()))return!1;const I="true"===(yield M._get(m));return yield M._remove(m),I})).apply(this,arguments)}function la(_,h){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(_,h){return h3(_)._set(ua(h),"true")})).apply(this,arguments)}function Xl(){Dn.clear()}function ui(_,h){Dn.set(_._key(),h)}function h3(_){return c2(_._redirectPersistence)}function ua(_){return yn(ca,_.config.apiKey,_.name)}function p3(_,h,m){return function m3(_,h,m){return fa.apply(this,arguments)}(_,h,m)}function fa(){return(fa=(0,g.Z)(function*(_,h,m){const M=u2(_);pe(_,h,U1),yield M._initializationPromise;const I=Tr(M,m);return yield la(I,M),I._openRedirect(M,h,"signInViaRedirect")})).apply(this,arguments)}function Rc(_,h,m){return function da(_,h,m){return g3.apply(this,arguments)}(_,h,m)}function g3(){return(g3=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const I=Tr(M.auth,m);yield la(I,M.auth);const L=yield kr(M);return I._openRedirect(M.auth,h,"reauthViaRedirect",L)})).apply(this,arguments)}function ha(_,h,m){return function e8(_,h,m){return fi.apply(this,arguments)}(_,h,m)}function fi(){return(fi=(0,g.Z)(function*(_,h,m){const M=(0,R.m9)(_);pe(M.auth,h,U1),yield M.auth._initializationPromise;const I=Tr(M.auth,m);yield ni(!1,M,h.providerId),yield la(I,M.auth);const L=yield kr(M);return I._openRedirect(M.auth,h,"linkViaRedirect",L)})).apply(this,arguments)}function yr(_,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,g.Z)(function*(_,h){return yield u2(_)._initializationPromise,v3(_,h,!1)})).apply(this,arguments)}function v3(_,h){return y3.apply(this,arguments)}function y3(){return(y3=(0,g.Z)(function*(_,h,m=!1){const M=u2(_),I=Tr(M,h),$=yield new t9(M,I,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield M._persistUserIfCurrent($.user),yield M._setRedirectUser(null,h)),$})).apply(this,arguments)}function kr(_){return ma.apply(this,arguments)}function ma(){return(ma=(0,g.Z)(function*(_){const h=r3(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Oc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(m=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function t8(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C3(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var M;if(h.error&&!C3(h)){const I=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";m.onError(ue(this.auth,I))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const M=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(h))}saveEventToCache(h){this.cachedEventUids.add(Fc(h)),this.lastProcessedEventTime=Date.now()}}function Fc(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function C3({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function ga(_){return di.apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(_,h={}){return he(_,"GET","/v1/projects",h)})).apply(this,arguments)}const hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pr=/^https?/;function Qi(){return(Qi=(0,g.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield ga(_);for(const m of h)try{if(va(m))return}catch{}Z(_,"unauthorized-domain")})).apply(this,arguments)}function va(_){const h=Dt(),{protocol:m,hostname:M}=new URL(h);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===M?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===M}if(!Pr.test(m))return!1;if(hi.test(_))return M===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(M)}const mi=new pn(3e4,6e4);function Bc(){const _=_2().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ya=null;const r8=new pn(5e3,15e3),r9="__/auth/iframe",i9="emulator/auth/iframe",s9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uc(_){const h=_.config;K(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?ur(h,i9):`https://${_.config.authDomain}/${r9}`,M={apiKey:h.apiKey,appName:_.name,v:T.SDK_VERSION},I=gi.get(_.config.apiHost);I&&(M.eid=I);const L=_._getFrameworks();return L.length&&(M.fw=L.join(",")),`${m}?${(0,R.xO)(M).slice(1)}`}function M2(){return M2=(0,g.Z)(function*(_){const h=yield function n9(_){return ya=ya||function n8(_){return new Promise((h,m)=>{var M,I,L;function $(){Bc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Bc(),m(ue(_,"network-request-failed"))},timeout:mi.get()})}if(null!==(I=null===(M=_2().gapi)||void 0===M?void 0:M.iframes)&&void 0!==I&&I.Iframe)h(gapi.iframes.getContext());else{if(null===(L=_2().gapi)||void 0===L||!L.load){const ee=e1("iframefcb");return _2()[ee]=()=>{gapi.load?$():m(ue(_,"network-request-failed"))},l2(`https://apis.google.com/js/api.js?onload=${ee}`).catch(De=>m(De))}$()}}).catch(h=>{throw ya=null,h})}(_),ya}(_),m=_2().gapi;return K(m,_,"internal-error"),h.open({where:document.body,url:Uc(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s9,dontclear:!0},M=>new Promise(function(){var I=(0,g.Z)(function*(L,$){yield M.restyle({setHideOnLeave:!1});const ee=ue(_,"network-request-failed"),De=_2().setTimeout(()=>{$(ee)},r8.get());function Fe(){_2().clearTimeout(De),L(M)}M.ping(Fe).then(Fe,()=>{$(ee)})});return function(L,$){return I.apply(this,arguments)}}()))}),M2.apply(this,arguments)}const jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ca{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const s8="__/auth/handler",a9="emulator/auth/handler",a8=encodeURIComponent("fac");function _a(_,h,m,M,I,L){return m1.apply(this,arguments)}function m1(){return(m1=(0,g.Z)(function*(_,h,m,M,I,L){K(_.config.authDomain,_,"auth-domain-config-required"),K(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:M,v:T.SDK_VERSION,eventId:I};if(h instanceof U1){h.setDefaultLanguage(_.languageCode),$.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[it,Nt]of Object.entries(L||{}))$[it]=Nt}if(h instanceof V1){const it=h.getScopes().filter(Nt=>""!==Nt);it.length>0&&($.scopes=it.join(","))}_.tenantId&&($.tid=_.tenantId);const ee=$;for(const it of Object.keys(ee))void 0===ee[it]&&delete ee[it];const De=yield _._getAppCheckToken(),Fe=De?`#${a8}=${encodeURIComponent(De)}`:"";return`${function Ma({config:_}){return _.emulator?ur(_,a9):`https://${_.authDomain}/${s8}`}(_)}?${(0,R.xO)(ee).slice(1)}${Fe}`})).apply(this,arguments)}const Qn="webStorageSupport",wa=class o9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=v3,this._overrideRedirectResult=ui}_openPopup(h,m,M,I){var L=this;return(0,g.Z)(function*(){var $;nt(null===($=L.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield _a(h,m,M,Dt(),I);return function _3(_,h,m,M=500,I=600){const L=Math.max((window.screen.availHeight-I)/2,0).toString(),$=Math.max((window.screen.availWidth-M)/2,0).toString();let ee="";const De=Object.assign(Object.assign({},jc),{width:M.toString(),height:I.toString(),top:L,left:$}),Fe=(0,R.z$)().toLowerCase();m&&(ee=E(Fe)?"_blank":m),x(Fe)&&(h=h||"http://localhost",De.scrollbars="yes");const it=Object.entries(De).reduce((K2,[Jn,rs])=>`${K2}${Jn}=${rs},`,"");if(function vt(_=(0,R.z$)()){var h;return $e(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Fe)&&"_self"!==ee)return function Xi(_,h){const m=document.createElement("a");m.href=_,m.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(M)}(h||"",ee),new Ca(null);const Nt=window.open(h||"",ee,it);K(Nt,_,"popup-blocked");try{Nt.focus()}catch{}return new Ca(Nt)}(h,ee,r3())})()}_openRedirect(h,m,M,I){var L=this;return(0,g.Z)(function*(){return yield L._originValidation(h),function ve(_){_2().location.href=_}(yield _a(h,m,M,Dt(),I)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:I,promise:L}=this.eventManagers[m];return I?Promise.resolve(I):(nt(L,"If manager is not set, promise should be"),L)}const M=this.initAndGetManager(h);return this.eventManagers[m]={promise:M},M.catch(()=>{delete this.eventManagers[m]}),M}initAndGetManager(h){var m=this;return(0,g.Z)(function*(){const M=yield function i8(_){return M2.apply(this,arguments)}(h),I=new Oc(h);return M.register("authEvent",L=>(K(L?.authEvent,h,"invalid-auth-event"),{status:I.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:I},m.iframes[h._key()]=M,I})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Qn,{type:Qn},I=>{var L;const $=null===(L=I?.[0])||void 0===L?void 0:L[Qn];void 0!==$&&m(!!$),Z(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pi(_){return Qi.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return It()||D()||$e()}};class Gc{constructor(h){this.factorId=h}_process(h,m,M){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,M);case"signin":return this._finalizeSignIn(h,m.credential);default:return et("unexpected MultiFactorSessionType")}}}class ba extends Gc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ba(h)}_finalizeEnroll(h,m,M){return function Pl(_,h){return he(_,"POST","/v2/accounts/mfaEnrollment:finalize",X(_,h))}(h,{idToken:m,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Ec(_,h){return he(_,"POST","/v2/accounts/mfaSignIn:finalize",X(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let o8=(()=>{class _{constructor(){}static assertion(m){return ba._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var es="@firebase/auth";class ts{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(M=>{h(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zc=(0,R.Pz)("authIdTokenMaxAge")||300;let ns=null;const M3=_=>function(){var h=(0,g.Z)(function*(m){const M=m&&(yield m.getIdTokenResult()),I=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(I&&I>Zc)return;const L=M?.token;ns!==L&&(ns=L,yield fetch(_,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(m){return h.apply(this,arguments)}}();function Kc(_=(0,T.getApp)()){const h=(0,T._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const m=function A4(_,h){const m=(0,T._getProvider)(_,"auth");if(m.isInitialized()){const I=m.getImmediate(),L=m.getOptions();if((0,R.vZ)(L,h??{}))return I;Z(I,"already-initialized")}return m.initialize({options:h})}(_,{popupRedirectResolver:wa,persistence:[sa,bc,gr]}),M=(0,R.Pz)("authTokenSyncURL");if(M){const L=M3(M);(function Mc(_,h,m){(0,R.m9)(_).beforeAuthStateChanged(h,m)})(m,L,()=>L(m.currentUser)),function _c(_,h,m,M){(0,R.m9)(_).onIdTokenChanged(h,m,M)}(m,$=>L($))}const I=(0,R.q4)("auth");return I&&T4(m,`http://${I}`),m}!function Va(_){(0,T._registerComponent)(new we.wA("auth",(h,{options:m})=>{const M=h.getProvider("app").getImmediate(),I=h.getProvider("heartbeat"),L=h.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=M.options;K($&&!$.includes(":"),"invalid-api-key",{appName:M.name});const De={apiKey:$,authDomain:ee,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sr(_)},Fe=new D4(M,I,L,De);return function pl(_,h){const m=h?.persistence||[],M=(Array.isArray(m)?m:[m]).map(c2);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(M,h?.popupRedirectResolver)}(Fe,m),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,M)=>{h.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new we.wA("auth-internal",h=>{const m=u2(h.getProvider("auth").getImmediate());return new ts(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(es,"0.23.2",function l8(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,T.registerVersion)(es,"0.23.2","esm2017")}("Browser")},9058:(ht,Ie,k)=>{k.d(Ie,{$s:()=>c2,BH:()=>J,G6:()=>ur,L:()=>Ee,LL:()=>ze,P0:()=>Je,Pz:()=>ue,Rd:()=>He,Sg:()=>pe,UG:()=>et,US:()=>we,ZB:()=>re,ZR:()=>he,aH:()=>Z,b$:()=>X2,eu:()=>ie,hl:()=>te,jU:()=>nt,k$:()=>vn,m9:()=>yn,ne:()=>jt,pd:()=>Mt,q4:()=>Ke,r3:()=>Jt,ru:()=>Dt,tV:()=>O,uI:()=>K,vZ:()=>s1,w1:()=>Rn,xO:()=>zn,xb:()=>k1,z$:()=>Le,zI:()=>fe,zd:()=>ut});const ae=function(F){const P=[];let x=0;for(let D=0;D<F.length;D++){let E=F.charCodeAt(D);E<128?P[x++]=E:E<2048?(P[x++]=E>>6|192,P[x++]=63&E|128):55296==(64512&E)&&D+1<F.length&&56320==(64512&F.charCodeAt(D+1))?(E=65536+((1023&E)<<10)+(1023&F.charCodeAt(++D)),P[x++]=E>>18|240,P[x++]=E>>12&63|128,P[x++]=E>>6&63|128,P[x++]=63&E|128):(P[x++]=E>>12|224,P[x++]=E>>6&63|128,P[x++]=63&E|128)}return P},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,D=[];for(let E=0;E<F.length;E+=3){const q=F[E],de=E+1<F.length,Ne=de?F[E+1]:0,gt=E+2<F.length,$e=gt?F[E+2]:0;let Xt=(15&Ne)<<2|$e>>6,It=63&$e;gt||(It=64,de||(Xt=64)),D.push(x[q>>2],x[(3&q)<<4|Ne>>4],x[Xt],x[It])}return D.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(ae(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let x=0,D=0;for(;x<F.length;){const E=F[x++];if(E<128)P[D++]=String.fromCharCode(E);else if(E>191&&E<224){const q=F[x++];P[D++]=String.fromCharCode((31&E)<<6|63&q)}else if(E>239&&E<365){const gt=((7&E)<<18|(63&F[x++])<<12|(63&F[x++])<<6|63&F[x++])-65536;P[D++]=String.fromCharCode(55296+(gt>>10)),P[D++]=String.fromCharCode(56320+(1023&gt))}else{const q=F[x++],de=F[x++];P[D++]=String.fromCharCode((15&E)<<12|(63&q)<<6|63&de)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const x=P?this.charToByteMapWebSafe_:this.charToByteMap_,D=[];for(let E=0;E<F.length;){const q=x[F.charAt(E++)],Ne=E<F.length?x[F.charAt(E)]:0;++E;const $e=E<F.length?x[F.charAt(E)]:64;++E;const vt=E<F.length?x[F.charAt(E)]:64;if(++E,null==q||null==Ne||null==$e||null==vt)throw new xe;D.push(q<<2|Ne>>4),64!==$e&&(D.push(Ne<<4&240|$e>>2),64!==vt&&D.push($e<<6&192|vt))}return D},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(F){return function(F){const P=ae(F);return we.encodeByteArray(P,!0)}(F).replace(/\./g,"")},O=function(F){try{return we.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function re(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const x in P)!P.hasOwnProperty(x)||!Re(x)||(F[x]=re(F[x],P[x]));return F}function Re(F){return"__proto__"!==F}function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ae=()=>{try{return He().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&O(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ke=F=>{var P,x;return null===(x=null===(P=Ae())||void 0===P?void 0:P.emulatorHosts)||void 0===x?void 0:x[F]},Je=F=>{const P=Ke(F);if(!P)return;const x=P.lastIndexOf(":");if(x<=0||x+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const D=parseInt(P.substring(x+1),10);return"["===P[0]?[P.substring(1,x-1),D]:[P.substring(0,x),D]},Z=()=>{var F;return null===(F=Ae())||void 0===F?void 0:F.config},ue=F=>{var P;return null===(P=Ae())||void 0===P?void 0:P[`_${F}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,x)=>{this.resolve=P,this.reject=x})}wrapCallback(P){return(x,D)=>{x?this.reject(x):this.resolve(D),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(x):P(x,D))}}}function pe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const D=P||"demo-project",E=F.iat||0,q=F.sub||F.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${D}`,aud:D,iat:E,exp:E+3600,auth_time:E,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(de)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function et(){var F;const P=null===(F=Ae())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function Dt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function X2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rn(){const F=Le();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function ur(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function ie(){return new Promise((F,P)=>{try{let x=!0;const D="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(D);E.onsuccess=()=>{E.result.close(),x||self.indexedDB.deleteDatabase(D),F(!0)},E.onupgradeneeded=()=>{x=!1},E.onerror=()=>{var q;P((null===(q=E.error)||void 0===q?void 0:q.message)||"")}}catch(x){P(x)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(P,x,D){super(x),this.code=P,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(P,x,D){this.service=P,this.serviceName=x,this.errors=D}create(P,...x){const D=x[0]||{},E=`${this.service}/${P}`,q=this.errors[P],de=q?function Qe(F,P){return F.replace(ke,(x,D)=>{const E=P[D];return null!=E?String(E):`<${D}?>`})}(q,D):"Error";return new he(E,`${this.serviceName}: ${de} (${E}).`,D)}}const ke=/\{\$([^}]+)}/g;function Jt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function k1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function s1(F,P){if(F===P)return!0;const x=Object.keys(F),D=Object.keys(P);for(const E of x){if(!D.includes(E))return!1;const q=F[E],de=P[E];if(v2(q)&&v2(de)){if(!s1(q,de))return!1}else if(q!==de)return!1}for(const E of D)if(!x.includes(E))return!1;return!0}function v2(F){return null!==F&&"object"==typeof F}function zn(F){const P=[];for(const[x,D]of Object.entries(F))Array.isArray(D)?D.forEach(E=>{P.push(encodeURIComponent(x)+"="+encodeURIComponent(E))}):P.push(encodeURIComponent(x)+"="+encodeURIComponent(D));return P.length?"&"+P.join("&"):""}function ut(F){const P={};return F.replace(/^\?/,"").split("&").forEach(D=>{if(D){const[E,q]=D.split("=");P[decodeURIComponent(E)]=decodeURIComponent(q)}}),P}function Mt(F){const P=F.indexOf("?");if(!P)return"";const x=F.indexOf("#",P);return F.substring(P,x>0?x:void 0)}function jt(F,P){const x=new o1(F,P);return x.subscribe.bind(x)}class o1{constructor(P,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{P(this)}).catch(D=>{this.error(D)})}next(P){this.forEachObserver(x=>{x.next(P)})}error(P){this.forEachObserver(x=>{x.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,x,D){let E;if(void 0===P&&void 0===x&&void 0===D)throw new Error("Missing Observer.");E=function Lt(F,P){if("object"!=typeof F||null===F)return!1;for(const x of P)if(x in F&&"function"==typeof F[x])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:x,complete:D},void 0===E.next&&(E.next=y2),void 0===E.error&&(E.error=y2),void 0===E.complete&&(E.complete=y2);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?E.error(this.finalError):E.complete()}catch{}}),this.observers.push(E),q}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,P)}sendOne(P,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{x(this.observers[P])}catch(D){typeof console<"u"&&console.error&&console.error(D)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y2(){}const vn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,F=>{const P=16*Math.random()|0;return("x"===F?P:3&P|8).toString(16)})},P2=1e3,R2=2,G2=144e5,w1=.5;function c2(F,P=P2,x=R2){const D=P*Math.pow(x,F),E=Math.round(w1*D*(Math.random()-.5)*2);return Math.min(G2,D+E)}function yn(F){return F&&F._delegate?F._delegate:F}},9921:(ht,Ie,k)=>{var g=k(7989);let R=null;function T(){return R}class me{}const we=new g.OlP("DocumentToken");var J=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(J||{}),nt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(nt||{});function he(t,e){const n=(0,g.cg1)(t),r=n[g.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===nt.CurrencyDecimal)return n[g.wAp.NumberSymbols][nt.Decimal];if(e===nt.CurrencyGroup)return n[g.wAp.NumberSymbols][nt.Group]}return r}const E=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Vt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Rs=/\s+/,x4=[];let Ai=(()=>{var t;class e{constructor(r,a,c,u){this._iterableDiffers=r,this._keyValueDiffers=a,this._ngEl=c,this._renderer=u,this.initialClasses=x4,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Rs):x4}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Rs):r}ngDoCheck(){for(const a of this.initialClasses)this._updateState(a,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const a of r)this._updateState(a,!0);else if(null!=r)for(const a of Object.keys(r))this._updateState(a,!!r[a]);this._applyStateDiff()}_updateState(r,a){const c=this.stateMap.get(r);void 0!==c?(c.enabled!==a&&(c.changed=!0,c.enabled=a),c.touched=!0):this.stateMap.set(r,{enabled:a,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const a=r[0],c=r[1];c.changed?(this._toggleClass(a,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(a,!1),this.stateMap.delete(a)),c.touched=!1}}_toggleClass(r,a){(r=r.trim()).length>0&&r.split(Rs).forEach(c=>{a?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Ni{constructor(e,n,r,a){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,a,c){this._viewContainer=r,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=this._viewContainer;r.forEachOperation((c,u,p)=>{if(null==c.previousIndex)a.createEmbeddedView(this._template,new Ni(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)a.remove(null===u?void 0:u);else if(null!==u){const y=a.get(u);a.move(y,p),u2(y,c)}});for(let c=0,u=a.length;c<u;c++){const y=a.get(c).context;y.index=c,y.count=u,y.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{u2(a.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,a){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function u2(t,e){t.context.$implicit=e.item}let A4=(()=>{var t;class e{constructor(r,a){this._viewContainer=r,this._context=new pl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){T4("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){T4("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.s_b),g.Y36(g.Rgc))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class pl{constructor(){this.$implicit=null,this.ngIf=null}}function T4(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let Gs=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=f2}transform(r,a=f2){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const c=this.differ.diff(r),u=a!==this.compareFn;return c&&(this.keyValues=[],c.forEachItem(p=>{this.keyValues.push(function jn(t,e){return{key:t,value:e}}(p.key,p.currentValue))})),(c||u)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.aQg,16))},t.\u0275pipe=g.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function f2(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const a=String(n),c=String(r);return a==c?0:a<c?-1:1}let Te=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,a,c){if(!function B1(t){return!(null==t||""===t||t!=t)}(r))return null;c=c||this._locale;try{return function se(t,e,n){return function It(t,e,n,r,a,c,u=!1){let p="",y=!1;if(isFinite(t)){let b=function Ye(t){let r,a,c,u,p,e=Math.abs(t)+"",n=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(c=e.search(/e/i))>0?(a<0&&(a=c),a+=+e.slice(c+1),e=e.substring(0,c)):a<0&&(a=e.length),c=0;"0"===e.charAt(c);c++);if(c===(p=e.length))r=[0],a=1;else{for(p--;"0"===e.charAt(p);)p--;for(a-=c,r=[],u=0;c<=p;c++,u++)r[u]=Number(e.charAt(c))}return a>22&&(r=r.splice(0,21),n=a-1,a=1),{digits:r,exponent:n,integerLen:a}}(t);u&&(b=function _e(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(b));let H=e.minInt,S=e.minFrac,N=e.maxFrac;if(c){const qe=c.match(E);if(null===qe)throw new Error(`${c} is not a valid digit info`);const Ze=qe[1],ot=qe[3],dt=qe[5];null!=Ze&&(H=Vt(Ze)),null!=ot&&(S=Vt(ot)),null!=dt?N=Vt(dt):null!=ot&&S>N&&(N=S)}!function Oe(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,a=r.length-t.integerLen;const c=Math.min(Math.max(e,a),n);let u=c+t.integerLen,p=r[u];if(u>0){r.splice(Math.max(t.integerLen,u));for(let S=u;S<r.length;S++)r[S]=0}else{a=Math.max(0,a),t.integerLen=1,r.length=Math.max(1,u=c+1),r[0]=0;for(let S=1;S<u;S++)r[S]=0}if(p>=5)if(u-1<0){for(let S=0;S>u;S--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[u-1]++;for(;a<Math.max(0,c);a++)r.push(0);let y=0!==c;const b=e+t.integerLen,H=r.reduceRight(function(S,N,U,oe){return oe[U]=(N+=S)<10?N:N-10,y&&(0===oe[U]&&U>=b?oe.pop():y=!1),N>=10?1:0},0);H&&(r.unshift(H),t.integerLen++)}(b,S,N);let U=b.digits,oe=b.integerLen;const Ce=b.exponent;let Me=[];for(y=U.every(qe=>!qe);oe<H;oe++)U.unshift(0);for(;oe<0;oe++)U.unshift(0);oe>0?Me=U.splice(oe,U.length):(Me=U,U=[0]);const je=[];for(U.length>=e.lgSize&&je.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)je.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&je.unshift(U.join("")),p=je.join(he(n,r)),Me.length&&(p+=he(n,a)+Me.join("")),Ce&&(p+=he(n,nt.Exponential)+"+"+Ce)}else p=he(n,nt.Infinity);return p=t<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(t,function Y(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),a=r[0],c=r[1],u=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],p=u[0],y=u[1]||"";n.posPre=p.substring(0,p.indexOf("#"));for(let H=0;H<y.length;H++){const S=y.charAt(H);"0"===S?n.minFrac=n.maxFrac=H+1:"#"===S?n.maxFrac=H+1:n.posSuf+=S}const b=p.split(",");if(n.gSize=b[1]?b[1].length:0,n.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const H=a.length-n.posPre.length-n.posSuf.length,S=c.indexOf("#");n.negPre=c.substring(0,S).replace(/'/g,""),n.negSuf=c.slice(S+H).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function ze(t,e){return(0,g.cg1)(t)[g.wAp.NumberFormats][e]}(e,J.Decimal),he(e,nt.MinusSign)),e,nt.Group,nt.Decimal,n)}(function $n(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),c,a)}catch(u){throw function F1(t,e){return new g.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.soG,16))},t.\u0275pipe=g.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let d2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),e})();const hr="server";function H1(t){return t===hr}class Cc extends me{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xs extends Cc{static makeCurrent(){!function ae(t){R||(R=t)}(new Xs)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function X4(){return Ui=Ui||document.querySelector("base"),Ui?Ui.getAttribute("href"):null}();return null==n?null:function Kn(t){ea=ea||document.createElement("a"),ea.setAttribute("href",t);const e=ea.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ui=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Bn(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[a,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let ea,Ui=null,Mc=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const e2=new g.OlP("EventManagerPlugins");let Al=(()=>{var t;class e{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,c){return this._findPluginFor(a).addEventListener(r,a,c)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(u=>u.supports(r)),!a)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(r,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(e2),g.LFG(g.R0b))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();class e3{constructor(e){this._doc=e}}const p1="ng-app-id";let Tl=(()=>{var t;class e{constructor(r,a,c,u={}){this.doc=r,this.appId=a,this.nonce=c,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=H1(u),this.resetHostNodes()}addStyles(r){for(const a of r)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(r){for(const a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){const a=this.styleRef;a.get(r)?.elements?.forEach(c=>c.remove()),a.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(r?.length){const a=new Map;return r.forEach(c=>{null!=c.textContent&&a.set(c.textContent,c)}),a}return null}changeUsageCount(r,a){const c=this.styleRef;if(c.has(r)){const u=c.get(r);return u.usage+=a,u.usage}return c.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){const c=this.styleNodesInDOM,u=c?.get(a);if(u?.parentNode===r)return c.delete(a),u.removeAttribute(p1),u;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=a,this.platformIsServer&&p.setAttribute(p1,this.appId),p}}addStyleToHost(r,a){const c=this.getStyleElement(r,a);r.appendChild(c);const u=this.styleRef,p=u.get(a)?.elements;p?p.push(c):u.set(a,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(we),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const si={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S1=/%COMP%/g,xr=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ji(t,e){return e.map(n=>n.replace(S1,t))}let $i=(()=>{var t;class e{constructor(r,a,c,u,p,y,b,H=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=c,this.removeStylesOnCompDestroy=u,this.doc=p,this.platformId=y,this.ngZone=b,this.nonce=H,this.rendererByCompId=new Map,this.platformIsServer=H1(y),this.defaultRenderer=new t3(r,p,b,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===g.ifc.ShadowDom&&(a={...a,encapsulation:g.ifc.Emulated});const c=this.getOrCreateRenderer(r,a);return c instanceof Ol?c.applyToHost(r):c instanceof na&&c.applyStyles(),c}getOrCreateRenderer(r,a){const c=this.rendererByCompId;let u=c.get(a.id);if(!u){const p=this.doc,y=this.ngZone,b=this.eventManager,H=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(a.encapsulation){case g.ifc.Emulated:u=new Ol(b,H,a,this.appId,S,p,y,N);break;case g.ifc.ShadowDom:return new Zf(b,H,r,a,p,y,this.nonce,N);default:u=new na(b,H,a,S,p,y,N)}c.set(a.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(Al),g.LFG(Tl),g.LFG(g.AFp),g.LFG(xr),g.LFG(we),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();class t3{constructor(e,n,r,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(si[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ta(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ta(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new g.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,a){if(a){n=a+":"+n;const c=si[a];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const a=si[r];a?e.removeAttributeNS(a,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,a){a&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(n,r,a&g.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&g.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=T().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function ta(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Zf extends t3{constructor(e,n,r,a,c,u,p,y){super(e,c,u,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=ji(a.id,a.styles);for(const H of b){const S=document.createElement("style");p&&S.setAttribute("nonce",p),S.textContent=H,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class na extends t3{constructor(e,n,r,a,c,u,p,y){super(e,c,u,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=y?ji(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ol extends na{constructor(e,n,r,a,c,u,p,y){const b=a+"-"+r.id;super(e,n,r,c,u,p,y,b),this.contentAttr=function wc(t){return"_ngcontent-%COMP%".replace(S1,t)}(b),this.hostAttr=function Rl(t){return"_nghost-%COMP%".replace(S1,t)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let bc=(()=>{var t;class e extends e3{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,c){return r.addEventListener(a,c,!1),()=>this.removeEventListener(r,a,c)}removeEventListener(r,a,c){return r.removeEventListener(a,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(we))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const Hc=["alt","control","meta","shift"],gr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bl=(()=>{var t;class e extends e3{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,a,c){const u=e.parseEventName(a),p=e.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(r,u.domEventName,p))}static parseEventName(r){const a=r.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const u=e._normalizeKey(a.pop());let p="",y=a.indexOf("code");if(y>-1&&(a.splice(y,1),p="code."),Hc.forEach(H=>{const S=a.indexOf(H);S>-1&&(a.splice(S,1),p+=H+".")}),p+=u,0!=a.length||0===u.length)return null;const b={};return b.domEventName=c,b.fullKey=p,b}static matchEventFullKeyCode(r,a){let c=gr[r.key]||r.key,u="";return a.indexOf("code.")>-1&&(c=r.code,u="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Hc.forEach(p=>{p!==c&&(0,Fl[p])(r)&&(u+=p+".")}),u+=c,u===a)}static eventCallback(r,a,c){return u=>{e.matchEventFullKeyCode(u,r)&&c.runGuarded(()=>a(u))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(we))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const Vc=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Ot(){Xs.makeCurrent()},multi:!0},{provide:we,useFactory:function ra(){return(0,g.RDi)(document),document},deps:[]}]),ai=new g.OlP(""),_n=[{provide:g.rWj,useClass:class _c{addToWindow(e){g.dqk.getAngularTestability=(r,a=!0)=>{const c=e.findTestabilityInTree(r,a);if(null==c)throw new g.vHH(5103,!1);return c},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const a=g.dqk.getAllAngularTestabilities();let c=a.length,u=!1;const p=function(y){u=u||y,c--,0==c&&r(u)};a.forEach(y=>{y.whenStable(p)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?T().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Dr=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Ul(){return new g.qLn},deps:[]},{provide:e2,useClass:bc,multi:!0,deps:[we,g.R0b,g.Lbi]},{provide:e2,useClass:Bl,multi:!0,deps:[we]},$i,Tl,Al,{provide:g.FYo,useExisting:$i},{provide:class qn{},useClass:Mc,deps:[]},[]];let vr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:g.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(ai,12))},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[...Dr,..._n],imports:[d2,g.hGG]}),e})();typeof window<"u"&&window;let aa=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:function(r){let a=null;return a=r?new(r||t):g.LFG(o3),a},providedIn:"root"}),e})(),o3=(()=>{var t;class e extends aa{constructor(r){super(),this._doc=r}sanitize(r,a){if(null==a)return null;switch(r){case g.q3G.NONE:return a;case g.q3G.HTML:return(0,g.qzn)(a,"HTML")?(0,g.z3N)(a):(0,g.EiD)(this._doc,String(a)).toString();case g.q3G.STYLE:return(0,g.qzn)(a,"Style")?(0,g.z3N)(a):a;case g.q3G.SCRIPT:if((0,g.qzn)(a,"Script"))return(0,g.z3N)(a);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(a,"URL")?(0,g.z3N)(a):(0,g.mCW)(String(a));case g.q3G.RESOURCE_URL:if((0,g.qzn)(a,"ResourceURL"))return(0,g.z3N)(a);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,g.JVY)(r)}bypassSecurityTrustStyle(r){return(0,g.L6k)(r)}bypassSecurityTrustScript(r){return(0,g.eBb)(r)}bypassSecurityTrustUrl(r){return(0,g.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,g.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(we))},t.\u0275prov=g.Yz7({token:t,factory:function(r){let a=null;return a=r?new r:function a3(t){return new o3(t.get(we))}(g.LFG(g.zs3)),a},providedIn:"root"}),e})();var N8={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},mh={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},K3={prefix:"fas",iconName:"cubes-stacked",icon:[448,512,[],"e4e6","M192 64v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H224c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H288zm64 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H352zM160 384v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H32z"]},m5={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},H5={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},yV={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},v={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},AT={prefix:"fas",iconName:"person-rifle",icon:[576,512,[],"e54e","M265.2 192c25.4 0 49.8 7.1 70.8 19.9V512H144V337.7L90.4 428.3c-11.2 19-35.8 25.3-54.8 14.1s-25.3-35.8-14.1-54.8L97.7 258.8c24.5-41.4 69-66.8 117.1-66.8h50.4zM160 80a80 80 0 1 1 160 0A80 80 0 1 1 160 80zM448 0c8.8 0 16 7.2 16 16V132.3c9.6 5.5 16 15.9 16 27.7V269.3l16-5.3V208c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v84.5c0 6.9-4.4 13-10.9 15.2L480 325.3V352h48c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H484l23 92.1c2.5 10.1-5.1 19.9-15.5 19.9H432c-8.8 0-16-7.2-16-16V400H400c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32V160c0-11.8 6.4-22.2 16-27.7V32c-8.8 0-16-7.2-16-16s7.2-16 16-16h16 16z"]},dI={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},i7={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},hN={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48V192h40V120c0-13.3 10.7-24 24-24s24 10.7 24 24v72h24c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H432 336c-26.5 0-48-21.5-48-48V48zm64 32v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H368zM352 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H528zM512 368v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H528c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80H160V480c0 18-15 32-32 32c-18 0-32-14-32-32V320H80c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},EN={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},fk={prefix:"fas",iconName:"carrot",icon:[512,512,[129365],"f787","M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"]},VI={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AI(t,e){return function jee(t){if(Array.isArray(t))return t}(t)||function Gee(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,p,r=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(u=n.next()).done)&&(r.push(u.value),!e||r.length!==e);a=!0);}catch(y){c=!0,p=y}finally{try{!a&&null!=n.return&&n.return()}finally{if(c)throw p}}return r}}(t,e)||cP(t,e)||function Wee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l7(t){return function Uee(t){if(Array.isArray(t))return TI(t)}(t)||function $ee(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||cP(t)||function qee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cP(t,e){if(t){if("string"==typeof t)return TI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TI(t,e)}}function TI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lP=function(){},NI={},uP={},fP=null,dP={mark:lP,measure:lP};try{typeof window<"u"&&(NI=window),typeof document<"u"&&(uP=document),typeof MutationObserver<"u"&&(fP=MutationObserver),typeof performance<"u"&&(dP=performance)}catch{}var _v,Mv,wv,bv,Hv,hP=(NI.navigator||{}).userAgent,pP=void 0===hP?"":hP,t4=NI,w2=uP,mP=fP,Cv=dP,_s=!!w2.documentElement&&!!w2.head&&"function"==typeof w2.addEventListener&&"function"==typeof w2.createElement,gP=~pP.indexOf("MSIE")||~pP.indexOf("Trident/"),Ms="___FONT_AWESOME___",vP="fa",yP="svg-inline--fa",Co="data-fa-i2svg",PI="data-fa-pseudo-element",Kee="data-fa-pseudo-element-pending",RI="data-prefix",OI="data-icon",CP="fontawesome-i2svg",Yee="async",Qee=["HTML","HEAD","STYLE","SCRIPT"],_P=function(){try{return!0}catch{return!1}}(),b2="classic",F2="sharp",FI=[b2,F2];function u7(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[b2]}})}var f7=u7((y1(_v={},b2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),y1(_v,F2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_v)),d7=u7((y1(Mv={},b2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),y1(Mv,F2,{solid:"fass",regular:"fasr",light:"fasl"}),Mv)),h7=u7((y1(wv={},b2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),y1(wv,F2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),wv)),Jee=u7((y1(bv={},b2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),y1(bv,F2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),bv)),Xee=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,MP="fa-layers-text",ete=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,tte=u7((y1(Hv={},b2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),y1(Hv,F2,{900:"fass",400:"fasr",300:"fasl"}),Hv)),wP=[1,2,3,4,5,6,7,8,9,10],nte=wP.concat([11,12,13,14,15,16,17,18,19,20]),rte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_o={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},p7=new Set;Object.keys(d7[b2]).map(p7.add.bind(p7)),Object.keys(d7[F2]).map(p7.add.bind(p7));var ite=[].concat(FI,l7(p7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_o.GROUP,_o.SWAP_OPACITY,_o.PRIMARY,_o.SECONDARY]).concat(wP.map(function(t){return"".concat(t,"x")})).concat(nte.map(function(t){return"w-".concat(t)})),m7=t4.FontAwesomeConfig||{};w2&&"function"==typeof w2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=AI(t,2),r=e[1],a=function ate(t){return""===t||"false"!==t&&("true"===t||t)}(function ste(t){var e=w2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=a&&(m7[r]=a)});var bP={styleDefault:"solid",familyDefault:"classic",cssPrefix:vP,replacementClass:yP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};m7.familyPrefix&&(m7.cssPrefix=m7.familyPrefix);var y0=tt(tt({},bP),m7);y0.autoReplaceSvg||(y0.observeMutations=!1);var ct={};Object.keys(bP).forEach(function(t){Object.defineProperty(ct,t,{enumerable:!0,set:function(n){y0[t]=n,g7.forEach(function(r){return r(ct)})},get:function(){return y0[t]}})}),Object.defineProperty(ct,"familyPrefix",{enumerable:!0,set:function(e){y0.cssPrefix=e,g7.forEach(function(n){return n(ct)})},get:function(){return y0.cssPrefix}}),t4.FontAwesomeConfig=ct;var g7=[],Mi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},ute="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function v7(){for(var t=12,e="";t-- >0;)e+=ute[62*Math.random()|0];return e}function C0(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function BI(t){return t.classList?C0(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function HP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Vv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function UI(t){return t.size!==Mi.size||t.x!==Mi.x||t.y!==Mi.y||t.rotate!==Mi.rotate||t.flipX||t.flipY}var pte=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function VP(){var t=vP,e=yP,n=ct.cssPrefix,r=ct.replacementClass,a=pte;if(n!==t||r!==e){var c=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");a=a.replace(c,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(p,".".concat(r))}return a}var IP=!1;function jI(){ct.autoAddCss&&!IP&&(function lte(t){if(t&&_s){var e=w2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=w2.head.childNodes,r=null,a=n.length-1;a>-1;a--){var c=n[a],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}w2.head.insertBefore(e,r)}}(VP()),IP=!0)}var mte={mixout:function(){return{dom:{css:VP,insertCss:jI}}},hooks:function(){return{beforeDOMElementCreation:function(){jI()},beforeI2svg:function(){jI()}}}},ws=t4||{};ws[Ms]||(ws[Ms]={}),ws[Ms].styles||(ws[Ms].styles={}),ws[Ms].hooks||(ws[Ms].hooks={}),ws[Ms].shims||(ws[Ms].shims=[]);var qr=ws[Ms],SP=[],Iv=!1;function y7(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,a=t.children,c=void 0===a?[]:a;return"string"==typeof t?HP(t):"<".concat(e," ").concat(function fte(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(HP(t[n]),'" ')},"").trim()}(r),">").concat(c.map(y7).join(""),"</").concat(e,">")}function zP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}_s&&((Iv=(w2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(w2.readyState))||w2.addEventListener("DOMContentLoaded",function t(){w2.removeEventListener("DOMContentLoaded",t),Iv=1,SP.map(function(e){return e()})}));var $I=function(e,n,r,a){var y,b,H,c=Object.keys(e),u=c.length,p=void 0!==a?function(e,n){return function(r,a,c,u){return e.call(n,r,a,c,u)}}(n,a):n;for(void 0===r?(y=1,H=e[c[0]]):(y=0,H=r);y<u;y++)H=p(H,e[b=c[y]],b,e);return H};function GI(t){var e=function Cte(t){for(var e=[],n=0,r=t.length;n<r;){var a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var c=t.charCodeAt(n++);56320==(64512&c)?e.push(((1023&a)<<10)+(1023&c)+65536):(e.push(a),n--)}else e.push(a)}return e}(t);return 1===e.length?e[0].toString(16):null}function EP(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function qI(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,a=void 0!==r&&r,c=EP(e);"function"!=typeof qr.hooks.addPack||a?qr.styles[t]=tt(tt({},qr.styles[t]||{}),c):qr.hooks.addPack(t,EP(e)),"fas"===t&&qI("fa",e)}var Sv,zv,Ev,_0=qr.styles,Mte=qr.shims,wte=(y1(Sv={},b2,Object.values(h7[b2])),y1(Sv,F2,Object.values(h7[F2])),Sv),WI=null,LP={},xP={},DP={},AP={},TP={},bte=(y1(zv={},b2,Object.keys(f7[b2])),y1(zv,F2,Object.keys(f7[F2])),zv);var NP=function(){var e=function(c){return $I(_0,function(u,p,y){return u[y]=$I(p,c,{}),u},{})};LP=e(function(a,c,u){return c[3]&&(a[c[3]]=u),c[2]&&c[2].filter(function(y){return"number"==typeof y}).forEach(function(y){a[y.toString(16)]=u}),a}),xP=e(function(a,c,u){return a[u]=u,c[2]&&c[2].filter(function(y){return"string"==typeof y}).forEach(function(y){a[y]=u}),a}),TP=e(function(a,c,u){var p=c[2];return a[u]=u,p.forEach(function(y){a[y]=u}),a});var n="far"in _0||ct.autoFetchSvg,r=$I(Mte,function(a,c){var u=c[0],p=c[1],y=c[2];return"far"===p&&!n&&(p="fas"),"string"==typeof u&&(a.names[u]={prefix:p,iconName:y}),"number"==typeof u&&(a.unicodes[u.toString(16)]={prefix:p,iconName:y}),a},{names:{},unicodes:{}});DP=r.names,AP=r.unicodes,WI=Lv(ct.styleDefault,{family:ct.familyDefault})};function ZI(t,e){return(LP[t]||{})[e]}function Mo(t,e){return(TP[t]||{})[e]}function kP(t){return DP[t]||{prefix:null,iconName:null}}function r4(){return WI}(function cte(t){g7.push(t)})(function(t){WI=Lv(t.styleDefault,{family:ct.familyDefault})}),NP();var KI=function(){return{prefix:null,iconName:null,rest:[]}};function Lv(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?b2:n;return d7[r][t]||d7[r][f7[r][t]]||(t in qr.styles?t:null)||null}var PP=(y1(Ev={},b2,Object.keys(h7[b2])),y1(Ev,F2,Object.keys(h7[F2])),Ev);function xv(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,a=void 0!==r&&r,c=(y1(e={},b2,"".concat(ct.cssPrefix,"-").concat(b2)),y1(e,F2,"".concat(ct.cssPrefix,"-").concat(F2)),e),u=null,p=b2;(t.includes(c[b2])||t.some(function(b){return PP[b2].includes(b)}))&&(p=b2),(t.includes(c[F2])||t.some(function(b){return PP[F2].includes(b)}))&&(p=F2);var y=t.reduce(function(b,H){var S=function Vte(t,e){var n=e.split("-"),r=n[0],a=n.slice(1).join("-");return r!==t||""===a||function Hte(t){return~ite.indexOf(t)}(a)?null:a}(ct.cssPrefix,H);if(_0[H]?(H=wte[p].includes(H)?Jee[p][H]:H,u=H,b.prefix=H):bte[p].indexOf(H)>-1?(u=H,b.prefix=Lv(H,{family:p})):S?b.iconName=S:H!==ct.replacementClass&&H!==c[b2]&&H!==c[F2]&&b.rest.push(H),!a&&b.prefix&&b.iconName){var N="fa"===u?kP(b.iconName):{},U=Mo(b.prefix,b.iconName);N.prefix&&(u=null),b.iconName=N.iconName||U||b.iconName,b.prefix=N.prefix||b.prefix,"far"===b.prefix&&!_0.far&&_0.fas&&!ct.autoFetchSvg&&(b.prefix="fas")}return b},KI());return(t.includes("fa-brands")||t.includes("fab"))&&(y.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(y.prefix="fad"),!y.prefix&&p===F2&&(_0.fass||ct.autoFetchSvg)&&(y.prefix="fass",y.iconName=Mo(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===u)&&(y.prefix=r4()||"fas"),y}var zte=function(){function t(){(function Oee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Fee(t,e,n){e&&oP(t.prototype,e),n&&oP(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var u=a.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(p){n.definitions[p]=tt(tt({},n.definitions[p]||{}),u[p]),qI(p,u[p]);var y=h7[b2][p];y&&qI(y,u[p]),NP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(c){var u=a[c],p=u.prefix,y=u.iconName,b=u.icon,H=b[2];n[p]||(n[p]={}),H.length>0&&H.forEach(function(S){"string"==typeof S&&(n[p][S]=b)}),n[p][y]=b}),n}}]),t}(),RP=[],M0={},w0={},Ete=Object.keys(w0);function YI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(M0[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function wo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(M0[t]||[]).forEach(function(c){c.apply(null,n)})}function bs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return w0[t]?w0[t].apply(null,e):void 0}function QI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||r4();if(e)return e=Mo(n,e)||e,zP(OP.definitions,n,e)||zP(qr.styles,n,e)}var OP=new zte,Dte={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _s?(wo("beforeI2svg",e),bs("pseudoElements2svg",e),bs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===ct.autoReplaceSvg&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,function vte(t){_s&&(Iv?setTimeout(t,0):SP.push(t))}(function(){Tte({autoReplaceSvgRoot:n}),wo("watch",e)})}},rr={noAuto:function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,wo("noAuto")},config:ct,dom:Dte,parse:{icon:function(e){if(null===e)return null;if("object"===vv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Mo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Lv(e[0]);return{prefix:r,iconName:Mo(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(ct.cssPrefix,"-"))>-1||e.match(Xee))){var a=xv(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||r4(),iconName:Mo(a.prefix,a.iconName)||a.iconName}}if("string"==typeof e){var c=r4();return{prefix:c,iconName:Mo(c,e)||e}}}},library:OP,findIconDefinition:QI,toHtml:y7},Tte=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?w2:n;(Object.keys(qr.styles).length>0||ct.autoFetchSvg)&&_s&&ct.autoReplaceSvg&&rr.dom.i2svg({node:r})};function Dv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return y7(r)})}}),Object.defineProperty(t,"node",{get:function(){if(_s){var r=w2.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function JI(t){var e=t.icons,n=e.main,r=e.mask,a=t.prefix,c=t.iconName,u=t.transform,p=t.symbol,y=t.title,b=t.maskId,H=t.titleId,S=t.extra,N=t.watchable,U=void 0!==N&&N,oe=r.found?r:n,Ce=oe.width,Me=oe.height,je="fak"===a,qe=[ct.replacementClass,c?"".concat(ct.cssPrefix,"-").concat(c):""].filter(function(Xr){return-1===S.classes.indexOf(Xr)}).filter(function(Xr){return""!==Xr||!!Xr}).concat(S.classes).join(" "),Ze={children:[],attributes:tt(tt({},S.attributes),{},{"data-prefix":a,"data-icon":c,class:qe,role:S.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ce," ").concat(Me)})},ot=je&&!~S.classes.indexOf("fa-fw")?{width:"".concat(Ce/Me*16*.0625,"em")}:{};U&&(Ze.attributes[Co]=""),y&&(Ze.children.push({tag:"title",attributes:{id:Ze.attributes["aria-labelledby"]||"title-".concat(H||v7())},children:[y]}),delete Ze.attributes.title);var dt=tt(tt({},Ze),{},{prefix:a,iconName:c,main:n,mask:r,maskId:b,transform:u,symbol:p,styles:tt(tt({},ot),S.styles)}),xt=r.found&&n.found?bs("generateAbstractMask",dt)||{children:[],attributes:{}}:bs("generateAbstractIcon",dt)||{children:[],attributes:{}},Jr=xt.attributes;return dt.children=xt.children,dt.attributes=Jr,p?function kte(t){var n=t.iconName,r=t.children,a=t.attributes,c=t.symbol,u=!0===c?"".concat(t.prefix,"-").concat(ct.cssPrefix,"-").concat(n):c;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tt(tt({},a),{},{id:u}),children:r}]}]}(dt):function Nte(t){var e=t.children,n=t.main,r=t.mask,a=t.attributes,c=t.styles,u=t.transform;if(UI(u)&&n.found&&!r.found){var b={x:n.width/n.height/2,y:.5};a.style=Vv(tt(tt({},c),{},{"transform-origin":"".concat(b.x+u.x/16,"em ").concat(b.y+u.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}(dt)}function FP(t){var e=t.content,n=t.width,r=t.height,a=t.transform,c=t.title,u=t.extra,p=t.watchable,y=void 0!==p&&p,b=tt(tt(tt({},u.attributes),c?{title:c}:{}),{},{class:u.classes.join(" ")});y&&(b[Co]="");var H=tt({},u.styles);UI(a)&&(H.transform=function hte(t){var e=t.transform,n=t.width,a=t.height,c=void 0===a?16:a,u=t.startCentered,p=void 0!==u&&u,y="";return y+=p&&gP?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-c/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:a,startCentered:!0,width:n,height:r}),H["-webkit-transform"]=H.transform);var S=Vv(H);S.length>0&&(b.style=S);var N=[];return N.push({tag:"span",attributes:b,children:[e]}),c&&N.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),N}var XI=qr.styles;function eS(t){var e=t[0],n=t[1],c=AI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_o.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_o.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(ct.cssPrefix,"-").concat(_o.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}var Rte={found:!1,width:512,height:512};function tS(t,e){var n=e;return"fa"===e&&null!==ct.styleDefault&&(e=r4()),new Promise(function(r,a){if(bs("missingIconAbstract"),"fa"===n){var u=kP(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&XI[e]&&XI[e][t])return r(eS(XI[e][t]));(function Ote(t,e){!_P&&!ct.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(tt(tt({},Rte),{},{icon:ct.showMissingIcons&&t&&bs("missingIconAbstract")||{}}))})}var BP=function(){},nS=ct.measurePerformance&&Cv&&Cv.mark&&Cv.measure?Cv:{mark:BP,measure:BP},C7='FA "6.4.2"',UP=function(e){nS.mark("".concat(C7," ").concat(e," ends")),nS.measure("".concat(C7," ").concat(e),"".concat(C7," ").concat(e," begins"),"".concat(C7," ").concat(e," ends"))},rS={begin:function(e){return nS.mark("".concat(C7," ").concat(e," begins")),function(){return UP(e)}},end:UP},Av=function(){};function jP(t){return"string"==typeof(t.getAttribute?t.getAttribute(Co):null)}function $te(t){return w2.createElementNS("http://www.w3.org/2000/svg",t)}function Gte(t){return w2.createElement(t)}function $P(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?$te:Gte:n;if("string"==typeof t)return w2.createTextNode(t);var a=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){a.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){a.appendChild($P(u,{ceFn:r}))}),a}var Tv={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(a){n.parentNode.insertBefore($P(a),n)}),null===n.getAttribute(Co)&&ct.keepOriginalSource){var r=w2.createComment(function qte(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~BI(n).indexOf(ct.replacementClass))return Tv.replace(e);var a=new RegExp("".concat(ct.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var c=r[0].attributes.class.split(" ").reduce(function(p,y){return y===ct.replacementClass||y.match(a)?p.toSvg.push(y):p.toNode.push(y),p},{toNode:[],toSvg:[]});r[0].attributes.class=c.toSvg.join(" "),0===c.toNode.length?n.removeAttribute("class"):n.setAttribute("class",c.toNode.join(" "))}var u=r.map(function(p){return y7(p)}).join("\n");n.setAttribute(Co,""),n.innerHTML=u}};function GP(t){t()}function qP(t,e){var n="function"==typeof e?e:Av;if(0===t.length)n();else{var r=GP;ct.mutateApproach===Yee&&(r=t4.requestAnimationFrame||GP),r(function(){var a=function jte(){return!0===ct.autoReplaceSvg?Tv.replace:Tv[ct.autoReplaceSvg]||Tv.replace}(),c=rS.begin("mutate");t.map(a),c(),n()})}}var iS=!1;function WP(){iS=!0}function sS(){iS=!1}var Nv=null;function ZP(t){if(mP&&ct.observeMutations){var e=t.treeCallback,n=void 0===e?Av:e,r=t.nodeCallback,a=void 0===r?Av:r,c=t.pseudoElementsCallback,u=void 0===c?Av:c,p=t.observeMutationsRoot,y=void 0===p?w2:p;Nv=new mP(function(b){if(!iS){var H=r4();C0(b).forEach(function(S){if("childList"===S.type&&S.addedNodes.length>0&&!jP(S.addedNodes[0])&&(ct.searchPseudoElements&&u(S.target),n(S.target)),"attributes"===S.type&&S.target.parentNode&&ct.searchPseudoElements&&u(S.target.parentNode),"attributes"===S.type&&jP(S.target)&&~rte.indexOf(S.attributeName))if("class"===S.attributeName&&function Bte(t){var e=t.getAttribute?t.getAttribute(RI):null,n=t.getAttribute?t.getAttribute(OI):null;return e&&n}(S.target)){var N=xv(BI(S.target)),oe=N.iconName;S.target.setAttribute(RI,N.prefix||H),oe&&S.target.setAttribute(OI,oe)}else(function Ute(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ct.replacementClass)})(S.target)&&a(S.target)})}}),_s&&Nv.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function KP(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Kte(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",a=xv(BI(t));return a.prefix||(a.prefix=r4()),e&&n&&(a.prefix=e,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function Ite(t,e){return(xP[t]||{})[e]}(a.prefix,t.innerText)||ZI(a.prefix,GI(t.innerText))),!a.iconName&&ct.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}(t),r=n.iconName,a=n.prefix,c=n.rest,u=function Yte(t){var e=C0(t.attributes).reduce(function(a,c){return"class"!==a.name&&"style"!==a.name&&(a[c.name]=c.value),a},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?e["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(r||v7()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),p=YI("parseNodeAttributes",{},t),y=e.styleParser?function Zte(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,a){var c=a.split(":"),u=c[0],p=c.slice(1);return u&&p.length>0&&(r[u]=p.join(":").trim()),r},{})),n}(t):[];return tt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:Mi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:c,styles:y,attributes:u}},p)}var Jte=qr.styles;function YP(t){var e="nest"===ct.autoReplaceSvg?KP(t,{styleParser:!1}):KP(t);return~e.extra.classes.indexOf(MP)?bs("generateLayersText",t,e):bs("generateSvgReplacementMutation",t,e)}var i4=new Set;function QP(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!_s)return Promise.resolve();var n=w2.documentElement.classList,r=function(S){return n.add("".concat(CP,"-").concat(S))},a=function(S){return n.remove("".concat(CP,"-").concat(S))},c=ct.autoFetchSvg?i4:FI.map(function(H){return"fa-".concat(H)}).concat(Object.keys(Jte));c.includes("fa")||c.push("fa");var u=[".".concat(MP,":not([").concat(Co,"])")].concat(c.map(function(H){return".".concat(H,":not([").concat(Co,"])")})).join(", ");if(0===u.length)return Promise.resolve();var p=[];try{p=C0(t.querySelectorAll(u))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),a("complete");var y=rS.begin("onTree"),b=p.reduce(function(H,S){try{var N=YP(S);N&&H.push(N)}catch(U){_P||"MissingIcon"===U.name&&console.error(U)}return H},[]);return new Promise(function(H,S){Promise.all(b).then(function(N){qP(N,function(){r("active"),r("complete"),a("pending"),"function"==typeof e&&e(),y(),H()})}).catch(function(N){y(),S(N)})})}function Xte(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;YP(t).then(function(n){n&&qP([n],e)})}FI.map(function(t){i4.add("fa-".concat(t))}),Object.keys(f7[b2]).map(i4.add.bind(i4)),Object.keys(f7[F2]).map(i4.add.bind(i4)),i4=l7(i4);var t2e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,a=void 0===r?Mi:r,c=n.symbol,u=void 0!==c&&c,p=n.mask,y=void 0===p?null:p,b=n.maskId,H=void 0===b?null:b,S=n.title,N=void 0===S?null:S,U=n.titleId,oe=void 0===U?null:U,Ce=n.classes,Me=void 0===Ce?[]:Ce,je=n.attributes,qe=void 0===je?{}:je,Ze=n.styles,ot=void 0===Ze?{}:Ze;if(e){var dt=e.prefix,xt=e.iconName,D2=e.icon;return Dv(tt({type:"icon"},e),function(){return wo("beforeDOMElementCreation",{iconDefinition:e,params:n}),ct.autoA11y&&(N?qe["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(oe||v7()):(qe["aria-hidden"]="true",qe.focusable="false")),JI({icons:{main:eS(D2),mask:y?eS(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:dt,iconName:xt,transform:tt(tt({},Mi),a),symbol:u,title:N,maskId:H,titleId:oe,extra:{attributes:qe,styles:ot,classes:Me}})})}},n2e={mixout:function(){return{icon:(t=t2e,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:QI(e||{}),a=n.mask;return a&&(a=(a||{}).icon?a:QI(a||{})),t(r,tt(tt({},n),{},{mask:a}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=QP,n.nodeCallback=Xte,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,c=n.callback;return QP(void 0===r?w2:r,void 0===c?function(){}:c)},e.generateSvgReplacementMutation=function(n,r){var a=r.iconName,c=r.title,u=r.titleId,p=r.prefix,y=r.transform,b=r.symbol,H=r.mask,S=r.maskId,N=r.extra;return new Promise(function(U,oe){Promise.all([tS(a,p),H.iconName?tS(H.iconName,H.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ce){var Me=AI(Ce,2);U([n,JI({icons:{main:Me[0],mask:Me[1]},prefix:p,iconName:a,transform:y,symbol:b,maskId:S,title:c,titleId:u,extra:N,watchable:!0})])}).catch(oe)})},e.generateAbstractIcon=function(n){var b,r=n.children,a=n.attributes,c=n.main,u=n.transform,y=Vv(n.styles);return y.length>0&&(a.style=y),UI(u)&&(b=bs("generateAbstractTransformGrouping",{main:c,transform:u,containerWidth:c.width,iconWidth:c.width})),r.push(b||c.icon),{children:r,attributes:a}}}},r2e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,c=void 0===a?[]:a;return Dv({type:"layer"},function(){wo("beforeDOMElementCreation",{assembler:n,params:r});var u=[];return n(function(p){Array.isArray(p)?p.map(function(y){u=u.concat(y.abstract)}):u=u.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(ct.cssPrefix,"-layers")].concat(l7(c)).join(" ")},children:u}]})}}}},i2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,c=void 0===a?null:a,u=r.classes,p=void 0===u?[]:u,y=r.attributes,b=void 0===y?{}:y,H=r.styles,S=void 0===H?{}:H;return Dv({type:"counter",content:n},function(){return wo("beforeDOMElementCreation",{content:n,params:r}),function Pte(t){var e=t.content,n=t.title,r=t.extra,a=tt(tt(tt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),c=Vv(r.styles);c.length>0&&(a.style=c);var u=[];return u.push({tag:"span",attributes:a,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:c,extra:{attributes:b,styles:S,classes:["".concat(ct.cssPrefix,"-layers-counter")].concat(l7(p))}})})}}}},s2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,c=void 0===a?Mi:a,u=r.title,p=void 0===u?null:u,y=r.classes,b=void 0===y?[]:y,H=r.attributes,S=void 0===H?{}:H,N=r.styles,U=void 0===N?{}:N;return Dv({type:"text",content:n},function(){return wo("beforeDOMElementCreation",{content:n,params:r}),FP({content:n,transform:tt(tt({},Mi),c),title:p,extra:{attributes:S,styles:U,classes:["".concat(ct.cssPrefix,"-layers-text")].concat(l7(b))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var a=r.title,c=r.transform,u=r.extra,p=null,y=null;if(gP){var b=parseInt(getComputedStyle(n).fontSize,10),H=n.getBoundingClientRect();p=H.width/b,y=H.height/b}return ct.autoA11y&&!a&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,FP({content:n.innerHTML,width:p,height:y,transform:c,title:a,extra:u,watchable:!0})])}}},a2e=new RegExp('"',"ug"),JP=[1105920,1112319];function XP(t,e){var n="".concat(Kee).concat(e.replace(":","-"));return new Promise(function(r,a){if(null!==t.getAttribute(n))return r();var u=C0(t.children).filter(function(D2){return D2.getAttribute(PI)===e})[0],p=t4.getComputedStyle(t,e),y=p.getPropertyValue("font-family").match(ete),b=p.getPropertyValue("font-weight"),H=p.getPropertyValue("content");if(u&&!y)return t.removeChild(u),r();if(y&&"none"!==H&&""!==H){var S=p.getPropertyValue("content"),N=~["Sharp"].indexOf(y[2])?F2:b2,U=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?d7[N][y[2].toLowerCase()]:tte[N][b],oe=function o2e(t){var e=t.replace(a2e,""),n=function _te(t,e){var a,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(a=t.charCodeAt(e+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(e,0),r=n>=JP[0]&&n<=JP[1],a=2===e.length&&e[0]===e[1];return{value:GI(a?e[0]:e),isSecondary:r||a}}(S),Ce=oe.value,Me=oe.isSecondary,je=y[0].startsWith("FontAwesome"),qe=ZI(U,Ce),Ze=qe;if(je){var ot=function Ste(t){var e=AP[t],n=ZI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(Ce);ot.iconName&&ot.prefix&&(qe=ot.iconName,U=ot.prefix)}if(!qe||Me||u&&u.getAttribute(RI)===U&&u.getAttribute(OI)===Ze)r();else{t.setAttribute(n,Ze),u&&t.removeChild(u);var dt=function Qte(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Mi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),xt=dt.extra;xt.attributes[PI]=e,tS(qe,U).then(function(D2){var Jr=JI(tt(tt({},dt),{},{icons:{main:D2,mask:KI()},prefix:U,iconName:Ze,extra:xt,watchable:!0})),Xr=w2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Xr,t.firstChild):t.appendChild(Xr),Xr.outerHTML=Jr.map(function(D6e){return y7(D6e)}).join("\n"),t.removeAttribute(n),r()}).catch(a)}}else r()})}function c2e(t){return Promise.all([XP(t,"::before"),XP(t,"::after")])}function l2e(t){return!(t.parentNode===document.head||~Qee.indexOf(t.tagName.toUpperCase())||t.getAttribute(PI)||t.parentNode&&"svg"===t.parentNode.tagName)}function eR(t){if(_s)return new Promise(function(e,n){var r=C0(t.querySelectorAll("*")).filter(l2e).map(c2e),a=rS.begin("searchPseudoElements");WP(),Promise.all(r).then(function(){a(),sS(),e()}).catch(function(){a(),sS(),n()})})}var tR=!1,nR=function(e){return e.toLowerCase().split(" ").reduce(function(r,a){var c=a.toLowerCase().split("-"),u=c[0],p=c.slice(1).join("-");if(u&&"h"===p)return r.flipX=!0,r;if(u&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(u){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},aS={x:0,y:0,width:"100%",height:"100%"};function rR(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var p2e={hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-mask"),c=a?xv(a.split(" ").map(function(u){return u.trim()})):KI();return c.prefix||(c.prefix=r4()),n.mask=c,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,a=n.attributes,c=n.main,u=n.mask,p=n.maskId,H=c.icon,N=u.icon,U=function dte(t){var e=t.transform,r=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(c," ").concat(u," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:c.width}),oe={tag:"rect",attributes:tt(tt({},aS),{},{fill:"white"})},Ce=H.children?{children:H.children.map(rR)}:{},Me={tag:"g",attributes:tt({},U.inner),children:[rR(tt({tag:H.tag,attributes:tt(tt({},H.attributes),U.path)},Ce))]},je={tag:"g",attributes:tt({},U.outer),children:[Me]},qe="mask-".concat(p||v7()),Ze="clip-".concat(p||v7()),ot={tag:"mask",attributes:tt(tt({},aS),{},{id:qe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[oe,je]},dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ze},children:(t=N,"g"===t.tag?t.children:[t])},ot]};return r.push(dt,{tag:"rect",attributes:tt({fill:"currentColor","clip-path":"url(#".concat(Ze,")"),mask:"url(#".concat(qe,")")},aS)}),{children:r,attributes:a}}}};!function Lte(t,e){var n=e.mixoutsTo;RP=t,M0={},Object.keys(w0).forEach(function(r){-1===Ete.indexOf(r)&&delete w0[r]}),RP.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(u){"function"==typeof a[u]&&(n[u]=a[u]),"object"===vv(a[u])&&Object.keys(a[u]).forEach(function(p){n[u]||(n[u]={}),n[u][p]=a[u][p]})}),r.hooks){var c=r.hooks();Object.keys(c).forEach(function(u){M0[u]||(M0[u]=[]),M0[u].push(c[u])})}r.provides&&r.provides(w0)})}([mte,n2e,r2e,i2e,s2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=eR,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;ct.searchPseudoElements&&eR(void 0===r?w2:r)}}},{mixout:function(){return{dom:{unwatch:function(){WP(),tR=!0}}}},hooks:function(){return{bootstrap:function(){ZP(YI("mutationObserverCallbacks",{}))},noAuto:function(){!function Wte(){Nv&&Nv.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;tR?sS():ZP(YI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return nR(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-transform");return a&&(n.transform=nR(a)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,a=n.transform,u=n.iconWidth,p={transform:"translate(".concat(n.containerWidth/2," 256)")},y="translate(".concat(32*a.x,", ").concat(32*a.y,") "),b="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),H="rotate(".concat(a.rotate," 0 0)"),U={outer:p,inner:{transform:"".concat(y," ").concat(b," ").concat(H)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:tt({},U.outer),children:[{tag:"g",attributes:tt({},U.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:tt(tt({},r.icon.attributes),U.path)}]}]}}}},p2e,{provides:function(e){var n=!1;t4.matchMedia&&(n=t4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},c={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:tt(tt({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=tt(tt({},c),{},{attributeName:"opacity"}),p={tag:"circle",attributes:tt(tt({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||p.children.push({tag:"animate",attributes:tt(tt({},c),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:tt(tt({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:tt(tt({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tt(tt({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-symbol");return n.symbol=null!==a&&(""===a||a),n}}}}],{mixoutsTo:rr});var y2e=rr.parse,C2e=rr.icon;const _2e=["*"],b2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let I2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oS=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const a of r){a.prefix in this.definitions||(this.definitions[a.prefix]={}),this.definitions[a.prefix][a.iconName]=a;for(const c of a.icon[2])"string"==typeof c&&(this.definitions[a.prefix][c]=a)}}addIconPacks(...r){for(const a of r){const c=Object.keys(a).map(u=>a[u]);this.addIcons(...c)}}getIconDefinition(r,a){return r in this.definitions&&a in this.definitions[r]?this.definitions[r][a]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=g.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[g.TTD]}),e})(),z2e=(()=>{var t;class e{constructor(r,a){this.renderer=r,this.elementRef=a}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.Qsj),g.Y36(g.SBq))},t.\u0275cmp=g.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[g.TTD],ngContentSelectors:_2e,decls:1,vars:0,template:function(r,a){1&r&&(g.F$t(),g.Hsn(0))},encapsulation:2}),e})(),iR=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,a,c,u,p){this.sanitizer=r,this.config=a,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=p&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const c=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const a=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in a?a:this.iconLibrary.getIconDefinition(a.prefix,a.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(a),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},a="string"==typeof this.transform?y2e.transform(this.transform):this.transform;return{title:this.title,transform:a,classes:[...b2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,a){const c=C2e(r,a);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(aa),g.Y36(I2e),g.Y36(oS),g.Y36(S2e,8),g.Y36(z2e,8))},t.\u0275cmp=g.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,a){2&r&&(g.Ikx("innerHTML",a.renderedIconHTML,g.oJD),g.uIk("title",a.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[g.TTD],decls:0,vars:0,template:function(r,a){},encapsulation:2}),e})(),sR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),e})(),E2e=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=g.lG2({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,a){2&r&&g.ekj("active",a.isActive)},inputs:{tabName:"tabName"}}),e})();const bo=function(){return{color:"#eee"}},L2e=function(){return["fas","house-chimney"]},x2e=function(){return["fas","earth-americas"]},D2e=function(){return["fas","satellite-dish"]},A2e=function(){return["fas","jet-fighter-up"]},T2e=function(){return["fas","chess-board"]},N2e=function(){return["fas","flask-vial"]},k2e=function(){return["fas","hand-fist"]};let P2e=(()=>{var t;class e{constructor(r){this.renderer=(0,g.f3M)(g.Qsj),r.addIcons(H5,i7,m5,EN,mh,N8,VI)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(oS))},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),g._UZ(4,"fa-icon",4),g.TgZ(5,"span",5),g._uU(6,"home"),g.qZA()()(),g.TgZ(7,"li",2)(8,"a",6),g._UZ(9,"fa-icon",4),g.TgZ(10,"span",5),g._uU(11,"planets"),g.qZA()()(),g.TgZ(12,"li",2)(13,"a",7),g._UZ(14,"fa-icon",4),g.TgZ(15,"span",5),g._uU(16,"radar"),g.qZA()()(),g.TgZ(17,"li",2)(18,"a",8),g._UZ(19,"fa-icon",4),g.TgZ(20,"span",5),g._uU(21,"fleets"),g.qZA()()(),g.TgZ(22,"li",2)(23,"a",9),g._UZ(24,"fa-icon",4),g.TgZ(25,"span",5),g._uU(26,"navigation"),g.qZA()()(),g.TgZ(27,"li",2)(28,"a",10),g._UZ(29,"fa-icon",4),g.TgZ(30,"span",5),g._uU(31,"research"),g.qZA()()(),g.TgZ(32,"li",2)(33,"a",11),g._UZ(34,"fa-icon",4),g.TgZ(35,"span",5),g._uU(36,"alliances"),g.qZA()()()()()),2&r&&(g.xp6(2),g.Q6J("tabName","home"),g.xp6(2),g.Akn(g.DdM(28,bo)),g.Q6J("icon",g.DdM(29,L2e)),g.xp6(3),g.Q6J("tabName","planets"),g.xp6(2),g.Akn(g.DdM(30,bo)),g.Q6J("icon",g.DdM(31,x2e)),g.xp6(3),g.Q6J("tabName","radar"),g.xp6(2),g.Akn(g.DdM(32,bo)),g.Q6J("icon",g.DdM(33,D2e)),g.xp6(3),g.Q6J("tabName","fleets"),g.xp6(2),g.Akn(g.DdM(34,bo)),g.Q6J("icon",g.DdM(35,A2e)),g.xp6(3),g.Q6J("tabName","navigation"),g.xp6(2),g.Akn(g.DdM(36,bo)),g.Q6J("icon",g.DdM(37,T2e)),g.xp6(3),g.Q6J("tabName","research"),g.xp6(2),g.Akn(g.DdM(38,bo)),g.Q6J("icon",g.DdM(39,N2e)),g.xp6(3),g.Q6J("tabName","alliances"),g.xp6(2),g.Akn(g.DdM(40,bo)),g.Q6J("icon",g.DdM(41,k2e)))},dependencies:[iR,E2e],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),R2e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[P2e]}),t.\u0275inj=g.cJS({imports:[vr,sR]}),e})();class cS{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class aR{constructor(){this._orbit=0,this._ground=0,this._workers=new cS,this._soldiers=new cS,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class lS{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let oR=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(a=>{let c=new aR,u=a.querySelectorAll(".resourceLine .left > span"),p=[];u.forEach(b=>{let H=b.textContent.split(/\s+/),S=new lS;S.name=b.parentElement.className.split(/\s+/)[2],S.stored=parseInt(H[0].replace(/,/g,"")),S.production=parseInt(H[1].substring(1,H[1].length-1).replace(/,/g,"")),S.abundance=parseInt(H[2].replace(/,/g,"")),p.push(S)}),c.resources=p;let y=a.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];c.workers.available=parseInt(y.substring(1,y.length).replace(/,/g,"")),c.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),c.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),c.soldiers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),c.name=a.querySelectorAll(".planetName > a")[0].innerHTML,c.location=a.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),c.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),c.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class cR{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new cS,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var an=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(an||{});class O2e{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class F2e{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var on=function(t){return t.UNKNOWN="unknown",t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SPACE_TETHER="space tether",t}(on||{});class B2e{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let lR=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(we)}extract(){if(this.document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let c,r=new cR,a=this.document.querySelectorAll("#contentBox #planetHeader")[1];switch(a.querySelectorAll(".planetHeadSection .resource > span").length){case 5:c=an.SURFACE;break;case 2:c=an.RESOURCE;break;case 0:c=an.FLEET;break;default:c=an.UNKNOWN}let u=new O2e(r,c);if(c!==an.UNKNOWN){u.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let p=a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";u.planetScan.owner=new B2e(a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),p.substring(1,p.length-1))}if((c===an.RESOURCE||c===an.SURFACE)&&(u.planetScan.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),u.planetScan.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),u.planetScan.location=a.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),c===an.RESOURCE&&(a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(p=>{let y=new lS;y.name=p.textContent.trim().toLowerCase(),u.planetScan.resources.push(y)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((p,y)=>{u.planetScan.resources[y].abundance=parseInt(p.textContent.trim())})),c===an.SURFACE){a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(y=>{let b=new lS;b.name=y.textContent.trim().toLowerCase(),u.planetScan.resources.push(b)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].stored=parseInt(y.textContent.trim().replace(/,/g,""))}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].abundance=parseInt(y.textContent.trim())});let p=a.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];u.planetScan.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),u.planetScan.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),u.planetScan.workers.available=parseInt(p.substring(1,p.length).replace(/,/g,"")),u.planetScan.soldiers=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),a.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(y=>{u.planetScan.structures.push(new F2e(y.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(y.textContent.split(/x\s+/)[0].trim())))}),u.planetScan.structures.forEach(y=>{switch(y.name){case on.OUTPOST:u.planetScan.resources[0].production+=300,u.planetScan.resources[1].production+=200,u.planetScan.resources[2].production+=100;break;case on.METAL_MINE:u.planetScan.resources[0].production+=300*y.quantity;break;case on.MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=200*y.quantity;break;case on.FARM:u.planetScan.resources[2].production+=300*y.quantity;break;case on.SOLAR_GENERATOR:u.planetScan.resources[3].production+=100*y.quantity;break;case on.CORE_METAL_MINE:u.planetScan.resources[0].production+=900*y.quantity;break;case on.CORE_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=600*y.quantity;break;case on.HYDROPONICS_LAB:u.planetScan.resources[2].production+=900*y.quantity;break;case on.SOLAR_ARRAY:u.planetScan.resources[3].production+=300*y.quantity;break;case on.STRIP_METAL_MINE:u.planetScan.resources[0].production+=9e3*y.quantity;break;case on.STRIP_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=6e3*y.quantity;break;case on.HYDROPONICS_DOME:u.planetScan.resources[2].production+=9e3*y.quantity;break;case on.SOLAR_STATION:u.planetScan.resources[3].production+=3e3*y.quantity}})}return u.planetScan.resources.forEach(p=>{p.production=Math.ceil(p.production*p.abundance/100)}),u}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),uR=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(we)}extract(){let r=[];return this.document.querySelectorAll("div.navigation div.planets").forEach(a=>{let c=new aR;c.location=a.querySelector(".coords>span").textContent.trim().split(/\./),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),kv=(()=>{var t;class e{constructor(){this.planetListExtractor=(0,g.f3M)(oR),this.planetScanExtractor=(0,g.f3M)(lR),this.navigationSystemPlanetsExtractor=(0,g.f3M)(uR)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class U2e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class j2e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class fR{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class dR{constructor(){this._resources=new j2e,this._workers=new fR,this._soldiers=new fR}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var C1=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(C1||{});let hR=(()=>{var t;class e{constructor(){this.dgAPI=(0,g.f3M)(kv)}extractStats(){let r=new U2e;return r.stats.set(C1.ALL,new dR),this.dgAPI.planetsSummaries().forEach(a=>{r.stats.has(a.location[0])||r.stats.set(a.location[0],new dR),r.stats.get(C1.ALL).workers.total+=a.workers.currentNumber,r.stats.get(a.location[0]).workers.total+=a.workers.currentNumber,r.stats.get(C1.ALL).workers.maximum+=a.workers.maximumNumber,r.stats.get(a.location[0]).workers.maximum+=a.workers.maximumNumber,r.stats.get(C1.ALL).soldiers.total+=a.soldiers.currentNumber,r.stats.get(a.location[0]).soldiers.total+=a.soldiers.currentNumber,r.stats.get(C1.ALL).resources.ground+=a.ground,r.stats.get(a.location[0]).resources.ground+=a.ground,r.stats.get(C1.ALL).resources.orbit+=a.orbit,r.stats.get(a.location[0]).resources.orbit+=a.orbit,a.resources.forEach(c=>{switch(c.name){case C1.METAL:r.stats.get(C1.ALL).resources.metalStored+=c.stored,r.stats.get(C1.ALL).resources.metalProduction+=c.production,r.stats.get(a.location[0]).resources.metalStored+=c.stored,r.stats.get(a.location[0]).resources.metalProduction+=c.production;break;case C1.MINERAL:r.stats.get(C1.ALL).resources.mineralStored+=c.stored,r.stats.get(C1.ALL).resources.mineralProduction+=c.production,r.stats.get(a.location[0]).resources.mineralStored+=c.stored,r.stats.get(a.location[0]).resources.mineralProduction+=c.production;break;case C1.FOOD:r.stats.get(C1.ALL).resources.foodStored+=c.stored,r.stats.get(C1.ALL).resources.foodProduction+=c.production,r.stats.get(a.location[0]).resources.foodStored+=c.stored,r.stats.get(a.location[0]).resources.foodProduction+=c.production;break;case C1.ENERGY:r.stats.get(C1.ALL).resources.energyStored+=c.stored,r.stats.get(C1.ALL).resources.energyProduction+=c.production,r.stats.get(a.location[0]).resources.energyStored+=c.stored,r.stats.get(a.location[0]).resources.energyProduction+=c.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$2e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=g.Yjl({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),uS=(()=>{var t;class e{constructor(){this.decimalPipe=(0,g.f3M)(Te)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=g.Yjl({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const G2e=function(t){return{"dgt-stats-totals-last-row":t}},br=function(t){return{"dgt-padding-bottom-xs":t}},q2e=function(){return{color:"#ccc"}},W2e=function(){return["fas","coins"]},Z2e=function(){return{color:"#ff8484"}},K2e=function(){return["fas","cubes-stacked"]},Y2e=function(){return{color:"#7bbd1a"}},Q2e=function(){return["fas","carrot"]},J2e=function(){return{color:"#0ca1e1"}},X2e=function(){return["fas","bolt"]},pR=function(){return{color:"#fff"}},e1e=function(){return["fas","tree-city"]},t1e=function(){return["fas","satellite"]},n1e=function(){return{color:"#DF4A4AFF"}},r1e=function(){return["fas","person-rifle"]};function i1e(t,e){if(1&t&&(g.TgZ(0,"tr",4)(1,"th",5),g._uU(2),g.ALo(3,"galaxyNameFormatter"),g.qZA(),g.TgZ(4,"td",6)(5,"div",7),g._UZ(6,"fa-icon",8),g.TgZ(7,"span",9),g._uU(8),g.ALo(9,"number"),g.qZA()()(),g.TgZ(10,"td",10)(11,"div",7)(12,"span",9),g._uU(13),g.ALo(14,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(15,"td",11)(16,"div",12),g._UZ(17,"fa-icon",8),g.TgZ(18,"span",9),g._uU(19),g.ALo(20,"number"),g.qZA()()(),g.TgZ(21,"td",10)(22,"div",12)(23,"span",9),g._uU(24),g.ALo(25,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(26,"td",11)(27,"div",13),g._UZ(28,"fa-icon",8),g.TgZ(29,"span",9),g._uU(30),g.ALo(31,"number"),g.qZA()()(),g.TgZ(32,"td",10)(33,"div",13)(34,"span",9),g._uU(35),g.ALo(36,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(37,"td",11)(38,"div",14),g._UZ(39,"fa-icon",8),g.TgZ(40,"span",9),g._uU(41),g.ALo(42,"number"),g.qZA()()(),g.TgZ(43,"td",15)(44,"div",14)(45,"span",9),g._uU(46),g.ALo(47,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(48,"td",16)(49,"div",17),g._UZ(50,"fa-icon",8),g.TgZ(51,"span",9),g._uU(52),g.ALo(53,"number"),g.qZA()()(),g.TgZ(54,"td",18)(55,"div",19),g._UZ(56,"fa-icon",8),g.TgZ(57,"span",9),g._uU(58),g.ALo(59,"number"),g.qZA()()(),g.TgZ(60,"td",20)(61,"div",21),g._UZ(62,"fa-icon",8),g.TgZ(63,"span",9),g._uU(64),g.ALo(65,"number"),g.qZA()()()()),2&t){const n=e.$implicit,r=e.index,a=g.oxw();g.Q6J("ngClass",g.VKq(84,G2e,r==a.panel.stats.size-1)),g.xp6(1),g.Q6J("ngClass",g.VKq(86,br,r==a.panel.stats.size-2)),g.xp6(1),g.Oqu(g.lcZ(3,46,n.key)),g.xp6(2),g.Q6J("ngClass",g.VKq(88,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(90,q2e)),g.Q6J("icon",g.DdM(91,W2e)),g.xp6(2),g.Oqu(g.Dn7(9,48,n.value.resources.metalStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(92,br,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(14,52,n.value.resources.metalProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(94,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(96,Z2e)),g.Q6J("icon",g.DdM(97,K2e)),g.xp6(2),g.Oqu(g.Dn7(20,54,n.value.resources.mineralStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(98,br,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(25,58,n.value.resources.mineralProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(100,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(102,Y2e)),g.Q6J("icon",g.DdM(103,Q2e)),g.xp6(2),g.Oqu(g.Dn7(31,60,n.value.resources.foodStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(104,br,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(36,64,n.value.resources.foodProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(106,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(108,J2e)),g.Q6J("icon",g.DdM(109,X2e)),g.xp6(2),g.Oqu(g.Dn7(42,66,n.value.resources.energyStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(110,br,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(47,70,n.value.resources.energyProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(112,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(114,pR)),g.Q6J("icon",g.DdM(115,e1e)),g.xp6(2),g.Oqu(g.Dn7(53,72,n.value.resources.ground,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(116,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(118,pR)),g.Q6J("icon",g.DdM(119,t1e)),g.xp6(2),g.Oqu(g.Dn7(59,76,n.value.resources.orbit,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(120,br,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(122,n1e)),g.Q6J("icon",g.DdM(123,r1e)),g.xp6(2),g.Oqu(g.Dn7(65,80,n.value.soldiers.total,"1.0","en-US"))}}let s1e=(()=>{var t;class e{constructor(r){this.statsPanelService=(0,g.f3M)(hR),r.addIcons(K3,fk,v,dI,yV,hN,AT)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(oS))},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],[3,"icon"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],[1,"dgt-resource","resource","food"],[1,"dgt-resource","resource","energy"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0)(1,"div",1)(2,"table",2),g.YNc(3,i1e,66,124,"tr",3),g.ALo(4,"keyvalue"),g.qZA()()()),2&r&&(g.xp6(3),g.Q6J("ngForOf",g.lcZ(4,1,a.panel.stats)))},dependencies:[Ai,D4,iR,Te,Gs,$2e,uS],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:20px!important;padding:0}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:20px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})(),fS=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[oR,lR,uR,kv],imports:[d2]}),e})(),a1e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[s1e]}),t.\u0275inj=g.cJS({providers:[Te,hR],imports:[vr,sR,fS]}),e})();var o1e=k(7394);class c1e extends o1e.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const Pv={setInterval(t,e,...n){const{delegate:r}=Pv;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Pv;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var l1e=k(9039);class mR extends c1e{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,r=0){return Pv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Pv.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let a,r=!1;try{this.work(e)}catch(c){r=!0,a=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,l1e.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const dS={now:()=>(dS.delegate||Date).now(),delegate:void 0};class _7{constructor(e,n=_7.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}_7.now=dS.now;class gR extends _7{constructor(e,n=_7.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const vR=new gR(mR);var M7=k(3018),Ho=k(2459),b0=k(2096),kt=k(534);(0,kt.registerVersion)("firebase","9.23.0","app");var G=k(5861),rt=k(9058),Wr=k(4537),Zr=k(7879);const d1e=(t,e)=>e.some(n=>t instanceof n);let yR,CR;const _R=new WeakMap,hS=new WeakMap,MR=new WeakMap,pS=new WeakMap,mS=new WeakMap;let gS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return hS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return s4(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function C1e(t){return"function"==typeof t?function y1e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function p1e(){return CR||(CR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vS(this),e),s4(_R.get(this))}:function(...e){return s4(t.apply(vS(this),e))}:function(e,...n){const r=t.call(vS(this),e,...n);return MR.set(r,e.sort?e.sort():[e]),s4(r)}}(t):(t instanceof IDBTransaction&&function g1e(t){if(hS.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});hS.set(t,e)}(t),d1e(t,function h1e(){return yR||(yR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,gS):t)}function s4(t){if(t instanceof IDBRequest)return function m1e(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(s4(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&_R.set(n,t)}).catch(()=>{}),mS.set(e,t),e}(t);if(pS.has(t))return pS.get(t);const e=C1e(t);return e!==t&&(pS.set(t,e),mS.set(e,t)),e}const vS=t=>mS.get(t),M1e=["get","getKey","getAll","getAllKeys","count"],w1e=["put","add","delete","clear"],yS=new Map;function wR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yS.get(e))return yS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=w1e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!M1e.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,a?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),a&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return yS.set(e,c),c}!function v1e(t){gS=t(gS)}(t=>({...t,get:(e,n,r)=>wR(e,n)||t.get(e,n,r),has:(e,n)=>!!wR(e,n)||t.has(e,n)}));const bR="@firebase/installations",CS="0.6.4",HR=1e4,VR=`w:${CS}`,IR="FIS_v2",b1e="https://firebaseinstallations.googleapis.com/v1",H1e=36e5,Hs=new rt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function SR(t){return t instanceof rt.ZR&&t.code.includes("request-failed")}function _S({projectId:t}){return`${b1e}/projects/${t}/installations`}function zR(t){return{token:t.token,requestStatus:2,expiresIn:z1e(t.expiresIn),creationTime:Date.now()}}function MS(t,e){return wS.apply(this,arguments)}function wS(){return(wS=(0,G.Z)(function*(t,e){const r=(yield e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ER({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bS(t){return HS.apply(this,arguments)}function HS(){return(HS=(0,G.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function z1e(t){return Number(t.replace("s","000"))}function VS(){return(VS=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_S(t),a=ER(t),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&a.append("x-firebase-client",b)}const p={method:"POST",headers:a,body:JSON.stringify({fid:n,authVersion:IR,appId:t.appId,sdkVersion:VR})},y=yield bS(()=>fetch(r,p));if(y.ok){const b=yield y.json();return{fid:b.fid||n,registrationStatus:2,refreshToken:b.refreshToken,authToken:zR(b.authToken)}}throw yield MS("Create Installation",y)})).apply(this,arguments)}function xR(t){return new Promise(e=>{setTimeout(e,t)})}const D1e=/^[cdef][\w-]{21}$/,IS="";function A1e(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function T1e(t){return function x1e(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return D1e.test(n)?n:IS}catch{return IS}}function H0(t){return`${t.appName}!${t.appId}`}const V0=new Map;function DR(t,e){const n=H0(t);AR(n,e),function P1e(t,e){const n=function TR(){return!Vo&&"BroadcastChannel"in self&&(Vo=new BroadcastChannel("[Firebase] FID Change"),Vo.onmessage=t=>{AR(t.data.key,t.data.fid)}),Vo}();n&&n.postMessage({key:t,fid:e}),function NR(){0===V0.size&&Vo&&(Vo.close(),Vo=null)}()}(n,e)}function AR(t,e){const n=V0.get(t);if(n)for(const r of n)r(e)}let Vo=null;const R1e="firebase-installations-database",O1e=1,Io="firebase-installations-store";let SS=null;function zS(){return SS||(SS=function _1e(t,e,{blocked:n,upgrade:r,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=s4(u);return r&&u.addEventListener("upgradeneeded",y=>{r(s4(u.result),y.oldVersion,y.newVersion,s4(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}(R1e,O1e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Io)}})),SS}function Rv(t,e){return ES.apply(this,arguments)}function ES(){return(ES=(0,G.Z)(function*(t,e){const n=H0(t),a=(yield zS()).transaction(Io,"readwrite"),c=a.objectStore(Io),u=yield c.get(n);return yield c.put(e,n),yield a.done,(!u||u.fid!==e.fid)&&DR(t,e.fid),e})).apply(this,arguments)}function LS(t){return xS.apply(this,arguments)}function xS(){return(xS=(0,G.Z)(function*(t){const e=H0(t),r=(yield zS()).transaction(Io,"readwrite");yield r.objectStore(Io).delete(e),yield r.done})).apply(this,arguments)}function w7(t,e){return DS.apply(this,arguments)}function DS(){return(DS=(0,G.Z)(function*(t,e){const n=H0(t),a=(yield zS()).transaction(Io,"readwrite"),c=a.objectStore(Io),u=yield c.get(n),p=e(u);return void 0===p?yield c.delete(n):yield c.put(p,n),yield a.done,p&&(!u||u.fid!==p.fid)&&DR(t,p.fid),p})).apply(this,arguments)}function AS(t){return TS.apply(this,arguments)}function TS(){return TS=(0,G.Z)(function*(t){let e;const n=yield w7(t.appConfig,r=>{const a=function F1e(t){return PR(t||{fid:A1e(),registrationStatus:0})}(r),c=function B1e(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function U1e(t,e){return NS.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:j1e(t)}:{installationEntry:e}}(t,a);return e=c.registrationPromise,c.installationEntry});return n.fid===IS?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),TS.apply(this,arguments)}function NS(){return NS=(0,G.Z)(function*(t,e){try{const n=yield function L1e(t,e){return VS.apply(this,arguments)}(t,e);return Rv(t.appConfig,n)}catch(n){throw SR(n)&&409===n.customData.serverCode?yield LS(t.appConfig):yield Rv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),NS.apply(this,arguments)}function j1e(t){return kS.apply(this,arguments)}function kS(){return(kS=(0,G.Z)(function*(t){let e=yield kR(t.appConfig);for(;1===e.registrationStatus;)yield xR(100),e=yield kR(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield AS(t);return r||n}return e})).apply(this,arguments)}function kR(t){return w7(t,e=>{if(!e)throw Hs.create("installation-not-found");return PR(e)})}function PR(t){return function $1e(t){return 1===t.registrationStatus&&t.registrationTime+HR<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function PS(){return(PS=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function q1e(t,{fid:e}){return`${_S(t)}/${e}/authTokens:generate`}(t,n),a=function LR(t,{refreshToken:e}){const n=ER(t);return n.append("Authorization",function E1e(t){return`${IR} ${t}`}(e)),n}(t,n),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&a.append("x-firebase-client",b)}const p={method:"POST",headers:a,body:JSON.stringify({installation:{sdkVersion:VR,appId:t.appId}})},y=yield bS(()=>fetch(r,p));if(y.ok)return zR(yield y.json());throw yield MS("Generate Auth Token",y)})).apply(this,arguments)}function RS(t){return OS.apply(this,arguments)}function OS(){return OS=(0,G.Z)(function*(t,e=!1){let n;const r=yield w7(t.appConfig,c=>{if(!OR(c))throw Hs.create("not-registered");const u=c.authToken;if(!e&&function K1e(t){return 2===t.requestStatus&&!function Y1e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H1e}(t)}(u))return c;if(1===u.requestStatus)return n=function W1e(t,e){return FS.apply(this,arguments)}(t,e),c;{if(!navigator.onLine)throw Hs.create("app-offline");const p=function Q1e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(c);return n=function Z1e(t,e){return BS.apply(this,arguments)}(t,p),p}});return n?yield n:r.authToken}),OS.apply(this,arguments)}function FS(){return(FS=(0,G.Z)(function*(t,e){let n=yield RR(t.appConfig);for(;1===n.authToken.requestStatus;)yield xR(100),n=yield RR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?RS(t,e):r})).apply(this,arguments)}function RR(t){return w7(t,e=>{if(!OR(e))throw Hs.create("not-registered");return function J1e(t){return 1===t.requestStatus&&t.requestTime+HR<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BS(){return BS=(0,G.Z)(function*(t,e){try{const n=yield function G1e(t,e){return PS.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Rv(t.appConfig,r),n}catch(n){if(!SR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Rv(t.appConfig,r)}else yield LS(t.appConfig);throw n}}),BS.apply(this,arguments)}function OR(t){return void 0!==t&&2===t.registrationStatus}function US(){return(US=(0,G.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield AS(e);return r?r.catch(console.error):RS(e).catch(console.error),n.fid})).apply(this,arguments)}function jS(){return jS=(0,G.Z)(function*(t,e=!1){const n=t;return yield function tne(t){return $S.apply(this,arguments)}(n),(yield RS(n,e)).token}),jS.apply(this,arguments)}function $S(){return($S=(0,G.Z)(function*(t){const{registrationPromise:e}=yield AS(t);e&&(yield e)})).apply(this,arguments)}function WS(t){return Hs.create("missing-app-config-values",{valueName:t})}const FR="installations",ane=t=>{const e=t.getProvider("app").getImmediate(),n=function ine(t){if(!t||!t.options)throw WS("App Configuration");if(!t.name)throw WS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw WS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,kt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},one=t=>{const e=t.getProvider("app").getImmediate(),n=(0,kt._getProvider)(e,FR).getImmediate();return{getId:()=>function X1e(t){return US.apply(this,arguments)}(n),getToken:a=>function ene(t){return jS.apply(this,arguments)}(n,a)}};(function cne(){(0,kt._registerComponent)(new Wr.wA(FR,ane,"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("installations-internal",one,"PRIVATE"))})(),(0,kt.registerVersion)(bR,CS),(0,kt.registerVersion)(bR,CS,"esm2017");const ZS="@firebase/remote-config",Nn=new rt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cne{constructor(e,n,r,a){this.client=e,this.storage=n,this.storageCache=r,this.logger=a}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,a=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${a}.`),a}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,a]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(a&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return a;e.eTag=a&&a.eTag;const c=yield n.client.fetch(e),u=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===c.status&&u.push(n.storage.setLastSuccessfulFetchResponse(c)),yield Promise.all(u),c})()}}function _ne(t=navigator){return t.languages&&t.languages[0]||t.language}class Mne{constructor(e,n,r,a,c,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=a,this.apiKey=c,this.appId=u}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,p={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:a,app_id:n.appId,language_code:_ne()},b={method:"POST",headers:p,body:JSON.stringify(y)},H=fetch(u,b),S=new Promise((je,qe)=>{e.signal.addEventListener(()=>{const Ze=new Error("The operation was aborted.");Ze.name="AbortError",qe(Ze)})});let N;try{yield Promise.race([H,S]),N=yield H}catch(je){let qe="fetch-client-network";throw"AbortError"===je?.name&&(qe="fetch-timeout"),Nn.create(qe,{originalErrorMessage:je?.message})}let U=N.status;const oe=N.headers.get("ETag")||void 0;let Ce,Me;if(200===N.status){let je;try{je=yield N.json()}catch(qe){throw Nn.create("fetch-client-parse",{originalErrorMessage:qe?.message})}Ce=je.entries,Me=je.state}if("INSTANCE_STATE_UNSPECIFIED"===Me?U=500:"NO_CHANGE"===Me?U=304:("NO_TEMPLATE"===Me||"EMPTY_CONFIG"===Me)&&(Ce={}),304!==U&&200!==U)throw Nn.create("fetch-status",{httpStatus:U});return{status:U,eTag:oe,config:Ce}})()}}class Hne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,G.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var a=this;return(0,G.Z)(function*(){yield function wne(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(c),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const c=yield a.client.fetch(e);return yield a.storage.deleteThrottleMetadata(),c}catch(c){if(!function bne(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c))throw c;const u={throttleEndTimeMillis:Date.now()+(0,rt.$s)(r),backoffCount:r+1};return yield a.storage.setThrottleMetadata(u),a.attemptFetch(e,u)}})()}}class Sne{constructor(e,n,r,a,c){this.app=e,this._client=n,this._storageCache=r,this._storage=a,this._logger=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fv(t,e){const n=t.target.error||void 0;return Nn.create(e,{originalErrorMessage:n&&n?.message})}const So="app_namespace_store";class xne{constructor(e,n,r,a=function Lne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Fv(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(So,{keyPath:"compositeKey"})}}catch(n){e(Nn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=a}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((a,c)=>{const p=r.transaction([So],"readonly").objectStore(So),y=n.createCompositeKey(e);try{const b=p.get(y);b.onerror=H=>{c(Fv(H,"storage-get"))},b.onsuccess=H=>{const S=H.target.result;a(S?S.value:void 0)}}catch(b){c(Nn.create("storage-get",{originalErrorMessage:b?.message}))}})})()}set(e,n){var r=this;return(0,G.Z)(function*(){const a=yield r.openDbPromise;return new Promise((c,u)=>{const y=a.transaction([So],"readwrite").objectStore(So),b=r.createCompositeKey(e);try{const H=y.put({compositeKey:b,value:n});H.onerror=S=>{u(Fv(S,"storage-set"))},H.onsuccess=()=>{c()}}catch(H){u(Nn.create("storage-set",{originalErrorMessage:H?.message}))}})})()}delete(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((a,c)=>{const p=r.transaction([So],"readwrite").objectStore(So),y=n.createCompositeKey(e);try{const b=p.delete(y);b.onerror=H=>{c(Fv(H,"storage-delete"))},b.onsuccess=()=>{a()}}catch(b){c(Nn.create("storage-delete",{originalErrorMessage:b?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Dne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,G.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),a=e.storage.getActiveConfig(),c=yield n;c&&(e.lastFetchStatus=c);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const p=yield a;p&&(e.activeConfig=p)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Tne(){return XS.apply(this,arguments)}function XS(){return(XS=(0,G.Z)(function*(){if(!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}!function Ane(){(0,kt._registerComponent)(new Wr.wA("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,rt.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:c,apiKey:u,appId:p}=r.options;if(!c)throw Nn.create("registration-project-id");if(!u)throw Nn.create("registration-api-key");if(!p)throw Nn.create("registration-app-id");const y=new xne(p,r.name,n=n||"firebase"),b=new Dne(y),H=new Zr.Yd(ZS);H.logLevel=Zr.in.ERROR;const S=new Mne(a,kt.SDK_VERSION,n,c,u,p),N=new Hne(S,y),U=new Cne(N,y,b,H),oe=new Sne(r,U,b,y,H);return function gne(t){const e=(0,rt.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(oe),oe},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(ZS,"0.4.4"),(0,kt.registerVersion)(ZS,"0.4.4","esm2017")}();const Nne=(t,e)=>e.some(n=>t instanceof n);let $R,GR;const qR=new WeakMap,ez=new WeakMap,WR=new WeakMap,tz=new WeakMap,nz=new WeakMap;let rz={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ez.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Une(t){return"function"==typeof t?function Bne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pne(){return GR||(GR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iz(this),e),Vs(qR.get(this))}:function(...e){return Vs(t.apply(iz(this),e))}:function(e,...n){const r=t.call(iz(this),e,...n);return WR.set(r,e.sort?e.sort():[e]),Vs(r)}}(t):(t instanceof IDBTransaction&&function One(t){if(ez.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});ez.set(t,e)}(t),Nne(t,function kne(){return $R||($R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,rz):t)}function Vs(t){if(t instanceof IDBRequest)return function Rne(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Vs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&qR.set(n,t)}).catch(()=>{}),nz.set(e,t),e}(t);if(tz.has(t))return tz.get(t);const e=Une(t);return e!==t&&(tz.set(t,e),nz.set(e,t)),e}const iz=t=>nz.get(t);function ZR(t,e,{blocked:n,upgrade:r,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),p=Vs(u);return r&&u.addEventListener("upgradeneeded",y=>{r(Vs(u.result),y.oldVersion,y.newVersion,Vs(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",()=>a())}).catch(()=>{}),p}function sz(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Vs(n).then(()=>{})}const jne=["get","getKey","getAll","getAllKeys","count"],$ne=["put","add","delete","clear"],az=new Map;function KR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(az.get(e))return az.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=$ne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!jne.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,a?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),a&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return az.set(e,c),c}!function Fne(t){rz=t(rz)}(t=>({...t,get:(e,n,r)=>KR(e,n)||t.get(e,n,r),has:(e,n)=>!!KR(e,n)||t.has(e,n)}));const Gne="/firebase-messaging-sw.js",qne="/firebase-cloud-messaging-push-scope",YR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wne="https://fcmregistrations.googleapis.com/v1",QR="google.c.a.c_id",Zne="google.c.a.c_l",Kne="google.c.a.ts";var Bv=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Bv||{});function Is(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),a=new Uint8Array(r.length);for(let c=0;c<r.length;++c)a[c]=r.charCodeAt(c);return a}const oz="fcm_token_details_db",Xne=5,JR="fcm_token_object_Store";function cz(){return cz=(0,G.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(oz))return null;let e=null;return(yield ZR(oz,Xne,{upgrade:(r=(0,G.Z)(function*(a,c,u,p){var y;if(c<2||!a.objectStoreNames.contains(JR))return;const b=p.objectStore(JR),H=yield b.index("fcmSenderId").get(t);if(yield b.clear(),H)if(2===c){const S=H;if(!S.auth||!S.p256dh||!S.endpoint)return;e={token:S.fcmToken,createTime:null!==(y=S.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:S.auth,p256dh:S.p256dh,endpoint:S.endpoint,swScope:S.swScope,vapidKey:"string"==typeof S.vapidKey?S.vapidKey:Is(S.vapidKey)}}}else if(3===c){const S=H;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Is(S.auth),p256dh:Is(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Is(S.vapidKey)}}}else if(4===c){const S=H;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:Is(S.auth),p256dh:Is(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:Is(S.vapidKey)}}}}),function(c,u,p,y){return r.apply(this,arguments)})})).close(),yield sz(oz),yield sz("fcm_vapid_details_db"),yield sz("undefined"),function tre(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),cz.apply(this,arguments)}const nre="firebase-messaging-database",rre=1,zo="firebase-messaging-store";let lz=null;function uz(){return lz||(lz=ZR(nre,rre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zo)}})),lz}function XR(t){return fz.apply(this,arguments)}function fz(){return fz=(0,G.Z)(function*(t){const e=mz(t),r=yield(yield uz()).transaction(zo).objectStore(zo).get(e);if(r)return r;{const a=yield function ere(t){return cz.apply(this,arguments)}(t.appConfig.senderId);if(a)return yield dz(t,a),a}}),fz.apply(this,arguments)}function dz(t,e){return hz.apply(this,arguments)}function hz(){return(hz=(0,G.Z)(function*(t,e){const n=mz(t),a=(yield uz()).transaction(zo,"readwrite");return yield a.objectStore(zo).put(e,n),yield a.done,e})).apply(this,arguments)}function pz(){return(pz=(0,G.Z)(function*(t){const e=mz(t),r=(yield uz()).transaction(zo,"readwrite");yield r.objectStore(zo).delete(e),yield r.done})).apply(this,arguments)}function mz({appConfig:t}){return t.appId}const q1=new rt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function are(t,e){return gz.apply(this,arguments)}function gz(){return(gz=(0,G.Z)(function*(t,e){const n=yield _z(t),r=tO(e),a={method:"POST",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(Cz(t.appConfig),a)).json()}catch(u){throw q1.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function vz(){return(vz=(0,G.Z)(function*(t,e){const n=yield _z(t),r=tO(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(`${Cz(t.appConfig)}/${e.token}`,a)).json()}catch(u){throw q1.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error)throw q1.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw q1.create("token-update-no-token");return c.token})).apply(this,arguments)}function eO(t,e){return yz.apply(this,arguments)}function yz(){return(yz=(0,G.Z)(function*(t,e){const r={method:"DELETE",headers:yield _z(t)};try{const c=yield(yield fetch(`${Cz(t.appConfig)}/${e}`,r)).json();if(c.error)throw q1.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(a){throw q1.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}})).apply(this,arguments)}function Cz({projectId:t}){return`${Wne}/projects/${t}/registrations`}function _z(t){return Mz.apply(this,arguments)}function Mz(){return(Mz=(0,G.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const a={web:{endpoint:n,auth:e,p256dh:t}};return r!==YR&&(a.web.applicationPubKey=r),a}const cre=6048e5;function wz(){return wz=(0,G.Z)(function*(t){const e=yield function fre(t,e){return Iz.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},r=yield XR(t.firebaseDependencies);if(r){if(function dre(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+cre?function ure(t,e){return Hz.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eO(t.firebaseDependencies,r.token)}catch(a){console.warn(a)}return rO(t.firebaseDependencies,n)}return rO(t.firebaseDependencies,n)}),wz.apply(this,arguments)}function bz(){return bz=(0,G.Z)(function*(t){const e=yield XR(t.firebaseDependencies);e&&(yield eO(t.firebaseDependencies,e.token),yield function ire(t){return pz.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),bz.apply(this,arguments)}function Hz(){return Hz=(0,G.Z)(function*(t,e){try{const n=yield function ore(t,e){return vz.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield dz(t.firebaseDependencies,r),n}catch(n){throw yield function nO(t){return bz.apply(this,arguments)}(t),n}}),Hz.apply(this,arguments)}function rO(t,e){return Vz.apply(this,arguments)}function Vz(){return(Vz=(0,G.Z)(function*(t,e){const r={token:yield are(t,e),createTime:Date.now(),subscriptionOptions:e};return yield dz(t,r),r.token})).apply(this,arguments)}function Iz(){return(Iz=(0,G.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jne(e)})})).apply(this,arguments)}function iO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function hre(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const a=e.notification.image;a&&(t.notification.image=a);const c=e.notification.icon;c&&(t.notification.icon=c)}(e,t),function pre(t,e){e.data&&(t.data=e.data)}(e,t),function mre(t,e){var n,r,a,c,u;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const p=null!==(a=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==a?a:null===(c=e.notification)||void 0===c?void 0:c.click_action;p&&(t.fcmOptions.link=p);const y=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;y&&(t.fcmOptions.analyticsLabel=y)}(e,t),e}function sO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Sz(t){return q1.create("missing-app-config-values",{valueName:t})}sO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=function vre(t){if(!t||!t.options)throw Sz("App Configuration Object");if(!t.name)throw Sz("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Sz(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function zz(){return(zz=(0,G.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Gne,{scope:qne}),t.swRegistration.update().catch(()=>{})}catch(e){throw q1.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Ez(){return(Ez=(0,G.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function aO(t){return zz.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw q1.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Lz(){return(Lz=(0,G.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=YR)})).apply(this,arguments)}function xz(){return xz=(0,G.Z)(function*(t,e){if(!navigator)throw q1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw q1.create("permission-blocked");return yield function _re(t,e){return Lz.apply(this,arguments)}(t,e?.vapidKey),yield function Cre(t,e){return Ez.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function lre(t){return wz.apply(this,arguments)}(t)}),xz.apply(this,arguments)}function Dz(){return(Dz=(0,G.Z)(function*(t,e,n){const r=function wre(t){switch(t){case Bv.NOTIFICATION_CLICKED:return"notification_open";case Bv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[QR],message_name:n[Zne],message_time:n[Kne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Az(){return Az=(0,G.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Bv.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iO(n)):t.onMessageHandler.next(iO(n)));const r=n.data;(function gre(t){return"object"==typeof t&&!!t&&QR in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Mre(t,e,n){return Dz.apply(this,arguments)}(t,n.messageType,r))}),Az.apply(this,arguments)}const cO="@firebase/messaging",Hre=t=>{const e=new yre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function bre(t,e){return Az.apply(this,arguments)}(e,n)),e},Vre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function oO(t,e){return xz.apply(this,arguments)}(e,r)}};function uO(){return Tz.apply(this,arguments)}function Tz(){return(Tz=(0,G.Z)(function*(){try{yield(0,rt.eu)()}catch{return!1}return typeof window<"u"&&(0,rt.hl)()&&(0,rt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ire(){(0,kt._registerComponent)(new Wr.wA("messaging",Hre,"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("messaging-internal",Vre,"PRIVATE")),(0,kt.registerVersion)(cO,"0.12.4"),(0,kt.registerVersion)(cO,"0.12.4","esm2017")}();const Uv="analytics",Ere="firebase_id",Lre="origin",xre=6e4,Dre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pz="https://www.googletagmanager.com/gtag/js",L1=new Zr.Yd("@firebase/analytics"),bn=new rt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Tre(t){if(!t.startsWith(Pz)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return L1.warn(e.message),""}return t}function fO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Rz(){return(Rz=(0,G.Z)(function*(t,e,n,r,a,c){const u=r[a];try{if(u)yield e[u];else{const y=(yield fO(n)).find(b=>b.measurementId===a);y&&(yield e[y.appId])}}catch(p){L1.error(p)}t("config",a,c)})).apply(this,arguments)}function Oz(){return(Oz=(0,G.Z)(function*(t,e,n,r,a){try{let c=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const p=yield fO(n);for(const y of u){const b=p.find(S=>S.measurementId===y),H=b&&e[b.appId];if(!H){c=[];break}c.push(H)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),t("event",r,a||{})}catch(c){L1.error(c)}})).apply(this,arguments)}const jre=30,dO=new class Gre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function qre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Fz(){return(Fz=(0,G.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,a={method:"GET",headers:qre(r)},c=Dre.replace("{app-id}",n),u=yield fetch(c,a);if(200!==u.status&&304!==u.status){let p="";try{const y=yield u.json();null!==(e=y.error)&&void 0!==e&&e.message&&(p=y.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()})).apply(this,arguments)}function Bz(){return(Bz=(0,G.Z)(function*(t,e=dO,n){const{appId:r,apiKey:a,measurementId:c}=t.options;if(!r)throw bn.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:r};throw bn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Qre;return setTimeout((0,G.Z)(function*(){p.abort()}),void 0!==n?n:xre),hO({appId:r,apiKey:a,measurementId:c},u,p,e)})).apply(this,arguments)}function hO(t,e,n){return Uz.apply(this,arguments)}function Uz(){return Uz=(0,G.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=dO){var c;const{appId:u,measurementId:p}=t;try{yield function Kre(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(c),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(y){if(p)return L1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:p};throw y}try{const y=yield function Wre(t){return Fz.apply(this,arguments)}(t);return a.deleteThrottleMetadata(u),y}catch(y){const b=y;if(!function Yre(t){if(!(t instanceof rt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(b)){if(a.deleteThrottleMetadata(u),p)return L1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:u,measurementId:p};throw y}const H=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,rt.$s)(n,a.intervalMillis,jre):(0,rt.$s)(n,a.intervalMillis),S={throttleEndTimeMillis:Date.now()+H,backoffCount:n+1};return a.setThrottleMetadata(u,S),L1.debug(`Calling attemptFetch again in ${H} millis`),hO(t,S,r,a)}}),Uz.apply(this,arguments)}class Qre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let jz,Yz;function $z(){return($z=(0,G.Z)(function*(t,e,n,r,a){if(a&&a.global)t("event",n,r);else{const c=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:c}))}})).apply(this,arguments)}function Qz(){return(Qz=(0,G.Z)(function*(){if(!(0,rt.hl)())return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,rt.eu)()}catch(t){return L1.warn(bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Jz(){return Jz=(0,G.Z)(function*(t,e,n,r,a,c,u){var p;const y=function Zre(t){return Bz.apply(this,arguments)}(t);y.then(U=>{n[U.measurementId]=U.appId,t.options.measurementId&&U.measurementId!==t.options.measurementId&&L1.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>L1.error(U)),e.push(y);const b=function iie(){return Qz.apply(this,arguments)}().then(U=>{if(U)return r.getId()}),[H,S]=yield Promise.all([y,b]);(function Ure(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Pz)&&n.src.includes(t))return n;return null})(c)||function kre(t,e){const n=function Nre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Tre}),r=document.createElement("script"),a=`${Pz}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}(c,H.measurementId),Yz&&(a("consent","default",Yz),function pO(t){Yz=t}(void 0)),a("js",new Date);const N=null!==(p=u?.config)&&void 0!==p?p:{};return N[Lre]="firebase",N.update=!0,null!=S&&(N[Ere]=S),a("config",H.measurementId,N),jz&&(a("set",jz),function mO(t){jz=t}(void 0)),H.measurementId}),Jz.apply(this,arguments)}class aie{constructor(e){this.app=e}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},gO=[];const vO={};let CO,bi,jv="dataLayer",Xz=!1;function cie(t,e,n){!function oie(){const t=[];if((0,rt.ru)()&&t.push("This is a browser extension environment."),(0,rt.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});L1.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");L1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[r])throw bn.create("already-exists",{id:r});if(!Xz){!function Pre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(jv);const{wrappedGtag:c,gtagCore:u}=function Bre(t,e,n,r,a){let c=function(...u){window[r].push(arguments)};return window[a]&&"function"==typeof window[a]&&(c=window[a]),window[a]=function Fre(t,e,n,r){function c(){return c=(0,G.Z)(function*(u,...p){try{if("event"===u){const[y,b]=p;yield function Ore(t,e,n,r,a){return Oz.apply(this,arguments)}(t,e,n,y,b)}else if("config"===u){const[y,b]=p;yield function Rre(t,e,n,r,a,c){return Rz.apply(this,arguments)}(t,e,n,r,y,b)}else if("consent"===u){const[y]=p;t("consent","update",y)}else if("get"===u){const[y,b,H]=p;t("get",y,b,H)}else if("set"===u){const[y]=p;t("set",y)}else t(u,...p)}catch(y){L1.error(y)}}),c.apply(this,arguments)}return function a(u){return c.apply(this,arguments)}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[a]}}(wi,gO,vO,jv,"gtag");bi=c,CO=u,Xz=!0}return wi[r]=function sie(t,e,n,r,a,c,u){return Jz.apply(this,arguments)}(t,gO,vO,e,CO,jv,n),new aie(t)}function uie(){return eE.apply(this,arguments)}function eE(){return(eE=(0,G.Z)(function*(){if((0,rt.ru)()||!(0,rt.zI)()||!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}const _O="@firebase/analytics";!function die(){(0,kt._registerComponent)(new Wr.wA(Uv,(e,{options:n})=>cie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,kt._registerComponent)(new Wr.wA("analytics-internal",function t(e){try{const n=e.getProvider(Uv).getImmediate();return{logEvent:(r,a,c)=>function fie(t,e,n,r){t=(0,rt.m9)(t),function Jre(t,e,n,r,a){return $z.apply(this,arguments)}(bi,wi[t.app.options.appId],e,n,r).catch(a=>L1.error(a))}(n,r,a,c)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,kt.registerVersion)(_O,"0.10.0"),(0,kt.registerVersion)(_O,"0.10.0","esm2017")}();const mie=new class pie extends gR{}(class hie extends mR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}});var wO=k(4674),a4=k(9360),Eo=k(8251),bO=k(2737),b7=k(5137),I0=k(3093);const H7=new g.GfV("7.6.1"),nE="__angularfire_symbol__analyticsIsSupportedValue",rE="__angularfire_symbol__analyticsIsSupported",iE="__angularfire_symbol__remoteConfigIsSupportedValue",sE="__angularfire_symbol__remoteConfigIsSupported",aE="__angularfire_symbol__messagingIsSupportedValue",oE="__angularfire_symbol__messagingIsSupported";function lE(t,e,n){if(e){if(1===e.length)return e[0];const c=e.filter(u=>u.app===n);if(1===c.length)return c[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[rE]||(globalThis[rE]=uie().then(t=>globalThis[nE]=t).catch(()=>globalThis[nE]=!1)),globalThis[oE]||(globalThis[oE]=uO().then(t=>globalThis[aE]=t).catch(()=>globalThis[aE]=!1)),globalThis[sE]||(globalThis[sE]=Tne().then(t=>globalThis[iE]=t).catch(()=>globalThis[iE]=!1));const uE=(t,e)=>{const n=e?[e]:(0,kt.getApps)(),r=[];return n.forEach(a=>{a.container.getProvider(t).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function S0(){}class HO{constructor(e,n=mie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const a=this.zone;return this.delegate.schedule(function(u){a.runGuarded(()=>{e.apply(this,[u])})},n,r)}}class vie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S0,{},S0,S0)),n.pipe(function gie(t,e,n){const r=(0,wO.m)(t)||e||n?{next:t,error:e,complete:n}:t;return r?(0,a4.e)((a,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;a.subscribe((0,Eo.x)(c,y=>{var b;null===(b=r.next)||void 0===b||b.call(r,y),c.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var b;p=!1,null===(b=r.error)||void 0===b||b.call(r,y),c.error(y)},()=>{var y,b;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):bO.y}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let z0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HO(Zone.current)),this.insideAngular=n.run(()=>new HO(Zone.current,vR)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(g.R0b))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function xo(t){return Lo().ngZone.run(()=>t())}function ir(t){return Lo(),function Cie(t){return function(n){return(n=n.lift(new vie(t.ngZone))).pipe((0,b7.R)(t.outsideAngular),(0,I0.Q)(t.insideAngular))}}(Lo())(t)}const _ie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xo(()=>t.apply(void 0,r))},$v=(t,e)=>function(){let n;const r=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof r[c]&&(e&&(n||(n=xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S0,{},S0,S0)))),r[c]=_ie(r[c],n));const a=function yie(t){return Lo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(a instanceof M7.y){const c=Lo();return a.pipe((0,b7.R)(c.outsideAngular),(0,I0.Q)(c.insideAngular))}return xo(()=>a)}return a instanceof M7.y?a.pipe(ir):a instanceof Promise?xo(()=>new Promise((c,u)=>a.then(p=>xo(()=>c(p)),p=>xo(()=>u(p))))):"function"==typeof a&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),a.apply(this,arguments)}:xo(()=>a)};var Mie=k(2372),VO=k(4564);function IO(...t){return function wie(){return(0,Mie.J)(1)}()((0,Ho.D)(t,(0,VO.yG)(t)))}function fE(...t){const e=(0,VO.yG)(t);return(0,a4.e)((n,r)=>{(e?IO(t,n,e):IO(t,n)).subscribe(r)})}function dE(){return(0,a4.e)((t,e)=>{let n,r=!1;t.subscribe((0,Eo.x)(e,a=>{const c=n;n=a,r&&e.next([c,a]),r=!0}))})}var sr=k(7398);function hE(t,e){return(0,a4.e)(function bie(t,e,n,r,a){return(c,u)=>{let p=n,y=e,b=0;c.subscribe((0,Eo.x)(u,H=>{const S=b++;y=p?t(y,H,S):(p=!0,H),r&&u.next(y)},a&&(()=>{p&&u.next(y),u.complete()})))}}(t,e,arguments.length>=2,!0))}var Hie=k(3997);function Gv(t,e){return(0,a4.e)((n,r)=>{let a=0;n.subscribe((0,Eo.x)(r,c=>t.call(e,c,a++)&&r.next(c)))})}var We,ar=k(6304),Vie=(k(6365),k(3106)),Iie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={},pE=pE||{},Et=Iie||self;function qv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function V7(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mE="closure_uid_"+(1e9*Math.random()>>>0),zie=0;function Eie(t,e,n){return t.call.apply(t.bind,arguments)}function Lie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eie:Lie).apply(null,arguments)}function Wv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function x1(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,a,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[a].apply(r,u)}}function o4(){this.s=this.s,this.o=this.o}o4.prototype.s=!1,o4.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Sie(t){Object.prototype.hasOwnProperty.call(t,mE)&&t[mE]||(t[mE]=++zie)}(this)},o4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(qv(r)){const a=t.length||0,c=r.length||0;t.length=a+c;for(let u=0;u<c;u++)t[a+u]=r[u]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Die=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Et.addEventListener("test",()=>{},e),Et.removeEventListener("test",()=>{},e)}catch{}return t}();function I7(t){return/^[\s\xa0]*$/.test(t)}function Zv(){var t=Et.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return-1!=Zv().indexOf(t)}function vE(t){return vE[" "](t),t}vE[" "]=function(){};var CE,t,Tie=Hi("Opera"),E0=Hi("Trident")||Hi("MSIE"),EO=Hi("Edge"),yE=EO||E0,LO=Hi("Gecko")&&!(-1!=Zv().toLowerCase().indexOf("webkit")&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),Nie=-1!=Zv().toLowerCase().indexOf("webkit")&&!Hi("Edge");function xO(){var t=Et.document;return t?t.documentMode:void 0}e:{var _E="",ME=(t=Zv(),LO?/rv:([^\);]+)(\)|;)/.exec(t):EO?/Edge\/([\d\.]+)/.exec(t):E0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Nie?/WebKit\/(\S+)/.exec(t):Tie?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ME&&(_E=ME?ME[1]:""),E0){var wE=xO();if(null!=wE&&wE>parseFloat(_E)){CE=String(wE);break e}}CE=_E}var kie=Et.document&&E0&&(xO()||parseInt(CE,10))||void 0;function S7(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(LO){e:{try{vE(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Pie[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&S7.$.h.call(this)}}x1(S7,ln);var Pie={2:"touch",3:"pen",4:"mouse"};S7.prototype.h=function(){S7.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z7="closure_listenable_"+(1e6*Math.random()|0),Rie=0;function Oie(t,e,n,r,a){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=a,this.key=++Rie,this.fa=this.ia=!1}function Kv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function HE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AO(t){const e={};for(const n in t)e[n]=t[n];return e}const TO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NO(t,e){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)t[n]=r[n];for(let c=0;c<TO.length;c++)n=TO[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yv(t){this.src=t,this.g={},this.h=0}function VE(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],a=SO(r,e);(c=0<=a)&&Array.prototype.splice.call(r,a,1),c&&(Kv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function IE(t,e,n,r){for(var a=0;a<t.length;++a){var c=t[a];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return a}return-1}Yv.prototype.add=function(t,e,n,r,a){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var u=IE(t,e,r,a);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new Oie(e,this.src,c,!!r,a)).ia=n,t.push(e)),e};var SE="closure_lm_"+(1e6*Math.random()|0),zE={};function kO(t,e,n,r,a){if(r&&r.once)return RO(t,e,n,r,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)kO(t,e[c],n,r,a);return null}return n=DE(n),t&&t[z7]?t.O(e,n,V7(r)?!!r.capture:!!r,a):PO(t,e,n,!1,r,a)}function PO(t,e,n,r,a,c){if(!e)throw Error("Invalid event type");var u=V7(a)?!!a.capture:!!a,p=LE(t);if(p||(t[SE]=p=new Yv(t)),(n=p.add(e,n,r,u,c)).proxy)return n;if(r=function Bie(){const e=Uie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Die||(a=u),void 0===a&&(a=!1),t.addEventListener(e.toString(),r,a);else if(t.attachEvent)t.attachEvent(FO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function RO(t,e,n,r,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)RO(t,e[c],n,r,a);return null}return n=DE(n),t&&t[z7]?t.P(e,n,V7(r)?!!r.capture:!!r,a):PO(t,e,n,!0,r,a)}function OO(t,e,n,r,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)OO(t,e[c],n,r,a);else r=V7(r)?!!r.capture:!!r,n=DE(n),t&&t[z7]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=IE(c=t.g[e],n,r,a))&&(Kv(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=LE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=IE(e,n,r,a)),(n=-1<t?e[t]:null)&&EE(n))}function EE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[z7])VE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=LE(e))?(VE(n,t),0==n.h&&(n.src=null,e[SE]=null)):Kv(t)}}}function FO(t){return t in zE?zE[t]:zE[t]="on"+t}function Uie(t,e){if(t.fa)t=!0;else{e=new S7(e,this);var n=t.listener,r=t.la||t.src;t.ia&&EE(t),t=n.call(r,e)}return t}function LE(t){return(t=t[SE])instanceof Yv?t:null}var xE="__closure_events_fn_"+(1e9*Math.random()>>>0);function DE(t){return"function"==typeof t?t:(t[xE]||(t[xE]=function(e){return t.handleEvent(e)}),t[xE])}function D1(){o4.call(this),this.i=new Yv(this),this.S=this,this.J=null}function W1(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var a=e;NO(e=new ln(r,t),a)}if(a=!0,n)for(var c=n.length-1;0<=c;c--){var u=e.g=n[c];a=Qv(u,r,!0,e)&&a}if(a=Qv(u=e.g=t,r,!0,e)&&a,a=Qv(u,r,!1,e)&&a,n)for(c=0;c<n.length;c++)a=Qv(u=e.g=n[c],r,!1,e)&&a}function Qv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==n){var p=u.listener,y=u.la||u.src;u.ia&&VE(t.i,u),a=!1!==p.call(y,r)&&a}}return a&&!r.defaultPrevented}x1(D1,o4),D1.prototype[z7]=!0,D1.prototype.removeEventListener=function(t,e,n,r){OO(this,t,e,n,r)},D1.prototype.N=function(){if(D1.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kv(n[r]);delete t.g[e],t.h--}}this.J=null},D1.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},D1.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var AE=Et.JSON.stringify;function $ie(){var t=TE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var BO=new class jie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qie,t=>t.reset());class qie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Wie(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Zie(t){Et.setTimeout(()=>{throw t},0)}let E7,L7=!1,TE=new class Gie{constructor(){this.h=this.g=null}add(e,n){const r=BO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},UO=()=>{const t=Et.Promise.resolve(void 0);E7=()=>{t.then(Kie)}};var Kie=()=>{for(var t;t=$ie();){try{t.h.call(t.g)}catch(n){Zie(n)}var e=BO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}L7=!1};function Jv(t,e){D1.call(this),this.h=t||1,this.g=e||Et,this.j=cn(this.qb,this),this.l=Date.now()}function NE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function kE(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Et.setTimeout(t,e||0)}function jO(t){t.g=kE(()=>{t.g=null,t.i&&(t.i=!1,jO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}x1(Jv,D1),(We=Jv.prototype).ga=!1,We.T=null,We.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),W1(this,"tick"),this.ga&&(NE(this),this.start()))}},We.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.N=function(){Jv.$.N.call(this),NE(this),delete this.g};class Yie extends o4{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jO(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function x7(t){o4.call(this),this.h=t,this.g={}}x1(x7,o4);var $O=[];function GO(t,e,n,r){Array.isArray(n)||(n&&($O[0]=n.toString()),n=$O);for(var a=0;a<n.length;a++){var c=kO(e,n[a],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function qO(t){HE(t.g,function(e,n){this.g.hasOwnProperty(n)&&EE(e)},t),t.g={}}function Xv(){this.g=!0}function L0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ese(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<a.length;u++)a[u]=""}}}return AE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}x7.prototype.N=function(){x7.$.N.call(this),qO(this)},x7.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xv.prototype.Ea=function(){this.g=!1},Xv.prototype.info=function(){};var Do={},WO=null;function ey(){return WO=WO||new D1}function ZO(t){ln.call(this,Do.Ta,t)}function D7(t){const e=ey();W1(e,new ZO(e))}function KO(t,e){ln.call(this,Do.STAT_EVENT,t),this.stat=e}function Hn(t){const e=ey();W1(e,new KO(e,t))}function YO(t,e){ln.call(this,Do.Ua,t),this.size=e}function A7(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){t()},e)}Do.Ta="serverreachability",x1(ZO,ln),Do.STAT_EVENT="statevent",x1(KO,ln),Do.Ua="timingevent",x1(YO,ln);var ty={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PE(){}function XO(){}PE.prototype.h=null;var FE,T7={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function RE(){ln.call(this,"d")}function OE(){ln.call(this,"c")}function ny(){}function N7(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new x7(this),this.P=tse,this.V=new Jv(t=yE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eF}function eF(){this.i=null,this.g="",this.h=!1}x1(RE,ln),x1(OE,ln),x1(ny,PE),ny.prototype.g=function(){return new XMLHttpRequest},ny.prototype.i=function(){return{}},FE=new ny;var tse=45e3,BE={},ry={};function UE(t,e,n){t.L=1,t.v=oy(Ss(e)),t.s=n,t.S=!0,tF(t,null)}function tF(t,e){t.G=Date.now(),k7(t),t.A=Ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),fF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new eF,t.g=NF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Yie(cn(t.Pa,t,t.g),t.O)),GO(t.U,t.g,"readystatechange",t.nb),e=t.I?AO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),D7(),function Qie(t,e,n,r,a,c){t.info(function(){if(t.g)if(c)for(var u="",p=c.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var H=b[0];b=b[1];var S=H.split("_");u=2<=S.length&&"type"==S[1]?u+(H+"=")+b+"&":u+(H+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function nF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function rF(t,e,n){let a,r=!0;for(;!t.J&&t.C<n.length;){if(a=nse(t,n),a==ry){4==e&&(t.o=4,Hn(14),r=!1),L0(t.j,t.m,null,"[Incomplete Response]");break}if(a==BE){t.o=4,Hn(15),L0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}L0(t.j,t.m,a,null),jE(t,a)}nF(t)&&a!=ry&&a!=BE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),YE(e),e.M=!0,Hn(11))):(L0(t.j,t.m,n,"[Invalid Chunked Response]"),Ao(t),P7(t))}function nse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ry:(n=Number(e.substring(n,r)),isNaN(n)?BE:(r+=1)+n>e.length?ry:(e=e.slice(r,r+n),t.C=r+n,e))}function k7(t){t.Y=Date.now()+t.P,iF(t,t.P)}function iF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=A7(cn(t.lb,t),e)}function iy(t){t.B&&(Et.clearTimeout(t.B),t.B=null)}function P7(t){0==t.l.H||t.J||xF(t.l,t)}function Ao(t){iy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,NE(t.V),qO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||$E(n.i,t)))if(!t.K&&$E(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;hy(n),fy(n)}KE(n),Hn(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&0==n.A&&!n.v&&(n.v=A7(cn(n.ib,n),6e3));if(1>=pF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else No(n,11)}else if((t.K||n.g==t)&&hy(n),!I7(e))for(a=n.Ja.g.parse(e),e=0;e<a.length;e++){let b=a[e];if(n.V=b[0],b=b[1],2==n.H)if("c"==b[0]){n.K=b[1],n.pa=b[2];const H=b[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const S=b[4];null!=S&&(n.Ga=S,n.l.info("SVER="+n.Ga));const N=b[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const U=t.g;if(U){const oe=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var c=r.i;c.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(GE(c,c.h),c.h=null))}if(r.F){const Ce=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.Da=Ce,H2(r.I,r.F,Ce))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=TF(r,r.J?r.pa:null,r.Y),u.K){mF(r.i,u);var p=u,y=r.L;y&&p.setTimeout(y),p.B&&(iy(p),k7(p)),r.g=u}else EF(r);0<n.j.length&&dy(n)}else"stop"!=b[0]&&"close"!=b[0]||No(n,7);else 3==n.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?No(n,7):ZE(n):"noop"!=b[0]&&n.h&&n.h.Aa(b),n.A=0)}D7()}catch{}}function sF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function ise(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function rse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(qv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),a=r.length,c=0;c<a;c++)e.call(void 0,r[c],n&&n[c],t)}(We=N7.prototype).setTimeout=function(t){this.P=t},We.nb=function(t){t=t.target;const e=this.M;e&&3==Vi(t)?e.l():this.Pa(t)},We.Pa=function(t){try{if(t==this.g)e:{const H=Vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||yE||this.g&&(this.h.h||this.g.ja()||bF(this.g)))){this.J||4!=H||7==e||D7(),iy(this);var n=this.g.da();this.ca=n;t:if(nF(this)){var r=bF(this.g);t="";var a=r.length,c=4==Vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),P7(this);var u="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==a-1});r.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function Jie(t,e,n,r,a,c,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+n+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I7(p)){var b=p;break t}}b=null}if(!(n=b)){this.i=!1,this.o=3,Hn(12),Ao(this),P7(this);break e}L0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jE(this,n)}this.S?(rF(this,H,u),yE&&this.i&&3==H&&(GO(this.U,this.V,"tick",this.mb),this.V.start())):(L0(this.j,this.m,u,null),jE(this,u)),4==H&&Ao(this),this.i&&!this.J&&(4==H?xF(this.l,this):(this.i=!1,k7(this)))}else(function wse(t){const e={};t=(t.g&&2<=Vi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(I7(t[r]))continue;var n=Wie(t[r]);const a=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[a]||[];e[a]=c,c.push(n)}!function Fie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),Ao(this),P7(this)}}}catch{}},We.mb=function(){if(this.g){var t=Vi(this.g),e=this.g.ja();this.C<e.length&&(iy(this),rF(this,t,e),this.i&&4!=t&&k7(this))}},We.cancel=function(){this.J=!0,Ao(this)},We.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Xie(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(D7(),Hn(17)),Ao(this),this.o=2,P7(this)):iF(this,this.Y-t)};var aF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof To){this.h=t.h,sy(this,t.j),this.s=t.s,this.g=t.g,ay(this,t.m),this.l=t.l;var e=t.i,n=new F7;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oF(this,n),this.o=t.o}else t&&(e=String(t).match(aF))?(this.h=!1,sy(this,e[1]||"",!0),this.s=R7(e[2]||""),this.g=R7(e[3]||"",!0),ay(this,e[4]),this.l=R7(e[5]||"",!0),oF(this,e[6]||"",!0),this.o=R7(e[7]||"")):(this.h=!1,this.i=new F7(null,this.h))}function Ss(t){return new To(t)}function sy(t,e,n){t.j=n?R7(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ay(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oF(t,e,n){e instanceof F7?(t.i=e,function fse(t,e){e&&!t.j&&(c4(t),t.i=null,t.g.forEach(function(n,r){var a=r.toLowerCase();r!=a&&(lF(this,r),fF(this,a,n))},t)),t.j=e}(t.i,t.h)):(n||(e=O7(e,lse)),t.i=new F7(e,t.h))}function H2(t,e,n){t.i.set(e,n)}function oy(t){return H2(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function R7(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function O7(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ase),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ase(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}To.prototype.toString=function(){var t=[],e=this.j;e&&t.push(O7(e,cF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(O7(e,cF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(O7(n,"/"==n.charAt(0)?cse:ose,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",O7(n,use)),t.join("")};var cF=/[#\/\?@]/g,ose=/[#\?:]/g,cse=/[#\?]/g,lse=/[#\?@]/g,use=/#/g;function F7(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function c4(t){t.g||(t.g=new Map,t.h=0,t.i&&function sse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),a=null;if(0<=r){var c=t[n].substring(0,r);a=t[n].substring(r+1)}else c=t[n];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lF(t,e){c4(t),e=x0(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function uF(t,e){return c4(t),e=x0(t,e),t.g.has(e)}function fF(t,e,n){lF(t,e),0<n.length&&(t.i=null,t.g.set(x0(t,e),gE(n)),t.h+=n.length)}function x0(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dF(t){this.l=t||hse,t=Et.PerformanceNavigationTiming?0<(t=Et.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=F7.prototype).add=function(t,e){c4(this),this.i=null,t=x0(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},We.forEach=function(t,e){c4(this),this.g.forEach(function(n,r){n.forEach(function(a){t.call(e,a,r,this)},this)},this)},We.ta=function(){c4(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const a=t[r];for(let c=0;c<a.length;c++)n.push(e[r])}return n},We.Z=function(t){c4(this);let e=[];if("string"==typeof t)uF(this,t)&&(e=e.concat(this.g.get(x0(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},We.set=function(t,e){return c4(this),this.i=null,uF(this,t=x0(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},We.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var a=c;""!==u[r]&&(a+="="+encodeURIComponent(String(u[r]))),t.push(a)}}return this.i=t.join("&")};var hse=10;function hF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pF(t){return t.h?1:t.g?t.g.size:0}function $E(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function GE(t,e){t.g?t.g.add(e):t.h=e}function mF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function gF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gE(t.i)}dF.prototype.cancel=function(){if(this.i=gF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var pse=class{stringify(t){return Et.JSON.stringify(t,void 0)}parse(t){return Et.JSON.parse(t,void 0)}};function mse(){this.g=new pse}function gse(t,e,n){const r=n||"";try{sF(t,function(a,c){let u=a;V7(a)&&(u=AE(a)),e.push(r+c+"="+encodeURIComponent(u))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function cy(t,e,n,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function B7(t){this.l=t.fc||null,this.j=t.ob||!1}function ly(t,e){D1.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}x1(B7,PE),B7.prototype.g=function(){return new ly(this.l,this.j)},B7.prototype.i=function(t){return function(){return t}}({}),x1(ly,D1);var qE=0;function vF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function U7(t){t.readyState=4,t.l=null,t.j=null,t.A=null,j7(t)}function j7(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(We=ly.prototype).open=function(t,e){if(this.readyState!=qE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,j7(this)},We.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U7(this)),this.readyState=qE},We.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,j7(this)),this.g&&(this.readyState=3,j7(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},We.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?U7(this):j7(this),3==this.readyState&&vF(this)}},We.Za=function(t){this.g&&(this.response=this.responseText=t,U7(this))},We.Ya=function(t){this.g&&(this.response=t,U7(this))},We.ka=function(){this.g&&U7(this)},We.setRequestHeader=function(t,e){this.v.append(t,e)},We.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ly.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var yse=Et.JSON.parse;function B2(t){D1.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yF,this.L=this.M=!1}x1(B2,D1);var yF="",Cse=/^https?$/i,_se=["POST","PUT"];function CF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_F(t),uy(t)}function _F(t){t.F||(t.F=!0,W1(t,"complete"),W1(t,"error"))}function MF(t){if(t.h&&typeof pE<"u"&&(!t.C[1]||4!=Vi(t)||2!=t.da()))if(t.v&&4==Vi(t))kE(t.La,0,t);else if(W1(t,"readystatechange"),4==Vi(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var a=String(t.I).match(aF)[1]||null;!a&&Et.self&&Et.self.location&&(a=Et.self.location.protocol.slice(0,-1)),r=!Cse.test(a?a.toLowerCase():"")}n=r}if(n)W1(t,"complete"),W1(t,"success");else{t.m=6;try{var c=2<Vi(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",_F(t)}}finally{uy(t)}}}function uy(t,e){if(t.g){wF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||W1(t,"ready");try{n.onreadystatechange=r}catch{}}}function wF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Et.clearTimeout(t.A),t.A=null)}function Vi(t){return t.g?t.g.readyState:0}function bF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HF(t){let e="";return HE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function WE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):H2(t,e,n))}function $7(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VF(t){this.Ga=0,this.j=[],this.l=new Xv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$7("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$7("baseRetryDelayMs",5e3,t),this.hb=$7("retryDelaySeedMs",1e4,t),this.eb=$7("forwardChannelMaxRetries",2,t),this.xa=$7("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dF(t&&t.concurrentRequestLimit),this.Ja=new mse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ZE(t){if(IF(t),3==t.H){var e=t.W++,n=Ss(t.I);if(H2(n,"SID",t.K),H2(n,"RID",e),H2(n,"TYPE","terminate"),G7(t,n),(e=new N7(t,t.l,e)).L=2,e.v=oy(Ss(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Et.Image&&((new Image).src=e.v,n=!0),n||(e.g=NF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),k7(e)}AF(t)}function fy(t){t.g&&(YE(t),t.g.cancel(),t.g=null)}function IF(t){fy(t),t.u&&(Et.clearTimeout(t.u),t.u=null),hy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Et.clearTimeout(t.m),t.m=null)}function dy(t){if(!hF(t.i)&&!t.m){t.m=!0;var e=t.Na;E7||UO(),L7||(E7(),L7=!0),TE.add(e,t),t.C=0}}function SF(t,e){var n;n=e?e.m:t.W++;const r=Ss(t.I);H2(r,"SID",t.K),H2(r,"RID",n),H2(r,"AID",t.V),G7(t,r),t.o&&t.s&&WE(r,t.o,t.s),n=new N7(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),GE(t.i,n),UE(n,r,e)}function G7(t,e){t.na&&HE(t.na,function(n,r){H2(e,r,n)}),t.h&&sF({},function(n,r){H2(e,r,n)})}function zF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var a=t.j;let c=-1;for(;;){const u=["count="+n];-1==c?0<n?(c=a[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let y=0;y<n;y++){let b=a[y].g;const H=a[y].map;if(b-=c,0>b)c=Math.max(0,a[y].g-100),p=!1;else try{gse(H,u,"req"+b+"_")}catch{r&&r(H)}}if(p){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function EF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;E7||UO(),L7||(E7(),L7=!0),TE.add(e,t),t.A=0}}function KE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=A7(cn(t.Ma,t),DF(t,t.A)),t.A++,0))}function YE(t){null!=t.B&&(Et.clearTimeout(t.B),t.B=null)}function LF(t){t.g=new N7(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ss(t.wa);H2(e,"RID","rpc"),H2(e,"SID",t.K),H2(e,"AID",t.V),H2(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&H2(e,"TO",t.qa),H2(e,"TYPE","xmlhttp"),G7(t,e),t.o&&t.s&&WE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=oy(Ss(e)),n.s=null,n.S=!0,tF(n,t)}function hy(t){null!=t.v&&(Et.clearTimeout(t.v),t.v=null)}function xF(t,e){var n=null;if(t.g==e){hy(t),YE(t),t.g=null;var r=2}else{if(!$E(t.i,e))return;n=e.F,mF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;W1(r=ey(),new YO(r,n)),dy(t)}else EF(t);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==r&&function bse(t,e){return!(pF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=A7(cn(t.Na,t,e),DF(t,t.C)),t.C++,0)))}(t,e)||2==r&&KE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),a){case 1:No(t,5);break;case 4:No(t,10);break;case 3:No(t,6);break;default:No(t,2)}}function DF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function No(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new To("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||sy(n,"https"),oy(n)),function vse(t,e){const n=new Xv;if(Et.Image){const r=new Image;r.onload=Wv(cy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wv(cy,n,r,"TestLoadImage: error",!1,e),r.onabort=Wv(cy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wv(cy,n,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hn(2);t.H=0,t.h&&t.h.za(e),AF(t),IF(t)}function AF(t){if(t.H=0,t.ma=[],t.h){const e=gF(t.i);(0!=e.length||0!=t.j.length)&&(zO(t.ma,e),zO(t.ma,t.j),t.i.i.length=0,gE(t.j),t.j.length=0),t.h.ya()}}function TF(t,e,n){var r=n instanceof To?Ss(n):new To(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ay(r,r.m);else{var a=Et.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new To(null);r&&sy(c,r),e&&(c.g=e),a&&ay(c,a),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&H2(r,n,e),H2(r,"VER",t.ra),G7(t,r),r}function NF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new B2(n&&t.Ha&&!t.va?new B7({ob:!0}):t.va)).Oa(t.J),e}function kF(){}function py(){if(E0&&!(10<=Number(kie)))throw Error("Environmental error: no available transport.")}function or(t,e){D1.call(this),this.g=new VF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!I7(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I7(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new D0(this)}function PF(t){RE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function RF(){OE.call(this),this.status=1}function D0(t){this.g=t}function Yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function QE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],u=(e=t.g[0])+(c^(n=t.g[1])&((a=t.g[2])^c))+r[0]+3614090360&4294967295;u=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=(n=(a=(c=(e=n+(u<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(a^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(a^e&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=a+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^a&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^c&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(a^c&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^a&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=a+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(a^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^a^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^a^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=a+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(a^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(a^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(a^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(a^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=a+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=n+((u=e+(a^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((a=c+((u=a+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+c&4294967295}function r2(t,e){this.h=e;for(var n=[],r=!0,a=t.length-1;0<=a;a--){var c=0|t[a];r&&c==e||(n[a]=c,r=!1)}this.g=n}(We=B2.prototype).Oa=function(t){this.M=t},We.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FE.g(),this.C=function JO(t){return t.h||(t.h=t.i())}(this.u?this.u:FE),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void CF(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),a=Et.FormData&&t instanceof Et.FormData,!(0<=SO(_se,e))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of n)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wF(this),0<this.B&&((this.L=function Mse(t){return E0&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=kE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){CF(this,c)}},We.ua=function(){typeof pE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,W1(this,"timeout"),this.abort(8))},We.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,W1(this,"complete"),W1(this,"abort"),uy(this))},We.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uy(this,!0)),B2.$.N.call(this)},We.La=function(){this.s||(this.G||this.v||this.l?MF(this):this.kb())},We.kb=function(){MF(this)},We.isActive=function(){return!!this.g},We.da=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},We.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},We.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yse(e)}},We.Ia=function(){return this.m},We.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=VF.prototype).ra=8,We.H=1,We.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new N7(this,this.l,t);let c=this.s;if(this.U&&(c?(c=AO(c),NO(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zF(this,a,e),H2(n=Ss(this.I),"RID",t),H2(n,"CVER",22),this.F&&H2(n,"X-HTTP-Session-Id",this.F),G7(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(HF(c)))+"&"+e:this.o&&WE(n,this.o,c)),GE(this.i,a),this.bb&&H2(n,"TYPE","init"),this.P?(H2(n,"$req",e),H2(n,"SID","null"),a.aa=!0,UE(a,n,null)):UE(a,n,e),this.H=2}}else 3==this.H&&(t?SF(this,t):0==this.j.length||hF(this.i)||SF(this))},We.Ma=function(){if(this.u=null,LF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=A7(cn(this.jb,this),t)}},We.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),fy(this),LF(this))},We.ib=function(){null!=this.v&&(this.v=null,fy(this),KE(this),Hn(19))},We.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))},We.isActive=function(){return!!this.h&&this.h.isActive(this)},(We=kF.prototype).Ba=function(){},We.Aa=function(){},We.za=function(){},We.ya=function(){},We.isActive=function(){return!0},We.Va=function(){},py.prototype.g=function(t,e){return new or(t,e)},x1(or,D1),or.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TF(t,null,t.Y),dy(t)},or.prototype.close=function(){ZE(this.g)},or.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=AE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&dy(e)},or.prototype.N=function(){this.g.h=null,delete this.j,ZE(this.g),delete this.g,or.$.N.call(this)},x1(PF,RE),x1(RF,OE),x1(D0,kF),D0.prototype.Ba=function(){W1(this.g,"a")},D0.prototype.Aa=function(t){W1(this.g,new PF(t))},D0.prototype.za=function(t){W1(this.g,new RF)},D0.prototype.ya=function(){W1(this.g,"b")},x1(Yr,function Hse(){this.blockSize=-1}),Yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=n;)QE(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[a++]=t.charCodeAt(c++),a==this.blockSize){QE(this,r),a=0;break}}else for(;c<e;)if(r[a++]=t[c++],a==this.blockSize){QE(this,r),a=0;break}}this.h=a,this.i+=e},Yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Vse={};function JE(t){return-128<=t&&128>t?function Aie(t,e){var n=Vse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new r2([0|e],0>e?-1:0)}):new r2([0|t],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return A0;if(0>t)return Z1(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=XE;return new r2(e,0)}var XE=4294967296,A0=JE(0),eL=JE(1),FF=JE(16777216);function zs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Hr(t){return-1==t.h}function Z1(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new r2(n,~t.h).add(eL)}function my(t,e){return t.add(Z1(e))}function gy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function q7(t,e){this.g=t,this.h=e}function vy(t,e){if(zs(e))throw Error("division by zero");if(zs(t))return new q7(A0,A0);if(Hr(t))return e=vy(Z1(t),e),new q7(Z1(e.g),Z1(e.h));if(Hr(e))return e=vy(t,Z1(e)),new q7(Z1(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eL,r=e;0>=r.X(t);)n=BF(n),r=BF(r);var a=T0(n,1),c=T0(r,1);for(r=T0(r,2),n=T0(n,2);!zs(r);){var u=c.add(r);0>=u.X(t)&&(a=a.add(n),c=u),r=T0(r,1),n=T0(n,1)}return e=my(t,a.R(e)),new q7(a,e)}for(a=A0;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Ii(n)).R(e);Hr(u)||0<u.X(t);)u=(c=Ii(n-=r)).R(e);zs(c)&&(c=eL),a=a.add(c),t=my(t,u)}return new q7(a,t)}function BF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new r2(n,t.h)}function T0(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,a=[],c=0;c<r;c++)a[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new r2(a,t.h)}(We=r2.prototype).ea=function(){if(Hr(this))return-Z1(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:XE+r)*e,e*=XE}return t},We.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zs(this))return"0";if(Hr(this))return"-"+Z1(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var a=vy(n,e).g,c=((0<(n=my(n,a.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zs(n=a))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},We.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},We.X=function(t){return Hr(t=my(this,t))?-1:zs(t)?0:1},We.abs=function(){return Hr(this)?Z1(this):this},We.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,a=0;a<=e;a++){var c=r+(65535&this.D(a))+(65535&t.D(a)),u=(c>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);r=u>>>16,n[a]=(u&=65535)<<16|(c&=65535)}return new r2(n,-2147483648&n[n.length-1]?-1:0)},We.R=function(t){if(zs(this)||zs(t))return A0;if(Hr(this))return Hr(t)?Z1(this).R(Z1(t)):Z1(Z1(this).R(t));if(Hr(t))return Z1(this.R(Z1(t)));if(0>this.X(FF)&&0>t.X(FF))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<t.g.length;a++){var c=this.D(r)>>>16,u=65535&this.D(r),p=t.D(a)>>>16,y=65535&t.D(a);n[2*r+2*a]+=u*y,gy(n,2*r+2*a),n[2*r+2*a+1]+=c*y,gy(n,2*r+2*a+1),n[2*r+2*a+1]+=u*p,gy(n,2*r+2*a+1),n[2*r+2*a+2]+=c*p,gy(n,2*r+2*a+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new r2(n,0)},We.gb=function(t){return vy(this,t).h},We.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new r2(n,this.h&t.h)},We.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new r2(n,this.h|t.h)},We.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new r2(n,this.h^t.h)},py.prototype.createWebChannel=py.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,QO.COMPLETE="complete",XO.EventType=T7,T7.OPEN="a",T7.CLOSE="b",T7.ERROR="c",T7.MESSAGE="d",D1.prototype.listen=D1.prototype.O,B2.prototype.listenOnce=B2.prototype.P,B2.prototype.getLastError=B2.prototype.Sa,B2.prototype.getLastErrorCode=B2.prototype.Ia,B2.prototype.getStatus=B2.prototype.da,B2.prototype.getResponseJson=B2.prototype.Wa,B2.prototype.getResponseText=B2.prototype.ja,B2.prototype.send=B2.prototype.ha,B2.prototype.setWithCredentials=B2.prototype.Oa,Yr.prototype.digest=Yr.prototype.l,Yr.prototype.reset=Yr.prototype.reset,Yr.prototype.update=Yr.prototype.j,r2.prototype.add=r2.prototype.add,r2.prototype.multiply=r2.prototype.R,r2.prototype.modulo=r2.prototype.gb,r2.prototype.compare=r2.prototype.X,r2.prototype.toNumber=r2.prototype.ea,r2.prototype.toString=r2.prototype.toString,r2.prototype.getBits=r2.prototype.D,r2.fromNumber=Ii,r2.fromString=function OF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Z1(OF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=A0,a=0;a<t.length;a+=8){var c=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+c),e);8>c?(c=Ii(Math.pow(e,c)),r=r.R(c).add(Ii(u))):r=(r=r.R(n)).add(Ii(u))}return r};var Ise=Kr.createWebChannelTransport=function(){return new py},Sse=Kr.getStatEventTarget=function(){return ey()},tL=Kr.ErrorCode=ty,zse=Kr.EventType=QO,Ese=Kr.Event=Do,UF=Kr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lse=Kr.FetchXmlHttpFactory=B7,yy=Kr.WebChannel=XO,xse=Kr.XhrIo=B2,Dse=Kr.Md5=Yr,N0=Kr.Integer=r2;const jF="@firebase/firestore";class A1{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A1.UNAUTHENTICATED=new A1(null),A1.GOOGLE_CREDENTIALS=new A1("google-credentials-uid"),A1.FIRST_PARTY=new A1("first-party-uid"),A1.MOCK_USER=new A1("mock-user");let k0="9.23.0";const l4=new Zr.Yd("@firebase/firestore");function nL(){return l4.logLevel}function Se(t,...e){if(l4.logLevel<=Zr.in.DEBUG){const n=e.map(rL);l4.debug(`Firestore (${k0}): ${t}`,...n)}}function Y2(t,...e){if(l4.logLevel<=Zr.in.ERROR){const n=e.map(rL);l4.error(`Firestore (${k0}): ${t}`,...n)}}function Vr(t,...e){if(l4.logLevel<=Zr.in.WARN){const n=e.map(rL);l4.warn(`Firestore (${k0}): ${t}`,...n)}}function rL(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${k0}) INTERNAL ASSERTION FAILED: `+t;throw Y2(e),new Error(e)}function lt(t,e){t||Xe()}function Ge(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends rt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _1{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $F{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(A1.UNAUTHENTICATED))}shutdown(){}}class kse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pse{constructor(e){this.t=e,this.currentUser=A1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let a=this.i;const c=b=>this.i!==a?(a=this.i,n(b)):Promise.resolve();let u=new _1;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _1,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const b=u;e.enqueueRetryable((0,G.Z)(function*(){yield b.promise,yield c(r.currentUser)}))},y=b=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _1)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new $F(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new A1(e)}}class Rse{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=A1.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ose{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Rse(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(A1.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fse{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.T;return this.T=c.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const a=c=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt("string"==typeof n.token),this.T=n.token,new GF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class qF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const a=Bse(40);for(let c=0;c<a.length;++c)r.length<20&&a[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return r}}function zt(t,e){return t<e?-1:t>e?1:0}function P0(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}function WF(t){return t+"\0"}class L2{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L2.fromMillis(Date.now())}static fromDate(e){return L2.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new L2(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new L2(0,0))}static max(){return new ft(new L2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class W7{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===W7.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof W7?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const c=e.get(a),u=n.get(a);if(c<u)return-1;if(c>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wt extends W7{construct(e,n,r){return new Wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const Use=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class U2 extends W7{construct(e,n,r){return new U2(e,n,r)}static isValidIdentifier(e){return Use.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),U2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new U2(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const c=()=>{if(0===r.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const p=e[a];if("\\"===p){if(a+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,a+=2}else"`"===p?(u=!u,a++):"."!==p||u?(r+=p,a++):(c(),a++)}if(c(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new U2(n)}static emptyPath(){return new U2([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Wt.fromString(e))}static fromName(e){return new Ue(Wt.fromString(e).popFirst(5))}static empty(){return new Ue(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Wt(e.slice()))}}class Cy{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function iL(t){return t.fields.find(e=>2===e.kind)}function ko(t){return t.fields.filter(e=>2!==e.kind)}Cy.UNKNOWN_ID=-1;class _y{constructor(e,n){this.fieldPath=e,this.kind=n}}class Z7{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Z7(0,cr.min())}}function ZF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ft.fromTimestamp(1e9===r?new L2(n+1,0):new L2(n,r));return new cr(a,Ue.empty(),e)}function KF(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(ft.min(),Ue.empty(),-1)}static max(){return new cr(ft.max(),Ue.empty(),-1)}}function sL(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ue.comparator(t.documentKey,e.documentKey),0!==n?n:zt(t.largestBatchId,e.largestBatchId))}const YF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function u4(t){return aL.apply(this,arguments)}function aL(){return aL=(0,G.Z)(function*(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==YF)throw t;Se("LocalStore","Unexpectedly lost primary lease")}),aL.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let a=0,c=0,u=!1;e.forEach(p=>{++a,p.next(()=>{++c,u&&c===a&&n()},y=>r(y))}),u=!0,c===a&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(a=>a?Q.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,c)=>{r.push(n.call(this,a,c))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,a)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const b=y;n(e[b]).next(H=>{u[b]=H,++p,p===c&&r(u)},H=>a(H))}})}static doWhile(e,n){return new Q((r,a)=>{const c=()=>{!0===e()?n().next(()=>{c()},a):r()};c()})}}class My{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new _1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new K7(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const a=oL(r.target.error);this.v.reject(new K7(e,a))}}static open(e,n,r,a){try{return new My(n,e.transaction(a,r))}catch(c){throw new K7(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new qse(n)}}class Qr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Qr.S((0,rt.z$)())&&Y2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Se("SimpleDb","Removing database:",e),Po(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rt.hl)())return!1;if(Qr.C())return!0;const e=(0,rt.z$)(),n=Qr.S(e),r=0<n&&n<10,a=Qr.N(e),c=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,G.Z)(function*(){return n.db||(Se("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,a)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{a(new K7(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;a("VersionError"===p.name?new ye(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ye(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new K7(e,p))},c.onupgradeneeded=u=>{Se("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.V.O(u.target.result,c.transaction,u.oldVersion,n.version).next(()=>{Se("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,a){var c=this;return(0,G.Z)(function*(){const u="readonly"===n;let p=0;for(;;){++p;try{c.db=yield c.$(e);const y=My.open(c.db,e,u?"readonly":"readwrite",r),b=a(y).next(H=>(y.P(),H)).catch(H=>(y.abort(H),Q.reject(H))).toPromise();return b.catch(()=>{}),yield y.R,b}catch(y){const b=y,H="FirebaseError"!==b.name&&p<3;if(Se("SimpleDb","Transaction failed with error:",b.message,"Retrying:",H),c.close(),!H)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Gse{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Po(this.L.delete())}}class K7 extends ye{constructor(e,n){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function f4(t){return"IndexedDbTransactionError"===t.name}class qse{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Po(r)}add(e){return Se("SimpleDb","ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(n=>(void 0===n&&(n=null),Se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Se("SimpleDb","DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return Se("SimpleDb","COUNT",this.store.name),Po(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),c=[];return this.W(a,(u,p)=>{c.push(p)}).next(()=>c)}{const a=this.store.getAll(r.range);return new Q((c,u)=>{a.onerror=p=>{u(p.target.error)},a.onsuccess=p=>{c(p.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Q((a,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{a(u.target.result)}})}J(e,n){Se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const a=this.cursor(r);return this.W(a,(c,u,p)=>p.delete())}X(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.W(a,n)}Z(e){const n=this.cursor({});return new Q((r,a)=>{n.onerror=c=>{const u=oL(c.target.error);a(u)},n.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}W(e,n){const r=[];return new Q((a,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void a();const y=new Gse(p),b=n(p.primaryKey,p.value,y);if(b instanceof Q){const H=b.catch(S=>(y.done(),Q.reject(S)));r.push(H)}y.isDone?a():null===y.K?p.continue():p.continue(y.K)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Po(t){return new Q((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const a=oL(r.target.error);n(a)}})}let JF=!1;function oL(t){const e=Qr.S((0,rt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JF||(JF=!0,setTimeout(()=>{throw r},0)),r}}return t}class Wse{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,G.Z)(function*(){n.task=null;try{Se("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){f4(r)?Se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield u4(r)}yield n.et(6e4)}))}}class Zse{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,G.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let a=n,c=!0;return Q.doWhile(()=>!0===c&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Se("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,a).next(p=>{a-=p,r.add(u)});c=!1})).next(()=>n-a)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(a,c)).next(p=>(Se("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,n,p))).next(()=>u.size)}))}rt(e,n){let r=e;return n.changes.forEach((a,c)=>{const u=KF(c);sL(u,r)>0&&(r=u)}),new cr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let lr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Y7(t){return null==t}function Q7(t){return 0===t&&1/t==-1/0}function XF(t){return"number"==typeof t&&Number.isInteger(t)&&!Q7(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eB(e)),e=Kse(t.get(n),e);return eB(e)}function Kse(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const c=t.charAt(a);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function eB(t){return t+"\x01\x01"}function Si(t){const e=t.length;if(lt(e>=2),2===e)return lt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wt.emptyPath();const n=e-2,r=[];let a="";for(let c=0;c<e;){const u=t.indexOf("\x01",c);switch((u<0||u>n)&&Xe(),t.charAt(u+1)){case"\x01":const p=t.substring(c,u);let y;0===a.length?y=p:(a+=p,y=a,a=""),r.push(y);break;case"\x10":a+=t.substring(c,u),a+="\0";break;case"\x11":a+=t.substring(c,u+1);break;default:Xe()}c=u+2}return new Wt(r)}const tB=["userId","batchId"];function wy(t,e){return[t,un(e)]}function nB(t,e,n){return[t,un(e),n]}const Yse={},Qse=["prefixPath","collectionGroup","readTime","documentId"],Jse=["prefixPath","collectionGroup","documentId"],Xse=["collectionGroup","readTime","prefixPath","documentId"],e3e=["canonicalId","targetId"],t3e=["targetId","path"],n3e=["path","targetId"],r3e=["collectionId","parent"],i3e=["indexId","uid"],s3e=["uid","sequenceNumber"],a3e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],o3e=["indexId","uid","orderedDocumentKey"],c3e=["userId","collectionPath","documentId"],l3e=["userId","collectionPath","largestBatchId"],u3e=["userId","collectionGroup","largestBatchId"],rB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],f3e=[...rB,"documentOverlays"],iB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sB=iB,d3e=[...sB,"indexConfiguration","indexState","indexEntries"];class cL extends QF{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function T1(t,e){const n=Ge(t);return Qr.M(n.ht,e)}function aB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function d4(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class p2{constructor(e,n){this.comparator=e,this.root=n||K1.EMPTY}insert(e,n){return new p2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,K1.BLACK,null,null))}remove(e){return new p2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,K1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new by(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new by(this.root,e,this.comparator,!1)}getReverseIterator(){return new by(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new by(this.root,e,this.comparator,!0)}}class by{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class K1{constructor(e,n,r,a,c){this.key=e,this.value=n,this.color=r??K1.RED,this.left=a??K1.EMPTY,this.right=c??K1.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,c){return new K1(e??this.key,n??this.value,r??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const c=r(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,r),null):0===c?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return K1.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(e,a.key)){if(a.right.isEmpty())return K1.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,K1.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,K1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}K1.EMPTY=null,K1.RED=!0,K1.BLACK=!1,K1.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,n,r,a){return this}insert(t,e,n){return new K1(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class V2{constructor(e){this.comparator=e,this.data=new p2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cB(this.data.getIterator())}getIteratorFrom(e){return new cB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof V2)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new V2(this.comparator);return n.data=e,n}}class cB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function R0(t){return t.hasNext()?t.getNext():void 0}class kn{constructor(e){this.fields=e,e.sort(U2.comparator)}static empty(){return new kn([])}unionWith(e){let n=new V2(U2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return P0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class lB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class M1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lB("Invalid base64 string: "+a):a}}(e);return new M1(n)}static fromUint8Array(e){const n=function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a}(e);return new M1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}M1.EMPTY_BYTE_STRING=new M1("");const p3e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function h4(t){if(lt(!!t),"string"==typeof t){let e=0;const n=p3e.exec(t);if(lt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:j2(t.seconds),nanos:j2(t.nanos)}}function j2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Es(t){return"string"==typeof t?M1.fromBase64String(t):M1.fromUint8Array(t)}function Hy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?Vy(e):e}function J7(t){const e=h4(t.mapValue.fields.__local_write_time__.timestampValue);return new L2(e.seconds,e.nanos)}class m3e{constructor(e,n,r,a,c,u,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=b}}class p4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new p4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof p4&&e.projectId===this.projectId&&e.database===this.database}}const m4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Iy={nullValue:"NULL_VALUE"};function g4(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:hB(t)?9007199254740991:10:Xe()}function zi(t,e){if(t===e)return!0;const n=g4(t);if(n!==g4(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J7(t).isEqual(J7(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=h4(r.timestampValue),u=h4(a.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return a=e,Es(t.bytesValue).isEqual(Es(a.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return j2(r.geoPointValue.latitude)===j2(a.geoPointValue.latitude)&&j2(r.geoPointValue.longitude)===j2(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return j2(r.integerValue)===j2(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=j2(r.doubleValue),u=j2(a.doubleValue);return c===u?Q7(c)===Q7(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return P0(t.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:return function(r,a){const c=r.mapValue.fields||{},u=a.mapValue.fields||{};if(aB(c)!==aB(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!zi(c[p],u[p])))return!1;return!0}(t,e);default:return Xe()}var a}function X7(t,e){return void 0!==(t.values||[]).find(n=>zi(n,e))}function v4(t,e){if(t===e)return 0;const n=g4(t),r=g4(e);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(a,c){const u=j2(a.integerValue||a.doubleValue),p=j2(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(t,e);case 3:return uB(t.timestampValue,e.timestampValue);case 4:return uB(J7(t),J7(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(a,c){const u=Es(a),p=Es(c);return u.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const u=a.split("/"),p=c.split("/");for(let y=0;y<u.length&&y<p.length;y++){const b=zt(u[y],p[y]);if(0!==b)return b}return zt(u.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const u=zt(j2(a.latitude),j2(c.latitude));return 0!==u?u:zt(j2(a.longitude),j2(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,c){const u=a.values||[],p=c.values||[];for(let y=0;y<u.length&&y<p.length;++y){const b=v4(u[y],p[y]);if(b)return b}return zt(u.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===m4.mapValue&&c===m4.mapValue)return 0;if(a===m4.mapValue)return 1;if(c===m4.mapValue)return-1;const u=a.fields||{},p=Object.keys(u),y=c.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let H=0;H<p.length&&H<b.length;++H){const S=zt(p[H],b[H]);if(0!==S)return S;const N=v4(u[p[H]],y[b[H]]);if(0!==N)return N}return zt(p.length,b.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function uB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zt(t,e);const n=h4(t),r=h4(e),a=zt(n.seconds,r.seconds);return 0!==a?a:zt(n.nanos,r.nanos)}function O0(t){return lL(t)}function lL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const a=h4(r);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let a="[",c=!0;for(const u of r.values||[])c?c=!1:a+=",",a+=lL(u);return a+"]"}(t.arrayValue):"mapValue"in t?function(r){const a=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of a)u?u=!1:c+=",",c+=`${p}:${lL(r.fields[p])}`;return c+"}"}(t.mapValue):Xe();var e}function Ro(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uL(t){return!!t&&"integerValue"in t}function ef(t){return!!t&&"arrayValue"in t}function fB(t){return!!t&&"nullValue"in t}function dB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zy(t){return!!t&&"mapValue"in t}function tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return d4(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function g3e(t){return"nullValue"in t?Iy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ro(p4.empty(),Ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function v3e(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ro(p4.empty(),Ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?m4:Xe()}function pB(t,e){const n=v4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function mB(t,e){const n=v4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Y1{constructor(e){this.value=e}static empty(){return new Y1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(n)}setAll(e){let n=U2.emptyPath(),r={},a=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,a),r={},a=[],n=p.popLast()}u?r[p.lastSegment()]=tf(u):a.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,a)}delete(e){const n=this.field(e.popLast());zy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];zy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){d4(n,(a,c)=>e[a]=c);for(const a of r)delete e[a]}clone(){return new Y1(tf(this.value))}}function gB(t){const e=[];return d4(t.fields,(n,r)=>{const a=new U2([n]);if(zy(r)){const c=gB(r.mapValue).fields;if(0===c.length)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)}),new kn(e)}class I2{constructor(e,n,r,a,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new I2(e,0,ft.min(),ft.min(),ft.min(),Y1.empty(),0)}static newFoundDocument(e,n,r,a){return new I2(e,1,n,ft.min(),r,a,0)}static newNoDocument(e,n){return new I2(e,2,n,ft.min(),ft.min(),Y1.empty(),0)}static newUnknownDocument(e,n){return new I2(e,3,n,ft.min(),ft.min(),Y1.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Y1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Y1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof I2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new I2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class y4{constructor(e,n){this.position=e,this.inclusive=n}}function vB(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(r=c.field.isKeyField()?Ue.comparator(Ue.fromName(u.referenceValue),n.key):v4(u,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function yB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zi(t.position[n],e.position[n]))return!1;return!0}class F0{constructor(e,n="asc"){this.field=e,this.dir=n}}function y3e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CB{}class Gt extends CB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new C3e(e,n,r):"array-contains"===n?new w3e(e,r):"in"===n?new VB(e,r):"not-in"===n?new b3e(e,r):"array-contains-any"===n?new H3e(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new _3e(e,r):new M3e(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(v4(n,this.value)):null!==n&&g4(this.value)===g4(n)&&this.matchesComparison(v4(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class s2 extends CB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new s2(e,n)}matches(e){return B0(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function B0(t){return"and"===t.op}function fL(t){return"or"===t.op}function dL(t){return _B(t)&&B0(t)}function _B(t){for(const e of t.filters)if(e instanceof s2)return!1;return!0}function hL(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+O0(t.value);if(dL(t))return t.filters.map(e=>hL(e)).join(",");{const e=t.filters.map(n=>hL(n)).join(",");return`${t.op}(${e})`}}function MB(t,e){return t instanceof Gt?(n=t,(r=e)instanceof Gt&&n.op===r.op&&n.field.isEqual(r.field)&&zi(n.value,r.value)):t instanceof s2?function(n,r){return r instanceof s2&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((a,c,u)=>a&&MB(c,r.filters[u]),!0)}(t,e):void Xe();var n,r}function wB(t,e){const n=t.filters.concat(e);return s2.create(n,t.op)}function bB(t){return t instanceof Gt?`${(e=t).field.canonicalString()} ${e.op} ${O0(e.value)}`:t instanceof s2?function(e){return e.op.toString()+" {"+e.getFilters().map(bB).join(" ,")+"}"}(t):"Filter";var e}class C3e extends Gt{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class _3e extends Gt{constructor(e,n){super(e,"in",n),this.keys=HB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M3e extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=HB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class w3e extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ef(n)&&X7(n.arrayValue,this.value)}}class VB extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&X7(this.value.arrayValue,n)}}class b3e extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(X7(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!X7(this.value.arrayValue,n)}}class H3e extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>X7(this.value.arrayValue,r))}}class V3e{constructor(e,n=null,r=[],a=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=c,this.startAt=u,this.endAt=p,this.dt=null}}function pL(t,e=null,n=[],r=[],a=null,c=null,u=null){return new V3e(t,e,n,r,a,c,u)}function Oo(t){const e=Ge(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Y7(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>O0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>O0(r)).join(",")),e.dt=n}return e.dt}function nf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y3e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yB(t.startAt,e.startAt)&&yB(t.endAt,e.endAt)}function Ey(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Ly(t,e){return t.filters.filter(n=>n instanceof Gt&&n.field.isEqual(e))}function IB(t,e,n){let r=Iy,a=!0;for(const c of Ly(t,e)){let u=Iy,p=!0;switch(c.op){case"<":case"<=":u=g3e(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=Iy}pB({value:r,inclusive:a},{value:u,inclusive:p})<0&&(r=u,a=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];pB({value:r,inclusive:a},{value:u,inclusive:n.inclusive})<0&&(r=u,a=n.inclusive);break}return{value:r,inclusive:a}}function SB(t,e,n){let r=m4,a=!0;for(const c of Ly(t,e)){let u=m4,p=!0;switch(c.op){case">=":case">":u=v3e(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=m4}mB({value:r,inclusive:a},{value:u,inclusive:p})>0&&(r=u,a=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];mB({value:r,inclusive:a},{value:u,inclusive:n.inclusive})>0&&(r=u,a=n.inclusive);break}return{value:r,inclusive:a}}class Ls{constructor(e,n=null,r=[],a=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function zB(t,e,n,r,a,c,u,p){return new Ls(t,e,n,r,a,c,u,p)}function U0(t){return new Ls(t)}function EB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function mL(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function gL(t){return null!==t.collectionGroup}function Fo(t){const e=Ge(t);if(null===e.wt){e.wt=[];const n=xy(e),r=mL(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new F0(n)),e.wt.push(new F0(U2.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new F0(U2.keyField(),c))}}}return e.wt}function Vn(t){const e=Ge(t);if(!e._t)if("F"===e.limitType)e._t=pL(e.path,e.collectionGroup,Fo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Fo(e))n.push(new F0(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new y4(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new y4(e.startAt.position,e.startAt.inclusive):null;e._t=pL(e.path,e.collectionGroup,n,e.filters,e.limit,r,a)}return e._t}function vL(t,e){e.getFirstInequalityField(),xy(t);const n=t.filters.concat([e]);return new Ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dy(t,e,n){return new Ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return nf(Vn(t),Vn(e))&&t.limitType===e.limitType}function LB(t){return`${Oo(Vn(t))}|lt:${t.limitType}`}function yL(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bB(r)).join(", ")}]`),Y7(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>O0(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>O0(r)).join(",")),`Target(${n})`}(Vn(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(n,r){const a=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,r){for(const a of Fo(n))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(t,e)&&function(n,r){for(const a of n.filters)if(!a.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(a,c,u){const p=vB(a,c,u);return a.inclusive?p<=0:p<0}(n.startAt,Fo(n),r)||n.endAt&&!function(a,c,u){const p=vB(a,c,u);return a.inclusive?p>=0:p>0}(n.endAt,Fo(n),r)));var n,r}function xB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DB(t){return(e,n)=>{let r=!1;for(const a of Fo(t)){const c=I3e(a,e,n);if(0!==c)return c;r=r||a.field.isKeyField()}return 0}}function I3e(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(a,c,u){const p=c.data.field(a),y=u.data.field(a);return null!==p&&null!==y?v4(p,y):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[a,c]of r)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){d4(this.inner,(n,r)=>{for(const[a,c]of r)e(a,c)})}isEmpty(){return oB(this.inner)}size(){return this.innerSize}}const S3e=new p2(Ue.comparator);function Pn(){return S3e}const AB=new p2(Ue.comparator);function af(...t){let e=AB;for(const n of t)e=e.insert(n.key,n);return e}function TB(t){let e=AB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return of()}function NB(){return of()}function of(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const z3e=new p2(Ue.comparator),E3e=new V2(Ue.comparator);function Tt(...t){let e=E3e;for(const n of t)e=e.add(n);return e}const L3e=new V2(zt);function CL(){return L3e}function kB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q7(e)?"-0":e}}function PB(t){return{integerValue:""+t}}function RB(t,e){return XF(e)?PB(e):kB(t,e)}class Ay{constructor(){this._=void 0}}function x3e(t,e,n){return t instanceof j0?function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Hy(a)&&(a=Vy(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,e):t instanceof Bo?FB(t,e):t instanceof Uo?BB(t,e):function(r,a){const c=OB(r,a),u=UB(c)+UB(r.gt);return uL(c)&&uL(r.gt)?PB(u):kB(r.serializer,u)}(t,e)}function D3e(t,e,n){return t instanceof Bo?FB(t,e):t instanceof Uo?BB(t,e):n}function OB(t,e){return t instanceof $0?uL(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class j0 extends Ay{}class Bo extends Ay{constructor(e){super(),this.elements=e}}function FB(t,e){const n=jB(e);for(const r of t.elements)n.some(a=>zi(a,r))||n.push(r);return{arrayValue:{values:n}}}class Uo extends Ay{constructor(e){super(),this.elements=e}}function BB(t,e){let n=jB(e);for(const r of t.elements)n=n.filter(a=>!zi(a,r));return{arrayValue:{values:n}}}class $0 extends Ay{constructor(e,n){super(),this.serializer=e,this.gt=n}}function UB(t){return j2(t.integerValue||t.doubleValue)}function jB(t){return ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cf{constructor(e,n){this.field=e,this.transform=n}}class T3e{constructor(e,n){this.version=e,this.transformResults=n}}class x2{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new x2}static exists(e){return new x2(void 0,e)}static updateTime(e){return new x2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ty(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ny{}function $B(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new q0(t.key,x2.none()):new G0(t.key,t.data,x2.none());{const n=t.data,r=Y1.empty();let a=new V2(U2.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);null===u&&c.length>1&&(c=c.popLast(),u=n.field(c)),null===u?r.delete(c):r.set(c,u),a=a.add(c)}return new Ds(t.key,r,new kn(a.toArray()),x2.none())}}function N3e(t,e,n){t instanceof G0?function(r,a,c){const u=r.value.clone(),p=WB(r.fieldTransforms,a,c.transformResults);u.setAll(p),a.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(r,a,c){if(!Ty(r.precondition,a))return void a.convertToUnknownDocument(c.version);const u=WB(r.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(qB(r)),p.setAll(u),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function lf(t,e,n,r){return t instanceof G0?function(a,c,u,p){if(!Ty(a.precondition,c))return u;const y=a.value.clone(),b=ZB(a.fieldTransforms,p,c);return y.setAll(b),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ds?function(a,c,u,p){if(!Ty(a.precondition,c))return u;const y=ZB(a.fieldTransforms,p,c),b=c.data;return b.setAll(qB(a)),b.setAll(y),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),null===u?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(H=>H.field))}(t,e,n,r):(u=n,Ty(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function k3e(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),c=OB(r.transform,a||null);null!=c&&(null===n&&(n=Y1.empty()),n.set(r.field,c))}return n||null}function GB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&P0(n,r,(a,c)=>function A3e(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Bo&&r instanceof Bo||n instanceof Uo&&r instanceof Uo?P0(n.elements,r.elements,zi):n instanceof $0&&r instanceof $0?zi(n.gt,r.gt):n instanceof j0&&r instanceof j0);var n,r}(a,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class G0 extends Ny{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ds extends Ny{constructor(e,n,r,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WB(t,e,n){const r=new Map;lt(t.length===n.length);for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,p=e.data.field(c.field);r.set(c.field,D3e(u,p,n[a]))}return r}function ZB(t,e,n){const r=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);r.set(a.field,x3e(c,u,e))}return r}class q0 extends Ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _L extends Ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ML{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&N3e(c,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NB();return this.mutations.forEach(a=>{const c=e.get(a.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(a.key)?null:p;const y=$B(u,p);null!==y&&r.set(a.key,y),u.isValidDocument()||u.convertToNoDocument(ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&P0(this.mutations,e.mutations,(n,r)=>GB(n,r))&&P0(this.baseMutations,e.baseMutations,(n,r)=>GB(n,r))}}class wL{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){lt(e.mutations.length===r.length);let a=z3e;const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,r[u].version);return new wL(e,n,r,a)}}class bL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class R3e{constructor(e,n){this.count=e,this.unchangedNames=n}}var i1,Zt;function KB(t){switch(t){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function YB(t){if(void 0===t)return Y2("GRPC error has no .code"),ne.UNKNOWN;switch(t){case i1.OK:return ne.OK;case i1.CANCELLED:return ne.CANCELLED;case i1.UNKNOWN:return ne.UNKNOWN;case i1.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case i1.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case i1.INTERNAL:return ne.INTERNAL;case i1.UNAVAILABLE:return ne.UNAVAILABLE;case i1.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case i1.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case i1.NOT_FOUND:return ne.NOT_FOUND;case i1.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case i1.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case i1.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case i1.ABORTED:return ne.ABORTED;case i1.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case i1.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case i1.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Zt=i1||(i1={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class HL{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ky}static getOrCreateInstance(){return null===ky&&(ky=new HL),ky}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ky=null;function QB(){return new TextEncoder}const O3e=new N0([4294967295,4294967295],0);function JB(t){const e=QB().encode(t),n=new Dse;return n.update(e),new Uint8Array(n.digest())}function XB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new N0([n,r],0),new N0([a,c],0)]}class VL{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uf(`Invalid padding: ${n}`);if(r<0)throw new uf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new uf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new uf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=N0.fromNumber(this.It)}Et(e,n,r){let a=e.add(n.multiply(N0.fromNumber(r)));return 1===a.compare(O3e)&&(a=new N0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=JB(e),[r,a]=XB(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,a,c);if(!this.At(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new VL(c,a,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.It)return;const n=JB(e),[r,a]=XB(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,a,c);this.Rt(u)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(ft.min(),a,new p2(zt),Pn(),Tt())}}class df{constructor(e,n,r,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new df(r,n,Tt(),Tt(),Tt())}}class Py{constructor(e,n,r,a){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=a}}class eU{constructor(e,n){this.targetId=e,this.Vt=n}}class tU{constructor(e,n,r=M1.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class nU{constructor(){this.St=0,this.Dt=iU(),this.Ct=M1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Tt(),n=Tt(),r=Tt();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Xe()}}),new df(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class F3e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pn(),this.zt=rU(),this.Wt=new p2(zt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,a)=>{this.te(a)&&n(a)})}ne(e){var n;const r=e.targetId,a=e.Vt.count,c=this.se(r);if(c){const u=c.target;if(Ey(u))if(0===a){const p=new Ue(u.path);this.Yt(r,p,I2.newNoDocument(p,ft.min()))}else lt(1===a);else{const p=this.ie(r);if(p!==a){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=HL.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(b,H,S){var N,U,oe,Ce,Me,je;const qe={localCacheCount:H,existenceFilterCount:S.count},Ze=S.unchangedNames;return Ze&&(qe.bloomFilter={applied:0===b,hashCount:null!==(N=Ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Ce=null===(oe=null===(U=Ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===oe?void 0:oe.length)&&void 0!==Ce?Ce:0,padding:null!==(je=null===(Me=Ze?.bits)||void 0===Me?void 0:Me.padding)&&void 0!==je?je:0}),qe}(y,p,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:a}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:u=0},hashCount:p=0}=r;let y,b;try{y=Es(c).toUint8Array()}catch(H){if(H instanceof lB)return Vr("Decoding the base64 bloom filter in existence filter failed ("+H.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw H}try{b=new VL(y,u,p)}catch(H){return Vr(H instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",H),1}return 0===b.It?1:a!==n-this.oe(e.targetId,b)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let a=0;return r.forEach(c=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;n.vt(p)||(this.Yt(e,c,null),a++)}),a}ce(e){const n=new Map;this.Qt.forEach((c,u)=>{const p=this.se(u);if(p){if(c.current&&Ey(p.target)){const y=new Ue(p.target.path);null!==this.jt.get(y)||this.ae(u,y)||this.Yt(u,y,I2.newNoDocument(y,e))}c.Mt&&(n.set(u,c.Ot()),c.Ft())}});let r=Tt();this.zt.forEach((c,u)=>{let p=!0;u.forEachWhile(y=>{const b=this.se(y);return!b||"TargetPurposeLimboResolution"===b.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.jt.forEach((c,u)=>u.setReadTime(e));const a=new ff(e,n,this.Wt,this.jt,r);return this.jt=Pn(),this.zt=rU(),this.Wt=new p2(zt),a}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,n)?a.Bt(n,1):a.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new V2(zt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rU(){return new p2(Ue.comparator)}function iU(){return new p2(Ue.comparator)}const B3e={asc:"ASCENDING",desc:"DESCENDING"},U3e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j3e={and:"AND",or:"OR"};class $3e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function IL(t,e){return t.useProto3Json||Y7(e)?e:{value:e}}function W0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G3e(t,e){return W0(t,e.toTimestamp())}function Q2(t){return lt(!!t),ft.fromTimestamp(function(e){const n=h4(e);return new L2(n.seconds,n.nanos)}(t))}function SL(t,e){return(n=t,new Wt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function aU(t){const e=Wt.fromString(t);return lt(mU(e)),e}function hf(t,e){return SL(t.databaseId,e.path)}function Li(t,e){const n=aU(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(cU(n))}function zL(t,e){return SL(t.databaseId,e)}function oU(t){const e=aU(t);return 4===e.length?Wt.emptyPath():cU(e)}function pf(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cU(t){return lt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lU(t,e,n){return{name:hf(t,e),fields:n.value.mapValue.fields}}function uU(t,e,n){const r=Li(t,e.name),a=Q2(e.updateTime),c=e.createTime?Q2(e.createTime):ft.min(),u=new Y1({mapValue:{fields:e.fields}}),p=I2.newFoundDocument(r,a,c,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function mf(t,e){let n;if(e instanceof G0)n={update:lU(t,e.key,e.value)};else if(e instanceof q0)n={delete:hf(t,e.key)};else if(e instanceof Ds)n={update:lU(t,e.key,e.data),updateMask:X3e(e.fieldMask)};else{if(!(e instanceof _L))return Xe();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const u=c.transform;if(u instanceof j0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Uo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $0)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:G3e(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Xe()),n;var a}function EL(t,e){const n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?x2.updateTime(Q2(a.updateTime)):void 0!==a.exists?x2.exists(a.exists):x2.none():x2.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(c,u){let p=null;"setToServerValue"in u?(lt("REQUEST_TIME"===u.setToServerValue),p=new j0):"appendMissingElements"in u?p=new Bo(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Uo(u.removeAllFromArray.values||[]):"increment"in u?p=new $0(c,u.increment):Xe();const y=U2.fromServerFormat(u.fieldPath);return new cf(y,p)}(t,a)):[];var a;if(e.update){const a=Li(t,e.update.name),c=new Y1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new kn((e.updateMask.fieldPaths||[]).map(b=>U2.fromServerFormat(b)));return new Ds(a,c,u,n,r)}return new G0(a,c,n,r)}if(e.delete){const a=Li(t,e.delete);return new q0(a,n)}if(e.verify){const a=Li(t,e.verify);return new _L(a,n)}return Xe()}function fU(t,e){return{documents:[zL(t,e.path)]}}function LL(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zL(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zL(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0!==y.length)return pU(s2.create(y,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(y){if(0!==y.length)return y.map(b=>{return{field:C4((H=b).field),direction:Y3e(H.dir)};var H})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=IL(t,e.limit);var p,y;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function dU(t){let e=oU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){lt(1===r);const H=n.from[0];H.allDescendants?a=H.collectionId:e=e.child(H.collectionId)}let c=[];n.where&&(c=function(H){const S=hU(H);return S instanceof s2&&dL(S)?S.getFilters():[S]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(H=>{return new F0(Z0((S=H).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let p=null;n.limit&&(p=function(H){let S;return S="object"==typeof H?H.value:H,Y7(S)?null:S}(n.limit));let y=null;var H;n.startAt&&(y=new y4((H=n.startAt).values||[],!!H.before));let b=null;return n.endAt&&(b=function(H){return new y4(H.values||[],!H.before)}(n.endAt)),zB(e,a,u,c,p,"F",y,b)}function hU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Z0(e.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Z0(e.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Z0(e.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Z0(e.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?Gt.create(Z0((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return s2.create(e.compositeFilter.filters.map(n=>hU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(t):Xe();var e}function Y3e(t){return B3e[t]}function Q3e(t){return U3e[t]}function J3e(t){return j3e[t]}function C4(t){return{fieldPath:t.canonicalString()}}function Z0(t){return U2.fromServerFormat(t.fieldPath)}function pU(t){return t instanceof Gt?function(e){if("=="===e.op){if(dB(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NAN"}};if(fB(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dB(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NAN"}};if(fB(e.value))return{unaryFilter:{field:C4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C4(e.field),op:Q3e(e.op),value:e.value}}}(t):t instanceof s2?function(e){const n=e.getFilters().map(r=>pU(r));return 1===n.length?n[0]:{compositeFilter:{op:J3e(e.op),filters:n}}}(t):Xe()}function X3e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class As{constructor(e,n,r,a,c=ft.min(),u=ft.min(),p=M1.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gU{constructor(e){this.fe=e}}function vU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ry(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:hf(a=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:W0(a,c.version.toTimestamp()),createTime:W0(a,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jo(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:jo(e.version)}}var a,c;return r}function Ry(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $o(t){const e=new L2(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function Go(t,e){const n=(e.baseMutations||[]).map(c=>EL(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>EL(t.fe,c)),a=L2.fromMillis(e.localWriteTimeMs);return new ML(e.batchId,a,n,r)}function gf(t){const e=$o(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?$o(t.lastLimboFreeSnapshotVersion):ft.min();let r;var a;return void 0!==t.query.documents?(lt(1===(a=t.query).documents.length),r=Vn(U0(oU(a.documents[0])))):r=Vn(dU(t.query)),new As(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,M1.fromBase64String(t.resumeToken))}function yU(t,e){const n=jo(e.snapshotVersion),r=jo(e.lastLimboFreeSnapshotVersion);let a;a=Ey(e.target)?fU(t.fe,e.target):LL(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function xL(t){const e=dU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dy(e,e.limit,"L"):e}function DL(t,e){return new bL(e.largestBatchId,EL(t.fe,e.overlayMutation))}function CU(t,e){const n=e.path.lastSegment();return[t,un(e.path.popLast()),n]}function _U(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:jo(r.readTime),documentKey:un(r.documentKey.path),largestBatchId:r.largestBatchId}}class t4e{getBundleMetadata(e,n){return MU(e).get(n).next(r=>{if(r)return{id:(a=r).bundleId,createTime:$o(a.createTime),version:a.version};var a})}saveBundleMetadata(e,n){return MU(e).put({bundleId:(r=n).id,createTime:jo(Q2(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return wU(e).get(n).next(r=>{if(r)return{name:(a=r).name,query:xL(a.bundledQuery),readTime:$o(a.readTime)};var a})}saveNamedQuery(e,n){return wU(e).put({name:(r=n).name,readTime:jo(Q2(r.readTime)),bundledQuery:r.bundledQuery});var r}}function MU(t){return T1(t,"bundles")}function wU(t){return T1(t,"namedQueries")}class Oy{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new Oy(e,n.uid||"")}getOverlay(e,n){return vf(e).get(CU(this.userId,n)).next(r=>r?DL(this.serializer,r):null)}getOverlays(e,n){const r=Ei();return Q.forEach(n,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,n,r){const a=[];return r.forEach((c,u)=>{const p=new bL(n,u);a.push(this.we(e,p))}),Q.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach(u=>a.add(un(u.getCollectionPath())));const c=[];return a.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(vf(e).J("collectionPathOverlayIndex",p))}),Q.waitFor(c)}getOverlaysForCollection(e,n,r){const a=Ei(),c=un(n),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return vf(e).j("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const b=DL(this.serializer,y);a.set(b.getKey(),b)}return a})}getOverlaysForCollectionGroup(e,n,r,a){const c=Ei();let u;const p=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vf(e).X({index:"collectionGroupOverlayIndex",range:p},(y,b,H)=>{const S=DL(this.serializer,b);c.size()<a||S.largestBatchId===u?(c.set(S.getKey(),S),u=S.largestBatchId):H.done()}).next(()=>c)}we(e,n){return vf(e).put(function(r,a,c){const[u,p,y]=CU(a,c.mutation.key);return{userId:a,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:mf(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function vf(t){return T1(t,"documentOverlays")}class qo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(j2(e.integerValue));else if("doubleValue"in e){const r=j2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Q7(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Es(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?hB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Xe()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const a of Object.keys(r))this.Te(a,n),this.me(r[a],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const a of r)this.me(a,n)}ve(e,n){this.ye(n,37),Ue.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function n4e(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function bU(t){const e=64-function(n){let r=0;for(let a=0;a<8;++a){const c=n4e(255&n[a]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}qo.Ve=new qo;class r4e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const a=n.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const a=n.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const n=this.Fe(e),r=bU(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}Le(e){const n=this.Fe(e),r=bU(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(a){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class i4e{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class s4e{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class yf{constructor(){this.je=new r4e,this.ze=new i4e(this.je),this.We=new s4e(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Wo{constructor(e,n,r,a){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wo(this.indexId,this.documentKey,this.arrayValue,r)}}function _4(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=HU(t.arrayValue,e.arrayValue),0!==n?n:(n=HU(t.directionalValue,e.directionalValue),0!==n?n:Ue.comparator(t.documentKey,e.documentKey)))}function HU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class a4e{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){lt(e.collectionGroup===this.collectionId);const n=iL(e);if(void 0!==n&&!this.en(n))return!1;const r=ko(e);let a=new Set,c=0,u=0;for(;c<r.length&&this.en(r[c]);++c)a=a.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const p=r[c];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++c}for(;c<r.length;++c)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function VU(t){var e,n;if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt){if(t instanceof VB){const a=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Gt.create(t.field,"==",c)))||[];return s2.create(a,"or")}return t}const r=t.filters.map(a=>VU(a));return s2.create(r,t.op)}function o4e(t){if(0===t.getFilters().length)return[];const e=NL(VU(t));return lt(IU(e)),AL(e)||TL(e)?[e]:e.getFilters()}function AL(t){return t instanceof Gt}function TL(t){return t instanceof s2&&dL(t)}function IU(t){return AL(t)||TL(t)||function(e){if(e instanceof s2&&fL(e)){for(const n of e.getFilters())if(!AL(n)&&!TL(n))return!1;return!0}return!1}(t)}function NL(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;if(1===t.filters.length)return NL(t.filters[0]);const e=t.filters.map(r=>NL(r));let n=s2.create(e,t.op);return n=Fy(n),IU(n)?n:(lt(n instanceof s2),lt(B0(n)),lt(n.filters.length>1),n.filters.reduce((r,a)=>kL(r,a)))}function kL(t,e){let n;return lt(t instanceof Gt||t instanceof s2),lt(e instanceof Gt||e instanceof s2),n=t instanceof Gt?e instanceof Gt?s2.create([t,e],"and"):SU(t,e):e instanceof Gt?SU(e,t):function(r,a){if(lt(r.filters.length>0&&a.filters.length>0),B0(r)&&B0(a))return wB(r,a.getFilters());const c=fL(r)?r:a,u=fL(r)?a:r,p=c.filters.map(y=>kL(y,u));return s2.create(p,"or")}(t,e),Fy(n)}function SU(t,e){if(B0(e))return wB(e,t.getFilters());{const n=e.filters.map(r=>kL(t,r));return s2.create(n,"or")}}function Fy(t){if(lt(t instanceof Gt||t instanceof s2),t instanceof Gt)return t;const e=t.getFilters();if(1===e.length)return Fy(e[0]);if(_B(t))return t;const n=e.map(a=>Fy(a)),r=[];return n.forEach(a=>{a instanceof Gt?r.push(a):a instanceof s2&&(a.op===t.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:s2.create(r,t.op)}class c4e{constructor(){this.rn=new PL}addToCollectionParentIndex(e,n){return this.rn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(cr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class PL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new V2(Wt.comparator),c=!a.has(r);return this.index[n]=a.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new V2(Wt.comparator)).toArray()}}const By=new Uint8Array(0);class l4e{constructor(e,n){this.user=e,this.databaseId=n,this.on=new PL,this.un=new xs(r=>Oo(r),(r,a)=>nf(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:un(a)};return zU(e).put(c)}return Q.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[WF(n),""],!1,!0);return zU(e).j(a).next(c=>{for(const u of c){if(u.collectionId!==n)break;r.push(Si(u.parent))}return r})}addFieldIndex(e,n){const r=Uy(e),a={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete a.indexId;const c=r.add(a);if(n.indexState){const u=_f(e);return c.next(p=>{u.put(_U(p,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=Uy(e),a=_f(e),c=Cf(e);return r.delete(n.indexId).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Cf(e);let a=!0;const c=new Map;return Q.forEach(this.cn(n),u=>this.an(e,u).next(p=>{a&&(a=!!p),c.set(u,p)})).next(()=>{if(a){let u=Tt();const p=[];return Q.forEach(c,(y,b)=>{var H;Se("IndexedDbIndexManager",`Using index ${H=y,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${Oo(n)}`);const S=function(Ze,ot){const dt=iL(ot);if(void 0===dt)return null;for(const xt of Ly(Ze,dt.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(b,y),N=function(Ze,ot){const dt=new Map;for(const xt of ko(ot))for(const D2 of Ly(Ze,xt.fieldPath))switch(D2.op){case"==":case"in":dt.set(xt.fieldPath.canonicalString(),D2.value);break;case"not-in":case"!=":return dt.set(xt.fieldPath.canonicalString(),D2.value),Array.from(dt.values())}return null}(b,y),U=function(Ze,ot){const dt=[];let xt=!0;for(const D2 of ko(ot)){const Jr=0===D2.kind?IB(Ze,D2.fieldPath,Ze.startAt):SB(Ze,D2.fieldPath,Ze.startAt);dt.push(Jr.value),xt&&(xt=Jr.inclusive)}return new y4(dt,xt)}(b,y),oe=function(Ze,ot){const dt=[];let xt=!0;for(const D2 of ko(ot)){const Jr=0===D2.kind?SB(Ze,D2.fieldPath,Ze.endAt):IB(Ze,D2.fieldPath,Ze.endAt);dt.push(Jr.value),xt&&(xt=Jr.inclusive)}return new y4(dt,xt)}(b,y),Ce=this.hn(y,b,U),Me=this.hn(y,b,oe),je=this.ln(y,b,N),qe=this.fn(y.indexId,S,Ce,U.inclusive,Me,oe.inclusive,je);return Q.forEach(qe,Ze=>r.H(Ze,n.limit).next(ot=>{ot.forEach(dt=>{const xt=Ue.fromSegments(dt.documentKey);u.has(xt)||(u=u.add(xt),p.push(xt))})}))}).next(()=>p)}return Q.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:o4e(s2.create(e.filters,"and")).map(r=>pL(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,a,c,u,p){const y=(null!=n?n.length:1)*Math.max(r.length,c.length),b=y/(null!=n?n.length:1),H=[];for(let S=0;S<y;++S){const N=n?this.dn(n[S/b]):By,U=this.wn(e,N,r[S%b],a),oe=this._n(e,N,c[S%b],u),Ce=p.map(Me=>this.wn(e,N,Me,!0));H.push(...this.createRange(U,oe,Ce))}return H}wn(e,n,r,a){const c=new Wo(e,Ue.empty(),n,r);return a?c:c.Je()}_n(e,n,r,a){const c=new Wo(e,Ue.empty(),n,r);return a?c.Je():c}an(e,n){const r=new a4e(n),a=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next(c=>{let u=null;for(const p of c)r.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,n){let r=2;const a=this.cn(n);return Q.forEach(a,c=>this.an(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new V2(U2.comparator),b=!1;for(const H of p.filters)for(const S of H.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?b=!0:y=y.add(S.field));for(const H of p.orderBy)H.field.isKeyField()||(y=y.add(H.field));return y.size+(b?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&a.length>1&&2===r?1:r)}mn(e,n){const r=new yf;for(const a of ko(e)){const c=n.data.field(a.fieldPath);if(null==c)return null;const u=r.He(a.kind);qo.Ve._e(c,u)}return r.Qe()}dn(e){const n=new yf;return qo.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new yf;return qo.Ve._e(Ro(this.databaseId,n),r.He(function(a){const c=ko(a);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let a=[];a.push(new yf);let c=0;for(const u of ko(e)){const p=r[c++];for(const y of a)if(this.yn(n,u.fieldPath)&&ef(p))a=this.pn(a,u,p);else{const b=y.He(u.kind);qo.Ve._e(p,b)}}return this.In(a)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const a=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of a){const y=new yf;y.seed(p.Qe()),qo.Ve._e(u,y.He(n.kind)),c.push(y)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof Gt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Uy(e),a=_f(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const u=[];return Q.forEach(c,p=>a.get([p.indexId,this.uid]).next(y=>{u.push(function(b,H){const S=H?new Z7(H.sequenceNumber,new cr($o(H.readTime),new Ue(Si(H.documentKey)),H.largestBatchId)):Z7.empty(),N=b.fields.map(([U,oe])=>new _y(U2.fromServerFormat(U),oe));return new Cy(b.indexId,b.collectionGroup,N,S)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,a)=>{const c=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==c?c:zt(r.collectionGroup,a.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const a=Uy(e),c=_f(e);return this.Tn(e).next(u=>a.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(p=>Q.forEach(p,y=>c.put(_U(y.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,(a,c)=>{const u=r.get(a.collectionGroup);return(u?Q.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next(p=>(r.set(a.collectionGroup,p),Q.forEach(p,y=>this.En(e,a,y).next(b=>{const H=this.An(c,y);return b.isEqual(H)?Q.resolve():this.vn(e,c,y,b,H)}))))})}Rn(e,n,r,a){return Cf(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,a){return Cf(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const a=Cf(e);let c=new V2(_4);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(u,p)=>{c=c.add(new Wo(r.indexId,n,p.arrayValue,p.directionalValue))}).next(()=>c)}An(e,n){let r=new V2(_4);const a=this.mn(n,e);if(null==a)return r;const c=iL(n);if(null!=c){const u=e.data.field(c.fieldPath);if(ef(u))for(const p of u.arrayValue.values||[])r=r.add(new Wo(n.indexId,e.key,this.dn(p),a))}else r=r.add(new Wo(n.indexId,e.key,By,a));return r}vn(e,n,r,a,c){Se("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(p,y,b,H,S){const N=p.getIterator(),U=y.getIterator();let oe=R0(N),Ce=R0(U);for(;oe||Ce;){let Me=!1,je=!1;if(oe&&Ce){const qe=b(oe,Ce);qe<0?je=!0:qe>0&&(Me=!0)}else null!=oe?je=!0:Me=!0;Me?(H(Ce),Ce=R0(U)):je?(S(oe),oe=R0(N)):(oe=R0(N),Ce=R0(U))}}(a,c,_4,p=>{u.push(this.Rn(e,n,r,p))},p=>{u.push(this.Pn(e,n,r,p))}),Q.waitFor(u)}Tn(e){let n=1;return _f(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,c)=>{c.done(),n=a.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,p)=>_4(u,p)).filter((u,p,y)=>!p||0!==_4(u,y[p-1]));const a=[];a.push(e);for(const u of r){const p=_4(u,e),y=_4(u,n);if(0===p)a[0]=e.Je();else if(p>0&&y<0)a.push(u),a.push(u.Je());else if(y>0)break}a.push(n);const c=[];for(let u=0;u<a.length;u+=2){if(this.bn(a[u],a[u+1]))return[];c.push(IDBKeyRange.bound([a[u].indexId,this.uid,a[u].arrayValue,a[u].directionalValue,By,[]],[a[u+1].indexId,this.uid,a[u+1].arrayValue,a[u+1].directionalValue,By,[]]))}return c}bn(e,n){return _4(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(EU)}getMinOffset(e,n){return Q.mapArray(this.cn(n),r=>this.an(e,r).next(a=>a||Xe())).next(EU)}}function zU(t){return T1(t,"collectionParents")}function Cf(t){return T1(t,"indexEntries")}function Uy(t){return T1(t,"indexConfiguration")}function _f(t){return T1(t,"indexState")}function EU(t){lt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;sL(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new cr(e.readTime,e.documentKey,n)}const LU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xU(t,e,n){const r=t.store("mutations"),a=t.store("documentMutations"),c=[],u=IDBKeyRange.only(n.batchId);let p=0;const y=r.X({range:u},(H,S,N)=>(p++,N.delete()));c.push(y.next(()=>{lt(1===p)}));const b=[];for(const H of n.mutations){const S=nB(e,H.key.path,n.batchId);c.push(a.delete(S)),b.push(H.key)}return Q.waitFor(c).next(()=>b)}function jy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class $y{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Vn={}}static de(e,n,r,a){lt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new $y(c,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return M4(e).X({index:"userMutationsIndex",range:r},(a,c,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,a){const c=K0(e),u=M4(e);return u.add({}).next(p=>{lt("number"==typeof p);const y=new ML(p,n,r,a),b=function(N,U,oe){const Ce=oe.baseMutations.map(je=>mf(N.fe,je)),Me=oe.mutations.map(je=>mf(N.fe,je));return{userId:U,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Ce,mutations:Me}}(this.serializer,this.userId,y),H=[];let S=new V2((N,U)=>zt(N.canonicalString(),U.canonicalString()));for(const N of a){const U=nB(this.userId,N.key.path,p);S=S.add(N.key.path.popLast()),H.push(u.put(b)),H.push(c.put(U,Yse))}return S.forEach(N=>{H.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),Q.waitFor(H).next(()=>y)})}lookupMutationBatch(e,n){return M4(e).get(n).next(r=>r?(lt(r.userId===this.userId),Go(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Q.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const a=r.keys();return this.Vn[n]=a,a}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return M4(e).X({index:"userMutationsIndex",range:a},(u,p,y)=>{p.userId===this.userId&&(lt(p.batchId>=r),c=Go(this.serializer,p)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return M4(e).X({index:"userMutationsIndex",range:n,reverse:!0},(a,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return M4(e).j("userMutationsIndex",n).next(r=>r.map(a=>Go(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=wy(this.userId,n.path),a=IDBKeyRange.lowerBound(r),c=[];return K0(e).X({range:a},(u,p,y)=>{const[b,H,S]=u,N=Si(H);if(b===this.userId&&n.path.isEqual(N))return M4(e).get(S).next(U=>{if(!U)throw Xe();lt(U.userId===this.userId),c.push(Go(this.serializer,U))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(zt);const a=[];return n.forEach(c=>{const u=wy(this.userId,c.path),p=IDBKeyRange.lowerBound(u),y=K0(e).X({range:p},(b,H,S)=>{const[N,U,oe]=b,Ce=Si(U);N===this.userId&&c.path.isEqual(Ce)?r=r.add(oe):S.done()});a.push(y)}),Q.waitFor(a).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,c=wy(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new V2(zt);return K0(e).X({range:u},(y,b,H)=>{const[S,N,U]=y,oe=Si(N);S===this.userId&&r.isPrefixOf(oe)?oe.length===a&&(p=p.add(U)):H.done()}).next(()=>this.Dn(e,p))}Dn(e,n){const r=[],a=[];return n.forEach(c=>{a.push(M4(e).get(c).next(u=>{if(null===u)throw Xe();lt(u.userId===this.userId),r.push(Go(this.serializer,u))}))}),Q.waitFor(a).next(()=>r)}removeMutationBatch(e,n){return xU(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Q.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return K0(e).X({range:r},(c,u,p)=>{if(c[0]===this.userId){const y=Si(c[1]);a.push(y)}else p.done()}).next(()=>{lt(0===a.length)})})}containsKey(e,n){return DU(e,this.userId,n)}xn(e){return AU(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DU(t,e,n){const r=wy(e,n.path),a=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return K0(t).X({range:c,Y:!0},(p,y,b)=>{const[H,S,N]=p;H===e&&S===a&&(u=!0),b.done()}).next(()=>u)}function M4(t){return T1(t,"mutations")}function K0(t){return T1(t,"documentMutations")}function AU(t){return T1(t,"mutationQueues")}class Zo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zo(0)}static Mn(){return new Zo(-1)}}class u4e{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Zo(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ft.fromTimestamp(new L2(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.On(e,a)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Y0(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let a=0;const c=[];return Y0(e).X((u,p)=>{const y=gf(p);y.sequenceNumber<=n&&null===r.get(y.targetId)&&(a++,c.push(this.removeTargetData(e,y)))}).next(()=>Q.waitFor(c)).next(()=>a)}forEachTarget(e,n){return Y0(e).X((r,a)=>{const c=gf(a);n(c)})}$n(e){return TU(e).get("targetGlobalKey").next(n=>(lt(null!==n),n))}On(e,n){return TU(e).put("targetGlobalKey",n)}Fn(e,n){return Y0(e).put(yU(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oo(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Y0(e).X({range:a,index:"queryTargetsIndex"},(u,p,y)=>{const b=gf(p);nf(n,b.target)&&(c=b,y.done())}).next(()=>c)}addMatchingKeys(e,n,r){const a=[],c=w4(e);return n.forEach(u=>{const p=un(u.path);a.push(c.put({targetId:r,path:p})),a.push(this.referenceDelegate.addReference(e,r,u))}),Q.waitFor(a)}removeMatchingKeys(e,n,r){const a=w4(e);return Q.forEach(n,c=>{const u=un(c.path);return Q.waitFor([a.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=w4(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=w4(e);let c=Tt();return a.X({range:r,Y:!0},(u,p,y)=>{const b=Si(u[1]),H=new Ue(b);c=c.add(H)}).next(()=>c)}containsKey(e,n){const r=un(n.path),a=IDBKeyRange.bound([r],[WF(r)],!1,!0);let c=0;return w4(e).X({index:"documentTargetsIndex",Y:!0,range:a},([u,p],y,b)=>{0!==u&&(c++,b.done())}).next(()=>c>0)}le(e,n){return Y0(e).get(n).next(r=>r?gf(r):null)}}function Y0(t){return T1(t,"targets")}function TU(t){return T1(t,"targetGlobal")}function w4(t){return T1(t,"targetDocuments")}function NU([t,e],[n,r]){const a=zt(t,n);return 0===a?zt(e,r):a}class f4e{constructor(e){this.Ln=e,this.buffer=new V2(NU),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,G.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){f4(r)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield u4(r)}yield n.Qn(3e5)}))}}class d4e{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Q.resolve(lr.ct);const r=new f4e(n);return this.jn.forEachTarget(e,a=>r.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>r.Kn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(LU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LU):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,a,c,u,p,y,b;const H=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,u=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(r=S,p=Date.now(),this.removeTargets(e,r,n))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(b=Date.now(),nL()<=Zr.in.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-H}ms\n\tDetermined least recently used ${a} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(y-p)+`ms\n\tRemoved ${S} documents in `+(b-y)+`ms\nTotal Duration: ${b-H}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:S})))}}class h4e{constructor(e,n){this.db=e,this.garbageCollector=function PU(t,e){return new d4e(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,a)=>n(a))}addReference(e,n,r){return Gy(e,r)}removeReference(e,n,r){return Gy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gy(e,n)}Xn(e,n){return function(r,a){let c=!1;return AU(r).Z(u=>DU(r,u,a).next(p=>(p&&(c=!0),Q.resolve(!p)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let c=0;return this.Yn(e,(u,p)=>{if(p<=n){const y=this.Xn(e,u).next(b=>{if(!b)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,ft.min()),w4(e).delete([0,un(u.path)])))});a.push(y)}}).next(()=>Q.waitFor(a)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gy(e,n)}Yn(e,n){const r=w4(e);let a,c=lr.ct;return r.X({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:b})=>{0===u?(c!==lr.ct&&n(new Ue(Si(a)),c),c=b,a=y):c=lr.ct}).next(()=>{c!==lr.ct&&n(new Ue(Si(a)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gy(t,e){return w4(t).put((r=t.currentSequenceNumber,{targetId:0,path:un(e.path),sequenceNumber:r}));var r}class RU{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,I2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p4e{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ko(e).put(r)}removeEntry(e,n,r){return Ko(e).delete(function(a,c){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Ry(c),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=I2.newInvalidDocument(n);return Ko(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(n))},(a,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:I2.newInvalidDocument(n)};return Ko(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(n))},(a,c)=>{r={document:this.ts(n,c),size:jy(c)}}).next(()=>r)}getEntries(e,n){let r=Pn();return this.ns(e,n,(a,c)=>{const u=this.ts(a,c);r=r.insert(a,u)}).next(()=>r)}ss(e,n){let r=Pn(),a=new p2(Ue.comparator);return this.ns(e,n,(c,u)=>{const p=this.ts(c,u);r=r.insert(c,p),a=a.insert(c,jy(u))}).next(()=>({documents:r,rs:a}))}ns(e,n,r){if(n.isEmpty())return Q.resolve();let a=new V2(UU);n.forEach(y=>a=a.add(y));const c=IDBKeyRange.bound(Mf(a.first()),Mf(a.last())),u=a.getIterator();let p=u.getNext();return Ko(e).X({index:"documentKeyIndex",range:c},(y,b,H)=>{const S=Ue.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&UU(p,S)<0;)r(p,null),p=u.getNext();p&&p.isEqual(S)&&(r(p,b),p=u.hasNext()?u.getNext():null),p?H.G(Mf(p)):H.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,a){const c=n.path,u=[c.popLast().toArray(),c.lastSegment(),Ry(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ko(e).j(IDBKeyRange.bound(u,p,!0)).next(y=>{let b=Pn();for(const H of y){const S=this.ts(Ue.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);S.isFoundDocument()&&(sf(n,S)||a.has(S.key))&&(b=b.insert(S.key,S))}return b})}getAllFromCollectionGroup(e,n,r,a){let c=Pn();const u=BU(n,r),p=BU(n,cr.max());return Ko(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,b,H)=>{const S=this.ts(Ue.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);c=c.insert(S.key,S),c.size===a&&H.done()}).next(()=>c)}newChangeBuffer(e){return new m4e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return FU(e).get("remoteDocumentGlobalKey").next(n=>(lt(!!n),n))}Zn(e,n){return FU(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function e4e(t,e){let n;if(e.document)n=uU(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ue.fromSegments(e.noDocument.path),a=$o(e.noDocument.readTime);n=I2.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ue.fromSegments(e.unknownDocument.path),a=$o(e.unknownDocument.version);n=I2.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime(function(r){const a=new L2(r[0],r[1]);return ft.fromTimestamp(a)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ft.min()))return r}return I2.newInvalidDocument(e)}}function OU(t){return new p4e(t)}class m4e extends RU{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new xs(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const n=[];let r=0,a=new V2((c,u)=>zt(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.us.get(c);if(n.push(this.os.removeEntry(e,c,p.readTime)),u.isValidDocument()){const y=vU(this.os.serializer,u);a=a.add(c.path.popLast());const b=jy(y);r+=b-p.size,n.push(this.os.addEntry(e,c,y))}else if(r-=p.size,this.trackRemovals){const y=vU(this.os.serializer,u.convertToNoDocument(ft.min()));n.push(this.os.addEntry(e,c,y))}}),a.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:a})=>(a.forEach((c,u)=>{this.us.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function FU(t){return T1(t,"remoteDocumentGlobal")}function Ko(t){return T1(t,"remoteDocumentsV14")}function Mf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BU(t,e){const n=e.documentKey.path.toArray();return[t,Ry(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function UU(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(a=zt(n[c],r[c]),a)return a;return a=zt(n.length,r.length),a||(a=zt(n[n.length-2],r[r.length-2]),a||zt(n[n.length-1],r[r.length-1]))}class g4e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jU{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(null!==r&&lf(r.mutation,a,kn.empty(),L2.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const a=Ei();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(c=>{let u=af();return c.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const a=[];return r.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,a){let c=Pn();const u=of(),p=of();return n.forEach((y,b)=>{const H=r.get(b.key);a.has(b.key)&&(void 0===H||H.mutation instanceof Ds)?c=c.insert(b.key,b):void 0!==H?(u.set(b.key,H.mutation.getFieldMask()),lf(H.mutation,b,H.mutation.getFieldMask(),L2.now())):u.set(b.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((b,H)=>u.set(b,H)),n.forEach((b,H)=>{var S;return p.set(b,new g4e(H,null!==(S=u.get(b))&&void 0!==S?S:null))}),p))}recalculateAndSaveOverlays(e,n){const r=of();let a=new p2((u,p)=>u-p),c=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(y=>{const b=n.get(y);if(null===b)return;let H=r.get(y)||kn.empty();H=p.applyToLocalView(b,H),r.set(y,H);const S=(a.get(p.batchId)||Tt()).add(y);a=a.insert(p.batchId,S)})}).next(()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),b=y.key,H=y.value,S=NB();H.forEach(N=>{if(!c.has(N)){const U=$B(n.get(N),r.get(N));null!==U&&S.set(N,U),c=c.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,S))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ue.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):gL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var a}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-c.size):Q.resolve(Ei());let p=-1,y=c;return u.next(b=>Q.forEach(b,(H,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(H)?Q.resolve():this.remoteDocumentCache.getEntry(e,H).next(N=>{y=y.insert(H,N)}))).next(()=>this.populateOverlays(e,b,c)).next(()=>this.computeViews(e,y,b,Tt())).next(H=>({batchId:p,changes:TB(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let a=af();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const a=n.collectionGroup;let c=af();return this.indexManager.getCollectionParents(e,a).next(u=>Q.forEach(u,p=>{const y=(b=n,H=p.child(a),new Ls(H,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,H;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((H,S)=>{c=c.insert(H,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a))).next(c=>{a.forEach((p,y)=>{const b=y.getKey();null===c.get(b)&&(c=c.insert(b,I2.newInvalidDocument(b)))});let u=af();return c.forEach((p,y)=>{const b=a.get(p);void 0!==b&&lf(b.mutation,y,kn.empty(),L2.now()),sf(n,y)&&(u=u.insert(p,y))}),u})}}class v4e{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Q2(r.createTime)}),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:xL(r.bundledQuery),readTime:Q2(r.readTime)}),Q.resolve();var r}}class y4e{constructor(){this.overlays=new p2(Ue.comparator),this.ls=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return Q.forEach(n,a=>this.getOverlay(e,a).next(c=>{null!==c&&r.set(a,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,c)=>{this.we(e,n,c)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.ls.get(r);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const a=Ei(),c=n.length+1,u=new Ue(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===c&&y.largestBatchId>r&&a.set(y.getKey(),y)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let c=new p2((b,H)=>b-H);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let H=c.get(b.largestBatchId);null===H&&(H=Ei(),c=c.insert(b.largestBatchId,H)),H.set(b.getKey(),b)}}const p=Ei(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,H)=>p.set(b,H)),!(p.size()>=a)););return Q.resolve(p)}we(e,n,r){const a=this.overlays.get(r.key);if(null!==a){const u=this.ls.get(a.largestBatchId).delete(r.key);this.ls.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new bL(n,r));let c=this.ls.get(n);void 0===c&&(c=Tt(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class RL{constructor(){this.fs=new V2(N1.ds),this.ws=new V2(N1._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new N1(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new N1(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ue(new Wt([])),r=new N1(n,e),a=new N1(n,e+1),c=[];return this.ws.forEachInRange([r,a],u=>{this.ys(u),c.push(u.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ue(new Wt([])),r=new N1(n,e),a=new N1(n,e+1);let c=Tt();return this.ws.forEachInRange([r,a],u=>{c=c.add(u.key)}),c}containsKey(e){const n=new N1(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class N1{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ue.comparator(e.key,n.key)||zt(e.As,n.As)}static _s(e,n){return zt(e.As,n.As)||Ue.comparator(e.key,n.key)}}class C4e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new V2(N1.ds)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,a){const c=this.vs;this.vs++;const u=new ML(c,n,r,a);this.mutationQueue.push(u);for(const p of a)this.Rs=this.Rs.add(new N1(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const a=this.bs(n+1),c=a<0?0:a;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new N1(n,0),a=new N1(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,a],u=>{const p=this.Ps(u.As);c.push(p)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new V2(zt);return n.forEach(a=>{const c=new N1(a,0),u=new N1(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,u],p=>{r=r.add(p.As)})}),Q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let c=r;Ue.isDocumentKey(c)||(c=c.child(""));const u=new N1(new Ue(c),0);let p=new V2(zt);return this.Rs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===a&&(p=p.add(y.As)),!0)},u),Q.resolve(this.Vs(p))}Vs(e){const n=[];return e.forEach(r=>{const a=this.Ps(r);null!==a&&n.push(a)}),n}removeMutationBatch(e,n){lt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Q.forEach(n.mutations,a=>{const c=new N1(a.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new N1(n,0),a=this.Rs.firstAfterOrEqual(r);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return Q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _4e{constructor(e){this.Ds=e,this.docs=new p2(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),c=a?a.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():I2.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(a=>{const c=this.docs.get(a);r=r.insert(a,c?c.document.mutableCopy():I2.newInvalidDocument(a))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let c=Pn();const u=n.path,p=new Ue(u.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:b,value:{document:H}}=y.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||sL(KF(H),r)<=0||(a.has(H.key)||sf(n,H))&&(c=c.insert(H.key,H.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(e,n,r,a){Xe()}Cs(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M4e(this)}getSize(e){return Q.resolve(this.size)}}class M4e extends RU{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.os.addEntry(e,a)):this.os.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class w4e{constructor(e){this.persistence=e,this.xs=new xs(n=>Oo(n),nf),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RL,this.targetCount=0,this.Ms=Zo.kn()}forEachTarget(e,n){return this.xs.forEach((r,a)=>n(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Fn(n),Q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let a=0;const c=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.xs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),Q.waitFor(c).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(u=>{c.push(a.markPotentiallyOrphaned(e,u))}),Q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ks.containsKey(n))}}class OL{constructor(e,n){this.$s={},this.overlays={},this.Os=new lr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new w4e(this),this.indexManager=new c4e,this.remoteDocumentCache=new _4e(r=>this.referenceDelegate.Ls(r)),this.serializer=new gU(n),this.qs=new v4e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y4e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new C4e(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const a=new b4e(this.Os.next());return this.referenceDelegate.Us(),r(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,n){return Q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class b4e extends QF{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.Qs=new RL,this.js=null}static zs(e){return new qy(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(a=>this.Ws.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Ws,r=>{const a=Ue.fromPath(r);return this.Hs(e,a).next(c=>{c||n.removeEntry(a,ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Q.or([()=>Q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class H4e{constructor(e){this.serializer=e}O(e,n,r,a){const c=new My("createOrUpgrade",n);var p;r<1&&a>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tB,{unique:!0}),p.createObjectStore("documentMutations"),$U(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=Q.resolve();return r<3&&a>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),$U(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ft.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(c))),r<4&&a>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").j().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tB,{unique:!0});const H=y.store("mutations"),S=b.map(N=>H.put(N));return Q.waitFor(S)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(u=u.next(()=>this.Ys(c))),r<6&&a>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&a>=7&&(u=u.next(()=>this.Zs(c))),r<8&&a>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&a>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(u=u.next(()=>this.ei(c))),r<11&&a>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:c3e});y.createIndex("collectionPathOverlayIndex",l3e,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",u3e,{unique:!1})}(e)})),r<13&&a>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:Qse});y.createIndex("documentKeyIndex",Jse),y.createIndex("collectionGroupIndex",Xse)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(u=u.next(()=>this.si(e,c))),r<15&&a>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:i3e}).createIndex("sequenceNumberIndex",s3e,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:a3e}).createIndex("documentKeyIndex",o3e,{unique:!1})}(e))),u}Xs(e){let n=0;return e.store("remoteDocuments").X((r,a)=>{n+=jy(a)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(a=>Q.forEach(a,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(p=>Q.forEach(p,y=>{lt(y.userId===c.userId);const b=Go(this.serializer,y);return xU(e,c.userId,b).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const c=[];return r.X((u,p)=>{const y=new Wt(u),b=[0,un(y)];c.push(n.get(b).next(H=>H?Q.resolve():n.put({targetId:0,path:un(y),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Q.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:r3e});const r=n.store("collectionParents"),a=new PL,c=u=>{if(a.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:un(y)})}};return n.store("remoteDocuments").X({Y:!0},(u,p)=>{const y=new Wt(u);return c(y.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([u,p,y],b)=>{const H=Si(p);return c(H.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,a)=>{const c=gf(a),u=yU(this.serializer,c);return n.put(u)})}ni(e,n){const r=n.store("remoteDocuments"),a=[];return r.X((c,u)=>{const p=n.store("remoteDocumentsV14"),y=(b=u,b.document?new Ue(Wt.fromString(b.document.name).popFirst(5)):b.noDocument?Ue.fromSegments(b.noDocument.path):b.unknownDocument?Ue.fromSegments(b.unknownDocument.path):Xe()).path.toArray();var b;const H={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(p.put(H))}).next(()=>Q.waitFor(a))}si(e,n){const r=n.store("mutations"),a=OU(this.serializer),c=new OL(qy.zs,this.serializer.fe);return r.j().next(u=>{const p=new Map;return u.forEach(y=>{var b;let H=null!==(b=p.get(y.userId))&&void 0!==b?b:Tt();Go(this.serializer,y).keys().forEach(S=>H=H.add(S)),p.set(y.userId,H)}),Q.forEach(p,(y,b)=>{const H=new A1(b),S=Oy.de(this.serializer,H),N=c.getIndexManager(H),U=$y.de(H,this.serializer,N,c.referenceDelegate);return new jU(a,U,S,N).recalculateAndSaveOverlaysForDocumentKeys(new cL(n,lr.ct),y).next()})})}}function $U(t){t.createObjectStore("targetDocuments",{keyPath:t3e}).createIndex("documentTargetsIndex",n3e,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",e3e,{unique:!0}),t.createObjectStore("targetGlobal")}const FL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BL{constructor(e,n,r,a,c,u,p,y,b,H,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=u,this.document=p,this.ri=b,this.oi=H,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!BL.D())throw new ye(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h4e(this,a),this.di=n+"main",this.serializer=new gU(y),this.wi=new Qr(this.di,this.ui,new H4e(this.serializer)),this.Bs=new u4e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OU(this.serializer),this.qs=new t4e,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===H&&Y2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,FL);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new lr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,G.Z)(function*(a){if(n.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,G.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,G.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(f4(e))return Se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return wf(e).get("owner").next(n=>Q.resolve(this.Ri(n)))}Pi(e){return Zy(e).delete(this.clientId)}bi(){var e=this;return(0,G.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=T1(r,"clientMetadata");return a.j().next(c=>{const u=e.Si(c,18e5),p=c.filter(y=>-1===u.indexOf(y));return Q.forEach(p,y=>a.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Q.resolve(!0):wf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ye(ne.FAILED_PRECONDITION,FL);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zy(e).j().next(r=>void 0===this.Si(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Se("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,G.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new cL(n,lr.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Zy(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return $y.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l4e(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Oy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===n?"readonly":"readwrite",c=15===(u=this.ui)?d3e:14===u?sB:13===u?iB:12===u?f3e:11===u?rB:void Xe();var u;let p;return this.wi.runTransaction(e,a,c,y=>(p=new cL(y,this.Os?this.Os.next():lr.ct),"readwrite-primary"===n?this.Ti(p).next(b=>!!b||this.Ei(p)).next(b=>{if(!b)throw Y2(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ye(ne.FAILED_PRECONDITION,YF);return r(p)}).next(b=>this.vi(p).next(()=>b)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return wf(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(ne.FAILED_PRECONDITION,FL)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wf(e).put("owner",n)}static D(){return Qr.D()}Ai(e){const n=wf(e);return n.get("owner").next(r=>this.Ri(r)?(Se("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Q.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(Y2(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,rt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Y2("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Y2("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wf(t){return T1(t,"owner")}function Zy(t){return T1(t,"clientMetadata")}function UL(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class jL{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=a}static Li(e,n){let r=Tt(),a=Tt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new jL(e,n.fromCache,r,a)}}class GU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,a){return this.Ki(e,n).next(c=>c||this.Gi(e,n,a,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(EB(n))return Q.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==n.limit&&1===a&&(n=Dy(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Tt(...c);return this.Ui.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.ji(n,p);return this.zi(n,b,u,y.readTime)?this.Ki(e,Dy(n,null,"F")):this.Wi(e,b,n,y)}))})))}Gi(e,n,r,a){return EB(n)||a.isEqual(ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const u=this.ji(n,c);return this.zi(n,u,r,a)?this.Qi(e,n):(nL()<=Zr.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yL(n)),this.Wi(e,u,n,ZF(a,-1)))})}ji(e,n){let r=new V2(DB(e));return n.forEach((a,c)=>{sf(e,c)&&(r=r.add(c))}),r}zi(e,n,r,a){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,n){return nL()<=Zr.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",yL(n)),this.Ui.getDocumentsMatchingQuery(e,n,cr.min())}Wi(e,n,r,a){return this.Ui.getDocumentsMatchingQuery(e,r,a).next(c=>(n.forEach(u=>{c=c.insert(u.key,u)}),c))}}class V4e{constructor(e,n,r,a){this.persistence=e,this.Hi=n,this.serializer=a,this.Ji=new p2(zt),this.Yi=new xs(c=>Oo(c),nf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qU(t,e,n,r){return new V4e(t,e,n,r)}function WU(t,e){return $L.apply(this,arguments)}function $L(){return $L=(0,G.Z)(function*(t,e){const n=Ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(c=>(a=c,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let y=Tt();for(const b of a){u.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}for(const b of c){p.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}return n.localDocuments.getDocuments(r,y).next(b=>({er:b,removedBatchIds:u,addedBatchIds:p}))})})}),$L.apply(this,arguments)}function ZU(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function KU(t,e,n){let r=Tt(),a=Tt();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let u=Pn();return n.forEach((p,y)=>{const b=c.get(p);y.isFoundDocument()!==b.isFoundDocument()&&(a=a.add(p)),y.isNoDocument()&&y.version.isEqual(ft.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Se("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",y.version)}),{nr:u,sr:a}})}function z4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q0(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Bs.getTargetData(r,e).next(c=>c?(a=c,Q.resolve(a)):n.Bs.allocateTargetId(r).next(u=>(a=new As(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ji.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function J0(t,e,n){return GL.apply(this,arguments)}function GL(){return GL=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=r.Ji.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!f4(u))throw u;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(a.target)}),GL.apply(this,arguments)}function Ky(t,e,n){const r=Ge(t);let a=ft.min(),c=Tt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,b){const H=Ge(p),S=H.Yi.get(b);return void 0!==S?Q.resolve(H.Ji.get(S)):H.Bs.getTargetData(y,b)}(r,u,Vn(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?a:ft.min(),n?c:Tt())).next(p=>(JU(r,xB(e),p),{documents:p,ir:c})))}function YU(t,e){const n=Ge(t),r=Ge(n.Bs),a=n.Ji.get(e);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(u=>u?u.target:null))}function QU(t,e){const n=Ge(t),r=n.Xi.get(e)||ft.min();return n.persistence.runTransaction("Get new document changes","readonly",a=>n.Zi.getAllFromCollectionGroup(a,e,ZF(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(JU(n,e,a),a))}function JU(t,e,n){let r=t.Xi.get(e)||ft.min();n.forEach((a,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function qL(){return qL=(0,G.Z)(function*(t,e,n,r){const a=Ge(t);let c=Tt(),u=Pn();for(const b of n){const H=e.rr(b.metadata.name);b.document&&(c=c.add(H));const S=e.ur(b);S.setReadTime(e.cr(b.metadata.readTime)),u=u.insert(H,S)}const p=a.Zi.newChangeBuffer({trackRemovals:!0}),y=yield Q0(a,(b=r,Vn(U0(Wt.fromString(`__bundle__/docs/${b}`)))));var b;return a.persistence.runTransaction("Apply bundle documents","readwrite",b=>KU(b,p,u).next(H=>(p.apply(b),H)).next(H=>a.Bs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>a.Bs.addMatchingKeys(b,c,y.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(b,H.nr,H.sr)).next(()=>H.nr)))}),qL.apply(this,arguments)}function L4e(t,e){return WL.apply(this,arguments)}function WL(){return WL=(0,G.Z)(function*(t,e,n=Tt()){const r=yield Q0(t,Vn(xL(e.bundledQuery))),a=Ge(t);return a.persistence.runTransaction("Save named query","readwrite",c=>{const u=Q2(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return a.qs.saveNamedQuery(c,e);const p=r.withResumeToken(M1.EMPTY_BYTE_STRING,u);return a.Ji=a.Ji.insert(p.targetId,p),a.Bs.updateTargetData(c,p).next(()=>a.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>a.Bs.addMatchingKeys(c,n,r.targetId)).next(()=>a.qs.saveNamedQuery(c,e))})}),WL.apply(this,arguments)}function XU(t,e){return`firestore_clients_${t}_${e}`}function ej(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ZL(t,e){return`firestore_targets_${t}_${e}`}class Yy{constructor(e,n,r,a){this.user=e,this.batchId=n,this.state=r,this.error=a}static ar(e,n,r){const a=JSON.parse(r);let c,u="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return u&&a.error&&(u="string"==typeof a.error.message&&"string"==typeof a.error.code,u&&(c=new ye(a.error.code,a.error.message))),u?new Yy(e,n,a.state,c):(Y2("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let a,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new ye(r.error.code,r.error.message))),c?new bf(e,r.state,a):(Y2("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let a="object"==typeof r&&r.activeTargetIds instanceof Array,c=CL();for(let u=0;a&&u<r.activeTargetIds.length;++u)a=XF(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return a?new Qy(e,c):(Y2("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class KL{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new KL(n.clientId,n.onlineState):(Y2("SharedClientState",`Failed to parse online state: ${e}`),null)}}class YL{constructor(){this.activeTargetIds=CL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QL{constructor(e,n,r,a,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new p2(zt),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=XU(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new YL),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,G.Z)(function*(){const n=yield e.syncEngine.$i();for(const a of n){if(a===e.wr)continue;const c=e.getItem(XU(e.persistenceKey,a));if(c){const u=Qy.ar(a,c);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const a=e.br(r);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,a)=>{a.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ZL(this.persistenceKey,e));if(r){const a=bf.ar(e,r);a&&(n=a.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZL(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(a=>{this.Cr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Se("SharedClientState","READ",e,n),n}setItem(e,n){Se("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Y2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,G.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const a=n.Or(r.key);return n.Fr(a,null)}{const a=n.Br(r.key,r.newValue);if(a)return n.Fr(a.clientId,a)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const a=n.Lr(r.key,r.newValue);if(a)return n.qr(a)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const a=n.Ur(r.key,r.newValue);if(a)return n.Kr(a)}}else if(r.key===n.vr){if(null!==r.newValue){const a=n.br(r.newValue);if(a)return n.Vr(a)}}else if(r.key===n.Ir){const a=function(c){let u=lr.ct;if(null!=c)try{const p=JSON.parse(c);lt("number"==typeof p),u=p}catch(p){Y2("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);a!==lr.ct&&n.sequenceNumberHandler(a)}else if(r.key===n.Rr){const a=n.Gr(r.newValue);yield Promise.all(a.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const a=new Yy(this.currentUser,e,n,r),c=ej(this.persistenceKey,this.currentUser,e);this.setItem(c,a.hr())}Cr(e){const n=ej(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const a=ZL(this.persistenceKey,e),c=new bf(e,n,r);this.setItem(a,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Qy.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),a=Number(r[1]);return Yy.ar(new A1(void 0!==r[2]?r[2]:null),a,n)}Ur(e,n){const r=this.Ar.exec(e),a=Number(r[1]);return bf.ar(a,n)}br(e){return KL.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,G.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),a=this.Sr(this.gr),c=this.Sr(r),u=[],p=[];return c.forEach(y=>{a.has(y)||u.push(y)}),a.forEach(y=>{c.has(y)||p.push(y)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=CL();return e.forEach((r,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class tj{constructor(){this.Hr=new YL,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YL,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class x4e{Yr(e){}shutdown(){}}class nj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jy=null;function JL(){return null===Jy?Jy=268435456+Math.round(2147483648*Math.random()):Jy++,"0x"+Jy.toString(16)}const D4e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A4e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const dn="WebChannelConnection";class T4e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,a,c){const u=JL(),p=this.To(e,n);Se("RestConnection",`Sending RPC '${e}' ${u}:`,p,r);const y={};return this.Eo(y,a,c),this.Ao(e,p,y,r).then(b=>(Se("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Vr("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",p,"request:",r),b})}vo(e,n,r,a,c,u){return this.Io(e,n,r,a,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+k0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),r&&r.headers.forEach((a,c)=>e[c]=a)}To(e,n){return`${this.mo}/v1/${n}:${D4e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,a){const c=JL();return new Promise((u,p)=>{const y=new xse;y.setWithCredentials(!0),y.listenOnce(zse.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case tL.NO_ERROR:const H=y.getResponseJson();Se(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(H)),u(H);break;case tL.TIMEOUT:Se(dn,`RPC '${e}' ${c} timed out`),p(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case tL.HTTP_ERROR:const S=y.getStatus();if(Se(dn,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const oe=function(Ce){const Me=Ce.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Me)>=0?Me:ne.UNKNOWN}(U.status);p(new ye(oe,U.message))}else p(new ye(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Se(dn,`RPC '${e}' ${c} completed.`)}});const b=JSON.stringify(a);Se(dn,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",b,r,15)})}Ro(e,n,r){const a=JL(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ise(),p=Sse(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.xmlHttpFactory=new Lse({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const H=c.join("");Se(dn,`Creating RPC '${e}' stream ${a}: ${H}`,y);const S=u.createWebChannel(H,y);let N=!1,U=!1;const oe=new A4e({ro:Me=>{U?Se(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,Me):(N||(Se(dn,`Opening RPC '${e}' stream ${a} transport.`),S.open(),N=!0),Se(dn,`RPC '${e}' stream ${a} sending:`,Me),S.send(Me))},oo:()=>S.close()}),Ce=(Me,je,qe)=>{Me.listen(je,Ze=>{try{qe(Ze)}catch(ot){setTimeout(()=>{throw ot},0)}})};return Ce(S,yy.EventType.OPEN,()=>{U||Se(dn,`RPC '${e}' stream ${a} transport opened.`)}),Ce(S,yy.EventType.CLOSE,()=>{U||(U=!0,Se(dn,`RPC '${e}' stream ${a} transport closed`),oe.wo())}),Ce(S,yy.EventType.ERROR,Me=>{U||(U=!0,Vr(dn,`RPC '${e}' stream ${a} transport errored:`,Me),oe.wo(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),Ce(S,yy.EventType.MESSAGE,Me=>{var je;if(!U){const qe=Me.data[0];lt(!!qe);const ot=qe.error||(null===(je=qe[0])||void 0===je?void 0:je.error);if(ot){Se(dn,`RPC '${e}' stream ${a} received error:`,ot);const dt=ot.status;let xt=function(Jr){const Xr=i1[Jr];if(void 0!==Xr)return YB(Xr)}(dt),D2=ot.message;void 0===xt&&(xt=ne.INTERNAL,D2="Unknown error status: "+dt+" with message "+ot.message),U=!0,oe.wo(new ye(xt,D2)),S.close()}else Se(dn,`RPC '${e}' stream ${a} received:`,qe),oe._o(qe)}}),Ce(p,Ese.STAT_EVENT,Me=>{Me.stat===UF.PROXY?Se(dn,`RPC '${e}' stream ${a} detected buffering proxy`):Me.stat===UF.NOPROXY&&Se(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{oe.fo()},0),oe}}function rj(){return typeof window<"u"?window:null}function Xy(){return typeof document<"u"?document:null}function Hf(t){return new $3e(t,!0)}class XL{constructor(e,n,r=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),a=Math.max(0,n-r);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ij{constructor(e,n,r,a,c,u,p,y){this.ii=e,this.$o=r,this.Oo=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XL(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,G.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,G.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,G.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Y2(n.toString()),Y2("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Fo===n&&this.Zo(r,a)},r=>{e(()=>{const a=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(a)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{r(()=>this.tu(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,G.Z)(function*(){e.state=0,e.start()}))}tu(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N4e extends ij{constructor(e,n,r,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function W3e(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xe(),a=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(lt(void 0===b||"string"==typeof b),M1.fromBase64String(b||"")):(lt(void 0===b||b instanceof Uint8Array),M1.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const b=void 0===y.code?ne.UNKNOWN:YB(y.code);return new ye(b,y.message||"")}(u);n=new tU(r,a,c,p||null)}else if("documentChange"in e){const r=e.documentChange,a=Li(t,r.document.name),c=Q2(r.document.updateTime),u=r.document.createTime?Q2(r.document.createTime):ft.min(),p=new Y1({mapValue:{fields:r.document.fields}}),y=I2.newFoundDocument(a,c,u,p);n=new Py(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=Li(t,r.document),c=r.readTime?Q2(r.readTime):ft.min(),u=I2.newNoDocument(a,c);n=new Py([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,a=Li(t,r.document);n=new Py([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:a=0,unchangedNames:c}=r,u=new R3e(a,c);n=new eU(r.targetId,u)}}var y;return n}(this.serializer,e),r=function(a){if(!("targetChange"in a))return ft.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ft.min():c.readTime?Q2(c.readTime):ft.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=pf(this.serializer),n.addTarget=function(a,c){let u;const p=c.target;if(u=Ey(p)?{documents:fU(a,p)}:{query:LL(a,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=sU(a,c.resumeToken);const y=IL(a,c.expectedCount);null!==y&&(u.expectedCount=y)}else if(c.snapshotVersion.compareTo(ft.min())>0){u.readTime=W0(a,c.snapshotVersion.toTimestamp());const y=IL(a,c.expectedCount);null!==y&&(u.expectedCount=y)}return u}(this.serializer,e);const r=function K3e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=pf(this.serializer),n.removeTarget=e,this.Wo(n)}}class k4e extends ij{constructor(e,n,r,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Z3e(t,e){return t&&t.length>0?(lt(void 0!==e),t.map(n=>function(r,a){let c=Q2(r.updateTime?r.updateTime:a);return c.isEqual(ft.min())&&(c=Q2(a)),new T3e(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Q2(e.commitTime);return this.listener.cu(r,n)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mf(this.serializer,r))};this.Wo(n)}}class P4e extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,n,r,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())})}vo(e,n,r,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.vo(e,n,r,c,u,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ne.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class O4e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Y2(n),this.mu=!1):Se("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class F4e{constructor(e,n,r,a,c){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{r.enqueueAndForget((0,G.Z)(function*(){var y;b4(u)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,G.Z)(function*(b){const H=Ge(b);H.vu.add(4),yield X0(H),H.bu.set("Unknown"),H.vu.delete(4),yield Vf(H)}),function(b){return y.apply(this,arguments)})(u))}))}),this.bu=new O4e(r,a)}}function Vf(t){return tx.apply(this,arguments)}function tx(){return tx=(0,G.Z)(function*(t){if(b4(t))for(const e of t.Ru)yield e(!0)}),tx.apply(this,arguments)}function X0(t){return nx.apply(this,arguments)}function nx(){return nx=(0,G.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),nx.apply(this,arguments)}function eC(t,e){const n=Ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sx(n)?ix(n):tl(n).Ko()&&rx(n,e))}function If(t,e){const n=Ge(t),r=tl(n);n.Au.delete(e),r.Ko()&&sj(n,e),0===n.Au.size&&(r.Ko()?r.jo():b4(n)&&n.bu.set("Unknown"))}function rx(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(t).su(e)}function sj(t,e){t.Vu.qt(e),tl(t).iu(e)}function ix(t){t.Vu=new F3e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),tl(t).start(),t.bu.gu()}function sx(t){return b4(t)&&!tl(t).Uo()&&t.Au.size>0}function b4(t){return 0===Ge(t).vu.size}function aj(t){t.Vu=void 0}function B4e(t){return ax.apply(this,arguments)}function ax(){return ax=(0,G.Z)(function*(t){t.Au.forEach((e,n)=>{rx(t,e)})}),ax.apply(this,arguments)}function U4e(t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,G.Z)(function*(t,e){aj(t),sx(t)?(t.bu.Iu(e),ix(t)):t.bu.set("Unknown")}),ox.apply(this,arguments)}function j4e(t,e,n){return cx.apply(this,arguments)}function cx(){return cx=(0,G.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof tU&&2===e.state&&e.cause)try{yield(r=(0,G.Z)(function*(a,c){const u=c.cause;for(const p of c.targetIds)a.Au.has(p)&&(yield a.remoteSyncer.rejectListen(p,u),a.Au.delete(p),a.Vu.removeTarget(p))}),function(a,c){return r.apply(this,arguments)})(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tC(t,r)}else if(e instanceof Py?t.Vu.Ht(e):e instanceof eU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ft.min()))try{const r=yield ZU(t.localStore);n.compareTo(r)>=0&&(yield function(a,c){const u=a.Vu.ce(c);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=a.Au.get(y);b&&a.Au.set(y,b.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach((p,y)=>{const b=a.Au.get(p);if(!b)return;a.Au.set(p,b.withResumeToken(M1.EMPTY_BYTE_STRING,b.snapshotVersion)),sj(a,p);const H=new As(b.target,p,y,b.sequenceNumber);rx(a,H)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield tC(t,r)}var r}),cx.apply(this,arguments)}function tC(t,e,n){return lx.apply(this,arguments)}function lx(){return lx=(0,G.Z)(function*(t,e,n){if(!f4(e))throw e;t.vu.add(1),yield X0(t),t.bu.set("Offline"),n||(n=()=>ZU(t.localStore)),t.asyncQueue.enqueueRetryable((0,G.Z)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Vf(t)}))}),lx.apply(this,arguments)}function oj(t,e){return e().catch(n=>tC(t,n,e))}function el(t){return ux.apply(this,arguments)}function ux(){return ux=(0,G.Z)(function*(t){const e=Ge(t),n=H4(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$4e(e);)try{const a=yield z4e(e.localStore,r);if(null===a){0===e.Eu.length&&n.jo();break}r=a.batchId,G4e(e,a)}catch(a){yield tC(e,a)}cj(e)&&lj(e)}),ux.apply(this,arguments)}function $4e(t){return b4(t)&&t.Eu.length<10}function G4e(t,e){t.Eu.push(e);const n=H4(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function cj(t){return b4(t)&&!H4(t).Uo()&&t.Eu.length>0}function lj(t){H4(t).start()}function q4e(t){return fx.apply(this,arguments)}function fx(){return fx=(0,G.Z)(function*(t){H4(t).hu()}),fx.apply(this,arguments)}function W4e(t){return dx.apply(this,arguments)}function dx(){return dx=(0,G.Z)(function*(t){const e=H4(t);for(const n of t.Eu)e.uu(n.mutations)}),dx.apply(this,arguments)}function Z4e(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=(0,G.Z)(function*(t,e,n){const r=t.Eu.shift(),a=wL.from(r,e,n);yield oj(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),yield el(t)}),hx.apply(this,arguments)}function K4e(t,e){return px.apply(this,arguments)}function px(){return px=(0,G.Z)(function*(t,e){var n;e&&H4(t).ou&&(yield(n=(0,G.Z)(function*(r,a){if(KB(c=a.code)&&c!==ne.ABORTED){const u=r.Eu.shift();H4(r).Qo(),yield oj(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,a)),yield el(r)}var c}),function(r,a){return n.apply(this,arguments)})(t,e)),cj(t)&&lj(t)}),px.apply(this,arguments)}function uj(t,e){return mx.apply(this,arguments)}function mx(){return mx=(0,G.Z)(function*(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=b4(n);n.vu.add(3),yield X0(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Vf(n)}),mx.apply(this,arguments)}function gx(t,e){return vx.apply(this,arguments)}function vx(){return vx=(0,G.Z)(function*(t,e){const n=Ge(t);e?(n.vu.delete(2),yield Vf(n)):e||(n.vu.add(2),yield X0(n),n.bu.set("Unknown"))}),vx.apply(this,arguments)}function tl(t){return t.Su||(t.Su=function(e,n,r){const a=Ge(e);return a.fu(),new N4e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:B4e.bind(null,t),ao:U4e.bind(null,t),nu:j4e.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Su.Qo(),sx(t)?ix(t):t.bu.set("Unknown")):(yield t.Su.stop(),aj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function H4(t){return t.Du||(t.Du=function(e,n,r){const a=Ge(e);return a.fu(),new k4e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:q4e.bind(null,t),ao:K4e.bind(null,t),au:W4e.bind(null,t),cu:Z4e.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Du.Qo(),yield el(t)):(yield t.Du.stop(),t.Eu.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class yx{constructor(e,n,r,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=c,this.deferred=new _1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,a,c){const u=Date.now()+r,p=new yx(e,n,u,a,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nl(t,e){if(Y2("AsyncQueue",`${e}: ${t}`),f4(t))return new ye(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class rl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=af(),this.sortedSet=new p2(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=r.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fj{constructor(){this.Cu=new p2(Ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class il{constructor(e,n,r,a,c,u,p,y,b){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(e,n,r,a,c){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new il(e,n,rl.emptySet(n),u,r,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class Y4e{constructor(){this.Nu=void 0,this.listeners=[]}}class Q4e{constructor(){this.queries=new xs(e=>LB(e),rf),this.onlineState="Unknown",this.ku=new Set}}function Cx(t,e){return _x.apply(this,arguments)}function _x(){return _x=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let a=!1,c=n.queries.get(r);if(c||(a=!0,c=new Y4e),a)try{c.Nu=yield n.onListen(r)}catch(u){const p=nl(u,`Initialization of query '${yL(e.query)}' failed`);return void e.onError(p)}n.queries.set(r,c),c.listeners.push(e),e.Mu(n.onlineState),c.Nu&&e.$u(c.Nu)&&bx(n)}),_x.apply(this,arguments)}function Mx(t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let a=!1;const c=n.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),a=0===c.listeners.length)}if(a)return n.queries.delete(r),n.onUnlisten(r)}),wx.apply(this,arguments)}function J4e(t,e){const n=Ge(t);let r=!1;for(const a of e){const u=n.queries.get(a.query);if(u){for(const p of u.listeners)p.$u(a)&&(r=!0);u.Nu=a}}r&&bx(n)}function X4e(t,e,n){const r=Ge(t),a=r.queries.get(e);if(a)for(const c of a.listeners)c.onError(n);r.queries.delete(e)}function bx(t){t.ku.forEach(e=>{e.next()})}class Hx{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class eae{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class dj{constructor(e){this.serializer=e}rr(e){return Li(this.serializer,e)}ur(e){return e.metadata.exists?uU(this.serializer,e.document,!1):I2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Q2(e)}}class tae{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hj(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Wt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new dj(this.serializer);for(const a of e)if(a.metadata.queries){const c=r.rr(a.metadata.name);for(const u of a.metadata.queries){const p=(n.get(u)||Tt()).add(c);n.set(u,p)}}return n}complete(){var e=this;return(0,G.Z)(function*(){const n=yield function E4e(t,e,n,r){return qL.apply(this,arguments)}(e.localStore,new dj(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const a of e.queries)yield L4e(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function hj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class pj{constructor(e){this.key=e}}class mj{constructor(e){this.key=e}}class gj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tt(),this.mutatedKeys=Tt(),this.tc=DB(e),this.ec=new rl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new fj,a=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,p=!1;const y="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,b="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((H,S)=>{const N=a.get(H),U=sf(this.query,S)?S:null,oe=!!N&&this.mutatedKeys.has(N.key),Ce=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Me=!1;N&&U?N.data.isEqual(U.data)?oe!==Ce&&(r.track({type:3,doc:U}),Me=!0):this.rc(N,U)||(r.track({type:2,doc:U}),Me=!0,(y&&this.tc(U,y)>0||b&&this.tc(U,b)<0)&&(p=!0)):!N&&U?(r.track({type:0,doc:U}),Me=!0):N&&!U&&(r.track({type:1,doc:N}),Me=!0,(y||b)&&(p=!0)),Me&&(U?(u=u.add(U),c=Ce?c.add(H):c.delete(H)):(u=u.delete(H),c=c.delete(H)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const H="F"===this.query.limitType?u.last():u.first();u=u.delete(H.key),c=c.delete(H.key),r.track({type:1,doc:H})}return{ec:u,ic:r,zi:p,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((b,H)=>function(S,N){const U=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return U(S)-U(N)}(b.type,H.type)||this.tc(b.doc,H.doc)),this.oc(r);const u=n?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==c.length||y?{snapshot:new il(this.query,e.ec,a,c,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Tt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new mj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new pj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Tt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return il.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rae{constructor(e){this.key=e,this.fc=!1}}class iae{constructor(e,n,r,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new xs(p=>LB(p),rf),this._c=new Map,this.mc=new Set,this.gc=new p2(Ue.comparator),this.yc=new Map,this.Ic=new RL,this.Tc={},this.Ec=new Map,this.Ac=Zo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sae(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,G.Z)(function*(t,e){const n=Zx(t);let r,a;const c=n.wc.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),a=c.view.lc();else{const u=yield Q0(n.localStore,Vn(e)),p=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,a=yield Ix(n,e,r,"current"===p,u.resumeToken),n.isPrimaryClient&&eC(n.remoteStore,u)}return a}),Vx.apply(this,arguments)}function Ix(t,e,n,r,a){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,G.Z)(function*(t,e,n,r,a){t.Rc=(S,N,U)=>{return(oe=(0,G.Z)(function*(Ce,Me,je,qe){let Ze=Me.view.sc(je);Ze.zi&&(Ze=yield Ky(Ce.localStore,Me.query,!1).then(({documents:xt})=>Me.view.sc(xt,Ze)));const ot=qe&&qe.targetChanges.get(Me.targetId),dt=Me.view.applyChanges(Ze,Ce.isPrimaryClient,ot);return Px(Ce,Me.targetId,dt.cc),dt.snapshot}),function(Ce,Me,je,qe){return oe.apply(this,arguments)})(t,S,N,U);var oe};const c=yield Ky(t.localStore,e,!0),u=new gj(e,c.ir),p=u.sc(c.documents),y=df.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,a),b=u.applyChanges(p,t.isPrimaryClient,y);Px(t,n,b.cc);const H=new nae(e,n,u);return t.wc.set(e,H),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),b.snapshot}),Sx.apply(this,arguments)}function aae(t,e){return zx.apply(this,arguments)}function zx(){return zx=(0,G.Z)(function*(t,e){const n=Ge(t),r=n.wc.get(e),a=n._c.get(r.targetId);if(a.length>1)return n._c.set(r.targetId,a.filter(c=>!rf(c,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),If(n.remoteStore,r.targetId),sl(n,r.targetId)}).catch(u4))):(sl(n,r.targetId),yield J0(n.localStore,r.targetId,!0))}),zx.apply(this,arguments)}function Ex(){return Ex=(0,G.Z)(function*(t,e,n){const r=Kx(t);try{const a=yield function(c,u){const p=Ge(c),y=L2.now(),b=u.reduce((N,U)=>N.add(U.key),Tt());let H,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Pn(),oe=Tt();return p.Zi.getEntries(N,b).next(Ce=>{U=Ce,U.forEach((Me,je)=>{je.isValidDocument()||(oe=oe.add(Me))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(Ce=>{H=Ce;const Me=[];for(const je of u){const qe=k3e(je,H.get(je.key).overlayedDocument);null!=qe&&Me.push(new Ds(je.key,qe,gB(qe.value.mapValue),x2.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Me,u)}).next(Ce=>{S=Ce;const Me=Ce.applyToLocalDocumentSet(H,oe);return p.documentOverlayCache.saveOverlays(N,Ce.batchId,Me)})}).then(()=>({batchId:S.batchId,changes:TB(H)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,u,p){let y=c.Tc[c.currentUser.toKey()];y||(y=new p2(zt)),y=y.insert(u,p),c.Tc[c.currentUser.toKey()]=y}(r,a.batchId,n),yield Ts(r,a.changes),yield el(r.remoteStore)}catch(a){const c=nl(a,"Failed to persist write");n.reject(c)}}),Ex.apply(this,arguments)}function vj(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,G.Z)(function*(t,e){const n=Ge(t);try{const r=yield function S4e(t,e){const n=Ge(t),r=e.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const p=[];e.targetChanges.forEach((H,S)=>{const N=a.get(S);if(!N)return;p.push(n.Bs.removeMatchingKeys(c,H.removedDocuments,S).next(()=>n.Bs.addMatchingKeys(c,H.addedDocuments,S)));let U=N.withSequenceNumber(c.currentSequenceNumber);var oe,Ce,Me;null!==e.targetMismatches.get(S)?U=U.withResumeToken(M1.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):H.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(H.resumeToken,r)),a=a.insert(S,U),Ce=U,Me=H,(0===(oe=N).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&p.push(n.Bs.updateTargetData(c,U))});let y=Pn(),b=Tt();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,H))}),p.push(KU(c,u,e.documentUpdates).next(H=>{y=H.nr,b=H.sr})),!r.isEqual(ft.min())){const H=n.Bs.getLastRemoteSnapshotVersion(c).next(S=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(H)}return Q.waitFor(p).next(()=>u.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,b)).next(()=>y)}).then(c=>(n.Ji=a,c))}(n.localStore,e);e.targetChanges.forEach((a,c)=>{const u=n.yc.get(c);u&&(lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.fc=!0:a.modifiedDocuments.size>0?lt(u.fc):a.removedDocuments.size>0&&(lt(u.fc),u.fc=!1))}),yield Ts(n,r,e)}catch(r){yield u4(r)}}),Lx.apply(this,arguments)}function yj(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const a=[];r.wc.forEach((c,u)=>{const p=u.view.Mu(e);p.snapshot&&a.push(p.snapshot)}),function(c,u){const p=Ge(c);p.onlineState=u;let y=!1;p.queries.forEach((b,H)=>{for(const S of H.listeners)S.Mu(u)&&(y=!0)}),y&&bx(p)}(r.eventManager,e),a.length&&r.dc.nu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cae(t,e,n){return xx.apply(this,arguments)}function xx(){return xx=(0,G.Z)(function*(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.yc.get(e),c=a&&a.key;if(c){let u=new p2(Ue.comparator);u=u.insert(c,I2.newNoDocument(c,ft.min()));const p=Tt().add(c),y=new ff(ft.min(),new Map,new p2(zt),u,p);yield vj(r,y),r.gc=r.gc.remove(c),r.yc.delete(e),Rx(r)}else yield J0(r.localStore,e,!1).then(()=>sl(r,e,n)).catch(u4)}),xx.apply(this,arguments)}function lae(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.batch.batchId;try{const a=yield function I4e(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,b){const H=y.batch,S=H.keys();let N=Q.resolve();return S.forEach(U=>{N=N.next(()=>b.getEntry(p,U)).next(oe=>{const Ce=y.docVersions.get(U);lt(null!==Ce),oe.version.compareTo(Ce)<0&&(H.applyToRemoteDocument(oe,y),oe.isValidDocument()&&(oe.setReadTime(y.commitVersion),b.addEntry(oe)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(p,H))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Tt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}(n.localStore,e);kx(n,r,null),Nx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ts(n,a)}catch(a){yield u4(a)}}),Dx.apply(this,arguments)}function uae(t,e,n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,G.Z)(function*(t,e,n){const r=Ge(t);try{const a=yield function(c,u){const p=Ge(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,u).next(H=>(lt(null!==H),b=H.keys(),p.mutationQueue.removeMutationBatch(y,H))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);kx(r,e,n),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ts(r,a)}catch(a){yield u4(a)}}),Ax.apply(this,arguments)}function Tx(){return Tx=(0,G.Z)(function*(t,e){const n=Ge(t);b4(n.remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=Ge(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(n.localStore);if(-1===r)return void e.resolve();const a=n.Ec.get(r)||[];a.push(e),n.Ec.set(r,a)}catch(r){const a=nl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Tx.apply(this,arguments)}function Nx(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function kx(t,e,n){const r=Ge(t);let a=r.Tc[r.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),r.Tc[r.currentUser.toKey()]=a}}function sl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Cj(t,r)})}function Cj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(If(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Rx(t))}function Px(t,e,n){for(const r of n)r instanceof pj?(t.Ic.addReference(r.key,e),dae(t,r)):r instanceof mj?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Cj(t,r.key)):Xe()}function dae(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.mc.add(r),Rx(t))}function Rx(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ue(Wt.fromString(e)),r=t.Ac.next();t.yc.set(r,new rae(n)),t.gc=t.gc.insert(n,r),eC(t.remoteStore,new As(Vn(U0(n.path)),r,"TargetPurposeLimboResolution",lr.ct))}}function Ts(t,e,n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=[],c=[],u=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{u.push(r.Rc(y,e,n).then(b=>{if((b||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b?.fromCache?"not-current":"current"),b){a.push(b);const H=jL.Li(y.targetId,b);c.push(H)}}))}),yield Promise.all(u),r.dc.nu(a),yield(p=(0,G.Z)(function*(y,b){const H=Ge(y);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(b,N=>Q.forEach(N.Fi,U=>H.persistence.referenceDelegate.addReference(S,N.targetId,U)).next(()=>Q.forEach(N.Bi,U=>H.persistence.referenceDelegate.removeReference(S,N.targetId,U)))))}catch(S){if(!f4(S))throw S;Se("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const N=S.targetId;if(!S.fromCache){const U=H.Ji.get(N),Ce=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);H.Ji=H.Ji.insert(N,Ce)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,c))}),Ox.apply(this,arguments)}function hae(t,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,G.Z)(function*(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=yield WU(n.localStore,e);n.currentUser=e,(a=n).Ec.forEach(u=>{u.forEach(p=>{p.reject(new ye(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ts(n,r.er)}var a}),Fx.apply(this,arguments)}function pae(t,e){const n=Ge(t),r=n.yc.get(e);if(r&&r.fc)return Tt().add(r.key);{let a=Tt();const c=n._c.get(e);if(!c)return a;for(const u of c){const p=n.wc.get(u);a=a.unionWith(p.view.nc)}return a}}function mae(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,G.Z)(function*(t,e){const n=Ge(t),r=yield Ky(n.localStore,e.query,!0),a=e.view.hc(r);return n.isPrimaryClient&&Px(n,e.targetId,a.cc),a}),Bx.apply(this,arguments)}function gae(t,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,G.Z)(function*(t,e){const n=Ge(t);return QU(n.localStore,e).then(r=>Ts(n,r))}),Ux.apply(this,arguments)}function vae(t,e,n,r){return jx.apply(this,arguments)}function jx(){return jx=(0,G.Z)(function*(t,e,n,r){const a=Ge(t),c=yield function(u,p){const y=Ge(u),b=Ge(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",H=>b.Sn(H,p).next(S=>S?y.localDocuments.getDocuments(H,S):Q.resolve(null)))}(a.localStore,e);var p;null!==c?("pending"===n?yield el(a.remoteStore):"acknowledged"===n||"rejected"===n?(kx(a,e,r||null),Nx(a,e),p=e,Ge(Ge(a.localStore).mutationQueue).Cn(p)):Xe(),yield Ts(a,c)):Se("SyncEngine","Cannot apply mutation batch with id: "+e)}),jx.apply(this,arguments)}function $x(){return $x=(0,G.Z)(function*(t,e){const n=Ge(t);if(Zx(n),Kx(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),a=yield _j(n,r.toArray());n.vc=!0,yield gx(n.remoteStore,!0);for(const c of a)eC(n.remoteStore,c)}else if(!1===e&&!1!==n.vc){const r=[];let a=Promise.resolve();n._c.forEach((c,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):a=a.then(()=>(sl(n,u),J0(n.localStore,u,!0))),If(n.remoteStore,u)}),yield a,yield _j(n,r),function(c){const u=Ge(c);u.yc.forEach((p,y)=>{If(u.remoteStore,y)}),u.Ic.Ts(),u.yc=new Map,u.gc=new p2(Ue.comparator)}(n),n.vc=!1,yield gx(n.remoteStore,!1)}}),$x.apply(this,arguments)}function _j(t,e,n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,G.Z)(function*(t,e,n){const r=Ge(t),a=[],c=[];for(const u of e){let p;const y=r._c.get(u);if(y&&0!==y.length){p=yield Q0(r.localStore,Vn(y[0]));for(const b of y){const H=r.wc.get(b),S=yield mae(r,H);S.snapshot&&c.push(S.snapshot)}}else{const b=yield YU(r.localStore,u);p=yield Q0(r.localStore,b),yield Ix(r,Mj(b),u,!1,p.resumeToken)}a.push(p)}return r.dc.nu(c),a}),Gx.apply(this,arguments)}function Mj(t){return zB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cae(t){const e=Ge(t);return Ge(Ge(e.localStore).persistence).$i()}function _ae(t,e,n,r){return qx.apply(this,arguments)}function qx(){return qx=(0,G.Z)(function*(t,e,n,r){const a=Ge(t);if(a.vc)return void Se("SyncEngine","Ignoring unexpected query state notification.");const c=a._c.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const u=yield QU(a.localStore,xB(c[0])),p=ff.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,M1.EMPTY_BYTE_STRING);yield Ts(a,u,p);break}case"rejected":yield J0(a.localStore,e,!0),sl(a,e,r);break;default:Xe()}}),qx.apply(this,arguments)}function Mae(t,e,n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,G.Z)(function*(t,e,n){const r=Zx(t);if(r.vc){for(const a of e){if(r._c.has(a)){Se("SyncEngine","Adding an already active target "+a);continue}const c=yield YU(r.localStore,a),u=yield Q0(r.localStore,c);yield Ix(r,Mj(c),u.targetId,!1,u.resumeToken),eC(r.remoteStore,u)}for(const a of n)r._c.has(a)&&(yield J0(r.localStore,a,!1).then(()=>{If(r.remoteStore,a),sl(r,a)}).catch(u4))}}),Wx.apply(this,arguments)}function Zx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cae.bind(null,e),e.dc.nu=J4e.bind(null,e.eventManager),e.dc.Pc=X4e.bind(null,e.eventManager),e}function Kx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uae.bind(null,e),e}class Sf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,G.Z)(function*(){n.serializer=Hf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qU(this.persistence,new GU,e.initialUser,this.serializer)}createPersistence(e){return new OL(qy.zs,this.serializer)}createSharedClientState(e){return new tj}terminate(){var e=this;return(0,G.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yx extends Sf{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield Kx(r.Vc.syncEngine),yield el(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qU(this.persistence,new GU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new kU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Zse(n,this.persistence);return new Wse(e.asyncQueue,r)}createPersistence(e){const n=UL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new BL(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rj(),Xy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tj}}class wj extends Yx{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e);const a=r.Vc.syncEngine;r.sharedClientState instanceof QL&&(r.sharedClientState.syncEngine={jr:vae.bind(null,a),zr:_ae.bind(null,a),Wr:Mae.bind(null,a),$i:Cae.bind(null,a),Qr:gae.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,G.Z)(function*(u){yield function yae(t,e){return $x.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=rj();if(!QL.D(n))throw new ye(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=UL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QL(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class al{initialize(e,n){var r=this;return(0,G.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>yj(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=hae.bind(null,r.syncEngine),yield gx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Q4e}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=new T4e(e.databaseInfo);return new P4e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,a=e.asyncQueue,c=p=>yj(this.syncEngine,p,0),u=nj.D()?new nj:new x4e,new F4e(n,r,a,c,u);var n,r,a,c,u}createSyncEngine(e,n){return function(r,a,c,u,p,y,b){const H=new iae(r,a,c,u,p,y);return b&&(H.vc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,G.Z)(function*(n){const r=Ge(n);Se("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield X0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function bj(t,e=10240){let n=0;return{read:()=>(0,G.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Y2("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hae{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new _1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,G.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,G.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,G.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),a=Number(r);isNaN(a)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(a);return new eae(JSON.parse(c),n.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,G.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,G.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,G.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Vae{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,G.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ye(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,G.Z)(function*(c,u){const p=Ge(c),y=pf(p.serializer)+"/documents",b={documents:u.map(U=>hf(p.serializer,U))},H=yield p.vo("BatchGetDocuments",y,b,u.length),S=new Map;H.forEach(U=>{const oe=function q3e(t,e){return"found"in e?function(n,r){lt(!!r.found);const a=Li(n,r.found.name),c=Q2(r.found.updateTime),u=r.found.createTime?Q2(r.found.createTime):ft.min(),p=new Y1({mapValue:{fields:r.found.fields}});return I2.newFoundDocument(a,c,u,p)}(t,e):"missing"in e?function(n,r){lt(!!r.missing),lt(!!r.readTime);const a=Li(n,r.missing),c=Q2(r.readTime);return I2.newNoDocument(a,c)}(t,e):Xe()}(p.serializer,U);S.set(oe.key.toString(),oe)});const N=[];return u.forEach(U=>{const oe=S.get(U.toString());lt(!!oe),N.push(oe)}),N}),function(c,u){return a.apply(this,arguments)})(n.datastore,e);var a;return r.forEach(a=>n.recordVersion(a)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new q0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,a)=>{const c=Ue.fromPath(a);e.mutations.push(new _L(c,e.precondition(c)))}),yield(r=(0,G.Z)(function*(a,c){const u=Ge(a),p=pf(u.serializer)+"/documents",y={writes:c.map(b=>mf(u.serializer,b))};yield u.Io("Commit",p,y)}),function(a,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ft.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ye(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ft.min())?x2.exists(!1):x2.updateTime(n):x2.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ft.min()))throw new ye(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return x2.updateTime(n)}return x2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Iae{constructor(e,n,r,a,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new XL(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,G.Z)(function*(){const n=new Vae(e.datastore),r=e.qc(n);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(a)}).catch(c=>{e.Uc(c)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const n=this.updateFunction(e);return!Y7(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!KB(n)}return!1}}class Sae{constructor(e,n,r,a){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=A1.UNAUTHENTICATED,this.clientId=qF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,G.Z)(function*(p){Se("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Se("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,G.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const a=nl(r,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function rC(t,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var a=(0,G.Z)(function*(c){r.isEqual(c)||(yield WU(e.localStore,c),r=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Qx.apply(this,arguments)}function Jx(t,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield eD(t);Se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(a=>uj(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,c)=>uj(e.remoteStore,c)),t._onlineComponents=e}),Xx.apply(this,arguments)}function Hj(t){return"FirebaseError"===t.name?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function eD(t){return tD.apply(this,arguments)}function tD(){return tD=(0,G.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Hj(n))throw n;Vr("Error using user provided cache. Falling back to memory cache: "+n),yield rC(t,new Sf)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield rC(t,new Sf);return t._offlineComponents}),tD.apply(this,arguments)}function iC(t){return nD.apply(this,arguments)}function nD(){return nD=(0,G.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jx(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield Jx(t,new al))),t._onlineComponents}),nD.apply(this,arguments)}function Vj(t){return eD(t).then(e=>e.persistence)}function sC(t){return eD(t).then(e=>e.localStore)}function Ij(t){return iC(t).then(e=>e.remoteStore)}function rD(t){return iC(t).then(e=>e.syncEngine)}function ol(t){return iD.apply(this,arguments)}function iD(){return iD=(0,G.Z)(function*(t){const e=yield iC(t),n=e.eventManager;return n.onListen=sae.bind(null,e.syncEngine),n.onUnlisten=aae.bind(null,e.syncEngine),n}),iD.apply(this,arguments)}function zj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(a,c,u,p,y){const b=new nC({next:S=>{c.enqueueAndForget(()=>Mx(a,H));const N=S.docs.has(u);!N&&S.fromCache?y.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),H=new Hx(U0(u.path),b,{includeMetadataChanges:!0,Ku:!0});return Cx(a,H)}(yield ol(t),t.asyncQueue,e,n,r)})),r.promise}function Ej(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(a,c,u,p,y){const b=new nC({next:S=>{c.enqueueAndForget(()=>Mx(a,H)),S.fromCache&&"server"===p.source?y.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),H=new Hx(u,b,{includeMetadataChanges:!0,Ku:!0});return Cx(a,H)}(yield ol(t),t.asyncQueue,e,n,r)})),r.promise}function Lj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const xj=new Map;function sD(t,e,n){if(!n)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dj(t,e,n,r){if(!0===e&&!0===r)throw new ye(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Aj(t){if(!Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tj(t){if(Ue.isDocumentKey(t))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Xe()}function qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aC(t);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Nj(t,e){if(e<=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class kj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Nse;switch(n.type){case"firstParty":return new Ose(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xj.get(e);n&&(Se("ComponentProvider","Removing Datastore"),xj.delete(e),n.terminate())}(this),Promise.resolve()}}function Pj(t,e,n,r={}){var a;const c=(t=qt(t,zf))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=A1.MOCK_USER;else{p=(0,rt.Sg)(r.mockUserToken,null===(a=t._app)||void 0===a?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new A1(b)}t._authCredentials=new kse(new $F(p,y))}}class S2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new S2(this.firestore,e,this._key)}}class Q1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Q1(this.firestore,e,this._query)}}class xi extends Q1{constructor(e,n,r){super(e,n,U0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new S2(this.firestore,null,new Ue(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function Rj(t,e,...n){if(t=(0,rt.m9)(t),sD("collection","path",e),t instanceof zf){const r=Wt.fromString(e,...n);return Tj(r),new xi(t,null,r)}{if(!(t instanceof S2||t instanceof xi))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Tj(r),new xi(t.firestore,null,r)}}function oC(t,e,...n){if(t=(0,rt.m9)(t),1===arguments.length&&(e=qF.A()),sD("doc","path",e),t instanceof zf){const r=Wt.fromString(e,...n);return Aj(r),new S2(t,null,new Ue(r))}{if(!(t instanceof S2||t instanceof xi))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...n));return Aj(r),new S2(t.firestore,t instanceof xi?t.converter:null,new Ue(r))}}function Oj(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),(t instanceof S2||t instanceof xi)&&(e instanceof S2||e instanceof xi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function aD(t,e){return t=(0,rt.m9)(t),e=(0,rt.m9)(e),t instanceof Q1&&e instanceof Q1&&t.firestore===e.firestore&&rf(t._query,e._query)&&t.converter===e.converter}class Pae{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XL(this,"async_queue_retry"),this.Xc=()=>{const n=Xy();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,G.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!f4(n))throw n;Se("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Y2("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const a=yx.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,G.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function oD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(t)}class Rae{constructor(){this._progressObserver={},this._taskCompletionResolver=new _1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class z2 extends zf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Pae,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fj(this),this._firestoreClient.terminate()}}function Fae(t,e){const n="object"==typeof t?t:(0,kt.getApp)(),r="string"==typeof t?t:e||"(default)",a=(0,kt._getProvider)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const c=(0,rt.P0)("firestore");c&&Pj(a,...c)}return a}function J2(t){return t._firestoreClient||Fj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fj(t){var e,n,r;const a=t._freezeSettings(),c=(p=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new m3e(t._databaseId,p,t._persistenceKey,(b=a).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Lj(b.experimentalLongPollingOptions),b.useFetchStreams));var p,b;t._firestoreClient=new Sae(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=a.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function Bj(t,e,n){const r=new _1;return t.asyncQueue.enqueue((0,G.Z)(function*(){try{yield rC(t,n),yield Jx(t,e),r.resolve()}catch(a){const c=a;if(!Hj(c))throw c;Vr("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function Uj(t){if(t._initialized||t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(M1.fromBase64String(e))}catch(n){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(M1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ns{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new U2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yo{constructor(e){this._methodName=e}}class cC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const Yae=/^__.*__$/;class Qae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new G0(e,this.data,n,this.fieldTransforms)}}class jj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $j(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class lC{constructor(e,n,r,a,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.fa(e),a}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($j(this.ca)&&Yae.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Jae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}ya(e,n,r,a=!1){return new lC({ca:e,methodName:n,ga:r,path:U2.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qo(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new Jae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uC(t,e,n,r,a,c={}){const u=t.ya(c.merge||c.mergeFields?2:0,e,n,a);fD("Data must be an object, but it was:",u,r);const p=Wj(r,u);let y,b;if(c.merge)y=new kn(u.fieldMask),b=u.fieldTransforms;else if(c.mergeFields){const H=[];for(const S of c.mergeFields){const N=xf(e,S,n);if(!u.contains(N))throw new ye(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Kj(H,N)||H.push(N)}y=new kn(H),b=u.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,b=u.fieldTransforms;return new Qae(new Y1(p),y,b)}class Lf extends Yo{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function Gj(t,e,n){return new lC({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cD extends Yo{_toFieldTransform(e){return new cf(e.path,new j0)}isEqual(e){return e instanceof cD}}class Xae extends Yo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Gj(this,e,!0),r=this.pa.map(c=>Jo(c,n)),a=new Bo(r);return new cf(e.path,a)}isEqual(e){return this===e}}class eoe extends Yo{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Gj(this,e,!0),r=this.pa.map(c=>Jo(c,n)),a=new Uo(r);return new cf(e.path,a)}isEqual(e){return this===e}}class toe extends Yo{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new $0(e.serializer,RB(e.serializer,this.Ia));return new cf(e.path,n)}isEqual(e){return this===e}}function lD(t,e,n,r){const a=t.ya(1,e,n);fD("Data must be an object, but it was:",a,r);const c=[],u=Y1.empty();d4(r,(y,b)=>{const H=fC(e,y,n);b=(0,rt.m9)(b);const S=a.da(H);if(b instanceof Lf)c.push(H);else{const N=Jo(b,S);null!=N&&(c.push(H),u.set(H,N))}});const p=new kn(c);return new jj(u,p,a.fieldTransforms)}function uD(t,e,n,r,a,c){const u=t.ya(1,e,n),p=[xf(e,r,n)],y=[a];if(c.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(xf(e,c[N])),y.push(c[N+1]);const b=[],H=Y1.empty();for(let N=p.length-1;N>=0;--N)if(!Kj(b,p[N])){const U=p[N];let oe=y[N];oe=(0,rt.m9)(oe);const Ce=u.da(U);if(oe instanceof Lf)b.push(U);else{const Me=Jo(oe,Ce);null!=Me&&(b.push(U),H.set(U,Me))}}const S=new kn(b);return new jj(H,S,u.fieldTransforms)}function qj(t,e,n,r=!1){return Jo(n,t.ya(r?4:3,e))}function Jo(t,e){if(Zj(t=(0,rt.m9)(t)))return fD("Unsupported field value:",e,t),Wj(t,e);if(t instanceof Yo)return function(n,r){if(!$j(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const a=[];let c=0;for(const u of n){let p=Jo(u,r.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(n,r){if(null===(n=(0,rt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return RB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=L2.fromDate(n);return{timestampValue:W0(r.serializer,a)}}if(n instanceof L2){const a=new L2(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:W0(r.serializer,a)}}if(n instanceof cC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Di)return{bytesValue:sU(r.serializer,n._byteString)};if(n instanceof S2){const a=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(a))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:SL(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${aC(n)}`)}(t,e)}function Wj(t,e){const n={};return oB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):d4(t,(r,a)=>{const c=Jo(a,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function Zj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof L2||t instanceof cC||t instanceof Di||t instanceof S2||t instanceof Yo)}function fD(t,e,n){if(!Zj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=aC(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function xf(t,e,n){if((e=(0,rt.m9)(e))instanceof Ns)return e._internalPath;if("string"==typeof e)return fC(t,e);throw dC("Field path arguments must be of type string or ",t,!1,void 0,n)}const noe=new RegExp("[~\\*/\\[\\]]");function fC(t,e,n){if(e.search(noe)>=0)throw dC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ns(...e.split("."))._internalPath}catch{throw dC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dC(t,e,n,r,a){const c=r&&!r.isEmpty(),u=void 0!==a;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${a}`),y+=")"),new ye(ne.INVALID_ARGUMENT,p+t+y)}function Kj(t,e){return t.some(n=>n.isEqual(e))}class Df{constructor(e,n,r,a,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new S2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new roe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class roe extends Df{data(){return super.data()}}function hC(t,e){return"string"==typeof e?fC(t,e):e instanceof Ns?e._internalPath:e._delegate._internalPath}function Yj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dD{}class Af extends dD{}function V4(t,e,...n){let r=[];e instanceof dD&&r.push(e),r=r.concat(n),function(a){const c=a.filter(p=>p instanceof cl).length,u=a.filter(p=>p instanceof Tf).length;if(c>1||c>0&&u>0)throw new ye(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Tf extends Af{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tf(e,n,r)}_apply(e){const n=this._parse(e);return e$(e._query,n),new Q1(e.firestore,e.converter,vL(e._query,n))}_parse(e){const n=Qo(e.firestore);return function(a,c,u,p,y,b,H){let S;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Xj(H,b);const N=[];for(const U of H)N.push(Jj(p,a,U));S={arrayValue:{values:N}}}else S=Jj(p,a,H)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Xj(H,b),S=qj(u,"where",H,"in"===b||"not-in"===b);return Gt.create(y,b,S)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class cl extends dD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cl(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:s2.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,a){let c=r;const u=a.getFlattenedFilters();for(const p of u)e$(c,p),c=vL(c,p)}(e._query,n),new Q1(e.firestore,e.converter,vL(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hD extends Af{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hD(e,n)}_apply(e){const n=function(r,a,c){if(null!==r.startAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new F0(a,c);return function(p,y){if(null===mL(p)){const b=xy(p);null!==b&&t$(0,b,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new Q1(e.firestore,e.converter,function(r,a){const c=r.explicitOrderBy.concat([a]);return new Ls(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class pC extends Af{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new pC(e,n,r)}_apply(e){return new Q1(e.firestore,e.converter,Dy(e._query,this._limit,this._limitType))}}class mC extends Af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mC(e,n,r)}_apply(e){const n=Qj(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(a=n,new Ls((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class gC extends Af{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gC(e,n,r)}_apply(e){const n=Qj(e,this.type,this._docOrFields,this._inclusive);return new Q1(e.firestore,e.converter,(a=n,new Ls((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function Qj(t,e,n,r){if(n[0]=(0,rt.m9)(n[0]),n[0]instanceof Df)return function(a,c,u,p,y){if(!p)throw new ye(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const H of Fo(a))if(H.field.isKeyField())b.push(Ro(c,p.key));else{const S=p.data.field(H.field);if(Hy(S))throw new ye(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+H.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=H.field.canonicalString();throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}b.push(S)}return new y4(b,y)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=Qo(t.firestore);return function(c,u,p,y,b,H){const S=c.explicitOrderBy;if(b.length>S.length)throw new ye(ne.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<b.length;U++){const oe=b[U];if(S[U].field.isKeyField()){if("string"!=typeof oe)throw new ye(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof oe}`);if(!gL(c)&&-1!==oe.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${oe}' contains a slash.`);const Ce=c.path.child(Wt.fromString(oe));if(!Ue.isDocumentKey(Ce))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Me=new Ue(Ce);N.push(Ro(u,Me))}else{const Ce=qj(p,y,oe);N.push(Ce)}}return new y4(N,H)}(t._query,t.firestore._databaseId,a,e,n,r)}}function Jj(t,e,n){if("string"==typeof(n=(0,rt.m9)(n))){if(""===n)throw new ye(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gL(e)&&-1!==n.indexOf("/"))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Wt.fromString(n));if(!Ue.isDocumentKey(r))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ro(t,new Ue(r))}if(n instanceof S2)return Ro(t,n._key);throw new ye(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aC(n)}.`)}function Xj(t,e){if(!Array.isArray(t)||0===t.length)throw new ye(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e$(t,e){if(e.isInequality()){const r=xy(t),a=e.field;if(null!==r&&!r.isEqual(a))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const c=mL(t);null!==c&&t$(0,a,c)}const n=function(r,a){for(const c of r)for(const u of c.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ye(ne.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function t$(t,e,n){if(!n.isEqual(e))throw new ye(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pD{convertValue(e,n="none"){switch(g4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return d4(e,(a,c)=>{r[a]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new cC(j2(e.latitude),j2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(J7(e));default:return null}}convertTimestamp(e){const n=h4(e);return new L2(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Wt.fromString(e);lt(mU(r));const a=new p4(r.get(1),r.get(3)),c=new Ue(r.popFirst(5));return a.isEqual(n)||Y2(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function vC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class doe extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new S2(this.firestore,null,n)}}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends Df{constructor(e,n,r,a,c,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nf extends ks{data(e={}){return super.data(e)}}class I4{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xo(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nf(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Nf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xo(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||3!==u.type).map(u=>{const p=new Nf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Xo(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==u.type&&(y=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),b=c.indexOf(u.doc.key)),{type:poe(u.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function poe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function r$(t,e){return t instanceof ks&&e instanceof ks?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof I4&&e instanceof I4&&t._firestore===e._firestore&&aD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class S4 extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new S2(this.firestore,null,n)}}function i$(t,e,n){t=qt(t,S2);const r=qt(t.firestore,z2),a=vC(t.converter,e,n);return ll(r,[uC(Qo(r),"setDoc",t._key,a,null!==t.converter,n).toMutation(t._key,x2.none())])}function s$(t,e,n,...r){t=qt(t,S2);const a=qt(t.firestore,z2),c=Qo(a);let u;return u="string"==typeof(e=(0,rt.m9)(e))||e instanceof Ns?uD(c,"updateDoc",t._key,e,n,r):lD(c,"updateDoc",t._key,e),ll(a,[u.toMutation(t._key,x2.exists(!0))])}function a$(t,...e){var n,r,a;t=(0,rt.m9)(t);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||oD(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(oD(e[u])){const S=e[u];e[u]=null===(n=S.next)||void 0===n?void 0:n.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(a=S.complete)||void 0===a?void 0:a.bind(S)}let y,b,H;if(t instanceof S2)b=qt(t.firestore,z2),H=U0(t._key.path),y={next:S=>{e[u]&&e[u](mD(b,t,S))},error:e[u+1],complete:e[u+2]};else{const S=qt(t,Q1);b=qt(S.firestore,z2),H=S._query;const N=new S4(b);y={next:U=>{e[u]&&e[u](new I4(b,N,S,U))},error:e[u+1],complete:e[u+2]},Yj(t._query)}return function(S,N,U,oe){const Ce=new nC(oe),Me=new Hx(N,Ce,U);return S.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return Cx(yield ol(S),Me)})),()=>{Ce.Dc(),S.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return Mx(yield ol(S),Me)}))}}(J2(b),H,p,y)}function ll(t,e){return function(n,r){const a=new _1;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function oae(t,e,n){return Ex.apply(this,arguments)}(yield rD(n),r,a)})),a.promise}(J2(t),e)}function mD(t,e,n){const r=n.docs.get(e._key),a=new S4(t);return new ks(t,a,e._key,r,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}const Doe={maxAttempts:5};class o${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qo(e)}set(e,n,r){this._verifyNotCommitted();const a=z4(e,this._firestore),c=vC(a.converter,n,r),u=uC(this._dataReader,"WriteBatch.set",a._key,c,null!==a.converter,r);return this._mutations.push(u.toMutation(a._key,x2.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const c=z4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ns?uD(this._dataReader,"WriteBatch.update",c._key,n,r,a):lD(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,x2.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=z4(e,this._firestore);return this._mutations=this._mutations.concat(new q0(n._key,x2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function z4(t,e){if((t=(0,rt.m9)(t)).firestore!==e)throw new ye(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Aoe extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qo(e)}get(e){const n=z4(e,this._firestore),r=new doe(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return Xe();const c=a[0];if(c.isFoundDocument())return new Df(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new Df(this._firestore,r,n._key,null,n.converter);throw Xe()})}set(e,n,r){const a=z4(e,this._firestore),c=vC(a.converter,n,r),u=uC(this._dataReader,"Transaction.set",a._key,c,null!==a.converter,r);return this._transaction.set(a._key,u),this}update(e,n,r,...a){const c=z4(e,this._firestore);let u;return u="string"==typeof(n=(0,rt.m9)(n))||n instanceof Ns?uD(this._dataReader,"Transaction.update",c._key,n,r,a):lD(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this}delete(e){const n=z4(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=z4(e,this._firestore),r=new S4(this._firestore);return super.get(e).then(a=>new ks(this._firestore,r,n._key,a._document,new Xo(!1,!1),n.converter))}}function gD(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function l$(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function u$(){if(!function h3e(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){k0=kt.SDK_VERSION,(0,kt._registerComponent)(new Wr.wA("firestore",(n,{instanceIdentifier:r,options:a})=>{const c=n.getProvider("app").getImmediate(),u=new z2(new Pse(n.getProvider("auth-internal")),new Fse(n.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p4(p.options.projectId,y)}(c,r),c);return a=Object.assign({useFetchStreams:e},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),(0,kt.registerVersion)(jF,"3.13.0",t),(0,kt.registerVersion)(jF,"3.13.0","esm2017")}();class kf{constructor(e){this._delegate=e}static fromBase64String(e){return u$(),new kf(Di.fromBase64String(e))}static fromUint8Array(e){return l$(),new kf(Di.fromUint8Array(e))}toBase64(){return u$(),this._delegate.toBase64()}toUint8Array(){return l$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vD(t){return function Uoe(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class joe{enableIndexedDbPersistence(e,n){return function Bae(t,e){Uj(t=qt(t,z2));const n=J2(t);if(n._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),a=new al;return Bj(n,a,new Yx(a,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Uae(t){Uj(t=qt(t,z2));const e=J2(t);if(e._uninitializedComponentsProvider)throw new ye(ne.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new al;return Bj(e,r,new wj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function jae(t){if(t._initialized&&!t._terminated)throw new ye(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _1;return t._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(n=(0,G.Z)(function*(r){if(!Qr.D())return Promise.resolve();const a=r+"main";yield Qr.delete(a)}),function(r){return n.apply(this,arguments)})(UL(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class f${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof p4||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){Pj(this._delegate,e,n,r)}enableNetwork(){return function Gae(t){return function zae(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield Vj(t),n=yield Ij(t);return e.setNetworkEnabled(!0),function(r){const a=Ge(r);return a.vu.delete(0),Vf(a)}(n)}))}(J2(t=qt(t,z2)))}(this._delegate)}disableNetwork(){return function qae(t){return function Eae(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield Vj(t),n=yield Ij(t);return e.setNetworkEnabled(!1),(r=(0,G.Z)(function*(a){const c=Ge(a);c.vu.add(0),yield X0(c),c.bu.set("Offline")}),function(a){return r.apply(this,arguments)})(n);var r}))}(J2(t=qt(t,z2)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Dj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $ae(t){return function(e){const n=new _1;return e.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function fae(t,e){return Tx.apply(this,arguments)}(yield rD(e),n)})),n.promise}(J2(t=qt(t,z2)))}(this._delegate)}onSnapshotsInSync(e){return function boe(t,e){return function Dae(t,e){const n=new nC(e);return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ol(t),a=n,Ge(r).ku.add(a),void a.next();var r,a})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield ol(t),a=n,void Ge(r).ku.delete(a);var r,a}))}}(J2(t=qt(t,z2)),oD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ul(this,Rj(this._delegate,e))}catch(n){throw In(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ir(this,oC(this._delegate,e))}catch(n){throw In(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,function kae(t,e){if(t=qt(t,zf),sD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Q1(t,null,(n=e,new Ls(Wt.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw In(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Toe(t,e,n){t=qt(t,z2);const r=Object.assign(Object.assign({},Doe),n);return function(a){if(a.maxAttempts<1)throw new ye(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,c,u){const p=new _1;return a.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const y=yield function Sj(t){return iC(t).then(e=>e.datastore)}(a);new Iae(a.asyncQueue,y,u,c,p).run()})),p.promise}(J2(t),a=>e(new Aoe(t,a)),r)}(this._delegate,n=>e(new d$(this,n)))}batch(){return J2(this._delegate),new h$(new o$(this._delegate,e=>ll(this._delegate,e)))}loadBundle(e){return function Wae(t,e){const n=J2(t=qt(t,z2)),r=new Rae;return function Aae(t,e,n,r){const a=function(c,u){let p;return p="string"==typeof c?QB().encode(c):c,y=function(y,b){if(y instanceof Uint8Array)return bj(y,b);if(y instanceof ArrayBuffer)return bj(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new Hae(y,u);var y}(n,Hf(e));t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function wae(t,e,n){const r=Ge(t);var a;(a=(0,G.Z)(function*(c,u,p){try{const y=yield u.getMetadata();if(yield function(N,U){const oe=Ge(N),Ce=Q2(U.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Me=>oe.qs.getBundleMetadata(Me,U.id)).then(Me=>!!Me&&Me.createTime.compareTo(Ce)>=0)}(c.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(N=y).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);p._updateProgress(hj(y));const b=new tae(y,c.localStore,u.serializer);let H=yield u.bc();for(;H;){const N=yield b.zu(H);N&&p._updateProgress(N),H=yield u.bc()}const S=yield b.complete();return yield Ts(c,S.Ju,void 0),yield function(N,U){const oe=Ge(N);return oe.persistence.runTransaction("Save bundle","readwrite",Ce=>oe.qs.saveBundleMetadata(Ce,U))}(c.localStore,y),p._completeWith(S.progress),Promise.resolve(S.Hu)}catch(y){return Vr("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var N}),function(c,u,p){return a.apply(this,arguments)})(r,e,n).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield rD(t),a,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Zae(t,e){return function Tae(t,e){return t.asyncQueue.enqueue((0,G.Z)(function*(){return function(n,r){const a=Ge(n);return a.persistence.runTransaction("Get named query","readonly",c=>a.qs.getNamedQuery(c,r))}(yield sC(t),e)}))}(J2(t=qt(t,z2)),e).then(n=>n?new Q1(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Sn(this,n):null)}}class yC extends pD{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(new Di(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ir.forKey(n,this.firestore,null)}}class d${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new yC(e)}get(e){const n=tc(e);return this._delegate.get(n).then(r=>new Pf(this._firestore,new ks(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const a=tc(e);return r?(gD("Transaction.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const c=tc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...a),this}delete(e){const n=tc(e);return this._delegate.delete(n),this}}class h${constructor(e){this._delegate=e}set(e,n,r){const a=tc(e);return r?(gD("WriteBatch.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const c=tc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...a),this}delete(e){const n=tc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ec{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Nf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ec.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let c=a.get(n);return c||(c=new ec(e,new yC(e),n),a.set(n,c)),c}}ec.INSTANCES=new WeakMap;class Ir{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yC(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ir(n,new S2(n._delegate,r,new Ue(e)))}static forKey(e,n,r){return new Ir(n,new S2(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ul(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ul(this.firestore,Rj(this._delegate,e))}catch(n){throw In(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof S2&&Oj(this._delegate,e)}set(e,n){n=gD("DocumentReference.set",n);try{return n?i$(this._delegate,e,n):i$(this._delegate,e)}catch(r){throw In(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?s$(this._delegate,e):s$(this._delegate,e,n,...r)}catch(a){throw In(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Moe(t){return ll(qt(t.firestore,z2),[new q0(t._key,x2.none())])}(this._delegate)}onSnapshot(...e){const n=p$(e),r=m$(e,a=>new Pf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return a$(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function goe(t){t=qt(t,S2);const e=qt(t.firestore,z2),n=J2(e),r=new S4(e);return function Lae(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(a,c,u){try{const p=yield function(y,b){const H=Ge(y);return H.persistence.runTransaction("read document","readonly",S=>H.localDocuments.getDocument(S,b))}(a,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new ye(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=nl(p,`Failed to get document '${c} from cache`);u.reject(y)}}),function(a,c,u){return r.apply(this,arguments)})(yield sC(t),e,n);var r})),n.promise}(n,t._key).then(a=>new ks(e,r,t._key,a,new Xo(null!==a&&a.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function voe(t){t=qt(t,S2);const e=qt(t.firestore,z2);return zj(J2(e),t._key,{source:"server"}).then(n=>mD(e,t,n))}(this._delegate):function moe(t){t=qt(t,S2);const e=qt(t.firestore,z2);return zj(J2(e),t._key).then(n=>mD(e,t,n))}(this._delegate),n.then(r=>new Pf(this.firestore,new ks(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ir(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function In(t,e,n){return t.message=t.message.replace(e,n),t}function p$(t){for(const e of t)if("object"==typeof e&&!vD(e))return e;return{}}function m$(t,e){var n,r;let a;return a=vD(t[0])?t[0]:vD(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{a.next&&a.next(e(c))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class Pf{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ir(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return r$(this._delegate,e._delegate)}}class Rf extends Pf{data(e){const n=this._delegate.data(e);return function Tse(t,e){t||Xe()}(void 0!==n),n}}class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yC(e)}where(e,n,r){try{return new Sn(this.firestore,V4(this._delegate,function ioe(t,e,n){const r=e,a=hC("where",t);return Tf._create(a,r,n)}(e,n,r)))}catch(a){throw In(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Sn(this.firestore,V4(this._delegate,function soe(t,e="asc"){const n=e,r=hC("orderBy",t);return hD._create(r,n)}(e,n)))}catch(r){throw In(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,V4(this._delegate,function aoe(t){return Nj("limit",t),pC._create("limit",t,"F")}(e)))}catch(n){throw In(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,V4(this._delegate,function ooe(t){return Nj("limitToLast",t),pC._create("limitToLast",t,"L")}(e)))}catch(n){throw In(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,V4(this._delegate,function coe(...t){return mC._create("startAt",t,!0)}(...e)))}catch(n){throw In(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,V4(this._delegate,function loe(...t){return mC._create("startAfter",t,!1)}(...e)))}catch(n){throw In(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,V4(this._delegate,function uoe(...t){return gC._create("endBefore",t,!1)}(...e)))}catch(n){throw In(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,V4(this._delegate,function foe(...t){return gC._create("endAt",t,!0)}(...e)))}catch(n){throw In(n,"endAt()","Query.endAt()")}}isEqual(e){return aD(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function Coe(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new S4(e);return function xae(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(a,c,u){try{const p=yield Ky(a,c,!0),y=new gj(c,p.ir),b=y.sc(p.documents),H=y.applyChanges(b,!1);u.resolve(H.snapshot)}catch(p){const y=nl(p,`Failed to execute query '${c} against cache`);u.reject(y)}}),function(a,c,u){return r.apply(this,arguments)})(yield sC(t),e,n);var r})),n.promise}(n,t._query).then(a=>new I4(e,r,t,a))}(this._delegate):"server"===e?.source?function _oe(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new S4(e);return Ej(n,t._query,{source:"server"}).then(a=>new I4(e,r,t,a))}(this._delegate):function yoe(t){t=qt(t,Q1);const e=qt(t.firestore,z2),n=J2(e),r=new S4(e);return Yj(t._query),Ej(n,t._query).then(a=>new I4(e,r,t,a))}(this._delegate),n.then(r=>new yD(this.firestore,new I4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=p$(e),r=m$(e,a=>new yD(this.firestore,new I4(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return a$(this._delegate,n,r)}withConverter(e){return new Sn(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}class Goe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yD{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Goe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Rf(this._firestore,r))})}isEqual(e){return r$(this._delegate,e._delegate)}}class ul extends Sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ir(this.firestore,e):null}doc(e){try{return new Ir(this.firestore,void 0===e?oC(this._delegate):oC(this._delegate,e))}catch(n){throw In(n,"doc()","CollectionReference.doc()")}}add(e){return function woe(t,e){const n=qt(t.firestore,z2),r=oC(t),a=vC(t.converter,e);return ll(n,[uC(Qo(t.firestore),"addDoc",r._key,a,null!==t.converter,{}).toMutation(r._key,x2.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Ir(this.firestore,n))}isEqual(e){return Oj(this._delegate,e._delegate)}withConverter(e){return new ul(this.firestore,this._delegate.withConverter(e?ec.getInstance(this.firestore,e):null))}}function tc(t){return qt(t,S2)}class CD{constructor(...e){this._delegate=new Ns(...e)}static documentId(){return new CD(U2.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof Ns&&this._delegate._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function koe(){return new cD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nc(e)}static delete(){const e=function Noe(){return new Lf("deleteField")}();return e._methodName="FieldValue.delete",new nc(e)}static arrayUnion(...e){const n=function Poe(...t){return new Xae("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new nc(n)}static arrayRemove(...e){const n=function Roe(...t){return new eoe("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new nc(n)}static increment(e){const n=function Ooe(t){return new toe("increment",t)}(e);return n._methodName="FieldValue.increment",new nc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qoe={Firestore:f$,GeoPoint:cC,Timestamp:L2,Blob:kf,Transaction:d$,WriteBatch:h$,DocumentReference:Ir,DocumentSnapshot:Pf,Query:Sn,QueryDocumentSnapshot:Rf,QuerySnapshot:yD,CollectionReference:ul,FieldPath:CD,FieldValue:nc,setLogLevel:function $oe(t){!function Ase(t){l4.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function Zoe(t){(function Woe(t,e){t.INTERNAL.registerComponent(new Wr.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),a=n.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},qoe)))})(t,(e,n)=>new f$(e,n,new joe)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(Vie.Z);var g$=k(8645),Koe=k(3019),E4=k(4664);class Yoe extends g$.x{constructor(e=1/0,n=1/0,r=dS){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:u}=this;n||(r.push(e),!a&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,c=a.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:a}=this,c=(a?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!a){const u=n.now();let p=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)p=y;p&&r.splice(0,p+1)}}}var Qoe=k(3020);function v$(t,e,n){let r,a=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:n}=t):r=t??1/0,(0,Qoe.B)({connector:()=>new Yoe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const y$=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Xoe=k(6232);function nce(t=rce){return(0,a4.e)((e,n)=>{let r=!1;e.subscribe((0,Eo.x)(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function rce(){return new y$}function C$(t,e){return(0,wO.m)(e)?(0,E4.w)(()=>t,e):(0,E4.w)(()=>t)}class fl{constructor(e){return e}}class CC{constructor(){return(0,kt.getApps)()}}const _D=new g.OlP("angularfire2._apps"),ace={provide:fl,useFactory:function sce(t){return t&&1===t.length?t[0]:new fl((0,kt.getApp)())},deps:[[new g.FiY,_D]]},oce={provide:CC,deps:[[new g.FiY,_D]]};function cce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fl(r)}}let lce=(()=>{class t{constructor(n){(0,kt.registerVersion)("angularfire",H7.full,"core"),(0,kt.registerVersion)("angularfire",H7.full,"app"),(0,kt.registerVersion)("angular",g.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(g.Lbi))},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[ace,oce]}),t})();function MD(t,...e){return{ngModule:lce,providers:[{provide:_D,useFactory:cce(t),multi:!0,deps:[g.R0b,g.zs3,z0,...e]}]}}const _$=$v(kt.getApp,!0),wD=new Map,M$={activated:!1,tokenObservers:[]},uce={initialized:!1,enabled:!1};function $2(t){return wD.get(t)||Object.assign({},M$)}function _C(){return uce}const bD="https://content-firebaseappcheck.googleapis.com/v1",pce="exchangeDebugToken",w$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gce{constructor(e,n,r,a,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,G.Z)(function*(){n.stop();try{n.pending=new rt.BH,yield function vce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new rt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const J1=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MC(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function HD(t){if(!$2(t).activated)throw J1.create("use-before-activation",{appName:t.name})}function VD(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),a=Math.floor((e-3600*n*24-3600*r)/60),c=e-3600*n*24-3600*r-60*a;let u="";return n&&(u+=wC(n)+"d:"),r&&(u+=wC(r)+"h:"),u+=wC(a)+"m:"+wC(c)+"s",u}function wC(t){return 0===t?"00":t>=10?t.toString():"0"+t}function bC(t,e){return ID.apply(this,arguments)}function ID(){return ID=(0,G.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){const S=yield a.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(t,c)}catch(S){throw J1.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw J1.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(S){throw J1.create("fetch-parse-error",{originalErrorMessage:S?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw J1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),H=Date.now();return{token:p.token,expireTimeMillis:H+b,issuedAtTimeMillis:H}}),ID.apply(this,arguments)}function b$(t,e){const{projectId:n,appId:r,apiKey:a}=t.options;return{url:`${bD}/projects/${n}/apps/${r}:${pce}?key=${a}`,body:{debug_token:e}}}const Mce="firebase-app-check-database",wce=1,Of="firebase-app-check-store",H$="debug-token";let HC=null;function V$(){return HC||(HC=new Promise((t,e)=>{try{const n=indexedDB.open(Mce,wce);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var a;e(J1.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Of,{keyPath:"compositeKey"})}}catch(n){e(J1.create("storage-open",{originalErrorMessage:n?.message}))}}),HC)}function I$(t,e){return SD.apply(this,arguments)}function SD(){return SD=(0,G.Z)(function*(t,e){const r=(yield V$()).transaction(Of,"readwrite"),c=r.objectStore(Of).put({compositeKey:t,value:e});return new Promise((u,p)=>{c.onsuccess=y=>{u()},r.onerror=y=>{var b;p(J1.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),SD.apply(this,arguments)}function S$(t){return zD.apply(this,arguments)}function zD(){return zD=(0,G.Z)(function*(t){const n=(yield V$()).transaction(Of,"readonly"),a=n.objectStore(Of).get(t);return new Promise((c,u)=>{a.onsuccess=p=>{const y=p.target.result;c(y?y.value:void 0)},n.onerror=p=>{var y;u(J1.create("storage-get",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),zD.apply(this,arguments)}function z$(t){return`${t.options.appId}-${t.name}`}const Ff=new Zr.Yd("@firebase/app-check");function ED(){return ED=(0,G.Z)(function*(t){if((0,rt.hl)()){let e;try{e=yield function bce(t){return S$(z$(t))}(t)}catch(n){Ff.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),ED.apply(this,arguments)}function LD(t,e){return(0,rt.hl)()?function Hce(t,e){return I$(z$(t),e)}(t,e).catch(n=>{Ff.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xD(){return xD=(0,G.Z)(function*(){let t;try{t=yield function Ice(){return S$(H$)}()}catch{}if(t)return t;{const e=(0,rt.k$)();return function Vce(t){return I$(H$,t)}(e).catch(n=>Ff.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),xD.apply(this,arguments)}function DD(){return _C().enabled}function AD(){return TD.apply(this,arguments)}function TD(){return TD=(0,G.Z)(function*(){const t=_C();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TD.apply(this,arguments)}const Lce={error:"UNKNOWN_ERROR"};function xce(t){return rt.US.encodeString(JSON.stringify(t),!1)}function VC(t){return ND.apply(this,arguments)}function ND(){return ND=(0,G.Z)(function*(t,e=!1){const n=t.app;HD(n);const r=$2(n);let c,a=r.token;if(a&&!dl(a)&&(r.token=void 0,a=void 0),!a){const y=yield r.cachedTokenPromise;y&&(dl(y)?a=y:yield LD(n,void 0))}if(!e&&a&&dl(a))return{token:a.token};let p,u=!1;if(DD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bC(b$(n,yield AD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield LD(n,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),a=yield $2(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ff.warn(y.message):Ff.error(y),c=y}return a?c?p=dl(a)?{token:a.token,internalError:c}:D$(c):(p={token:a.token},r.token=a,yield LD(n,a)):p=D$(c),u&&x$(n,p),p}),ND.apply(this,arguments)}function kD(){return kD=(0,G.Z)(function*(t){const e=t.app;HD(e);const{provider:n}=$2(e);if(DD()){const r=yield AD(),{token:a}=yield bC(b$(e,r),t.heartbeatServiceProvider);return{token:a}}{const{token:r}=yield n.getToken();return{token:r}}}),kD.apply(this,arguments)}function PD(t,e,n,r){const{app:a}=t,c=$2(a);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&dl(c.token)){const p=c.token;Promise.resolve().then(()=>{n({token:p.token}),L$(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>L$(t))}function RD(t,e){const n=$2(t),r=n.tokenObservers.filter(a=>a.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function L$(t){const{app:e}=t,n=$2(e);let r=n.tokenRefresher;r||(r=function Dce(t){const{app:e}=t;return new gce((0,G.Z)(function*(){let r;if(r=$2(e).token?yield VC(t,!0):yield VC(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$2(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},w$.RETRIAL_MIN_WAIT,w$.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function x$(t,e){const n=$2(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function dl(t){return t.expireTimeMillis-Date.now()>0}function D$(t){return{token:xce(Lce),error:t}}class Ace{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$2(this.app);for(const n of e)RD(this.app,n.next);return Promise.resolve()}}function Fce(t,e){const n=new rt.BH;$2(t).reCAPTCHAState={initialized:n};const a=function A$(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),c=MC(!1);return c?IC(t,e,c,a,n):function jce(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const u=MC(!1);if(!u)throw new Error("no recaptcha");IC(t,e,u,a,n)}),n.promise}function IC(t,e,n,r,a){n.ready(()=>{(function Uce(t,e,n,r){const a=n.render(r,{sitekey:e,size:"invisible",callback:()=>{$2(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{$2(t).reCAPTCHAState.succeeded=!1}}),c=$2(t);c.reCAPTCHAState=Object.assign(Object.assign({},c.reCAPTCHAState),{widgetId:a})})(t,e,n,r),a.resolve(n)})}function OD(){return OD=(0,G.Z)(function*(t){HD(t);const n=yield $2(t).reCAPTCHAState.initialized.promise;return new Promise((r,a)=>{const c=$2(t).reCAPTCHAState;n.ready(()=>{r(n.execute(c.widgetId,{action:"fire_app_check"}))})})}),OD.apply(this,arguments)}class SC{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,G.Z)(function*(){var n,r,a;!function R$(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw J1.create("throttled",{time:VD(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const c=yield function T$(t){return OD.apply(this,arguments)}(e._app).catch(p=>{throw J1.create("recaptcha-error")});if(null===(n=$2(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw J1.create("recaptcha-error");let u;try{u=yield bC(function Cce(t,e){const{projectId:n,appId:r,apiKey:a}=t.options;return{url:`${bD}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${a}`,body:{recaptcha_v3_token:e}}}(e._app,c),e._heartbeatServiceProvider)}catch(p){throw null!==(r=p.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function P$(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=(0,rt.$s)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(a=p.customData)||void 0===a?void 0:a.httpStatus),e._throttleData),J1.create("throttled",{time:VD(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):p}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,kt._getProvider)(e,"heartbeat"),Fce(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof SC&&this._siteKey===e._siteKey}}function Gce(t=(0,kt.getApp)(),e){t=(0,rt.m9)(t);const n=(0,kt._getProvider)(t,"app-check");if(_C().initialized||function Ece(){const t=(0,rt.Rd)(),e=_C();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new rt.BH;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function zce(){return xD.apply(this,arguments)}())}(),DD()&&AD().then(a=>console.log(`App Check debug token: ${a}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const a=n.getImmediate(),c=n.getOptions();if(c.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&c.provider.isEqual(e.provider))return a;throw J1.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function qce(t,e,n){const r=function fce(t,e){return wD.set(t,e),wD.get(t)}(t,Object.assign({},M$));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Sce(t){return ED.apply(this,arguments)}(t).then(a=>(a&&dl(a)&&(r.token=a,x$(t,{token:a.token})),a)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),$2(t).isTokenAutoRefreshEnabled&&PD(r,"INTERNAL",()=>{}),r}const O$="app-check-internal";!function Zce(){(0,kt._registerComponent)(new Wr.wA("app-check",t=>function Tce(t,e){return new Ace(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(O$).initialize()})),(0,kt._registerComponent)(new Wr.wA(O$,t=>function Nce(t){return{getToken:e=>VC(t,e),getLimitedUseToken:()=>function E$(t){return kD.apply(this,arguments)}(t),addTokenListener:e=>PD(t,"INTERNAL",e),removeTokenListener:e=>RD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,kt.registerVersion)("@firebase/app-check","0.8.0")}();const F$="app-check";class BD{constructor(e){return e}}class Bf{constructor(){return uE(F$)}}const UD=new g.OlP("angularfire2.app-check-instances"),Yce=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function Qce(t){return(e,n,r)=>{var a;!H1(r)&&((0,g.X6Q)()||Yce)&&(null!==(a=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==a||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const c=e.runOutsideAngular(()=>t(n));return new BD(c)}}const Jce={provide:Bf,deps:[[new g.FiY,UD]]},Xce={provide:BD,useFactory:function Kce(t,e){const n=lE(F$,t,e);return n&&new BD(n)},deps:[[new g.FiY,UD],fl,g.Lbi]};let e6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[Xce,Jce]}),t})();function B$(t,...e){return{ngModule:e6e,providers:[{provide:UD,useFactory:Qce(t),multi:!0,deps:[g.R0b,g.zs3,g.Lbi,z0,CC,...e]}]}}const U$=$v(Gce,!0);var jD=k(7142);const j$=new g.OlP("angularfire2.auth.use-emulator"),$$=new g.OlP("angularfire2.auth.settings"),G$=new g.OlP("angularfire2.auth.tenant-id"),q$=new g.OlP("angularfire2.auth.langugage-code"),W$=new g.OlP("angularfire2.auth.use-device-language"),Z$=new g.OlP("angularfire.auth.persistence"),K$=(t,e,n,r,a,c,u,p)=>(0,ar.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=a,c&&y.useDeviceLanguage(),u)for(const[b,H]of Object.entries(u))y.settings[b]=H;return p&&y.setPersistence(p),y},[n,r,a,c,u,p]);let zC=(()=>{class t{constructor(n,r,a,c,u,p,y,b,H,S,N,U){const oe=new g$.x,Ce=(0,b0.of)(void 0).pipe((0,I0.Q)(u.outsideAngular),(0,E4.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,sr.U)(()=>(0,ar.on)(n,c,r)),(0,sr.U)(Me=>K$(Me,c,p,b,H,S,y,N)),v$({bufferSize:1,refCount:!1}));if(H1(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,b0.of)(null);else{Ce.pipe(function ice(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gv((a,c)=>t(a,c,r)):bO.y,function ece(t){return t<=0?()=>Xoe.E:(0,a4.e)((e,n)=>{let r=0;e.subscribe((0,Eo.x)(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}(1),n?function tce(t){return(0,a4.e)((e,n)=>{let r=!1;e.subscribe((0,Eo.x)(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}(e):nce(()=>new y$))}()).subscribe();const je=Ce.pipe((0,E4.w)(ot=>ot.getRedirectResult().then(dt=>dt,()=>null)),ir,v$({bufferSize:1,refCount:!1})),qe=Ce.pipe((0,E4.w)(ot=>new M7.y(dt=>({unsubscribe:c.runOutsideAngular(()=>ot.onAuthStateChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))})))),Ze=Ce.pipe((0,E4.w)(ot=>new M7.y(dt=>({unsubscribe:c.runOutsideAngular(()=>ot.onIdTokenChanged(xt=>dt.next(xt),xt=>dt.error(xt),()=>dt.complete()))}))));this.authState=je.pipe(C$(qe),(0,b7.R)(u.outsideAngular),(0,I0.Q)(u.insideAngular)),this.user=je.pipe(C$(Ze),(0,b7.R)(u.outsideAngular),(0,I0.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,E4.w)(ot=>ot?(0,Ho.D)(ot.getIdToken()):(0,b0.of)(null))),this.idTokenResult=this.user.pipe((0,E4.w)(ot=>ot?(0,Ho.D)(ot.getIdTokenResult()):(0,b0.of)(null))),this.credential=(0,Koe.T)(je,oe,this.authState.pipe(Gv(ot=>!ot))).pipe((0,sr.U)(ot=>ot?.user?ot:null),(0,b7.R)(u.outsideAngular),(0,I0.Q)(u.insideAngular))}return(0,ar.pX)(this,Ce,c,{spy:{apply:(Me,je,qe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&qe.then(Ze=>oe.next(Ze))}}})}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(ar.Dh),g.LFG(ar.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(z0),g.LFG(j$,8),g.LFG($$,8),g.LFG(G$,8),g.LFG(q$,8),g.LFG(W$,8),g.LFG(Z$,8),g.LFG(Bf,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function Y$(t,e){return function n6e(t,e=vR){return new M7.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function $D(t,e){return Y$(t,e).pipe((0,sr.U)(n=>({payload:n,type:"query"})))}function EC(t,e){return $D(t,e).pipe(fE(void 0),dE(),(0,sr.U)(([n,r])=>{const a=r.payload.docChanges(),c=a.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=a.find(H=>H.doc.ref.isEqual(u.ref)),b=n?.payload.docs.find(H=>H.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function Q$(t,e,n){return EC(t,n).pipe(hE((r,a)=>function i6e(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function s6e(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return GD(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return GD(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GD(t,e.oldIndex,1)}return t}(t,r))}),t}(r,a.map(c=>c.payload),e),[]),(0,Hie.x)(),(0,sr.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function GD(t,e,n,...r){const a=t.slice();return a.splice(e,n,...r),a}function J$(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class X${constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=EC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,sr.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),n.pipe(fE(void 0),dE(),Gv(([r,a])=>a.length>0||!r),(0,sr.U)(([r,a])=>a),ir)}auditTrail(e){return this.stateChanges(e).pipe(hE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=J$(e);return Q$(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return $D(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ir)}get(e){return(0,Ho.D)(this.query.get(e)).pipe(ir)}add(e){return this.ref.add(e)}doc(e){return new eG(this.ref.doc(e),this.afs)}}class eG{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:a,query:c}=tG(r,n);return new X$(a,c,this.afs)}snapshotChanges(){return function r6e(t,e){return Y$(t,e).pipe(fE(void 0),dE(),(0,sr.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return this.snapshotChanges().pipe((0,sr.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Ho.D)(this.ref.get(e)).pipe(ir)}}class a6e{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?EC(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Gv(n=>n.length>0),ir):EC(this.query,this.afs.schedulers.outsideAngular).pipe(ir)}auditTrail(e){return this.stateChanges(e).pipe(hE((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=J$(e);return Q$(this.query,n,this.afs.schedulers.outsideAngular).pipe(ir)}valueChanges(e={}){return $D(this.query,this.afs.schedulers.outsideAngular).pipe((0,sr.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),ir)}get(e){return(0,Ho.D)(this.query.get(e)).pipe(ir)}}const o6e=new g.OlP("angularfire2.enableFirestorePersistence"),c6e=new g.OlP("angularfire2.firestore.persistenceSettings"),l6e=new g.OlP("angularfire2.firestore.settings"),u6e=new g.OlP("angularfire2.firestore.use-emulator");function tG(t,e=(n=>n)){return{query:e(t),ref:t}}let nG=(()=>{class t{constructor(n,r,a,c,u,p,y,b,H,S,N,U,oe,Ce,Me,je,qe){this.schedulers=y;const Ze=(0,ar.on)(n,p,r),ot=H;S&&K$(Ze,p,N,oe,Ce,Me,U,je),[this.firestore,this.persistenceEnabled$]=(0,ar.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const dt=p.runOutsideAngular(()=>Ze.firestore());if(c&&dt.settings(c),ot&&dt.useEmulator(...ot),a&&!H1(u)){const xt=()=>{try{return(0,Ho.D)(dt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(D2){return typeof console<"u"&&console.warn(D2),(0,b0.of)(!1)}};return[dt,p.runOutsideAngular(xt)]}return[dt,(0,b0.of)(!1)]},[c,ot,a])}collection(n,r){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:u}=tG(a,r),p=this.schedulers.ngZone.run(()=>c);return new X$(p,u,this)}collectionGroup(n,r){const a=r||(u=>u),c=this.firestore.collectionGroup(n);return new a6e(a(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>r);return new eG(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(ar.Dh),g.LFG(ar.xv,8),g.LFG(o6e,8),g.LFG(l6e,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(z0),g.LFG(c6e,8),g.LFG(u6e,8),g.LFG(zC,8),g.LFG(j$,8),g.LFG($$,8),g.LFG(G$,8),g.LFG(q$,8),g.LFG(W$,8),g.LFG(Z$,8),g.LFG(Bf,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),rG=(()=>{var t;class e{constructor(){this.firestore=(0,g.f3M)(nG),this.dgAPI=(0,g.f3M)(kv)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",a=>a.where("location","==",r.planetScan.location).limit(1)).get().subscribe(a=>{let c=Object.assign(new cR,a.docChanges().map(u=>u.doc.data())[0]);c.location=r.planetScan.location,c.turn=r.planetScan.turn,c.owner=r.planetScan.owner,(r.type==an.RESOURCE||r.type==an.SURFACE)&&(c.orbit=r.planetScan.orbit,c.ground=r.planetScan.ground),r.type==an.RESOURCE&&(c.resources.length>0?c.resources.forEach((u,p)=>{u.abundance=r.planetScan.resources[p].abundance,u.name=r.planetScan.resources[p].name}):c.resources=r.planetScan.resources),r.type==an.SURFACE&&(c.resources=r.planetScan.resources,c.workers=r.planetScan.workers,c.soldiers=r.planetScan.soldiers,c.structures=r.planetScan.structures),r.type==an.FLEET&&(c.fleets=r.planetScan.fleets),0==a.size?this.firestore.collection("scans").add(JSON.parse(JSON.stringify(c))):this.firestore.collection("scans").doc(a.docs[0].id).set(JSON.parse(JSON.stringify(c)))})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),f6e=(()=>{var t;class e{constructor(){this.scansService=(0,g.f3M)(rG)}ngOnInit(){let r=this.scansService.extractScan();null!=r&&this.scansService.updateScan(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-shared-scans-collector"]],decls:2,vars:0,consts:[[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,a){1&r&&(g.TgZ(0,"p",0),g._uU(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),g.qZA())}}),e})();const L4={firebase:{apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6LfICx0oAAAAAEd5kbT41ZHF2Zbgba9ocRB7guP6"}}};var d6e=k(6878);class qD{constructor(e){return e}}class sG{constructor(){return uE("auth")}}const WD=new g.OlP("angularfire2.auth-instances");function p6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qD(r)}}const m6e={provide:sG,deps:[[new g.FiY,WD]]},g6e={provide:qD,useFactory:function h6e(t,e){const n=lE("auth",t,e);return n&&new qD(n)},deps:[[new g.FiY,WD],fl]};let v6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[g6e,m6e]}),t})();function ZD(t,...e){return{ngModule:v6e,providers:[{provide:WD,useFactory:p6e(t),multi:!0,deps:[g.R0b,g.zs3,z0,CC,[new g.FiY,Bf],...e]}]}}const KD=$v(d6e.o,!0);class YD{constructor(e){return e}}const aG="firestore",QD=new g.OlP("angularfire2.firestore-instances");function _6e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new YD(r)}}const M6e={provide:class y6e{constructor(){return uE(aG)}},deps:[[new g.FiY,QD]]},w6e={provide:YD,useFactory:function C6e(t,e){const n=lE(aG,t,e);return n&&new YD(n)},deps:[[new g.FiY,QD],fl]};let b6e=(()=>{class t{constructor(){(0,kt.registerVersion)("angularfire",H7.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[w6e,M6e]}),t})();function oG(t,...e){return{ngModule:b6e,providers:[{provide:QD,useFactory:_6e(t),multi:!0,deps:[g.R0b,g.zs3,z0,CC,[new g.FiY,sG],[new g.FiY,Bf],...e]}]}}const cG=$v(Fae,!0);var H6e=jD.Z.initializeApp;let V6e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[f6e]}),t.\u0275inj=g.cJS({providers:[{provide:ar.Dh,useValue:L4.firebase},rG],imports:[vr,fS,MD(()=>H6e(L4.firebase)),ZD(()=>KD()),oG(()=>cG()),B$(()=>U$(_$(),{provider:new SC(L4.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),lG=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(we),this.resourceProductionFormatterPipe=(0,g.f3M)(uS),this.decimalPipe=(0,g.f3M)(Te),this.dgAPI=(0,g.f3M)(kv),this.firestore=(0,g.f3M)(nG)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let a=r.map(c=>c.location.join("."));this.firestore.collection("scans",c=>c.where("location","in",a)).get().subscribe(c=>{let p=Object.assign([],c.docChanges().map(y=>y.doc.data())).reduce((y,b)=>y.set(b.location,b),new Map);this.document.querySelectorAll("div.navigation div.planets").forEach(y=>{let b=y.querySelector("div.coords > span").textContent.trim(),H=p.get(b);if(H){y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(H.turn,"1.0","en_US"),H.resources.forEach(N=>{y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .abundance").textContent=N.abundance.toString()+"%",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(N.production).trim()});let S=H.structures.map(N=>N.name);if(S.includes(on.JUMP_GATE)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-jg"),N.textContent="JG",y.querySelector(".coords").append(N)}if(S.includes(on.HYPERSPACE_BEACON)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-hb"),N.textContent="HB",y.querySelector(".coords").append(N)}if(H.workers.currentNumber>0||H.soldiers>0){y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(H.workers.currentNumber,"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(H.soldiers,"1.0","en_US");let N=H.workers.currentNumber/15+H.soldiers/2*3+1;y.querySelector(".dgt-navigation-scan-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(N),"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population").style.display="",y.querySelector(".dgt-navigation-scan-invasion-data").style.display=""}}else y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent="N/A",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.metal .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.mineral .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.food .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.energy .abundance").textContent="-"})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function I6e(t,e){1&t&&(g.TgZ(0,"p",1),g._uU(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),g.qZA())}let S6e=(()=>{var t;class e{constructor(){this.scansService=(0,g.f3M)(lG),this.auth=(0,g.f3M)(zC),this.active=!1}ngOnInit(){this.authSubscription=this.auth.authState.subscribe(r=>{if(r){this.active=!0;let a=this.scansService.extractSummaries();a.length>0&&this.scansService.fillScans(a)}else this.active=!1})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,a){1&r&&g.YNc(0,I6e,2,0,"p",0),2&r&&g.Q6J("ngIf",a.active)},dependencies:[A4]}),e})(),JD=(()=>{var t;class e{constructor(){this.auth=(0,g.f3M)(zC),this.subscription=this.auth.authState.subscribe(r=>{r?localStorage.setItem("user",JSON.stringify(r)):localStorage.setItem("user",null)})}ngOnDestroy(){this.subscription.unsubscribe()}signIn(r,a){return this.auth.signInWithEmailAndPassword(r,a).catch(c=>{window.alert(c.message)})}signOut(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),z6e=(()=>{var t;class e{constructor(){this.authService=(0,g.f3M)(JD)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-authentication"]],decls:7,vars:0,consts:[[1,"login"],["type","text","placeholder","Username"],["type","password","placeholder","Password"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0),g._UZ(1,"input",1)(2,"input",2),g.TgZ(3,"button"),g._uU(4,"Login"),g.qZA(),g.TgZ(5,"button"),g._uU(6,"Logout"),g.qZA()())},styles:[".login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b;padding:40px 30px 30px;border-radius:10px;position:relative;width:200px;transform:translate(-50%,-50%);transition:transform .3s,box-shadow .3s;box-shadow:5px 10px 10px #02809033}.login[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-family:Asap,sans-serif;display:block;border-radius:5px;font-size:16px;background:#fff;width:100%;border:0;padding:10px;margin:15px -10px}.login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-family:Asap,sans-serif;cursor:pointer;color:#fff;font-size:16px;text-transform:uppercase;width:80px;border:0;padding:10px 0;margin-top:10px;margin-left:-5px;border-radius:5px;background-color:#f45b69;transition:background-color .3s}.login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#f24353}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}"]}),e})();var E6e=jD.Z.initializeApp;let uG=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[z6e]}),t.\u0275inj=g.cJS({providers:[JD,{provide:ar.Dh,useValue:L4.firebase}],imports:[vr,MD(()=>E6e(L4.firebase)),ZD(()=>KD())]}),e})();var L6e=jD.Z.initializeApp;let x6e=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[S6e]}),t.\u0275inj=g.cJS({providers:[{provide:ar.Dh,useValue:L4.firebase},Te,uS,lG,JD],imports:[vr,uG,MD(()=>L6e(L4.firebase)),ZD(()=>KD()),oG(()=>cG()),B$(()=>U$(_$(),{provider:new SC(L4.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),fS]}),e})();const Uf=Vc();let Ps=window.location.pathname.split(/\//g);Uf.bootstrapModule(uG).catch(t=>console.error(t)),Uf.bootstrapModule(R2e).catch(t=>console.error(t)),"planets"===Ps[1]&&Uf.bootstrapModule(a1e).catch(t=>console.error(t)),"planet"===Ps[1]&&"comms"===(5===Ps.length&&Ps[3])&&Uf.bootstrapModule(V6e).catch(t=>console.error(t)),"navigation"===Ps[1]&&6===Ps.length&&!isNaN(+Ps[2])&&!isNaN(+Ps[3])&&!isNaN(+Ps[4])&&Uf.bootstrapModule(x6e).catch(t=>console.error(t))},3018:(ht,Ie,k)=>{k.d(Ie,{y:()=>O});var g=k(1887),R=k(7394),T=k(4850),ae=k(2737);var xe=k(2653),Pe=k(4674),Ee=k(1441);let O=(()=>{class He{constructor(le){le&&(this._subscribe=le)}lift(le){const be=new He;return be.source=this,be.operator=le,be}subscribe(le,be,Ae){const Ke=function Re(He){return He&&He instanceof g.Lv||function re(He){return He&&(0,Pe.m)(He.next)&&(0,Pe.m)(He.error)&&(0,Pe.m)(He.complete)}(He)&&(0,R.Nn)(He)}(le)?le:new g.Hp(le,be,Ae);return(0,Ee.x)(()=>{const{operator:Je,source:Z}=this;Ke.add(Je?Je.call(Ke,Z):Z?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(le){try{return this._subscribe(le)}catch(be){le.error(be)}}forEach(le,be){return new(be=B(be))((Ae,Ke)=>{const Je=new g.Hp({next:Z=>{try{le(Z)}catch(ue){Ke(ue),Je.unsubscribe()}},error:Ke,complete:Ae});this.subscribe(Je)})}_subscribe(le){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(le)}[T.L](){return this}pipe(...le){return function we(He){return 0===He.length?ae.y:1===He.length?He[0]:function(le){return He.reduce((be,Ae)=>Ae(be),le)}}(le)(this)}toPromise(le){return new(le=B(le))((be,Ae)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>Ae(Je),()=>be(Ke))})}}return He.create=st=>new He(st),He})();function B(He){var st;return null!==(st=He??xe.config.Promise)&&void 0!==st?st:Promise}},8645:(ht,Ie,k)=>{k.d(Ie,{x:()=>xe});var g=k(3018),R=k(7394);const ae=(0,k(2306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(9039),we=k(1441);let xe=(()=>{class Ee extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const re=new Pe(this,this);return re.operator=B,re}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(B)}})}error(B){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:re}=this;for(;re.length;)re.shift().error(B)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:re,isStopped:Re,observers:He}=this;return re||Re?R.Lc:(this.currentObservers=null,He.push(B),new R.w0(()=>{this.currentObservers=null,(0,me.P)(He,B)}))}_checkFinalizedStatuses(B){const{hasError:re,thrownError:Re,isStopped:He}=this;re?B.error(Re):He&&B.complete()}asObservable(){const B=new g.y;return B.source=this,B}}return Ee.create=(O,B)=>new Pe(O,B),Ee})();class Pe extends xe{constructor(O,B){super(),this.destination=O,this.source=B}next(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===re||re.call(B,O)}error(O){var B,re;null===(re=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===re||re.call(B,O)}complete(){var O,B;null===(B=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===B||B.call(O)}_subscribe(O){var B,re;return null!==(re=null===(B=this.source)||void 0===B?void 0:B.subscribe(O))&&void 0!==re?re:R.Lc}}},1887:(ht,Ie,k)=>{k.d(Ie,{Hp:()=>le,Lv:()=>re});var g=k(4674),R=k(7394),T=k(2653),ae=k(3894);function me(){}const we=Ee("C",void 0,void 0);function Ee(Z,ue,J){return{kind:Z,value:ue,error:J}}var O=k(7599),B=k(1441);class re extends R.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,R.Nn)(ue)&&ue.add(this)):this.destination=Je}static create(ue,J,pe){return new le(ue,J,pe)}next(ue){this.isStopped?Ke(function Pe(Z){return Ee("N",Z,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?Ke(function xe(Z){return Ee("E",void 0,Z)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Ke(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function He(Z,ue){return Re.call(Z,ue)}class st{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:J}=this;if(J.next)try{J.next(ue)}catch(pe){be(pe)}}error(ue){const{partialObserver:J}=this;if(J.error)try{J.error(ue)}catch(pe){be(pe)}else be(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(J){be(J)}}}class le extends re{constructor(ue,J,pe){let Le;if(super(),(0,g.m)(ue)||!ue)Le={next:ue??void 0,error:J??void 0,complete:pe??void 0};else{let K;this&&T.config.useDeprecatedNextContext?(K=Object.create(ue),K.unsubscribe=()=>this.unsubscribe(),Le={next:ue.next&&He(ue.next,K),error:ue.error&&He(ue.error,K),complete:ue.complete&&He(ue.complete,K)}):Le=ue}this.destination=new st(Le)}}function be(Z){T.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Z):(0,ae.h)(Z)}function Ke(Z,ue){const{onStoppedNotification:J}=T.config;J&&O.z.setTimeout(()=>J(Z,ue))}const Je={closed:!0,next:me,error:function Ae(Z){throw Z},complete:me}},7394:(ht,Ie,k)=>{k.d(Ie,{Lc:()=>we,w0:()=>me,Nn:()=>xe});var g=k(4674);const T=(0,k(2306).d)(Ee=>function(B){Ee(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((re,Re)=>`${Re+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=k(9039);class me{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const He of B)He.remove(this);else B.remove(this);const{initialTeardown:re}=this;if((0,g.m)(re))try{re()}catch(He){O=He instanceof T?He.errors:[He]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const He of Re)try{Pe(He)}catch(st){O=O??[],st instanceof T?O=[...O,...st.errors]:O.push(st)}}if(O)throw new T(O)}}add(O){var B;if(O&&O!==this)if(this.closed)Pe(O);else{if(O instanceof me){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(O)}}_hasParent(O){const{_parentage:B}=this;return B===O||Array.isArray(B)&&B.includes(O)}_addParent(O){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(O),B):B?[B,O]:O}_removeParent(O){const{_parentage:B}=this;B===O?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,O)}remove(O){const{_finalizers:B}=this;B&&(0,ae.P)(B,O),O instanceof me&&O._removeParent(this)}}me.EMPTY=(()=>{const Ee=new me;return Ee.closed=!0,Ee})();const we=me.EMPTY;function xe(Ee){return Ee instanceof me||Ee&&"closed"in Ee&&(0,g.m)(Ee.remove)&&(0,g.m)(Ee.add)&&(0,g.m)(Ee.unsubscribe)}function Pe(Ee){(0,g.m)(Ee)?Ee():Ee.unsubscribe()}},2653:(ht,Ie,k)=>{k.d(Ie,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Ie,k)=>{k.d(Ie,{E:()=>R});const R=new(k(3018).y)(me=>me.complete())},2459:(ht,Ie,k)=>{k.d(Ie,{D:()=>ue});var g=k(4829),R=k(3093),T=k(5137),we=k(3018),Pe=k(4971),Ee=k(4674),O=k(7103);function re(J,pe){if(!J)throw new Error("Iterable cannot be null");return new we.y(Le=>{(0,O.f)(Le,pe,()=>{const K=J[Symbol.asyncIterator]();(0,O.f)(Le,pe,()=>{K.next().then(et=>{et.done?Le.complete():Le.next(et.value)})},0,!0)})})}var Re=k(8382),He=k(4026),st=k(4266),le=k(3664),be=k(5726),Ae=k(9853),Ke=k(541);function ue(J,pe){return pe?function Z(J,pe){if(null!=J){if((0,Re.c)(J))return function ae(J,pe){return(0,g.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,st.z)(J))return function xe(J,pe){return new we.y(Le=>{let K=0;return pe.schedule(function(){K===J.length?Le.complete():(Le.next(J[K++]),Le.closed||this.schedule())})})}(J,pe);if((0,He.t)(J))return function me(J,pe){return(0,g.Xf)(J).pipe((0,T.R)(pe),(0,R.Q)(pe))}(J,pe);if((0,be.D)(J))return re(J,pe);if((0,le.T)(J))return function B(J,pe){return new we.y(Le=>{let K;return(0,O.f)(Le,pe,()=>{K=J[Pe.h](),(0,O.f)(Le,pe,()=>{let et,nt;try{({value:et,done:nt}=K.next())}catch(Dt){return void Le.error(Dt)}nt?Le.complete():Le.next(et)},0,!0)}),()=>(0,Ee.m)(K?.return)&&K.return()})}(J,pe);if((0,Ke.L)(J))return function Je(J,pe){return re((0,Ke.Q)(J),pe)}(J,pe)}throw(0,Ae.z)(J)}(J,pe):(0,g.Xf)(J)}},4829:(ht,Ie,k)=>{k.d(Ie,{Xf:()=>Re});var g=k(7582),R=k(4266),T=k(4026),ae=k(3018),me=k(8382),we=k(5726),xe=k(9853),Pe=k(3664),Ee=k(541),O=k(4674),B=k(3894),re=k(4850);function Re(Z){if(Z instanceof ae.y)return Z;if(null!=Z){if((0,me.c)(Z))return function He(Z){return new ae.y(ue=>{const J=Z[re.L]();if((0,O.m)(J.subscribe))return J.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,R.z)(Z))return function st(Z){return new ae.y(ue=>{for(let J=0;J<Z.length&&!ue.closed;J++)ue.next(Z[J]);ue.complete()})}(Z);if((0,T.t)(Z))return function le(Z){return new ae.y(ue=>{Z.then(J=>{ue.closed||(ue.next(J),ue.complete())},J=>ue.error(J)).then(null,B.h)})}(Z);if((0,we.D)(Z))return Ae(Z);if((0,Pe.T)(Z))return function be(Z){return new ae.y(ue=>{for(const J of Z)if(ue.next(J),ue.closed)return;ue.complete()})}(Z);if((0,Ee.L)(Z))return function Ke(Z){return Ae((0,Ee.Q)(Z))}(Z)}throw(0,xe.z)(Z)}function Ae(Z){return new ae.y(ue=>{(function Je(Z,ue){var J,pe,Le,K;return(0,g.mG)(this,void 0,void 0,function*(){try{for(J=(0,g.KL)(Z);!(pe=yield J.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(et){Le={error:et}}finally{try{pe&&!pe.done&&(K=J.return)&&(yield K.call(J))}finally{if(Le)throw Le.error}}ue.complete()})})(Z,ue).catch(J=>ue.error(J))})}},3019:(ht,Ie,k)=>{k.d(Ie,{T:()=>we});var g=k(2372),R=k(4829),T=k(6232),ae=k(4564),me=k(2459);function we(...xe){const Pe=(0,ae.yG)(xe),Ee=(0,ae._6)(xe,1/0),O=xe;return O.length?1===O.length?(0,R.Xf)(O[0]):(0,g.J)(Ee)((0,me.D)(O,Pe)):T.E}},2096:(ht,Ie,k)=>{k.d(Ie,{of:()=>T});var g=k(4564),R=k(2459);function T(...ae){const me=(0,g.yG)(ae);return(0,R.D)(ae,me)}},8251:(ht,Ie,k)=>{k.d(Ie,{x:()=>R});var g=k(1887);function R(ae,me,we,xe,Pe){return new T(ae,me,we,xe,Pe)}class T extends g.Lv{constructor(me,we,xe,Pe,Ee,O){super(me),this.onFinalize=Ee,this.shouldUnsubscribe=O,this._next=we?function(B){try{we(B)}catch(re){me.error(re)}}:super._next,this._error=Pe?function(B){try{Pe(B)}catch(re){me.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(B){me.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},3997:(ht,Ie,k)=>{k.d(Ie,{x:()=>ae});var g=k(2737),R=k(9360),T=k(8251);function ae(we,xe=g.y){return we=we??me,(0,R.e)((Pe,Ee)=>{let O,B=!0;Pe.subscribe((0,T.x)(Ee,re=>{const Re=xe(re);(B||!we(O,Re))&&(B=!1,O=Re,Ee.next(re))}))})}function me(we,xe){return we===xe}},7398:(ht,Ie,k)=>{k.d(Ie,{U:()=>T});var g=k(9360),R=k(8251);function T(ae,me){return(0,g.e)((we,xe)=>{let Pe=0;we.subscribe((0,R.x)(xe,Ee=>{xe.next(ae.call(me,Ee,Pe++))}))})}},2372:(ht,Ie,k)=>{k.d(Ie,{J:()=>O});var g=k(7398),R=k(4829),T=k(9360),ae=k(7103),me=k(8251),xe=k(4674);function Pe(B,re,Re=1/0){return(0,xe.m)(re)?Pe((He,st)=>(0,g.U)((le,be)=>re(He,le,st,be))((0,R.Xf)(B(He,st))),Re):("number"==typeof re&&(Re=re),(0,T.e)((He,st)=>function we(B,re,Re,He,st,le,be,Ae){const Ke=[];let Je=0,Z=0,ue=!1;const J=()=>{ue&&!Ke.length&&!Je&&re.complete()},pe=K=>Je<He?Le(K):Ke.push(K),Le=K=>{le&&re.next(K),Je++;let et=!1;(0,R.Xf)(Re(K,Z++)).subscribe((0,me.x)(re,nt=>{st?.(nt),le?pe(nt):re.next(nt)},()=>{et=!0},void 0,()=>{if(et)try{for(Je--;Ke.length&&Je<He;){const nt=Ke.shift();be?(0,ae.f)(re,be,()=>Le(nt)):Le(nt)}J()}catch(nt){re.error(nt)}}))};return B.subscribe((0,me.x)(re,pe,()=>{ue=!0,J()})),()=>{Ae?.()}}(He,st,B,Re)))}var Ee=k(2737);function O(B=1/0){return Pe(Ee.y,B)}},3093:(ht,Ie,k)=>{k.d(Ie,{Q:()=>ae});var g=k(7103),R=k(9360),T=k(8251);function ae(me,we=0){return(0,R.e)((xe,Pe)=>{xe.subscribe((0,T.x)(Pe,Ee=>(0,g.f)(Pe,me,()=>Pe.next(Ee),we),()=>(0,g.f)(Pe,me,()=>Pe.complete(),we),Ee=>(0,g.f)(Pe,me,()=>Pe.error(Ee),we)))})}},3020:(ht,Ie,k)=>{k.d(Ie,{B:()=>me});var g=k(4829),R=k(8645),T=k(1887),ae=k(9360);function me(xe={}){const{connector:Pe=(()=>new R.x),resetOnError:Ee=!0,resetOnComplete:O=!0,resetOnRefCountZero:B=!0}=xe;return re=>{let Re,He,st,le=0,be=!1,Ae=!1;const Ke=()=>{He?.unsubscribe(),He=void 0},Je=()=>{Ke(),Re=st=void 0,be=Ae=!1},Z=()=>{const ue=Re;Je(),ue?.unsubscribe()};return(0,ae.e)((ue,J)=>{le++,!Ae&&!be&&Ke();const pe=st=st??Pe();J.add(()=>{le--,0===le&&!Ae&&!be&&(He=we(Z,B))}),pe.subscribe(J),!Re&&le>0&&(Re=new T.Hp({next:Le=>pe.next(Le),error:Le=>{Ae=!0,Ke(),He=we(Je,Ee,Le),pe.error(Le)},complete:()=>{be=!0,Ke(),He=we(Je,O),pe.complete()}}),(0,g.Xf)(ue).subscribe(Re))})(re)}}function we(xe,Pe,...Ee){if(!0===Pe)return void xe();if(!1===Pe)return;const O=new T.Hp({next:()=>{O.unsubscribe(),xe()}});return(0,g.Xf)(Pe(...Ee)).subscribe(O)}},5137:(ht,Ie,k)=>{k.d(Ie,{R:()=>R});var g=k(9360);function R(T,ae=0){return(0,g.e)((me,we)=>{we.add(T.schedule(()=>me.subscribe(we),ae))})}},4664:(ht,Ie,k)=>{k.d(Ie,{w:()=>ae});var g=k(4829),R=k(9360),T=k(8251);function ae(me,we){return(0,R.e)((xe,Pe)=>{let Ee=null,O=0,B=!1;const re=()=>B&&!Ee&&Pe.complete();xe.subscribe((0,T.x)(Pe,Re=>{Ee?.unsubscribe();let He=0;const st=O++;(0,g.Xf)(me(Re,st)).subscribe(Ee=(0,T.x)(Pe,le=>Pe.next(we?we(Re,le,st,He++):le),()=>{Ee=null,re()}))},()=>{B=!0,re()}))})}},7599:(ht,Ie,k)=>{k.d(Ie,{z:()=>g});const g={setTimeout(R,T,...ae){const{delegate:me}=g;return me?.setTimeout?me.setTimeout(R,T,...ae):setTimeout(R,T,...ae)},clearTimeout(R){const{delegate:T}=g;return(T?.clearTimeout||clearTimeout)(R)},delegate:void 0}},4971:(ht,Ie,k)=>{k.d(Ie,{h:()=>R});const R=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Ie,k)=>{k.d(Ie,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Ie,k)=>{k.d(Ie,{_6:()=>we,yG:()=>me});var g=k(4674);function T(xe){return xe[xe.length-1]}function me(xe){return function R(xe){return xe&&(0,g.m)(xe.schedule)}(T(xe))?xe.pop():void 0}function we(xe,Pe){return"number"==typeof T(xe)?xe.pop():Pe}},9039:(ht,Ie,k)=>{function g(R,T){if(R){const ae=R.indexOf(T);0<=ae&&R.splice(ae,1)}}k.d(Ie,{P:()=>g})},2306:(ht,Ie,k)=>{function g(R){const ae=R(me=>{Error.call(me),me.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Ie,{d:()=>g})},1441:(ht,Ie,k)=>{k.d(Ie,{O:()=>ae,x:()=>T});var g=k(2653);let R=null;function T(me){if(g.config.useDeprecatedSynchronousErrorHandling){const we=!R;if(we&&(R={errorThrown:!1,error:null}),me(),we){const{errorThrown:xe,error:Pe}=R;if(R=null,xe)throw Pe}}else me()}function ae(me){g.config.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=me)}},7103:(ht,Ie,k)=>{function g(R,T,ae,me=0,we=!1){const xe=T.schedule(function(){ae(),we?R.add(this.schedule(null,me)):this.unsubscribe()},me);if(R.add(xe),!we)return xe}k.d(Ie,{f:()=>g})},2737:(ht,Ie,k)=>{function g(R){return R}k.d(Ie,{y:()=>g})},4266:(ht,Ie,k)=>{k.d(Ie,{z:()=>g});const g=R=>R&&"number"==typeof R.length&&"function"!=typeof R},5726:(ht,Ie,k)=>{k.d(Ie,{D:()=>R});var g=k(4674);function R(T){return Symbol.asyncIterator&&(0,g.m)(T?.[Symbol.asyncIterator])}},4674:(ht,Ie,k)=>{function g(R){return"function"==typeof R}k.d(Ie,{m:()=>g})},8382:(ht,Ie,k)=>{k.d(Ie,{c:()=>T});var g=k(4850),R=k(4674);function T(ae){return(0,R.m)(ae[g.L])}},3664:(ht,Ie,k)=>{k.d(Ie,{T:()=>T});var g=k(4971),R=k(4674);function T(ae){return(0,R.m)(ae?.[g.h])}},4026:(ht,Ie,k)=>{k.d(Ie,{t:()=>R});var g=k(4674);function R(T){return(0,g.m)(T?.then)}},541:(ht,Ie,k)=>{k.d(Ie,{L:()=>ae,Q:()=>T});var g=k(7582),R=k(4674);function T(me){return(0,g.FC)(this,arguments,function*(){const xe=me.getReader();try{for(;;){const{value:Pe,done:Ee}=yield(0,g.qq)(xe.read());if(Ee)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Pe)}}finally{xe.releaseLock()}})}function ae(me){return(0,R.m)(me?.getReader)}},9360:(ht,Ie,k)=>{k.d(Ie,{e:()=>T});var g=k(4674);function T(ae){return me=>{if(function R(ae){return(0,g.m)(ae?.lift)}(me))return me.lift(function(we){try{return ae(we,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ht,Ie,k)=>{k.d(Ie,{h:()=>T});var g=k(2653),R=k(7599);function T(ae){R.z.setTimeout(()=>{const{onUnhandledError:me}=g.config;if(!me)throw ae;me(ae)})}},9853:(ht,Ie,k)=>{function g(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>g})},7989:(ht,Ie,k)=>{k.d(Ie,{AFp:()=>ad,hGG:()=>YV,Ojb:()=>F_,sBO:()=>NV,EJc:()=>rV,SBq:()=>A3,qLn:()=>fs,OlP:()=>Yt,zs3:()=>Xn,ZZ4:()=>Z5,aQg:()=>K5,soG:()=>f0,h0i:()=>ys,R0b:()=>E1,FiY:()=>ts,Lbi:()=>$8,g9A:()=>j8,Qsj:()=>X_,FYo:()=>pd,JOm:()=>e6,q3G:()=>os,Rgc:()=>fo,dDg:()=>bV,eoX:()=>Tg,q4F:()=>md,GfV:()=>J8,s_b:()=>r0,ifc:()=>_e,Lck:()=>qb,eFA:()=>Rg,f3M:()=>$e,X6Q:()=>TV,_c5:()=>KV,rg0:()=>Wf,zSh:()=>F8,wAp:()=>W3,vHH:()=>Z,lri:()=>Dg,rWj:()=>Ag,JZr:()=>Je,EiD:()=>h6,mCW:()=>Oa,qzn:()=>S3,JVY:()=>h_,pB0:()=>g_,eBb:()=>m_,L6k:()=>p_,LAX:()=>L8,cg1:()=>K6,kL8:()=>Ap,dqk:()=>Lt,QGY:()=>U6,F4k:()=>Oh,RDi:()=>o_,AaK:()=>re,z3N:()=>Cr,TTD:()=>yc,xp6:()=>cu,uIk:()=>Mu,ekj:()=>$u,Xpm:()=>Os,lG2:()=>Us,Yz7:()=>bt,cJS:()=>m2,oAB:()=>F4,Yjl:()=>js,Y36:()=>N3,_UZ:()=>B6,qZA:()=>F6,TgZ:()=>O6,Ikx:()=>Z6,LFG:()=>Ne,$8M:()=>di,oxw:()=>Gh,ALo:()=>xm,lcZ:()=>Dm,Dn7:()=>Am,Hsn:()=>Wh,F$t:()=>qh,Q6J:()=>xu,DdM:()=>wm,VKq:()=>bm,oJD:()=>Q9,Akn:()=>tr,YNc:()=>Ah,_uU:()=>mp,Oqu:()=>Ku});var g=k(8645),R=k(7394);class T extends g.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const o=super._subscribe(s);return!o.closed&&s.next(this._value),o}getValue(){const{hasError:s,thrownError:o,_value:l}=this;if(s)throw o;return this._throwIfClosed(),l}next(s){super.next(this._value=s)}}var ae=k(3018),me=k(3019),we=k(2096),xe=k(3020),Pe=k(4664),Ee=k(3997);function O(i){for(let s in i)if(i[s]===O)return s;throw Error("Could not find renamed property on target object.")}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Re(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const He=O({__forward_ref__:O});function st(i){return i.__forward_ref__=st,i.toString=function(){return re(this())},i}function le(i){return function be(i){return"function"==typeof i&&i.hasOwnProperty(He)&&i.__forward_ref__===st}(i)?i():i}function Ae(i){return i&&!!i.\u0275providers}const Je="https://g.co/ng/security#xss";class Z extends Error{constructor(s,o){super(function ue(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function J(i){return"string"==typeof i?i:null==i?"":String(i)}function nt(i,s){throw new Z(-201,!1)}function Qe(i,s){null==i&&function ke(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function bt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function m2(i){return{providers:i.providers||[],imports:i.imports||[]}}function g2(i){return E2(i,s1)||E2(i,a1)}function E2(i,s){return i.hasOwnProperty(s)?i[s]:null}function P1(i){return i&&(i.hasOwnProperty(v2)||i.hasOwnProperty(zn))?i[v2]:null}const s1=O({\u0275prov:O}),v2=O({\u0275inj:O}),a1=O({ngInjectableDef:O}),zn=O({ngInjectorDef:O});var ut=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(ut||{});let Mt;function jt(i){const s=Mt;return Mt=i,s}function o1(i,s,o){const l=g2(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&ut.Optional?null:void 0!==s?s:void nt(re(i))}const Lt=globalThis,c2={},Fn="__NG_DI_FLAG__",O1="ngTempTokenPath",F=/\n/gm,x="__source";let D;function q(i){const s=D;return D=i,s}function de(i,s=ut.Default){if(void 0===D)throw new Z(-203,!1);return null===D?o1(i,void 0,s):D.get(i,s&ut.Optional?null:void 0,s)}function Ne(i,s=ut.Default){return(function Ct(){return Mt}()||de)(le(i),s)}function $e(i,s=ut.Default){return Ne(i,Ft(s))}function Ft(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function vt(i){const s=[];for(let o=0;o<i.length;o++){const l=le(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let f,d=ut.Default;for(let v=0;v<l.length;v++){const C=l[v],w=It(C);"number"==typeof w?-1===w?f=C.token:d|=w:f=C}s.push(Ne(f,d))}else s.push(Ne(l))}return s}function Xt(i,s){return i[Fn]=s,i.prototype[Fn]=s,i}function It(i){return i[Fn]}function se(i){return{toString:i}.toString()}var Y=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Y||{}),_e=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(_e||{});const Ye={},Oe=[],Vt=O({\u0275cmp:O}),Bt=O({\u0275dir:O}),A2=O({\u0275pipe:O}),l2=O({\u0275mod:O}),e1=O({\u0275fac:O}),Bn=O({__NG_ELEMENT_ID__:O}),Rs=O({__NG_ENV_ID__:O});function x4(i,s,o){let l=i.length;for(;;){const f=i.indexOf(s,o);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const d=s.length;if(f+d===l||i.charCodeAt(f+d)<=32)return f}o=f+1}}function Ai(i,s,o){let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const d=o[l++],v=o[l++],C=o[l++];i.setAttribute(s,v,C,d)}else{const d=f,v=o[++l];Ti(d)?i.setProperty(s,d,v):i.setAttribute(s,d,v),l++}}return l}function Un(i){return 3===i||4===i||6===i}function Ti(i){return 64===i.charCodeAt(0)}function Ni(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||D4(i,o,f,null,-1===o||2===o?s[++l]:null)}}return i}function D4(i,s,o,l,f){let d=0,v=i.length;if(-1===s)v=-1;else for(;d<i.length;){const C=i[d++];if("number"==typeof C){if(C===s){v=-1;break}if(C>s){v=d-1;break}}}for(;d<i.length;){const C=i[d];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==f&&(i[d+1]=f));if(l===i[d+1])return void(i[d+2]=f)}d++,null!==l&&d++,null!==f&&d++}-1!==v&&(i.splice(v,0,s),d=v+1),i.splice(d++,0,o),null!==l&&i.splice(d++,0,l),null!==f&&i.splice(d++,0,f)}const u2="ng-template";function hl(i,s,o){let l=0,f=!0;for(;l<i.length;){let d=i[l++];if("string"==typeof d&&f){const v=i[l++];if(o&&"class"===d&&-1!==x4(v.toLowerCase(),s,0))return!0}else{if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}"number"==typeof d&&(f=!1)}}return!1}function A4(i){return 4===i.type&&i.value!==u2}function pl(i,s,o){return s===(4!==i.type||o?i.value:u2)}function T4(i,s,o){let l=4;const f=i.attrs||[],d=function ki(i){for(let s=0;s<i.length;s++)if(Un(i[s]))return s;return i.length}(f);let v=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!v)if(4&l){if(l=2|1&l,""!==w&&!pl(i,w,o)||""===w&&1===s.length){if(b1(l))return!1;v=!0}}else{const V=8&l?w:s[++C];if(8&l&&null!==i.attrs){if(!hl(i.attrs,V,o)){if(b1(l))return!1;v=!0}continue}const A=N4(8&l?"class":w,f,A4(i),o);if(-1===A){if(b1(l))return!1;v=!0;continue}if(""!==V){let j;j=A>d?"":f[A+1].toLowerCase();const W=8&l?j:null;if(W&&-1!==x4(W,V,0)||2&l&&V!==j){if(b1(l))return!1;v=!0}}}}else{if(!v&&!b1(l)&&!b1(w))return!1;if(v&&b1(w))continue;v=!1,l=w|1&l}}return b1(l)||v}function b1(i){return 0==(1&i)}function N4(i,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let d=!1;for(;f<s.length;){const v=s[f];if(v===i)return f;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=s[++f];for(;"string"==typeof C;)C=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=d?1:2}return-1}return function P4(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function k4(i,s,o=!1){for(let l=0;l<s.length;l++)if(T4(i,s[l],o))return!0;return!1}function rc(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let f=0;f<i.length;f++)if(i[f]!==l[f])continue e;return!0}}return!1}function ic(i,s){return i?":not("+s.trim()+")":s}function sc(i){let s=i[0],o=1,l=2,f="",d=!1;for(;o<i.length;){let v=i[o];if("string"==typeof v)if(2&l){const C=i[++o];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?f+="."+v:4&l&&(f+=" "+v);else""!==f&&!b1(v)&&(s+=ic(d,f),f=""),l=v,d=d||!b1(l);o++}return""!==f&&(s+=ic(d,f)),s}function Os(i){return se(()=>{const s=ac(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||_e.Emulated,styles:i.styles||Oe,_:null,schemas:i.schemas||null,tView:null,id:""};$s(o);const l=i.dependencies;return o.directiveDefs=dr(l,!1),o.pipeDefs=dr(l,!0),o.id=function Gs(i){let s=0;const o=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const f of o)s=Math.imul(31,s)+f.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function Fs(i){return Pt(i)||q2(i)}function O4(i){return null!==i}function F4(i){return se(()=>({type:i.type,bootstrap:i.bootstrap||Oe,declarations:i.declarations||Oe,imports:i.imports||Oe,exports:i.exports||Oe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Bs(i,s){if(null==i)return Ye;const o={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],d=f;Array.isArray(f)&&(d=f[1],f=f[0]),o[f]=l,s&&(s[f]=d)}return o}function Us(i){return se(()=>{const s=ac(i);return $s(s),s})}function js(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Pt(i){return i[Vt]||null}function q2(i){return i[Bt]||null}function W2(i){return i[A2]||null}function ac(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ye,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Oe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bs(i.inputs,s),outputs:Bs(i.outputs)}}function $s(i){i.features?.forEach(s=>s(i))}function dr(i,s){if(!i)return null;const o=s?W2:Fs;return()=>("function"==typeof i?i():i).map(l=>o(l)).filter(O4)}const f2=0,Te=1,wt=2,n2=3,B1=4,$n=5,u1=6,zr=7,d2=8,Gn=9,hr=10,pt=11,Ri=12,gl=13,H1=14,T2=15,ei=16,U1=17,V1=18,pr=19,oc=20,Er=21,qn=22,U4=23,Cn=24,Rt=25,$4=1,Oi=2,f1=7,ti=9,N2=11;function I1(i){return Array.isArray(i)&&"object"==typeof i[$4]}function h1(i){return Array.isArray(i)&&!0===i[$4]}function G4(i){return 0!=(4&i.flags)}function Wn(i){return i.componentOffset>-1}function Bi(i){return 1==(1&i.flags)}function X1(i){return!!i.template}function ni(i){return 0!=(512&i[wt])}function Zn(i,s){return i.hasOwnProperty(e1)?i[e1]:null}let Zs=Lt.WeakRef??class Gf{constructor(s){this.ref=s}deref(){return this.ref}},qf=0,En=null,Lr=!1;function Z2(i){const s=En;return En=i,s}class Sl{constructor(){this.id=qf++,this.ref=function dc(i){return new Zs(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const l=o.producerNode.deref();if(null!=l&&o.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Lr;Lr=!0;try{for(const[o,l]of this.consumers){const f=l.consumerNode.deref();null!=f&&f.trackingVersion===l.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),f?.producers.delete(this.id))}}finally{Lr=s}}producerAccessed(){if(Lr)throw new Error("");if(null===En)return;let s=En.producers.get(this.id);void 0===s?(s={consumerNode:En.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:En.trackingVersion},En.producers.set(this.id,s),this.consumers.set(En.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=En.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==En?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ys=null;function Wf(i){const s=Z2(null);try{return i()}finally{Z2(s)}}const Ll=()=>{};class xl extends Sl{constructor(s,o,l){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=Ll,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Z2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ll,this.watch(this.registerOnCleanup)}finally{Z2(s)}}cleanup(){this.cleanupFn()}}class vc{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function yc(){return ii}function ii(i){return i.type.prototype.ngOnChanges&&(i.setInput=Js),Dl}function Dl(){const i=Xs(this),s=i?.current;if(s){const o=i.previous;if(o===Ye)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Js(i,s,o,l){const f=this.declaredInputs[o],d=Xs(i)||function Ui(i,s){return i[Cc]=s}(i,{previous:Ye,current:null}),v=d.current||(d.current={}),C=d.previous,w=C[f];v[f]=new vc(w&&w.currentValue,s,C===Ye),i[l]=s}yc.ngInherit=!0;const Cc="__ngSimpleChanges__";function Xs(i){return i[Cc]||null}const Kn=function(i,s,o){};function e2(i){for(;Array.isArray(i);)i=i[f2];return i}function e3(i,s){return e2(s[i])}function p1(i,s){return e2(s[i.index])}function si(i,s){return i.data[s]}function S1(i,s){return i[s]}function t1(i,s){const o=s[i];return I1(o)?o:o[f2]}function xr(i,s){return null==s?null:i[s]}function wc(i){i[U1]=0}function Rl(i){1024&i[wt]||(i[wt]|=1024,$i(i,1))}function ji(i){1024&i[wt]&&(i[wt]&=-1025,$i(i,-1))}function $i(i,s){let o=i[n2];if(null===o)return;o[$n]+=s;let l=o;for(o=o[n2];null!==o&&(1===s&&1===l[$n]||-1===s&&0===l[$n]);)o[$n]+=s,l=o,o=o[n2]}const yt={lFrame:ql(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hc(){return yt.bindingsEnabled}function gr(){return null!==yt.skipHydrationRootTNode}function ve(){return yt.lFrame.lView}function Ot(){return yt.lFrame.tView}function O2(){let i=Vc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vc(){return yt.lFrame.currentTNode}function _n(i,s){const o=yt.lFrame;o.currentTNode=i,o.isParent=s}function Dr(){return yt.lFrame.isParent}function vr(){yt.lFrame.isParent=!1}function n1(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function j1(){return yt.lFrame.bindingIndex++}function Mn(i){const s=yt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Sc(i,s){const o=yt.lFrame;o.bindingIndex=o.bindingRootIndex=i,sa(s)}function sa(i){yt.lFrame.currentDirectiveIndex=i}function Lc(i){yt.lFrame.currentQueryIndex=i}function Yf(i){const s=i[Te];return 2===s.type?s.declTNode:1===s.type?i[u1]:null}function $l(i,s,o){if(o&ut.SkipSelf){let f=s,d=i;for(;!(f=f.parent,null!==f||o&ut.Host||(f=Yf(d),null===f||(d=d[H1],10&f.type))););if(null===f)return!1;s=f,i=d}const l=yt.lFrame=Gl();return l.currentTNode=s,l.lView=i,!0}function qi(i){const s=Gl(),o=i[Te];yt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Gl(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?ql(i):s}function ql(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function aa(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const a3=aa;function o3(){const i=aa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function z1(){return yt.lFrame.selectedIndex}function oi(i){yt.lFrame.selectedIndex=i}function o2(){const i=yt.lFrame;return si(i.tView,i.selectedIndex)}let c3=!0;function l3(){return c3}function xn(i){c3=i}function ci(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:V,ngOnDestroy:z}=d;v&&(i.contentHooks??=[]).push(-o,v),C&&((i.contentHooks??=[]).push(o,C),(i.contentCheckHooks??=[]).push(o,C)),w&&(i.viewHooks??=[]).push(-o,w),V&&((i.viewHooks??=[]).push(o,V),(i.viewCheckHooks??=[]).push(o,V)),null!=z&&(i.destroyHooks??=[]).push(o,z)}}function Ar(i,s,o){u3(i,s,3,o)}function li(i,s,o,l){(3&i[wt])===o&&u3(i,s,o,l)}function oa(i,s){let o=i[wt];(3&o)===s&&(o&=8191,o+=1,i[wt]=o)}function u3(i,s,o,l){const d=l??-1,v=s.length-1;let C=0;for(let w=void 0!==l?65535&i[U1]:0;w<v;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=l&&C>=l)break}else s[w]<0&&(i[U1]+=65536),(C<d||-1==d)&&(Tr(i,o,s,w),i[U1]=(4294901760&i[U1])+w+2),w++}function Tc(i,s){Kn(4,i,s);const o=Z2(null);try{s.call(i)}finally{Z2(o),Kn(5,i,s)}}function Tr(i,s,o,l){const f=o[l]<0,d=o[l+1],C=i[f?-o[l]:o[l]];f?i[wt]>>13<i[U1]>>16&&(3&i[wt])===s&&(i[wt]+=8192,Tc(C,d)):Tc(C,d)}const Yn=-1;class Wi{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ki(i){return i!==Yn}function Yi(i){return 32767&i}function Nr(i,s){let o=function f3(i){return i>>16}(i),l=s;for(;o>0;)l=l[H1],o--;return l}let ca=!0;function Dn(i){const s=ca;return ca=i,s}const Pc=255,d3=5;let la=0;const en={};function ui(i,s){const o=ua(i,s);if(-1!==o)return o;const l=s[Te];l.firstCreatePass&&(i.injectorIndex=s.length,h3(l.data,i),h3(s,null),h3(l.blueprint,null));const f=p3(i,s),d=i.injectorIndex;if(Ki(f)){const v=Yi(f),C=Nr(f,s),w=C[Te].data;for(let V=0;V<8;V++)s[d+V]=C[v+V]|w[v+V]}return s[d+8]=f,d}function h3(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ua(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function p3(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){if(l=ga(f),null===l)return Yn;if(o++,f=f[H1],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Yn}function m3(i,s,o){!function Xl(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(Bn)&&(l=o[Bn]),null==l&&(l=o[Bn]=la++);const f=l&Pc;s.data[i+(f>>d3)]|=1<<f}(i,s,o)}function Rc(i,s,o){if(o&ut.Optional||void 0!==i)return i;nt()}function da(i,s,o,l){if(o&ut.Optional&&void 0===l&&(l=null),!(o&(ut.Self|ut.Host))){const f=i[Gn],d=jt(void 0);try{return f?f.get(s,l,o&ut.Optional):o1(s,l,o&ut.Optional)}finally{jt(d)}}return Rc(l,0,o)}function g3(i,s,o,l=ut.Default,f){if(null!==i){if(2048&s[wt]&&!(l&ut.Self)){const v=function t8(i,s,o,l,f){let d=i,v=s;for(;null!==d&&null!==v&&2048&v[wt]&&!(512&v[wt]);){const C=ha(d,v,o,l|ut.Self,en);if(C!==en)return C;let w=d.parent;if(!w){const V=v[oc];if(V){const z=V.get(o,en,l);if(z!==en)return z}w=ga(v),v=v[H1]}d=w}return f}(i,s,o,l,en);if(v!==en)return v}const d=ha(i,s,o,l,en);if(d!==en)return d}return da(s,o,l,f)}function ha(i,s,o,l,f){const d=function pa(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Bn)?i[Bn]:void 0;return"number"==typeof s?s>=0?s&Pc:Oc:s}(o);if("function"==typeof d){if(!$l(s,i,l))return l&ut.Host?Rc(f,0,l):da(s,o,l,f);try{let v;if(v=d(l),null!=v||l&ut.Optional)return v;nt()}finally{a3()}}else if("number"==typeof d){let v=null,C=ua(i,s),w=Yn,V=l&ut.Host?s[T2][u1]:null;for((-1===C||l&ut.SkipSelf)&&(w=-1===C?p3(i,s):s[C+8],w!==Yn&&y3(l,!1)?(v=s[Te],C=Yi(w),s=Nr(w,s)):C=-1);-1!==C;){const z=s[Te];if(v3(d,C,z.data)){const A=e8(C,s,o,v,l,V);if(A!==en)return A}w=s[C+8],w!==Yn&&y3(l,s[Te].data[C+8]===V)&&v3(d,C,s)?(v=z,C=Yi(w),s=Nr(w,s)):C=-1}}return f}function e8(i,s,o,l,f,d){const v=s[Te],C=v.data[i+8],z=function fi(i,s,o,l,f){const d=i.providerIndexes,v=s.data,C=1048575&d,w=i.directiveStart,z=d>>20,j=f?C+z:i.directiveEnd;for(let W=l?C:C+z;W<j;W++){const ce=v[W];if(W<w&&o===ce||W>=w&&ce.type===o)return W}if(f){const W=v[w];if(W&&X1(W)&&W.type===o)return w}return null}(C,v,o,null==l?Wn(C)&&ca:l!=v&&0!=(3&C.type),f&ut.Host&&d===C);return null!==z?yr(s,v,z,C):en}function yr(i,s,o,l){let f=i[o];const d=s.data;if(function Zl(i){return i instanceof Wi}(f)){const v=f;v.resolving&&function Le(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${o}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():J(i)}(d[o]));const C=Dn(v.canSeeViewProviders);v.resolving=!0;const V=v.injectImpl?jt(v.injectImpl):null;$l(i,l,ut.Default);try{f=i[o]=v.factory(void 0,d,i,l),s.firstCreatePass&&o>=l.directiveStart&&function Wl(i,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:d}=s.type.prototype;if(l){const v=ii(s);(o.preOrderHooks??=[]).push(i,v),(o.preOrderCheckHooks??=[]).push(i,v)}f&&(o.preOrderHooks??=[]).push(0-i,f),d&&((o.preOrderHooks??=[]).push(i,d),(o.preOrderCheckHooks??=[]).push(i,d))}(o,d[o],s)}finally{null!==V&&jt(V),Dn(C),v.resolving=!1,a3()}}return f}function v3(i,s,o){return!!(o[s+(i>>d3)]&1<<i)}function y3(i,s){return!(i&ut.Self||i&ut.Host&&s)}class r1{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return g3(this._tNode,this._lView,s,Ft(l),o)}}function Oc(){return new r1(O2(),ve())}function ga(i){const s=i[Te],o=s.type;return 2===o?s.declTNode:1===o?i[u1]:null}function di(i){return function fa(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const d=o[f];if(Un(d))break;if(0===d)f+=2;else if("number"==typeof d)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(d===s)return o[f+1];f+=2}}}return null}(O2(),i)}const Pr="__parameters__";function mi(i,s,o){return se(()=>{const l=function va(i){return function(...o){if(i){const l=i(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...d){if(this instanceof f)return l.apply(this,d),this;const v=new f(...d);return C.annotation=v,C;function C(w,V,z){const A=w.hasOwnProperty(Pr)?w[Pr]:Object.defineProperty(w,Pr,{value:[]})[Pr];for(;A.length<=z;)A.push(null);return(A[z]=A[z]||[]).push(v),w}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}function Rr(i,s){i.forEach(o=>Array.isArray(o)?Rr(o,s):s(o))}function Ca(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function _3(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Xi(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function m1(i,s,o){let l=Qn(i,s);return l>=0?i[1|l]=o:(l=~l,function a8(i,s,o,l){let f=i.length;if(f==s)i.push(o,l);else if(1===f)i.push(l,i[0]),i[0]=o;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Ma(i,s){const o=Qn(i,s);if(o>=0)return i[1|o]}function Qn(i,s){return function wa(i,s,o){let l=0,f=i.length>>o;for(;f!==l;){const d=l+(f-l>>1),v=i[d<<o];if(s===v)return d<<o;v>s?f=d:l=d+1}return~(f<<o)}(i,s,1)}const ts=Xt(mi("Optional"),8),Va=Xt(mi("SkipSelf"),4);function Xc(i){return 128==(128&i.flags)}var e6=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(e6||{});const p8=new Map;let OC=0;const g8="__ngContext__";function g1(i,s){I1(s)?(i[g8]=s[pr],function BC(i){p8.set(i[pr],i)}(s)):i[g8]=s}let C8;function n6(i,s){return C8(i,s)}function Na(i){const s=i[n2];return h1(s)?s[n2]:s}function _9(i){return w9(i[Ri])}function M9(i){return w9(i[B1])}function w9(i){for(;null!==i&&!h1(i);)i=i[B1];return i}function is(i,s,o,l,f){if(null!=l){let d,v=!1;h1(l)?d=l:I1(l)&&(v=!0,l=l[f2]);const C=e2(l);0===i&&null!==o?null==f?z9(s,o,C):ss(s,o,C,f||null,!0):1===i&&null!==o?ss(s,o,C,f||null,!0):2===i?function ka(i,s,o){const l=o6(i,s);l&&function L9(i,s,o,l){i.removeChild(s,o,l)}(i,l,s,o)}(s,C,v):3===i&&s.destroyNode(C),null!=d&&function n_(i,s,o,l,f){const d=o[f1];d!==e2(o)&&is(s,i,l,d,f);for(let C=N2;C<o.length;C++){const w=o[C];Pa(w[Te],w,i,s,l,d)}}(s,i,d,o,f)}}function i6(i,s,o){return i.createElement(s,o)}function M8(i,s){const o=i[ti],l=o.indexOf(s);ji(s),o.splice(l,1)}function s6(i,s){if(i.length<=N2)return;const o=N2+s,l=i[o];if(l){const f=l[ei];null!==f&&f!==i&&M8(f,l),s>0&&(i[o-1][B1]=l[B1]);const d=_3(i,N2+s);!function YC(i,s){Pa(i,s,s[pt],2,null,null),s[f2]=null,s[u1]=null}(l[Te],l);const v=d[V1];null!==v&&v.detachView(d[Te]),l[n2]=null,l[B1]=null,l[wt]&=-129}return l}function a6(i,s){if(!(256&s[wt])){const o=s[pt];s[U4]?.destroy(),s[Cn]?.destroy(),o.destroyNode&&Pa(i,s,o,3,null,null),function JC(i){let s=i[Ri];if(!s)return w8(i[Te],i);for(;s;){let o=null;if(I1(s))o=s[Ri];else{const l=s[N2];l&&(o=l)}if(!o){for(;s&&!s[B1]&&s!==i;)I1(s)&&w8(s[Te],s),s=s[n2];null===s&&(s=i),I1(s)&&w8(s[Te],s),o=s&&s[B1]}s=o}}(s)}}function w8(i,s){if(!(256&s[wt])){s[wt]&=-129,s[wt]|=256,function e_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof Wi)){const d=o[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=f[d[v]],w=d[v+1];Kn(4,C,w);try{w.call(C)}finally{Kn(5,C,w)}}else{Kn(4,f,d);try{d.call(f)}finally{Kn(5,f,d)}}}}}(i,s),function I9(i,s){const o=i.cleanup,l=s[zr];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const v=o[d+3];v>=0?l[v]():l[-v].unsubscribe(),d+=2}else o[d].call(l[o[d+1]]);null!==l&&(s[zr]=null);const f=s[Er];if(null!==f){s[Er]=null;for(let d=0;d<f.length;d++)(0,f[d])()}}(i,s),1===s[Te].type&&s[pt].destroy();const o=s[ei];if(null!==o&&h1(s[n2])){o!==s[n2]&&M8(o,s);const l=s[V1];null!==l&&l.detachView(i)}!function UC(i){p8.delete(i[pr])}(s)}}function b8(i,s,o){return function S9(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[f2];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:d}=i.data[l.directiveStart+f];if(d===_e.None||d===_e.Emulated)return null}return p1(l,o)}}(i,s.parent,o)}function ss(i,s,o,l,f){i.insertBefore(s,o,l,f)}function z9(i,s,o){i.appendChild(s,o)}function E9(i,s,o,l,f){null!==l?ss(i,s,o,l,f):z9(i,s,o)}function o6(i,s){return i.parentNode(s)}function D9(i,s,o){return A9(i,s,o)}let c6,u6,f6,Ra,A9=function H8(i,s,o){return 40&i.type?p1(i,o):null};function l6(i,s,o,l){const f=b8(i,l,s),d=s[pt],C=D9(l.parent||s[u1],l,s);if(null!=f)if(Array.isArray(o))for(let w=0;w<o.length;w++)E9(d,f,o[w],C,!1);else E9(d,f,o,C,!1);void 0!==c6&&c6(d,l,s,o,f)}function V3(i,s){if(null!==s){const o=s.type;if(3&o)return p1(s,i);if(4&o)return V8(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return V3(i,l);{const f=i[s.index];return h1(f)?V8(-1,f):e2(f)}}if(32&o)return n6(s,i)()||e2(i[s.index]);{const l=N9(i,s);return null!==l?Array.isArray(l)?l[0]:V3(Na(i[T2]),l):V3(i,s.next)}}return null}function N9(i,s){return null!==s?i[T2][u1].projection[s.projection]:null}function V8(i,s){const o=N2+i+1;if(o<s.length){const l=s[o],f=l[Te].firstChild;if(null!==f)return V3(l,f)}return s[f1]}function I8(i,s,o,l,f,d,v){for(;null!=o;){const C=l[o.index],w=o.type;if(v&&0===s&&(C&&g1(e2(C),l),o.flags|=2),32!=(32&o.flags))if(8&w)I8(i,s,o.child,l,f,d,!1),is(s,i,f,C,d);else if(32&w){const V=n6(o,l);let z;for(;z=V();)is(s,i,f,z,d);is(s,i,f,C,d)}else 16&w?P9(i,s,l,o,f,d):is(s,i,f,C,d);o=v?o.projectionNext:o.next}}function Pa(i,s,o,l,f,d){I8(o,l,i.firstChild,s,f,d,!1)}function P9(i,s,o,l,f,d){const v=o[T2],w=v[u1].projection[l.projection];if(Array.isArray(w))for(let V=0;V<w.length;V++)is(s,i,f,w[V],d);else{let V=w;const z=v[n2];Xc(l)&&(V.flags|=128),I8(i,s,V,z,f,d,!0)}}function O9(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function F9(i,s,o){const{mergedAttrs:l,classes:f,styles:d}=o;null!==l&&Ai(i,s,l),null!==f&&O9(i,s,f),null!==d&&function R9(i,s,o){i.setAttribute(s,"style",o)}(i,s,d)}function as(i){return function S8(){if(void 0===u6&&(u6=null,Lt.trustedTypes))try{u6=Lt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return u6}()?.createHTML(i)||i}function o_(i){f6=i}function I3(){if(void 0!==f6)return f6;if(typeof document<"u")return document;throw new Z(210,!1)}function B9(i){return function z8(){if(void 0===Ra&&(Ra=null,Lt.trustedTypes))try{Ra=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ra}()?.createHTML(i)||i}class vi{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class c_ extends vi{getTypeName(){return"HTML"}}class l_ extends vi{getTypeName(){return"Style"}}class u_ extends vi{getTypeName(){return"Script"}}class j9 extends vi{getTypeName(){return"URL"}}class f_ extends vi{getTypeName(){return"ResourceURL"}}function Cr(i){return i instanceof vi?i.changingThisBreaksApplicationSecurity:i}function S3(i,s){const o=function d_(i){return i instanceof vi&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Je})`)}return o===s}function h_(i){return new c_(i)}function p_(i){return new l_(i)}function m_(i){return new u_(i)}function L8(i){return new j9(i)}function g_(i){return new f_(i)}class G9{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(as(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class v_{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=as(s),o}}const C_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Oa(i){return(i=String(i)).match(C_)?i:"unsafe:"+i}function Fr(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function z3(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const q9=Fr("area,br,col,hr,img,wbr"),W9=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Z9=Fr("rp,rt"),x8=z3(q9,z3(W9,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),z3(Z9,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),z3(Z9,W9)),D8=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K9=z3(D8,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y9=Fr("script,style,template");class w_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!x8.hasOwnProperty(o))return this.sanitizedSomething=!0,!Y9.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let f=0;f<l.length;f++){const d=l.item(f),v=d.name,C=v.toLowerCase();if(!K9.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let w=d.value;D8[C]&&(w=Oa(w)),this.buf.push(" ",v,'="',A8(w),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();x8.hasOwnProperty(o)&&!q9.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(A8(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const b_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H_=/([^\#-~ |!])/g;function A8(i){return i.replace(/&/g,"&amp;").replace(b_,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(H_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let d6;function h6(i,s){let o=null;try{d6=d6||function $9(i){const s=new v_(i);return function y_(){try{return!!(new window.DOMParser).parseFromString(as(""),"text/html")}catch{return!1}}()?new G9(s):s}(i);let l=s?String(s):"";o=d6.getInertBodyElement(l);let f=5,d=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=d,d=o.innerHTML,o=d6.getInertBodyElement(l)}while(l!==d);return as((new w_).sanitizeChildren(T8(o)||o))}finally{if(o){const l=T8(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function T8(i){return"content"in i&&function V_(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var os=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(os||{});function Q9(i){const s=function Fa(){const i=ve();return i&&i[hr].sanitizer}();return s?B9(s.sanitize(os.HTML,i)||""):S3(i,"HTML")?B9(Cr(i)):h6(I3(),J(i))}class Yt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=bt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ba=new Yt("ENVIRONMENT_INITIALIZER"),ed=new Yt("INJECTOR",-1),td=new Yt("INJECTOR_DEF_TYPES");class p6{get(s,o=c2){if(o===c2){const l=new Error(`NullInjectorError: No provider for ${re(s)}!`);throw l.name="NullInjectorError",l}return o}}function x_(...i){return{\u0275providers:k8(0,i),\u0275fromNgModule:!0}}function k8(i,...s){const o=[],l=new Set;let f;const d=v=>{o.push(v)};return Rr(s,v=>{const C=v;cs(C,d,[],l)&&(f||=[],f.push(C))}),void 0!==f&&rd(f,d),o}function rd(i,s){for(let o=0;o<i.length;o++){const{ngModule:l,providers:f}=i[o];P8(f,d=>{s(d,l)})}}function cs(i,s,o,l){if(!(i=le(i)))return!1;let f=null,d=P1(i);const v=!d&&Pt(i);if(d||v){if(v&&!v.standalone)return!1;f=i}else{const w=i.ngModule;if(d=P1(w),!d)return!1;f=w}const C=l.has(f);if(v){if(C)return!1;if(l.add(f),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const V of w)cs(V,s,o,l)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let V;l.add(f);try{Rr(d.imports,z=>{cs(z,s,o,l)&&(V||=[],V.push(z))})}finally{}void 0!==V&&rd(V,s)}if(!C){const V=Zn(f)||(()=>new f);s({provide:f,useFactory:V,deps:Oe},f),s({provide:td,useValue:f,multi:!0},f),s({provide:Ba,useValue:()=>Ne(f),multi:!0},f)}const w=d.providers;if(null!=w&&!C){const V=i;P8(w,z=>{s(z,V)})}}}return f!==i&&void 0!==i.providers}function P8(i,s){for(let o of i)Ae(o)&&(o=o.\u0275providers),Array.isArray(o)?P8(o,s):s(o)}const D_=O({provide:String,useValue:O});function R8(i){return null!==i&&"object"==typeof i&&D_ in i}function ls(i){return"function"==typeof i}const F8=new Yt("Set Injector scope."),m6={},T_={};let B8;function Ua(){return void 0===B8&&(B8=new p6),B8}class Br{}class g6 extends Br{get destroyed(){return this._destroyed}constructor(s,o,l,f){super(),this.parent=o,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,U8(s,v=>this.processProvider(v)),this.records.set(ed,E3(void 0,this)),f.has("environment")&&this.records.set(Br,E3(void 0,this));const d=this.records.get(F8);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(td.multi,Oe,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=q(this),l=jt(void 0);try{return s()}finally{q(o),jt(l)}}get(s,o=c2,l=ut.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Rs))return s[Rs](this);l=Ft(l);const d=q(this),v=jt(void 0);try{if(!(l&ut.SkipSelf)){let w=this.records.get(s);if(void 0===w){const V=function R_(i){return"function"==typeof i||"object"==typeof i&&i instanceof Yt}(s)&&g2(s);w=V&&this.injectableDefInScope(V)?E3(v6(s),m6):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&ut.Self?Ua():this.parent).get(s,o=l&ut.Optional&&o===c2?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[O1]=C[O1]||[]).unshift(re(s)),d)throw C;return function c1(i,s,o,l){const f=i[O1];throw s[x]&&f.unshift(s[x]),i.message=function Sr(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=re(s);if(Array.isArray(s))f=s.map(re).join(" -> ");else if("object"==typeof s){let d=[];for(let v in s)if(s.hasOwnProperty(v)){let C=s[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):re(C)))}f=`{${d.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,f,o,l),i.ngTokenPath=f,i[O1]=null,i}(C,s,"R3InjectorError",this.source)}throw C}finally{jt(v),q(d)}}resolveInjectorInitializers(){const s=q(this),o=jt(void 0);try{const f=this.get(Ba.multi,Oe,ut.Self);for(const d of f)d()}finally{q(s),jt(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(re(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(s){let o=ls(s=le(s))?s:le(s&&s.provide);const l=function k_(i){return R8(i)?E3(void 0,i.useValue):E3(function sd(i,s,o){let l;if(ls(i)){const f=le(i);return Zn(f)||v6(f)}if(R8(i))l=()=>le(i.useValue);else if(function O8(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...vt(i.deps||[]));else if(function id(i){return!(!i||!i.useExisting)}(i))l=()=>Ne(le(i.useExisting));else{const f=le(i&&(i.useClass||i.provide));if(!function P_(i){return!!i.deps}(i))return Zn(f)||v6(f);l=()=>new f(...vt(i.deps))}return l}(i),m6)}(s);if(ls(s)||!0!==s.multi)this.records.get(o);else{let f=this.records.get(o);f||(f=E3(void 0,m6,!0),f.factory=()=>vt(f.multi),this.records.set(o,f)),o=s,f.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===m6&&(o.value=T_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function y6(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=le(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function v6(i){const s=g2(i),o=null!==s?s.factory:Zn(i);if(null!==o)return o;if(i instanceof Yt)throw new Z(204,!1);if(i instanceof Function)return function N_(i){const s=i.length;if(s>0)throw Xi(s,"?"),new Z(204,!1);const o=function k1(i){return i&&(i[s1]||i[a1])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Z(204,!1)}function E3(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function U8(i,s){for(const o of i)Array.isArray(o)?U8(o,s):o&&Ae(o)?U8(o.\u0275providers,s):s(o)}const ad=new Yt("AppId",{providedIn:"root",factory:()=>O_}),O_="ng",j8=new Yt("Platform Initializer"),$8=new Yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F_=new Yt("CSP nonce",{providedIn:"root",factory:()=>I3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cd=(i,s,o)=>null;function K8(i,s,o=!1){return cd(i,s,o)}class K_{}class dd{}class Y_{resolveComponentFactory(s){throw function b6(i){const s=Error(`No component factory found for ${re(i)}.`);return s.ngComponent=i,s}(s)}}let Za=(()=>{class s{}return s.NULL=new Y_,s})();function Q_(){return D3(O2(),ve())}function D3(i,s){return new A3(p1(i,s))}let A3=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=Q_,s})();class pd{}let X_=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function eM(){const i=ve(),o=t1(O2().index,i);return(I1(o)?o:i)[pt]}(),s})(),tM=(()=>{var i;class s{}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>null}),s})();class J8{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const md=new J8("16.2.1"),X8={};function Cd(i,s=null,o=null,l){const f=_d(i,s,o,l);return f.resolveInjectorInitializers(),f}function _d(i,s=null,o=null,l,f=new Set){const d=[o||Oe,x_(i)];return l=l||("object"==typeof i?void 0:re(i)),new g6(d,s||Ua(),l||null,f)}let Xn=(()=>{var i;class s{static create(l,f){if(Array.isArray(l))return Cd({name:""},f,l,"");{const d=l.name??"";return Cd({name:d},l.parent,l.providers,d)}}}return(i=s).THROW_IF_NOT_FOUND=c2,i.NULL=new p6,i.\u0275prov=bt({token:i,providedIn:"any",factory:()=>Ne(ed)}),i.__NG_ELEMENT_ID__=-1,s})();let ru=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function Ka(i){for(;i;){i[wt]|=64;const s=Na(i);if(ni(i)&&!s)return i;i=s}return null}function iu(i){return i.ngOriginalError}class fs{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&iu(s);for(;o&&iu(o);)o=iu(o);return o||null}}const su=new Yt("",{providedIn:"root",factory:()=>!1});class Ld extends Sl{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Ka(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,l){const f=Z2(this);this.trackingVersion++;try{s(o,l)}finally{Z2(f)}}destroy(){this.trackingVersion++}}let V6=null;function au(){return V6??=new Ld,V6}function xd(i,s){return i[s]??au()}function ou(i,s){const o=au();o.hasReadASignal&&(i[s]=V6,o.lView=i,V6=new Ld)}const St={};function cu(i){Dd(Ot(),ve(),z1()+i,!1)}function Dd(i,s,o,l){if(!l)if(3==(3&s[wt])){const d=i.preOrderCheckHooks;null!==d&&Ar(s,d,o)}else{const d=i.preOrderHooks;null!==d&&li(s,d,0,o)}oi(o)}function N3(i,s=ut.Default){const o=ve();return null===o?Ne(i,s):g3(O2(),o,le(i),s)}function Ya(i,s,o,l,f,d,v,C,w,V,z){const A=s.blueprint.slice();return A[f2]=f,A[wt]=140|l,(null!==V||i&&2048&i[wt])&&(A[wt]|=2048),wc(A),A[n2]=A[H1]=i,A[d2]=o,A[hr]=v||i&&i[hr],A[pt]=C||i&&i[pt],A[Gn]=w||i&&i[Gn]||null,A[u1]=d,A[pr]=function FC(){return OC++}(),A[qn]=z,A[oc]=V,A[T2]=2==s.type?i[T2]:A,A}function k3(i,s,o,l,f){let d=i.data[s];if(null===d)d=function lu(i,s,o,l,f){const d=Vc(),v=Dr(),w=i.data[s]=function bM(i,s,o,l,f,d){let v=s?s.injectorIndex:-1,C=0;return gr()&&(C|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,o,s,l,f);return null===i.firstChild&&(i.firstChild=w),null!==d&&(v?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(i,s,o,l,f),function Ic(){return yt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=l,d.attrs=f;const v=function ai(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return _n(d,!0),d}function Qa(i,s,o,l){if(0===o)return-1;const f=s.length;for(let d=0;d<o;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function Ad(i,s,o,l,f){const d=xd(s,U4),v=z1(),C=2&l;try{if(oi(-1),C&&s.length>Rt&&Dd(i,s,Rt,!1),Kn(C?2:0,f),C)d.runInContext(o,l,f);else{const V=Z2(null);try{o(l,f)}finally{Z2(V)}}}finally{C&&null===s[U4]&&ou(s,U4),oi(v),Kn(C?3:1,f)}}function I6(i,s,o){if(G4(s)){const l=Z2(null);try{const d=s.directiveEnd;for(let v=s.directiveStart;v<d;v++){const C=i.data[v];C.contentQueries&&C.contentQueries(1,o[v],v)}}finally{Z2(l)}}}function uu(i,s,o){Hc()&&(function SM(i,s,o,l){const f=o.directiveStart,d=o.directiveEnd;Wn(o)&&function xM(i,s,o){const l=p1(s,i),f=Td(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const C=E6(i,Ya(i,f,null,v,l,s,null,i[hr].rendererFactory.createRenderer(l,o),null,null,null));i[s.index]=C}(s,o,i.data[f+o.componentOffset]),i.firstCreatePass||ui(o,s),g1(l,s);const v=o.initialInputs;for(let C=f;C<d;C++){const w=i.data[C],V=yr(s,i,C,o);g1(V,s),null!==v&&DM(0,C-f,V,w,0,v),X1(w)&&(t1(o.index,s)[d2]=yr(s,i,C,o))}}(i,s,o,p1(o,s)),64==(64&o.flags)&&Ud(i,s,o))}function fu(i,s,o=p1){const l=s.localNames;if(null!==l){let f=s.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],C=-1===v?o(s,i):i[v];i[f++]=C}}}function Td(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=S6(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function S6(i,s,o,l,f,d,v,C,w,V,z){const A=Rt+l,j=A+f,W=function yM(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:St);return o}(A,j),ce="function"==typeof V?V():V;return W[Te]={type:i,blueprint:W,template:o,queries:null,viewQuery:C,declTNode:s,data:W.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:ce,incompleteFirstPass:!1,ssrId:z}}let kd=i=>null;function Pd(i,s,o,l){for(let f in i)if(i.hasOwnProperty(f)){o=null===o?{}:o;const d=i[f];null===l?du(o,s,f,d):l.hasOwnProperty(f)&&du(o,s,l[f],d)}return o}function du(i,s,o,l){i.hasOwnProperty(o)?i[o].push(s,l):i[o]=[s,l]}function wn(i,s,o,l,f,d,v,C){const w=p1(s,o);let z,V=s.inputs;!C&&null!=V&&(z=V[l])?(vu(i,o,z,l,f),Wn(s)&&function Od(i,s){const o=t1(s,i);16&o[wt]||(o[wt]|=64)}(o,s.index)):3&s.type&&(l=function Rd(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=v?v(f,s.value||"",l):f,d.setProperty(w,l,f))}function z6(i,s,o,l){if(Hc()){const f=null===l?null:{"":-1},d=function zM(i,s){const o=i.directiveRegistry;let l=null,f=null;if(o)for(let d=0;d<o.length;d++){const v=o[d];if(k4(s,v.selectors,!1))if(l||(l=[]),X1(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),l.unshift(...C,v),hu(i,s,C.length)}else l.unshift(v),hu(i,s,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,l,f),l.push(v)}return null===l?null:[l,f]}(i,o);let v,C;null===d?v=C=null:[v,C]=d,null!==v&&Fd(i,s,o,v,f,C),f&&function EM(i,s,o){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const d=o[s[f+1]];if(null==d)throw new Z(-301,!1);l.push(s[f],d)}}}(o,l,f)}o.mergedAttrs=Ni(o.mergedAttrs,o.attrs)}function Fd(i,s,o,l,f,d){for(let V=0;V<l.length;V++)m3(ui(o,s),i,l[V].type);!function LM(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,l.length);for(let V=0;V<l.length;V++){const z=l[V];z.providersResolver&&z.providersResolver(z)}let v=!1,C=!1,w=Qa(i,s,l.length,null);for(let V=0;V<l.length;V++){const z=l[V];o.mergedAttrs=Ni(o.mergedAttrs,z.hostAttrs),Gd(i,o,s,w,z),$d(w,z,f),null!==z.contentQueries&&(o.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(o.flags|=64);const A=z.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(o.index),v=!0),!C&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(o.index),C=!0),w++}!function HM(i,s,o){const f=s.directiveEnd,d=i.data,v=s.attrs,C=[];let w=null,V=null;for(let z=s.directiveStart;z<f;z++){const A=d[z],j=o?o.get(A):null,ce=j?j.outputs:null;w=Pd(A.inputs,z,w,j?j.inputs:null),V=Pd(A.outputs,z,V,ce);const Ve=null===w||null===v||A4(s)?null:AM(w,z,v);C.push(Ve)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=w,s.outputs=V}(i,o,d)}function Ud(i,s,o){const l=o.directiveStart,f=o.directiveEnd,d=o.index,v=function NC(){return yt.lFrame.currentDirectiveIndex}();try{oi(d);for(let C=l;C<f;C++){const w=i.data[C],V=s[C];sa(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&jd(w,V)}}finally{oi(-1),sa(v)}}function jd(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function hu(i,s,o){s.componentOffset=o,(i.components??=[]).push(s.index)}function $d(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;X1(s)&&(o[""]=i)}}function Gd(i,s,o,l,f){i.data[l]=f;const d=f.factory||(f.factory=Zn(f.type)),v=new Wi(d,X1(f),N3);i.blueprint[l]=v,o[l]=v,function IM(i,s,o,l,f){const d=f.hostBindings;if(d){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function Bd(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(o,l,d)}}(i,s,l,Qa(i,o,f.hostVars,St),f)}function er(i,s,o,l,f,d){const v=p1(i,s);!function pu(i,s,o,l,f,d,v){if(null==d)i.removeAttribute(s,f,o);else{const C=null==v?J(d):v(d,l||"",f);i.setAttribute(s,f,C,o)}}(s[pt],v,d,i.value,o,l,f)}function DM(i,s,o,l,f,d){const v=d[s];if(null!==v)for(let C=0;C<v.length;)qd(l,o,v[C++],v[C++],v[C++])}function qd(i,s,o,l,f){const d=Z2(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(l)&&(f=v[l].call(s,f)),null!==i.setInput?i.setInput(s,f,o,l):s[l]=f}finally{Z2(d)}}function AM(i,s,o){let l=null,f=0;for(;f<o.length;){const d=o[f];if(0!==d)if(5!==d){if("number"==typeof d)break;if(i.hasOwnProperty(d)){null===l&&(l=[]);const v=i[d];for(let C=0;C<v.length;C+=2)if(v[C]===s){l.push(d,v[C+1],o[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function Wd(i,s,o,l){return[i,!0,!1,s,null,0,l,o,null,null,null]}function mu(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l+1];if(-1!==d){const v=i.data[d];Lc(o[l]),v.contentQueries(2,s[d],d)}}}function E6(i,s){return i[Ri]?i[gl][B1]=s:i[Ri]=s,i[gl]=s,s}function gu(i,s,o){Lc(0);const l=Z2(null);try{s(i,o)}finally{Z2(l)}}function vu(i,s,o,l,f){for(let d=0;d<o.length;){const v=o[d++],C=o[d++];qd(i.data[v],s[v],l,C,f)}}function TM(i,s){const o=t1(s,i),l=o[Te];!function Jd(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])}(l,o);const f=o[f2];null!==f&&null===o[qn]&&(o[qn]=K8(f,o[Gn])),yu(l,o,o[d2])}function yu(i,s,o){qi(s);try{const l=i.viewQuery;null!==l&&gu(1,l,o);const f=i.template;null!==f&&Ad(i,s,f,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mu(i,s),i.staticViewQueries&&gu(2,i.viewQuery,o);const d=i.components;null!==d&&function NM(i,s){for(let o=0;o<s.length;o++)TM(i,s[o])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[wt]&=-5,o3()}}let Xd=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,f,d){const v=typeof Zone>"u"?null:Zone.current,C=new xl(l,z=>{this.all.has(z)&&this.queue.set(z,v)},d);let w;this.all.add(C),C.notify();const V=()=>{C.cleanup(),w?.(),this.all.delete(C),this.queue.delete(C)};return w=f?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[l,f]of this.queue)this.queue.delete(l),f?f.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:()=>new i}),s})();function L6(i,s,o){let l=o?i.styles:null,f=o?i.classes:null,d=0;if(null!==s)for(let v=0;v<s.length;v++){const C=s[v];"number"==typeof C?d=C:1==d?f=Re(f,C):2==d&&(l=Re(l,C+": "+s[++v]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=f:i.classesWithoutHost=f}function ds(i,s,o,l,f=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&l.push(e2(d)),h1(d)){for(let C=N2;C<d.length;C++){const w=d[C],V=w[Te].firstChild;null!==V&&ds(w[Te],w,V,l)}d[f1]!==d[f2]&&l.push(d[f1])}const v=o.type;if(8&v)ds(i,s,o.child,l);else if(32&v){const C=n6(o,s);let w;for(;w=C();)l.push(w)}else if(16&v){const C=N9(s,o);if(Array.isArray(C))l.push(...C);else{const w=Na(s[T2]);ds(w[Te],w,C,l,!0)}}o=f?o.projectionNext:o.next}return l}function x6(i,s,o,l=!0){const f=s[hr],d=f.rendererFactory,v=f.afterRenderEventManager;d.begin?.(),v?.begin();try{nh(i,s,i.template,o)}catch(w){throw l&&function Qd(i,s){const o=i[Gn],l=o?o.get(fs,null):null;l&&l.handleError(s)}(s,w),w}finally{d.end?.(),f.effectManager?.flush(),v?.end()}}function nh(i,s,o,l){const f=s[wt];if(256!=(256&f)){s[hr].effectManager?.flush(),qi(s);try{wc(s),function Gi(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Ad(i,s,o,2,l);const v=3==(3&f);if(v){const V=i.preOrderCheckHooks;null!==V&&Ar(s,V,null)}else{const V=i.preOrderHooks;null!==V&&li(s,V,0,null),oa(s,0)}if(function ih(i){for(let s=_9(i);null!==s;s=M9(s)){if(!s[Oi])continue;const o=s[ti];for(let l=0;l<o.length;l++){Rl(o[l])}}}(s),rh(s,2),null!==i.contentQueries&&mu(i,s),v){const V=i.contentCheckHooks;null!==V&&Ar(s,V)}else{const V=i.contentHooks;null!==V&&li(s,V,1),oa(s,1)}!function vM(i,s){const o=i.hostBindingOpCodes;if(null===o)return;const l=xd(s,Cn);try{for(let f=0;f<o.length;f++){const d=o[f];if(d<0)oi(~d);else{const v=d,C=o[++f],w=o[++f];Sc(C,v),l.runInContext(w,2,s[v])}}}finally{null===s[Cn]&&ou(s,Cn),oi(-1)}}(i,s);const C=i.components;null!==C&&ah(s,C,0);const w=i.viewQuery;if(null!==w&&gu(2,w,l),v){const V=i.viewCheckHooks;null!==V&&Ar(s,V)}else{const V=i.viewHooks;null!==V&&li(s,V,2),oa(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[wt]&=-73,ji(s)}finally{o3()}}}function rh(i,s){for(let o=_9(i);null!==o;o=M9(o))for(let l=N2;l<o.length;l++)sh(o[l],s)}function kM(i,s,o){sh(t1(s,i),o)}function sh(i,s){if(!function kl(i){return 128==(128&i[wt])}(i))return;const o=i[Te];if(80&i[wt]&&0===s||1024&i[wt]||2===s)nh(o,i,o.template,i[d2]);else if(i[$n]>0){rh(i,1);const f=i[Te].components;null!==f&&ah(i,f,1)}}function ah(i,s,o){for(let l=0;l<s.length;l++)kM(i,s[l],o)}class Ja{get rootNodes(){const s=this._lView,o=s[Te];return ds(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[d2]}set context(s){this._lView[d2]=s}get destroyed(){return 256==(256&this._lView[wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[n2];if(h1(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(s6(s,l),_3(o,l))}this._attachedToViewContainer=!1}a6(this._lView[Te],this._lView)}onDestroy(s){!function t3(i,s){if(256==(256&i[wt]))throw new Z(911,!1);null===i[Er]&&(i[Er]=[]),i[Er].push(s)}(this._lView,s)}markForCheck(){Ka(this._cdRefInjectingView||this._lView)}detach(){this._lView[wt]&=-129}reattach(){this._lView[wt]|=128}detectChanges(){x6(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QC(i,s){Pa(i,s,s[pt],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=s}}class PM extends Ja{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;x6(s[Te],s,s[d2],!1)}checkNoChanges(){}get context(){return null}}class oh extends Za{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Pt(s);return new Xa(o,this.ngModule)}}function ch(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class lh{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=Ft(l);const f=this.injector.get(s,X8,l);return f!==X8||o===X8?f:this.parentInjector.get(s,o,l)}}class Xa extends dd{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=ch(s.inputs);if(null!==o)for(const f of l)o.hasOwnProperty(f.propName)&&(f.transform=o[f.propName]);return l}get outputs(){return ch(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function jf(i){return i.map(sc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,f){let d=(f=f||this.ngModule)instanceof Br?f:f?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new lh(s,d):s,C=v.get(pd,null);if(null===C)throw new Z(407,!1);const A={rendererFactory:C,sanitizer:v.get(tM,null),effectManager:v.get(Xd,null),afterRenderEventManager:v.get(ru,null)},j=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ce=l?function Nd(i,s,o,l){const d=l.get(su,!1)||o===_e.ShadowDom,v=i.selectRootElement(s,d);return function CM(i){kd(i)}(v),v}(j,l,this.componentDef.encapsulation,v):i6(j,W,function RM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),at=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ge=null;null!==ce&&(ge=K8(ce,v,!0));const _t=S6(0,null,null,1,0,null,null,null,null,null,null),At=Ya(null,_t,null,at,null,null,A,j,v,null,ge);let t2,G1;qi(At);try{const Gr=this.componentDef;let e4,n7=null;Gr.findHostDirectiveDefs?(e4=[],n7=new Map,Gr.findHostDirectiveDefs(Gr,e4,n7),e4.push(Gr)):e4=[Gr];const fv=function OM(i,s){const o=i[Te],l=Rt;return i[l]=s,k3(o,l,2,"#host",null)}(At,ce),cI=function FM(i,s,o,l,f,d,v){const C=f[Te];!function fh(i,s,o,l){for(const f of i)s.mergedAttrs=Ni(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(L6(s,s.mergedAttrs,!0),null!==o&&F9(l,o,s))}(l,i,s,v);let w=null;null!==s&&(w=K8(s,f[Gn]));const V=d.rendererFactory.createRenderer(s,o);let z=16;o.signals?z=4096:o.onPush&&(z=64);const A=Ya(f,Td(o),null,z,f[i.index],i,d,V,null,null,w);return C.firstCreatePass&&hu(C,i,l.length-1),E6(f,A),f[i.index]=A}(fv,ce,Gr,e4,At,A,j);G1=si(_t,Rt),ce&&function UM(i,s,o,l){if(l)Ai(i,o,["ng-version",md.full]);else{const{attrs:f,classes:d}=function F1(i){const s=[],o=[];let l=1,f=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===f?""!==d&&s.push(d,i[++l]):8===f&&o.push(d);else{if(!b1(f))break;f=d}l++}return{attrs:s,classes:o}}(s.selectors[0]);f&&Ai(i,o,f),d&&d.length>0&&O9(i,o,d.join(" "))}}(j,Gr,ce,l),void 0!==o&&function dh(i,s,o){const l=i.projection=[];for(let f=0;f<s.length;f++){const d=o[f];l.push(null!=d?Array.from(d):null)}}(G1,this.ngContentSelectors,o),t2=function BM(i,s,o,l,f,d){const v=O2(),C=f[Te],w=p1(v,f);Fd(C,f,v,o,null,l);for(let z=0;z<o.length;z++)g1(yr(f,C,v.directiveStart+z,v),f);Ud(C,f,v),w&&g1(w,f);const V=yr(f,C,v.directiveStart+v.componentOffset,v);if(i[d2]=f[d2]=V,null!==d)for(const z of d)z(V,s);return I6(C,v,i),V}(cI,Gr,e4,n7,At,[jM]),yu(_t,At,null)}finally{o3()}return new uh(this.componentType,t2,D3(G1,At),At,G1)}}class uh extends K_{constructor(s,o,l,f,d){super(),this.location=l,this._rootLView=f,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new PM(f),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const d=this._rootLView;vu(d[Te],d,f,s,o),this.previousInputValues.set(s,o),Ka(t1(this._tNode.index,d))}}get injector(){return new r1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function jM(){const i=O2();ci(ve()[Te],i)}function A6(i){return!!_u(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function _u(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Mr(i,s,o){return i[s]=o}function v1(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function T6(i,s,o,l,f){const d=function hs(i,s,o,l){const f=v1(i,s,o);return v1(i,s+1,l)||f}(i,s,o,l);return v1(i,s+2,f)||d}function Mu(i,s,o,l){const f=ve();return v1(f,j1(),s)&&(Ot(),er(o2(),f,i,s,o,l)),Mu}function Ah(i,s,o,l,f,d,v,C){const w=ve(),V=Ot(),z=i+Rt,A=V.firstCreatePass?function pw(i,s,o,l,f,d,v,C,w){const V=s.consts,z=k3(s,i,4,v||null,xr(V,C));z6(s,o,z,xr(V,w)),ci(s,z);const A=z.tView=S6(2,z,l,f,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V,null);return null!==s.queries&&(s.queries.template(s,z),A.queries=s.queries.embeddedTView(z)),z}(z,V,w,s,o,l,f,d,v):V.data[z];_n(A,!1);const j=Eu(V,w,A,i);l3()&&l6(V,w,j,A),g1(j,w),E6(w,w[z]=Wd(j,w,j,A)),Bi(A)&&uu(V,w,A),null!=v&&fu(w,A,C)}let Eu=function Th(i,s,o,l){return xn(!0),s[pt].createComment("")};function xu(i,s,o){const l=ve();return v1(l,j1(),s)&&wn(Ot(),o2(),l,i,s,l[pt],o,!1),xu}function Du(i,s,o,l,f){const v=f?"class":"style";vu(i,o,s.inputs[v],v,l)}function O6(i,s,o,l){const f=ve(),d=Ot(),v=Rt+i,C=f[pt],w=d.firstCreatePass?function yw(i,s,o,l,f,d){const v=s.consts,w=k3(s,i,2,l,xr(v,f));return z6(s,o,w,xr(v,d)),null!==w.attrs&&L6(w,w.attrs,!1),null!==w.mergedAttrs&&L6(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(v,d,f,s,o,l):d.data[v],V=Nh(d,f,w,C,s,i);f[v]=V;const z=Bi(w);return _n(w,!0),F9(C,V,w),32!=(32&w.flags)&&l3()&&l6(d,f,V,w),0===function na(){return yt.lFrame.elementDepthCount}()&&g1(V,f),function Ol(){yt.lFrame.elementDepthCount++}(),z&&(uu(d,f,w),I6(d,w,f)),null!==l&&fu(f,w),O6}function F6(){let i=O2();Dr()?vr():(i=i.parent,_n(i,!1));const s=i;(function Fl(i){return yt.skipHydrationRootTNode===i})(s)&&function _2(){yt.skipHydrationRootTNode=null}(),function bc(){yt.lFrame.elementDepthCount--}();const o=Ot();return o.firstCreatePass&&(ci(o,i),G4(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Nc(i){return 0!=(8&i.flags)}(s)&&Du(o,s,ve(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ql(i){return 0!=(16&i.flags)}(s)&&Du(o,s,ve(),s.stylesWithoutHost,!1),F6}function B6(i,s,o,l){return O6(i,s,o,l),F6(),B6}let Nh=(i,s,o,l,f,d)=>(xn(!0),i6(l,f,function Ac(){return yt.lFrame.currentNamespace}()));function U6(i){return!!i&&"function"==typeof i.then}function Oh(i){return!!i&&"function"==typeof i.subscribe}function Gh(i=1){return function xc(i){return(yt.lFrame.contextLView=function Qf(i,s){for(;i>0;)s=s[H1],i--;return s}(i,yt.lFrame.contextLView))[d2]}(i)}function bw(i,s){let o=null;const l=function ml(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let f=0;f<s.length;f++){const d=s[f];if("*"!==d){if(null===l?k4(i,d,!0):rc(l,d))return f}else o=f}return o}function qh(i){const s=ve()[T2][u1];if(!s.projection){const l=s.projection=Xi(i?i.length:1,null),f=l.slice();let d=s.child;for(;null!==d;){const v=i?bw(d,i):0;null!==v&&(f[v]?f[v].projectionNext=d:l[v]=d,f[v]=d),d=d.next}}}function Wh(i,s=0,o){const l=ve(),f=Ot(),d=k3(f,Rt+i,16,null,o||null);null===d.projection&&(d.projection=s),vr(),(!l[qn]||gr())&&32!=(32&d.flags)&&function t_(i,s,o){P9(s[pt],0,s,o,b8(i,o,s),D9(o.parent||s[u1],o,s))}(f,l,d)}function $6(i,s){return i<<17|s<<2}function yi(i){return i>>17&32767}function Ou(i){return 2|i}function Ci(i){return(131068&i)>>2}function Fu(i,s){return-131069&i|s<<2}function Bu(i){return 1|i}function np(i,s,o,l,f){const d=i[o+1],v=null===s;let C=l?yi(d):Ci(d),w=!1;for(;0!==C&&(!1===w||v);){const z=i[C+1];Iw(i[C],s)&&(w=!0,i[C+1]=l?Bu(z):Ou(z)),C=l?yi(z):Ci(z)}w&&(i[o+1]=l?Ou(d):Bu(d))}function Iw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Qn(i,s)>=0}const k2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rp(i){return i.substring(k2.key,k2.keyEnd)}function Sw(i){return i.substring(k2.value,k2.valueEnd)}function sp(i,s){const o=k2.textEnd;let l=k2.key=ms(i,s,o);return o===l?-1:(l=k2.keyEnd=function op(i,s,o){let l;for(;s<o&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,o),l=cp(i,l,o),l=k2.value=ms(i,l,o),l=k2.valueEnd=function xw(i,s,o){let l=-1,f=-1,d=-1,v=s,C=v;for(;v<o;){const w=i.charCodeAt(v++);if(59===w)return C;34===w||39===w?C=v=ju(i,w,v,o):s===v-4&&85===d&&82===f&&76===l&&40===w?C=v=ju(i,41,v,o):w>32&&(C=v),d=f,f=l,l=-33&w}return C}(i,l,o),cp(i,l,o))}function ms(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function cp(i,s,o,l){return(s=ms(i,s,o))<o&&s++,s}function ju(i,s,o,l){let f=-1,d=o;for(;d<l;){const v=i.charCodeAt(d++);if(v==s&&92!==f)return d;f=92==v&&92===f?0:v}throw new Error}function $u(i,s){return function Tn(i,s,o,l){const f=ve(),d=Ot(),v=Mn(2);d.firstUpdatePass&&up(d,i,v,l),s!==St&&v1(f,v,s)&&dp(d,d.data[z1()],f,f[pt],i,f[v+1]=function hp(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=re(Cr(i)))),i}(s,o),l,v)}(i,s,null,!0),$u}function tr(i){!function nr(i,s,o,l){const f=Ot(),d=Mn(2);f.firstUpdatePass&&up(f,null,d,l);const v=ve();if(o!==St&&v1(v,d,o)){const C=f.data[z1()];if(pp(C,l)&&!qu(f,d)){let w=l?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(o=Re(w,o||"")),Du(f,C,v,o,l)}else!function Rw(i,s,o,l,f,d,v,C){f===St&&(f=Oe);let w=0,V=0,z=0<f.length?f[0]:null,A=0<d.length?d[0]:null;for(;null!==z||null!==A;){const j=w<f.length?f[w+1]:void 0,W=V<d.length?d[V+1]:void 0;let Ve,ce=null;z===A?(w+=2,V+=2,j!==W&&(ce=A,Ve=W)):null===A||null!==z&&z<A?(w+=2,ce=z):(V+=2,ce=A,Ve=W),null!==ce&&dp(i,s,o,l,ce,Ve,v,C),z=w<f.length?f[w]:null,A=V<d.length?d[V]:null}}(f,C,v,v[pt],v[d+1],v[d+1]=function kw(i,s,o){if(null==o||""===o)return Oe;const l=[],f=Cr(o);if(Array.isArray(f))for(let d=0;d<f.length;d++)i(l,f[d],!0);else if("object"==typeof f)for(const d in f)f.hasOwnProperty(d)&&i(l,d,f[d]);else"string"==typeof f&&s(l,f);return l}(i,s,o),l,d)}}(q6,Gu,i,!1)}function Gu(i,s){for(let o=function Ew(i){return function ap(i){k2.key=0,k2.keyEnd=0,k2.value=0,k2.valueEnd=0,k2.textEnd=i.length}(i),sp(i,ms(i,0,k2.textEnd))}(s);o>=0;o=sp(s,o))q6(i,rp(s),Sw(s))}function qu(i,s){return s>=i.expandoStartIndex}function up(i,s,o,l){const f=i.data;if(null===f[o+1]){const d=f[z1()],v=qu(i,o);pp(d,l)&&null===s&&!v&&(s=!1),s=function fp(i,s,o,l){const f=function zc(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=io(o=G6(null,i,s,o,l),s.attrs,l),d=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==f)if(o=G6(f,i,s,o,l),null===d){let w=function Aw(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Ci(l))return i[yi(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=G6(null,i,s,w[1],l),w=io(w,s.attrs,l),function Tw(i,s,o,l){i[yi(o?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else d=function Nw(i,s,o){let l;const f=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<f;d++)l=io(l,i[d].hostAttrs,o);return io(l,s.attrs,o)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),o}(f,d,s,l),function Vw(i,s,o,l,f,d){let v=d?s.classBindings:s.styleBindings,C=yi(v),w=Ci(v);i[l]=o;let z,V=!1;if(Array.isArray(o)?(z=o[1],(null===z||Qn(o,z)>0)&&(V=!0)):z=o,f)if(0!==w){const j=yi(i[C+1]);i[l+1]=$6(j,C),0!==j&&(i[j+1]=Fu(i[j+1],l)),i[C+1]=function Hw(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=$6(C,0),0!==C&&(i[C+1]=Fu(i[C+1],l)),C=l;else i[l+1]=$6(w,0),0===C?C=l:i[w+1]=Fu(i[w+1],l),w=l;V&&(i[l+1]=Ou(i[l+1])),np(i,z,l,!0),np(i,z,l,!1),function Uu(i,s,o,l,f){const d=f?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Qn(d,s)>=0&&(o[l+1]=Bu(o[l+1]))}(s,z,i,l,d),v=$6(C,w),d?s.classBindings=v:s.styleBindings=v}(f,d,s,o,v,l)}}function G6(i,s,o,l,f){let d=null;const v=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<v&&(d=s[C],l=io(l,d.hostAttrs,f),d!==i);)C++;return null!==i&&(o.directiveStylingLast=C),l}function io(i,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let d=0;d<s.length;d++){const v=s[d];"number"==typeof v?f=v:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),m1(i,v,!!o||s[++d]))}return void 0===i?null:i}function q6(i,s,o){m1(i,s,Cr(o))}function dp(i,s,o,l,f,d,v,C){if(!(3&s.type))return;const w=i.data,V=w[C+1],z=function tp(i){return 1==(1&i)}(V)?Wu(w,s,o,f,Ci(V),v):void 0;W6(z)||(W6(d)||function ep(i){return 2==(2&i)}(V)&&(d=Wu(w,null,o,f,C,v)),function r_(i,s,o,l,f){if(s)f?i.addClass(o,l):i.removeClass(o,l);else{let d=-1===l.indexOf("-")?void 0:e6.DashCase;null==f?i.removeStyle(o,l,d):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),d|=e6.Important),i.setStyle(o,l,f,d))}}(l,v,e3(z1(),o),f,d))}function Wu(i,s,o,l,f,d){const v=null===s;let C;for(;f>0;){const w=i[f],V=Array.isArray(w),z=V?w[1]:w,A=null===z;let j=o[f+1];j===St&&(j=A?Oe:void 0);let W=A?Ma(j,l):z===l?j:void 0;if(V&&!W6(W)&&(W=Ma(w,l)),W6(W)&&(C=W,v))return C;const ce=i[f+1];f=v?yi(ce):Ci(ce)}if(null!==s){let w=d?s.residualClasses:s.residualStyles;null!=w&&(C=Ma(w,l))}return C}function W6(i){return void 0!==i}function pp(i,s){return 0!=(i.flags&(s?8:16))}function mp(i,s=""){const o=ve(),l=Ot(),f=i+Rt,d=l.firstCreatePass?k3(l,f,1,s,null):l.data[f],v=Zu(l,o,d,s,i);o[f]=v,l3()&&l6(l,o,v,d),_n(d,!1)}let Zu=(i,s,o,l,f)=>(xn(!0),function r6(i,s){return i.createText(s)}(s[pt],l));function Ku(i){return so("",i,""),Ku}function so(i,s,o){const l=ve(),f=function R3(i,s,o,l){return v1(i,j1(),o)?s+J(o)+l:St}(l,i,s,o);return f!==St&&function _r(i,s,o){const l=e3(s,i);!function b9(i,s,o){i.setValue(s,o)}(i[pt],l,o)}(l,z1(),f),so}function Z6(i,s,o){const l=ve();return v1(l,j1(),s)&&wn(Ot(),o2(),l,i,s,l[pt],o,!0),Z6}const gs=void 0;var rb=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nb(i){const o=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let vs={};function K6(i){const s=function e5(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Tp(s);if(o)return o;const l=s.split("-")[0];if(o=Tp(l),o)return o;if("en"===l)return rb;throw new Z(701,!1)}function Ap(i){return K6(i)[W3.PluralCase]}function Tp(i){return i in vs||(vs[i]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[i]),vs[i]}var W3=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(W3||{});const Z3="en-US";let t5=Z3;class ys{}class Gb{}function qb(i,s){return new f5(i,s??null,[])}class f5 extends ys{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oh(this);const f=function l1(i,s){const o=i[l2]||null;if(!o&&!0===s)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return o}(s);this._bootstrapComponents=function Ur(i){return i instanceof Function?i():i}(f.bootstrap),this._r3Injector=_d(s,o,[{provide:ys,useValue:this},{provide:Za,useValue:this.componentFactoryResolver},...l],re(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class d5 extends Gb{constructor(s){super(),this.moduleType=s}create(s){return new f5(this.moduleType,s,[])}}function wm(i,s,o){const l=n1()+i,f=ve();return f[l]===St?Mr(f,l,o?s.call(o):s()):function eo(i,s){return i[s]}(f,l)}function bm(i,s,o,l){return Im(ve(),n1(),i,s,o,l)}function Q3(i,s){const o=i[s];return o===St?void 0:o}function Im(i,s,o,l,f,d){const v=s+o;return v1(i,v,f)?Mr(i,v+1,d?l.call(d,f):l(f)):Q3(i,v+1)}function xm(i,s){const o=Ot();let l;const f=i+Rt;o.firstCreatePass?(l=function uH(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks??=[]).push(f,l.onDestroy)):l=o.data[f];const d=l.factory||(l.factory=Zn(l.type)),C=jt(N3);try{const w=Dn(!1),V=d();return Dn(w),function vw(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,ve(),f,V),V}finally{jt(C)}}function Dm(i,s,o){const l=i+Rt,f=ve(),d=S1(f,l);return uo(f,l)?Im(f,n1(),s,d.transform,o,d):d.transform(o)}function Am(i,s,o,l,f){const d=i+Rt,v=ve(),C=S1(v,d);return uo(v,d)?function zm(i,s,o,l,f,d,v,C){const w=s+o;return T6(i,w,f,d,v)?Mr(i,w+3,C?l.call(C,f,d,v):l(f,d,v)):Q3(i,w+3)}(v,n1(),s,C.transform,o,l,f,C):C.transform(o,l,f)}function uo(i,s){return i[Te].data[s].pure}function g5(i){return s=>{setTimeout(i,void 0,s)}}const jr=class mH extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let f=s,d=o||(()=>null),v=l;if(s&&"object"==typeof s){const w=s;f=w.next?.bind(w),d=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(d=g5(d),f&&(f=g5(f)),v&&(v=g5(v)));const C=super.subscribe({next:f,error:d,complete:v});return s instanceof R.w0&&s.add(C),C}};function CH(i,s,o,l=!0){const f=s[Te];if(function V9(i,s,o,l){const f=N2+l,d=o.length;l>0&&(o[f-1][B1]=s),l<d-N2?(s[B1]=o[f],Ca(o,N2+l,s)):(o.push(s),s[B1]=null),s[n2]=o;const v=s[ei];null!==v&&o!==v&&function XC(i,s){const o=i[ti];s[T2]!==s[n2][n2][T2]&&(i[Oi]=!0),null===o?i[ti]=[s]:o.push(s)}(v,s);const C=s[V1];null!==C&&C.insertView(i),s[wt]|=128}(f,s,i,o),l){const d=V8(o,i),v=s[pt],C=o6(v,i[f1]);null!==C&&function H9(i,s,o,l,f,d){l[f2]=f,l[u1]=s,Pa(i,l,o,1,f,d)}(f,i[u1],v,s,C,d)}}let fo=(()=>{class s{}return s.__NG_ELEMENT_ID__=wH,s})();const Tm=fo,MH=class extends Tm{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const f=function vH(i,s,o,l){const f=s.tView,C=Ya(i,f,o,4096&i[wt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[ei]=i[s.index];const V=i[V1];return null!==V&&(C[V1]=V.createEmbeddedView(f)),yu(f,C,o),C}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:l});return new Ja(f)}};function wH(){return function ho(i,s){return 4&i.type?new MH(s,i,D3(i,s)):null}(O2(),ve())}let r0=(()=>{class s{}return s.__NG_ELEMENT_ID__=SH,s})();function SH(){return function Bm(i,s){let o;const l=s[i.index];return h1(l)?o=l:(o=Wd(l,s,null,i),s[i.index]=o,E6(s,o)),Um(o,s,i,l),new Om(o,i,s)}(O2(),ve())}const Rm=r0,Om=class extends Rm{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return D3(this._hostTNode,this._hostLView)}get injector(){return new r1(this._hostTNode,this._hostLView)}get parentInjector(){const s=p3(this._hostTNode,this._hostLView);if(Ki(s)){const o=Nr(s,this._hostLView),l=Yi(s);return new r1(o[Te].data[l+8],o)}return new r1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Fm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-N2}createEmbeddedView(s,o,l){let f,d;"number"==typeof l?f=l:null!=l&&(f=l.index,d=l.injector);const C=s.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(C,f,false),C}createComponent(s,o,l,f,d){const v=s&&!function Ji(i){return"function"==typeof i}(s);let C;if(v)C=o;else{const Ve=o||{};C=Ve.index,l=Ve.injector,f=Ve.projectableNodes,d=Ve.environmentInjector||Ve.ngModuleRef}const w=v?s:new Xa(Pt(s)),V=l||this.parentInjector;if(!d&&null==w.ngModule){const Be=(v?V:this.parentInjector).get(Br,null);Be&&(d=Be)}Pt(w.componentType??{});const W=w.create(V,f,null,d);return this.insertImpl(W.hostView,C,false),W}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const f=s._lView;if(function Pl(i){return h1(i[n2])}(f)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const V=f[n2],z=new Om(V,V[u1],V[n2]);z.detach(z.indexOf(s))}}const v=this._adjustIndex(o),C=this._lContainer;return CH(C,f,v,!l),s.attachToViewContainerRef(),Ca(s0(C),v,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Fm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=s6(this._lContainer,o);l&&(_3(s0(this._lContainer),o),a6(l[Te],l))}detach(s){const o=this._adjustIndex(s,-1),l=s6(this._lContainer,o);return l&&null!=_3(s0(this._lContainer),o)?new Ja(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function Fm(i){return i[8]}function s0(i){return i[8]||(i[8]=[])}let Um=function jm(i,s,o,l){if(i[f1])return;let f;f=8&o.type?e2(l):function zH(i,s){const o=i[pt],l=o.createComment(""),f=p1(s,i);return ss(o,o6(o,f),l,function x9(i,s){return i.nextSibling(s)}(o,f),!1),l}(s,o),i[f1]=f};const eV=new Yt("Application Initializer");let x5=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=$e(eV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const d of this.appInits){const v=d();if(U6(v))l.push(v);else if(Oh(v)){const C=new Promise((w,V)=>{v.subscribe({complete:w,error:V})});l.push(C)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{f()}).catch(d=>{this.reject(d)}),0===l.length&&f(),this.initialized=!0}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const f0=new Yt("LocaleId",{providedIn:"root",factory:()=>$e(f0,ut.Optional|ut.SkipSelf)||function nV(){return typeof $localize<"u"&&$localize.locale||Z3}()}),rV=new Yt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sV=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function Ig(...i){}class E1{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function CV(){const i="function"==typeof Lt.requestAnimationFrame;let s=Lt[i?"requestAnimationFrame":"setTimeout"],o=Lt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function MV(i){const s=()=>{!function zg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Lt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,k5(i),i.isCheckStableRunning=!0,N5(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),k5(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,d,v,C)=>{try{return Eg(i),o.invokeTask(f,d,v,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Lg(i)}},onInvoke:(o,l,f,d,v,C,w)=>{try{return Eg(i),o.invoke(f,d,v,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),Lg(i)}},onHasTask:(o,l,f,d)=>{o.hasTask(f,d),l===f&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,k5(i),N5(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,l,f,d)=>(o.handleError(f,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!E1.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(E1.isInAngularZone())throw new Z(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+f,s,_V,Ig,Ig);try{return d.runTask(v,o,l)}finally{d.cancelTask(v)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const _V={};function N5(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function k5(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Eg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Lg(i){i._nesting--,N5(i)}class wV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}const P5=new Yt("",{providedIn:"root",factory:xg});function xg(){const i=$e(E1);let s=!0;const o=new ae.y(f=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{f.next(s),f.complete()})}),l=new ae.y(f=>{let d;i.runOutsideAngular(()=>{d=i.onStable.subscribe(()=>{E1.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,f.next(!0))})})});const v=i.onUnstable.subscribe(()=>{E1.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{f.next(!1)}))});return()=>{d.unsubscribe(),v.unsubscribe()}});return(0,me.T)(o,l.pipe((0,xe.B)()))}const Dg=new Yt(""),Ag=new Yt("");let R5,bV=(()=>{var i;class s{constructor(l,f,d){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R5||(function HV(i){R5=i}(d),d.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{E1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,d){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:d})}whenStable(l,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,d){return[]}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(E1),Ne(Tg),Ne(Ag))},i.\u0275prov=bt({token:i,factory:i.\u0275fac}),s})(),Tg=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return R5?.findTestabilityInTree(this,l,f)??null}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),$r=null;const Ng=new Yt("AllowMultipleToken"),O5=new Yt("PlatformDestroyListeners"),F5=new Yt("appBootstrapListener");function Rg(i,s,o=[]){const l=`Platform: ${s}`,f=new Yt(l);return(d=[])=>{let v=h0();if(!v||v.injector.get(Ng,!1)){const C=[...o,...d,{provide:f,useValue:!0}];i?i(C):function EV(i){if($r&&!$r.get(Ng,!1))throw new Z(400,!1);(function kg(){!function J4(i){Ys=i}(()=>{throw new Z(600,!1)})})(),$r=i;const s=i.get(Fg);(function Pg(i){i.get(j8,null)?.forEach(o=>o())})(i)}(function Og(i=[],s){return Xn.create({name:s,providers:[{provide:F8,useValue:"platform"},{provide:O5,useValue:new Set([()=>$r=null])},...i]})}(C,l))}return function B5(i){const s=h0();if(!s)throw new Z(401,!1);return s}()}}function h0(){return $r?.get(Fg)??null}let Fg=(()=>{var i;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const d=function xV(i="zone.js",s){return"noop"===i?new wV:"zone.js"===i?new E1(s):i}(f?.ngZone,function Bg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return d.run(()=>{const v=function Wb(i,s,o){return new f5(i,s,o)}(l.moduleType,this.injector,function Gg(i){return[{provide:E1,useFactory:i},{provide:Ba,multi:!0,useFactory:()=>{const s=$e(AV,{optional:!0});return()=>s.initialize()}},{provide:$g,useFactory:DV},{provide:P5,useFactory:xg}]}(()=>d)),C=v.injector.get(fs,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:V=>{C.handleError(V)}});v.onDestroy(()=>{p0(this._modules,v),w.unsubscribe()})}),function Ug(i,s,o){try{const l=o();return U6(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const w=v.injector.get(x5);return w.runInitializers(),w.donePromise.then(()=>(function kp(i){Qe(i,"Expected localeId to be defined"),"string"==typeof i&&(t5=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(f0,Z3)||Z3),this._moduleDoBootstrap(v),v))})})}bootstrapModule(l,f=[]){const d=U5({},f);return function VV(i,s,o){const l=new d5(o);return Promise.resolve(l)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,d))}_moduleDoBootstrap(l){const f=l.injector.get(vo);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Z(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(O5,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(Xn))},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function U5(i,s){return Array.isArray(s)?s.reduce(U5,i):{...i,...s}}let vo=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e($g),this.zoneIsStable=$e(P5),this.componentTypes=[],this.components=[],this.isStable=$e(sV).hasPendingTasks.pipe((0,Pe.w)(l=>l?(0,we.of)(!1):this.zoneIsStable),(0,Ee.x)(),(0,xe.B)()),this._injector=$e(Br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const d=l instanceof dd;if(!this._injector.get(x5).done)throw!d&&function Pi(i){const s=Pt(i)||q2(i)||W2(i);return null!==s&&s.standalone}(l),new Z(405,!1);let C;C=d?l:this._injector.get(Za).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const w=function SV(i){return i.isBoundToModule}(C)?void 0:this._injector.get(ys),z=C.create(Xn.NULL,[],f||C.selector,w),A=z.location.nativeElement,j=z.injector.get(Dg,null);return j?.registerApplication(A),z.onDestroy(()=>{this.detachView(z.hostView),p0(this.components,z),j?.unregisterApplication(A)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;p0(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get(F5,[]);f.push(...this._bootstrapListeners),f.forEach(d=>d(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>p0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Z(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function p0(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const $g=new Yt("",{providedIn:"root",factory:()=>$e(fs).handleError.bind(void 0)});function DV(){const i=$e(E1),s=$e(fs);return o=>i.runOutsideAngular(()=>s.handleError(o))}let AV=(()=>{var i;class s{constructor(){this.zone=$e(E1),this.applicationRef=$e(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=bt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function TV(){return!1}let NV=(()=>{class s{}return s.__NG_ELEMENT_ID__=kV,s})();function kV(i){return function PV(i,s,o){if(Wn(i)&&!o){const l=t1(i.index,s);return new Ja(l,l)}return 47&i.type?new Ja(s[T2],s):null}(O2(),ve(),16==(16&i))}class Yg{constructor(){}supports(s){return A6(s)}create(s){return new jV(s)}}const Qg=(i,s)=>s;class jV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Qg}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,d=null;for(;o||l;){const v=!l||o&&o.currentIndex<Xg(l,f,d)?o:l,C=Xg(v,f,d),w=v.currentIndex;if(v===l)f--,l=l._nextRemoved;else if(o=o._next,null==v.previousIndex)f++;else{d||(d=[]);const V=C-f,z=w-f;if(V!=z){for(let j=0;j<V;j++){const W=j<d.length?d[j]:d[j]=0,ce=W+j;z<=ce&&ce<V&&(d[j]=W+1)}d[v.previousIndex]=z-V}}C!==w&&s(v,C,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!A6(s))throw new Z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,d,v,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)d=s[C],v=this._trackByFn(C,d),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,d,v,C)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,v,C),l=!0),o=o._next}else f=0,function Mh(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,C=>{v=this._trackByFn(f,C),null!==o&&Object.is(o.trackById,v)?(l&&(o=this._verifyReinsertion(o,C,v,f)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,v,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,f)):s=this._addAfter(new Jg(o,l),d,f),s}_verifyReinsertion(s,o,l,f){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,d=s._nextRemoved;return null===f?this._removalsHead=d:f._nextRemoved=d,null===d?this._removalsTail=f:d._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new W5),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W5),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Jg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $V{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class W5{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new $V,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xg(i,s,o){const l=i.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class ev{constructor(){}supports(s){return s instanceof Map||_u(s)}create(){return new GV}}class GV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||_u(s)))throw new Z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const d=f._prev,v=f._next;return d&&(d._next=v),v&&(v._prev=d),f._next=null,f._prev=null,f}const l=new tv(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class tv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nv(){return new Z5([new Yg])}let Z5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(null!=f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||nv()),deps:[[s,new Va,new ts]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(null!=f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:nv}),s})();function rv(){return new K5([new ev])}let K5=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||rv()),deps:[[s,new Va,new ts]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=bt({token:i,providedIn:"root",factory:rv}),s})();const KV=Rg(null,"core",[]);let YV=(()=>{var i;class s{constructor(l){}}return(i=s).\u0275fac=function(l){return new(l||i)(Ne(vo))},i.\u0275mod=F4({type:i}),i.\u0275inj=m2({}),s})()},3106:(ht,Ie,k)=>{k.d(Ie,{Z:()=>st});var g=k(9058),R=k(4537),T=k(534),ae=k(7879);class me{constructor(be,Ae){this._delegate=be,this.firebase=Ae,(0,T._addComponent)(be,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(be,Ae=T._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(be);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ke=Je.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ae})}_removeServiceInstance(be,Ae=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Ae)}_addComponent(be){(0,T._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,T._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function Ee(){const le=function Pe(le){const be={},Ae={__esModule:!0,initializeApp:function Z(Le,K={}){const et=T.initializeApp(Le,K);if((0,g.r3)(be,et.name))return be[et.name];const nt=new le(et,Ae);return be[et.name]=nt,nt},app:Je,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function J(Le){const K=Le.name,et=K.replace("-compat","");if(T._registerComponent(Le)&&"PUBLIC"===Le.type){const nt=(Dt=Je())=>{if("function"!=typeof Dt[et])throw xe.create("invalid-app-argument",{appName:K});return Dt[et]()};void 0!==Le.serviceProps&&(0,g.ZB)(nt,Le.serviceProps),Ae[et]=nt,le.prototype[et]=function(...Dt){return this._getService.bind(this,K).apply(this,Le.multipleInstances?Dt:[])}}return"PUBLIC"===Le.type?Ae[et]:null},removeApp:function Ke(Le){delete be[Le]},useAsService:function pe(Le,K){return"serverAuth"===K?null:K},modularAPIs:T}};function Je(Le){if(!(0,g.r3)(be,Le=Le||T._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Le});return be[Le]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ue(){return Object.keys(be).map(Le=>be[Le])}}),Je.App=le,Ae}(me);return le.INTERNAL=Object.assign(Object.assign({},le.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function be(Ae){(0,g.ZB)(le,Ae)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),le}(),B=new ae.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const le=self.firebase.SDK_VERSION;le&&le.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=O;!function He(le){(0,T.registerVersion)("@firebase/app-compat","0.2.13",le)}()},534:(ht,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>o1,_addOrOverwriteComponent:()=>R1,_apps:()=>Ct,_clearComponents:()=>$t,_components:()=>jt,_getProvider:()=>y2,_registerComponent:()=>Lt,_removeServiceInstance:()=>On,deleteApp:()=>R2,getApp:()=>vn,getApps:()=>P2,initializeApp:()=>gn,onLog:()=>c2,registerVersion:()=>w1,setLogLevel:()=>Fn});var g=k(5861),R=k(4537),T=k(7879),ae=k(9058);const me=(se,Y)=>Y.some(_e=>se instanceof _e);let we,xe;const O=new WeakMap,B=new WeakMap,re=new WeakMap,Re=new WeakMap,He=new WeakMap;let be={get(se,Y,_e){if(se instanceof IDBTransaction){if("done"===Y)return B.get(se);if("objectStoreNames"===Y)return se.objectStoreNames||re.get(se);if("store"===Y)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Z(se[Y])},set:(se,Y,_e)=>(se[Y]=_e,!0),has:(se,Y)=>se instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in se};function Je(se){return"function"==typeof se?function Ke(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...Y){return se.apply(ue(this),Y),Z(O.get(this))}:function(...Y){return Z(se.apply(ue(this),Y))}:function(Y,..._e){const Ye=se.call(ue(this),Y,..._e);return re.set(Ye,Y.sort?Y.sort():[Y]),Z(Ye)}}(se):(se instanceof IDBTransaction&&function le(se){if(B.has(se))return;const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("complete",Vt),se.removeEventListener("error",Bt),se.removeEventListener("abort",Bt)},Vt=()=>{_e(),Oe()},Bt=()=>{Ye(se.error||new DOMException("AbortError","AbortError")),Oe()};se.addEventListener("complete",Vt),se.addEventListener("error",Bt),se.addEventListener("abort",Bt)});B.set(se,Y)}(se),me(se,function Pe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,be):se)}function Z(se){if(se instanceof IDBRequest)return function st(se){const Y=new Promise((_e,Ye)=>{const Oe=()=>{se.removeEventListener("success",Vt),se.removeEventListener("error",Bt)},Vt=()=>{_e(Z(se.result)),Oe()},Bt=()=>{Ye(se.error),Oe()};se.addEventListener("success",Vt),se.addEventListener("error",Bt)});return Y.then(_e=>{_e instanceof IDBCursor&&O.set(_e,se)}).catch(()=>{}),He.set(Y,se),Y}(se);if(Re.has(se))return Re.get(se);const Y=Je(se);return Y!==se&&(Re.set(se,Y),He.set(Y,se)),Y}const ue=se=>He.get(se),Le=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],et=new Map;function nt(se,Y){if(!(se instanceof IDBDatabase)||Y in se||"string"!=typeof Y)return;if(et.get(Y))return et.get(Y);const _e=Y.replace(/FromIndex$/,""),Ye=Y!==_e,Oe=K.includes(_e);if(!(_e in(Ye?IDBIndex:IDBObjectStore).prototype)||!Oe&&!Le.includes(_e))return;const Vt=function(){var Bt=(0,g.Z)(function*(A2,...l2){const e1=this.transaction(A2,Oe?"readwrite":"readonly");let Bn=e1.store;return Ye&&(Bn=Bn.index(l2.shift())),(yield Promise.all([Bn[_e](...l2),Oe&&e1.done]))[0]});return function(l2){return Bt.apply(this,arguments)}}();return et.set(Y,Vt),Vt}!function Ae(se){be=se(be)}(se=>({...se,get:(Y,_e,Ye)=>nt(Y,_e)||se.get(Y,_e,Ye),has:(Y,_e)=>!!nt(Y,_e)||se.has(Y,_e)}));class Dt{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function X2(se){const Y=se.getComponent();return"VERSION"===Y?.type}(_e)){const Ye=_e.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(_e=>_e).join(" ")}}const hn="@firebase/app",a2=new T.Yd("@firebase/app"),ut="[DEFAULT]",Mt={[hn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,jt=new Map;function o1(se,Y){try{se.container.addComponent(Y)}catch(_e){a2.debug(`Component ${Y.name} failed to register with FirebaseApp ${se.name}`,_e)}}function R1(se,Y){se.container.addOrOverwriteComponent(Y)}function Lt(se){const Y=se.name;if(jt.has(Y))return a2.debug(`There were multiple attempts to register component ${Y}.`),!1;jt.set(Y,se);for(const _e of Ct.values())o1(_e,se);return!0}function y2(se,Y){const _e=se.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),se.container.getProvider(Y)}function On(se,Y,_e=ut){y2(se,Y).clearInstance(_e)}function $t(){jt.clear()}const Ht=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class C2{constructor(Y,_e,Ye){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const mn="9.23.0";function gn(se,Y={}){let _e=se;"object"!=typeof Y&&(Y={name:Y});const Ye=Object.assign({name:ut,automaticDataCollectionEnabled:!1},Y),Oe=Ye.name;if("string"!=typeof Oe||!Oe)throw Ht.create("bad-app-name",{appName:String(Oe)});if(_e||(_e=(0,ae.aH)()),!_e)throw Ht.create("no-options");const Vt=Ct.get(Oe);if(Vt){if((0,ae.vZ)(_e,Vt.options)&&(0,ae.vZ)(Ye,Vt.config))return Vt;throw Ht.create("duplicate-app",{appName:Oe})}const Bt=new R.H0(Oe);for(const l2 of jt.values())Bt.addComponent(l2);const A2=new C2(_e,Ye,Bt);return Ct.set(Oe,A2),A2}function vn(se=ut){const Y=Ct.get(se);if(!Y&&se===ut&&(0,ae.aH)())return gn();if(!Y)throw Ht.create("no-app",{appName:se});return Y}function P2(){return Array.from(Ct.values())}function R2(se){return G2.apply(this,arguments)}function G2(){return(G2=(0,g.Z)(function*(se){const Y=se.name;Ct.has(Y)&&(Ct.delete(Y),yield Promise.all(se.container.getProviders().map(_e=>_e.delete())),se.isDeleted=!0)})).apply(this,arguments)}function w1(se,Y,_e){var Ye;let Oe=null!==(Ye=Mt[se])&&void 0!==Ye?Ye:se;_e&&(Oe+=`-${_e}`);const Vt=Oe.match(/\s|\//),Bt=Y.match(/\s|\//);if(Vt||Bt){const A2=[`Unable to register library "${Oe}" with version "${Y}":`];return Vt&&A2.push(`library name "${Oe}" contains illegal characters (whitespace or "/")`),Vt&&Bt&&A2.push("and"),Bt&&A2.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void a2.warn(A2.join(" "))}Lt(new R.wA(`${Oe}-version`,()=>({library:Oe,version:Y}),"VERSION"))}function c2(se,Y){if(null!==se&&"function"!=typeof se)throw Ht.create("invalid-log-argument");(0,T.Am)(se,Y)}function Fn(se){(0,T.Ub)(se)}const O1="firebase-heartbeat-database",yn=1,F="firebase-heartbeat-store";let P=null;function x(){return P||(P=function J(se,Y,{blocked:_e,upgrade:Ye,blocking:Oe,terminated:Vt}={}){const Bt=indexedDB.open(se,Y),A2=Z(Bt);return Ye&&Bt.addEventListener("upgradeneeded",l2=>{Ye(Z(Bt.result),l2.oldVersion,l2.newVersion,Z(Bt.transaction),l2)}),_e&&Bt.addEventListener("blocked",l2=>_e(l2.oldVersion,l2.newVersion,l2)),A2.then(l2=>{Vt&&l2.addEventListener("close",()=>Vt()),Oe&&l2.addEventListener("versionchange",e1=>Oe(e1.oldVersion,e1.newVersion,e1))}).catch(()=>{}),A2}(O1,yn,{upgrade:(se,Y)=>{0===Y&&se.createObjectStore(F)}}).catch(se=>{throw Ht.create("idb-open",{originalErrorMessage:se.message})})),P}function E(){return(E=(0,g.Z)(function*(se){try{return yield(yield x()).transaction(F).objectStore(F).get(Ne(se))}catch(Y){if(Y instanceof ae.ZR)a2.warn(Y.message);else{const _e=Ht.create("idb-get",{originalErrorMessage:Y?.message});a2.warn(_e.message)}}})).apply(this,arguments)}function q(se,Y){return de.apply(this,arguments)}function de(){return(de=(0,g.Z)(function*(se,Y){try{const Ye=(yield x()).transaction(F,"readwrite");yield Ye.objectStore(F).put(Y,Ne(se)),yield Ye.done}catch(_e){if(_e instanceof ae.ZR)a2.warn(_e.message);else{const Ye=Ht.create("idb-set",{originalErrorMessage:_e?.message});a2.warn(Ye.message)}}})).apply(this,arguments)}function Ne(se){return`${se.name}!${se.options.appId}`}class Ft{constructor(Y){this.container=Y,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new It(_e),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var Y=this;return(0,g.Z)(function*(){const Ye=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Oe=vt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==Oe&&!Y._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Oe))return Y._heartbeatsCache.heartbeats.push({date:Oe,agent:Ye}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Vt=>{const Bt=new Date(Vt.date).valueOf();return Date.now()-Bt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,g.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const _e=vt(),{heartbeatsToSend:Ye,unsentEntries:Oe}=function Xt(se,Y=1024){const _e=[];let Ye=se.slice();for(const Oe of se){const Vt=_e.find(Bt=>Bt.agent===Oe.agent);if(Vt){if(Vt.dates.push(Oe.date),c1(_e)>Y){Vt.dates.pop();break}}else if(_e.push({agent:Oe.agent,dates:[Oe.date]}),c1(_e)>Y){_e.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Ye}}(Y._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ye}));return Y._heartbeatsCache.lastSentHeartbeatDate=_e,Oe.length>0?(Y._heartbeatsCache.heartbeats=Oe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Vt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class It{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,g.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function D(se){return E.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var _e=this;return(0,g.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var _e=this;return(0,g.Z)(function*(){var Ye;if(yield _e._canUseIndexedDBPromise){const Vt=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Ye=Y.lastSentHeartbeatDate)&&void 0!==Ye?Ye:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Y.heartbeats]})}})()}}function c1(se){return(0,ae.L)(JSON.stringify({version:2,heartbeats:se})).length}!function Sr(se){Lt(new R.wA("platform-logger",Y=>new Dt(Y),"PRIVATE")),Lt(new R.wA("heartbeat",Y=>new Ft(Y),"PRIVATE")),w1(hn,"0.9.13",se),w1(hn,"0.9.13","esm2017"),w1("fire-js","")}("")},4537:(ht,Ie,k)=>{k.d(Ie,{H0:()=>Pe,wA:()=>T});var g=k(5861),R=k(9058);class T{constructor(O,B,re){this.name=O,this.instanceFactory=B,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const ae="[DEFAULT]";class me{constructor(O,B){this.name=O,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const B=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(B)){const re=new R.BH;if(this.instancesDeferred.set(B,re),this.isInitialized(B)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:B});Re&&re.resolve(Re)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(O){var B;const re=this.normalizeInstanceIdentifier(O?.identifier),Re=null!==(B=O?.optional)&&void 0!==B&&B;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(He){if(Re)return null;throw He}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function xe(Ee){return"EAGER"===Ee.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[B,re]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(B);try{const He=this.getOrInitializeService({instanceIdentifier:Re});re.resolve(He)}catch{}}}}clearInstance(O=ae){this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}delete(){var O=this;return(0,g.Z)(function*(){const B=Array.from(O.instances.values());yield Promise.all([...B.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...B.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(O=ae){return this.instances.has(O)}getOptions(O=ae){return this.instancesOptions.get(O)||{}}initialize(O={}){const{options:B={}}=O,re=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:re,options:B});for(const[He,st]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(He)&&st.resolve(Re);return Re}onInit(O,B){var re;const Re=this.normalizeInstanceIdentifier(B),He=null!==(re=this.onInitCallbacks.get(Re))&&void 0!==re?re:new Set;He.add(O),this.onInitCallbacks.set(Re,He);const st=this.instances.get(Re);return st&&O(st,Re),()=>{He.delete(O)}}invokeOnInitCallbacks(O,B){const re=this.onInitCallbacks.get(B);if(re)for(const Re of re)try{Re(O,B)}catch{}}getOrInitializeService({instanceIdentifier:O,options:B={}}){let re=this.instances.get(O);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=O,Ee===ae?void 0:Ee),options:B}),this.instances.set(O,re),this.instancesOptions.set(O,B),this.invokeOnInitCallbacks(re,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,re)}catch{}var Ee;return re||null}normalizeInstanceIdentifier(O=ae){return this.component?this.component.multipleInstances?O:ae:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(O){this.name=O,this.providers=new Map}addComponent(O){const B=this.getProvider(O.name);if(B.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);B.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const B=new me(O,this);return this.providers.set(O,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Ie,k)=>{k.d(Ie,{Am:()=>Ee,Ub:()=>Pe,Yd:()=>xe,in:()=>R});const g=[];var R=function(O){return O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",O}(R||{});const T={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ae=R.INFO,me={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},we=(O,B,...re)=>{if(B<O.logLevel)return;const Re=(new Date).toISOString(),He=me[B];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[He](`[${Re}]  ${O.name}:`,...re)};class xe{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=we,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in R))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?T[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...B),this._logHandler(this,R.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...B),this._logHandler(this,R.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,R.INFO,...B),this._logHandler(this,R.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,R.WARN,...B),this._logHandler(this,R.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...B),this._logHandler(this,R.ERROR,...B)}}function Pe(O){g.forEach(B=>{B.setLogLevel(O)})}function Ee(O,B){for(const re of g){let Re=null;B&&B.level&&(Re=T[B.level]),re.userLogHandler=null===O?null:(He,st,...le)=>{const be=le.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");st>=(Re??He.logLevel)&&O({level:R[st].toLowerCase(),message:be,args:le,type:He.name})}}}},7142:(ht,Ie,k)=>{k.d(Ie,{Z:()=>g.Z});var g=k(3106);g.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(ht,Ie,k)=>{k.r(Ie);var g=k(5861),R=k(3106),T=k(6878),ae=k(9058),xe=(k(534),k(7879),k(4537));function Pe(){return window}function B(){return B=(0,g.Z)(function*(x,D,E){var q;const{BuildInfo:de}=Pe();(0,T.as)(D.sessionId,"AuthEvent did not contain a session ID");const Ne=yield function Ae(x){return Ke.apply(this,arguments)}(D.sessionId),gt={};return(0,T.at)()?gt.ibi=de.packageName:(0,T.au)()?gt.apn=de.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),de.displayName&&(gt.appDisplayName=de.displayName),gt.sessionId=Ne,(0,T.aw)(x,E,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,gt)}),B.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(x){const{BuildInfo:D}=Pe(),E={};(0,T.at)()?E.iosBundleId=D.packageName:(0,T.au)()?E.androidPackageName=D.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),yield(0,T.ax)(x,E)})).apply(this,arguments)}function le(){return(le=(0,g.Z)(function*(x,D,E){const{cordova:q}=Pe();let de=()=>{};try{yield new Promise((Ne,gt)=>{let $e=null;function Ft(){var It;Ne();const c1=null===(It=q.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof c1&&c1(),"function"==typeof E?.close&&E.close()}function vt(){$e||($e=window.setTimeout(()=>{gt((0,T.az)(x,"redirect-cancelled-by-user"))},2e3))}function Xt(){"visible"===document?.visibilityState&&vt()}D.addPassiveListener(Ft),document.addEventListener("resume",vt,!1),(0,T.au)()&&document.addEventListener("visibilitychange",Xt,!1),de=()=>{D.removePassiveListener(Ft),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",Xt,!1),$e&&window.clearTimeout($e)}})}finally{de()}})).apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(function*(x){const D=function Je(x){if((0,T.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const D=new ArrayBuffer(x.length),E=new Uint8Array(D);for(let q=0;q<x.length;q++)E[q]=x.charCodeAt(q);return E}(x),E=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(E)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ue extends T.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(D)),super.onEvent(D)}initialized(){var D=this;return(0,g.Z)(function*(){yield D.initPromise})()}}function Le(x){return K.apply(this,arguments)}function K(){return(K=(0,g.Z)(function*(x){const D=yield Dt()._get(X2(x));return D&&(yield Dt()._remove(X2(x))),D})).apply(this,arguments)}function nt(){const x=[];for(let E=0;E<20;E++){const q=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(q))}return x.join("")}function Dt(){return(0,T.aC)(T.b)}function X2(x){return(0,T.aD)("authEvent",x.config.apiKey,x.name)}function a2(x){if(!x?.includes("?"))return{};const[D,...E]=x.split("?");return(0,ae.zd)(E.join("?"))}const te=class ur{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,g.Z)(function*(){const q=D._key();let de=E.eventManagers.get(q);return de||(de=new ue(D),E.eventManagers.set(q,de),E.attachCallbackListeners(D,de)),de})()}_openPopup(D){(0,T.av)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,E,q,de){var Ne=this;return(0,g.Z)(function*(){!function be(x){var D,E,q,de,Ne,gt,$e,Ft,vt,Xt;const It=Pe();(0,T.aA)("function"==typeof(null===(D=It?.universalLinks)||void 0===D?void 0:D.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.aA)(typeof(null===(E=It?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.aA)("function"==typeof(null===(Ne=null===(de=null===(q=It?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ne?void 0:Ne.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Ft=null===($e=null===(gt=It?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ft?void 0:Ft.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Xt=null===(vt=It?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===Xt?void 0:Xt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const gt=yield Ne._initialize(D);yield gt.initialized(),gt.resetRedirect(),(0,T.aG)(),yield Ne._originValidation(D);const $e=function J(x,D,E=null){return{type:D,eventId:E,urlResponse:null,sessionId:nt(),postBody:null,tenantId:x.tenantId,error:(0,T.az)(x,"no-auth-event")}}(D,q,de);yield function pe(x,D){return Dt()._set(X2(x),D)}(D,$e);const Ft=yield function O(x,D,E){return B.apply(this,arguments)}(D,$e,E),vt=yield function He(x){const{cordova:D}=Pe();return new Promise(E=>{D.plugins.browsertab.isAvailable(q=>{let de=null;q?D.plugins.browsertab.openUrl(x):de=D.InAppBrowser.open(x,(0,T.ay)()?"_blank":"_system","location=yes"),E(de)})})}(Ft);return function st(x,D,E){return le.apply(this,arguments)}(D,gt,vt)})()}_isIframeWebStorageSupported(D,E){throw new Error("Method not implemented.")}_originValidation(D){const E=D._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function re(x){return Re.apply(this,arguments)}(D)),this.originValidationPromises[E]}attachCallbackListeners(D,E){const{universalLinks:q,handleOpenURL:de,BuildInfo:Ne}=Pe(),gt=setTimeout((0,g.Z)(function*(){yield Le(D),E.onEvent(ie())}),500),$e=function(){var Xt=(0,g.Z)(function*(It){clearTimeout(gt);const c1=yield Le(D);let Sr=null;c1&&It?.url&&(Sr=function et(x,D){var E,q;const de=function Rn(x){const D=a2(x),E=D.link?decodeURIComponent(D.link):void 0,q=a2(E).link,de=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return a2(de).link||de||q||E||x}(D);if(de.includes("/__/auth/callback")){const Ne=a2(de),gt=Ne.firebaseError?function hn(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(Ne.firebaseError)):null,$e=null===(q=null===(E=gt?.code)||void 0===E?void 0:E.split("auth/"))||void 0===q?void 0:q[1],Ft=$e?(0,T.az)($e):null;return Ft?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:de,postBody:null}}return null}(c1,It.url)),E.onEvent(Sr||ie())});return function(c1){return Xt.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,$e);const Ft=de,vt=`${Ne.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var Xt=(0,g.Z)(function*(It){if(It.toLowerCase().startsWith(vt)&&$e({url:It}),"function"==typeof Ft)try{Ft(It)}catch(c1){console.error(c1)}});return function(It){return Xt.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.az)("no-auth-event")}}function Qe(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Qt(x=(0,ae.z$)()){return!("file:"!==Qe()&&"ionic:"!==Qe()&&"capacitor:"!==Qe()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function m2(){try{const x=self.localStorage,D=T.aL();if(x)return x.setItem(D,"1"),x.removeItem(D),!function Kt(x=(0,ae.z$)()){return function Ut(){return(0,ae.w1)()&&11===document?.documentMode}()||function bt(x=(0,ae.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,ae.hl)()}catch{return g2()&&(0,ae.hl)()}return!1}function g2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jt(){return(function ke(){return"http:"===Qe()||"https:"===Qe()}()||(0,ae.ru)()||Qt())&&!function mt(){return(0,ae.b$)()||(0,ae.UG)()}()&&m2()&&!g2()}function E2(){return Qt()&&typeof document<"u"}function P1(){return(P1=(0,g.Z)(function*(){return!!E2()&&new Promise(x=>{const D=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),x(!0)})})})).apply(this,arguments)}const v2={LOCAL:"local",NONE:"none",SESSION:"session"},a1=T.aA,zn="persistence";function Mt(x){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(x){yield x._initializationPromise;const D=o1(),E=T.aD(zn,x.config.apiKey,x.name);D&&D.setItem(E,x._getPersistence())})).apply(this,arguments)}function o1(){var x;try{return(null===(x=function s1(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const R1=T.aA;class Lt{constructor(){this.browserResolver=T.aC(T.k),this.cordovaResolver=T.aC(te),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,g.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,E,q,de){var Ne=this;return(0,g.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openPopup(D,E,q,de)})()}_openRedirect(D,E,q,de){var Ne=this;return(0,g.Z)(function*(){return yield Ne.selectUnderlyingResolver(),Ne.assertedUnderlyingResolver._openRedirect(D,E,q,de)})()}_isIframeWebStorageSupported(D,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,E)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return E2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return R1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,g.Z)(function*(){if(D.underlyingResolver)return;const E=yield function k1(){return P1.apply(this,arguments)}();D.underlyingResolver=E?D.cordovaResolver:D.browserResolver})()}}function y2(x){return x.unwrap()}function $t(x){return Ht(x)}function Ht(x){const{_tokenResponse:D}=x instanceof ae.ZR?x.customData:x;if(!D)return null;if(!(x instanceof ae.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return T.P.credentialFromResult(x);const E=D.providerId;if(!E||E===T.p.PASSWORD)return null;let q;switch(E){case T.p.GOOGLE:q=T.V;break;case T.p.FACEBOOK:q=T.U;break;case T.p.GITHUB:q=T.W;break;case T.p.TWITTER:q=T.Z;break;default:const{oauthIdToken:de,oauthAccessToken:Ne,oauthTokenSecret:gt,pendingToken:$e,nonce:Ft}=D;return Ne||gt||de||$e?$e?E.startsWith("saml.")?T.aO._create(E,$e):T.L._fromParams({providerId:E,signInMethod:E,pendingToken:$e,idToken:de,accessToken:Ne}):new T.X(E).credential({idToken:de,accessToken:Ne,rawNonce:Ft}):null}return x instanceof ae.ZR?q.credentialFromError(x):q.credentialFromResult(x)}function C2(x,D){return D.catch(E=>{throw E instanceof ae.ZR&&function fr(x,D){var E;const q=null===(E=D.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new vn(x,T.aq(x,D));else if(q){const de=Ht(D),Ne=D;de&&(Ne.credential=de,Ne.tenantId=q.tenantId||void 0,Ne.email=q.email||void 0,Ne.phoneNumber=q.phoneNumber||void 0)}}(x,E),E}).then(E=>{const de=E.user;return{operationType:E.operationType,credential:$t(E),additionalUserInfo:T.ao(E),user:P2.getOrCreate(de)}})}function mn(x,D){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(x,D){const E=yield D;return{verificationId:E.verificationId,confirm:q=>C2(x,E.confirm(q))}})).apply(this,arguments)}class vn{constructor(D,E){this.resolver=E,this.auth=function On(x){return x.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return C2(y2(this.auth),this.resolver.resolveSignIn(D))}}class P2{constructor(D){this._delegate=D,this.multiFactor=T.ar(D)}static getOrCreate(D){return P2.USER_MAP.has(D)||P2.USER_MAP.set(D,new P2(D)),P2.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var E=this;return(0,g.Z)(function*(){return C2(E.auth,T.a0(E._delegate,D))})()}linkWithPhoneNumber(D,E){var q=this;return(0,g.Z)(function*(){return mn(q.auth,T.l(q._delegate,D,E))})()}linkWithPopup(D){var E=this;return(0,g.Z)(function*(){return C2(E.auth,T.d(E._delegate,D,Lt))})()}linkWithRedirect(D){var E=this;return(0,g.Z)(function*(){return yield Mt(T.aH(E.auth)),T.g(E._delegate,D,Lt)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var E=this;return(0,g.Z)(function*(){return C2(E.auth,T.a1(E._delegate,D))})()}reauthenticateWithPhoneNumber(D,E){return mn(this.auth,T.r(this._delegate,D,E))}reauthenticateWithPopup(D){return C2(this.auth,T.e(this._delegate,D,Lt))}reauthenticateWithRedirect(D){var E=this;return(0,g.Z)(function*(){return yield Mt(T.aH(E.auth)),T.h(E._delegate,D,Lt)})()}sendEmailVerification(D){return T.ae(this._delegate,D)}unlink(D){var E=this;return(0,g.Z)(function*(){return yield T.an(E._delegate,D),E})()}updateEmail(D){return T.aj(this._delegate,D)}updatePassword(D){return T.ak(this._delegate,D)}updatePhoneNumber(D){return T.u(this._delegate,D)}updateProfile(D){return T.ai(this._delegate,D)}verifyBeforeUpdateEmail(D,E){return T.af(this._delegate,D,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}P2.USER_MAP=new WeakMap;const R2=T.aA;let G2=(()=>{class x{constructor(E,q){if(this.app=E,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=E.options;R2(de,"invalid-api-key",{appName:E.name}),R2(de,"invalid-api-key",{appName:E.name});const Ne=typeof window<"u"?Lt:void 0;this._delegate=q.initialize({options:{persistence:c2(de,E.name),popupRedirectResolver:Ne}}),this._delegate._updateErrorMap(T.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?P2.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,q){T.I(this._delegate,E,q)}applyActionCode(E){return T.a5(this._delegate,E)}checkActionCode(E){return T.a6(this._delegate,E)}confirmPasswordReset(E,q){return T.a4(this._delegate,E,q)}createUserWithEmailAndPassword(E,q){var de=this;return(0,g.Z)(function*(){return C2(de._delegate,T.a8(de._delegate,E,q))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return T.ad(this._delegate,E)}isSignInWithEmailLink(E){return T.ab(this._delegate,E)}getRedirectResult(){var E=this;return(0,g.Z)(function*(){R2(Jt(),E._delegate,"operation-not-supported-in-this-environment");const q=yield T.j(E._delegate,Lt);return q?C2(E._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function fe(x,D){(0,T.aH)(x)._logFramework(D)}(this._delegate,E)}onAuthStateChanged(E,q,de){const{next:Ne,error:gt,complete:$e}=w1(E,q,de);return this._delegate.onAuthStateChanged(Ne,gt,$e)}onIdTokenChanged(E,q,de){const{next:Ne,error:gt,complete:$e}=w1(E,q,de);return this._delegate.onIdTokenChanged(Ne,gt,$e)}sendSignInLinkToEmail(E,q){return T.aa(this._delegate,E,q)}sendPasswordResetEmail(E,q){return T.a3(this._delegate,E,q||void 0)}setPersistence(E){var q=this;return(0,g.Z)(function*(){let de;switch(function ut(x,D){a1(Object.values(v2).includes(D),x,"invalid-persistence-type"),(0,ae.b$)()?a1(D!==v2.SESSION,x,"unsupported-persistence-type"):(0,ae.UG)()?a1(D===v2.NONE,x,"unsupported-persistence-type"):g2()?a1(D===v2.NONE||D===v2.LOCAL&&(0,ae.hl)(),x,"unsupported-persistence-type"):a1(D===v2.NONE||m2(),x,"unsupported-persistence-type")}(q._delegate,E),E){case v2.SESSION:de=T.a;break;case v2.LOCAL:de=(yield T.aC(T.i)._isAvailable())?T.i:T.b;break;case v2.NONE:de=T.N;break;default:return T.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return C2(this._delegate,T._(this._delegate))}signInWithCredential(E){return C2(this._delegate,T.$(this._delegate,E))}signInWithCustomToken(E){return C2(this._delegate,T.a2(this._delegate,E))}signInWithEmailAndPassword(E,q){return C2(this._delegate,T.a9(this._delegate,E,q))}signInWithEmailLink(E,q){return C2(this._delegate,T.ac(this._delegate,E,q))}signInWithPhoneNumber(E,q){return mn(this._delegate,T.s(this._delegate,E,q))}signInWithPopup(E){var q=this;return(0,g.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),C2(q._delegate,T.c(q._delegate,E,Lt))})()}signInWithRedirect(E){var q=this;return(0,g.Z)(function*(){return R2(Jt(),q._delegate,"operation-not-supported-in-this-environment"),yield Mt(q._delegate),T.f(q._delegate,E,Lt)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return T.a7(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=v2,x})();function w1(x,D,E){let q=x;"function"!=typeof x&&({next:q,error:D,complete:E}=x);const de=q;return{next:gt=>de(gt&&P2.getOrCreate(gt)),error:D,complete:E}}function c2(x,D){const E=function jt(x,D){const E=o1();if(!E)return[];const q=T.aD(zn,x,D);switch(E.getItem(q)){case v2.NONE:return[T.N];case v2.LOCAL:return[T.i,T.a];case v2.SESSION:return[T.a];default:return[]}}(x,D);if(typeof self<"u"&&!E.includes(T.i)&&E.push(T.i),typeof window<"u")for(const q of[T.b,T.a])E.includes(q)||E.push(q);return E.includes(T.N)||E.push(T.N),E}class Fn{constructor(){this.providerId="phone",this._delegate=new T.P(y2(R.Z.auth()))}static credential(D,E){return T.P.credential(D,E)}verifyPhoneNumber(D,E){return this._delegate.verifyPhoneNumber(D,E)}unwrap(){return this._delegate}}Fn.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,Fn.PROVIDER_ID=T.P.PROVIDER_ID;const O1=T.aA;class yn{constructor(D,E,q=R.Z.app()){var de;O1(null===(de=q.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new T.R(D,E,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(x){x.INTERNAL.registerComponent(new xe.wA("auth-compat",D=>{const E=D.getProvider("app-compat").getImmediate(),q=D.getProvider("auth");return new G2(E,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.Q,FacebookAuthProvider:T.U,GithubAuthProvider:T.W,GoogleAuthProvider:T.V,OAuthProvider:T.X,SAMLAuthProvider:T.Y,PhoneAuthProvider:Fn,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:yn,TwitterAuthProvider:T.Z,Auth:G2,AuthCredential:T.J,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(R.Z)},5861:(ht,Ie,k)=>{function g(T,ae,me,we,xe,Pe,Ee){try{var O=T[Pe](Ee),B=O.value}catch(re){return void me(re)}O.done?ae(B):Promise.resolve(B).then(we,xe)}function R(T){return function(){var ae=this,me=arguments;return new Promise(function(we,xe){var Pe=T.apply(ae,me);function Ee(B){g(Pe,we,xe,Ee,O,"next",B)}function O(B){g(Pe,we,xe,Ee,O,"throw",B)}Ee(void 0)})}}k.d(Ie,{Z:()=>R})},7582:(ht,Ie,k)=>{function ae(te,ie){var fe={};for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&ie.indexOf(X)<0&&(fe[X]=te[X]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(X=Object.getOwnPropertySymbols(te);he<X.length;he++)ie.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(te,X[he])&&(fe[X[he]]=te[X[he]])}return fe}function re(te,ie,fe,X){return new(fe||(fe=Promise))(function(ze,Qe){function ke(Ut){try{mt(X.next(Ut))}catch(bt){Qe(bt)}}function Qt(Ut){try{mt(X.throw(Ut))}catch(bt){Qe(bt)}}function mt(Ut){Ut.done?ze(Ut.value):function he(ze){return ze instanceof fe?ze:new fe(function(Qe){Qe(ze)})}(Ut.value).then(ke,Qt)}mt((X=X.apply(te,ie||[])).next())})}function Z(te){return this instanceof Z?(this.v=te,this):new Z(te)}function ue(te,ie,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=fe.apply(te,ie||[]),ze=[];return he={},Qe("next"),Qe("throw"),Qe("return"),he[Symbol.asyncIterator]=function(){return this},he;function Qe(Kt){X[Kt]&&(he[Kt]=function(m2){return new Promise(function(g2,Jt){ze.push([Kt,m2,g2,Jt])>1||ke(Kt,m2)})})}function ke(Kt,m2){try{!function Qt(Kt){Kt.value instanceof Z?Promise.resolve(Kt.value.v).then(mt,Ut):bt(ze[0][2],Kt)}(X[Kt](m2))}catch(g2){bt(ze[0][3],g2)}}function mt(Kt){ke("next",Kt)}function Ut(Kt){ke("throw",Kt)}function bt(Kt,m2){Kt(m2),ze.shift(),ze.length&&ke(ze[0][0],ze[0][1])}}function pe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ie=te[Symbol.asyncIterator];return ie?ie.call(te):(te=function le(te){var ie="function"==typeof Symbol&&Symbol.iterator,fe=ie&&te[ie],X=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&X>=te.length&&(te=void 0),{value:te&&te[X++],done:!te}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},X("next"),X("throw"),X("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function X(ze){fe[ze]=te[ze]&&function(Qe){return new Promise(function(ke,Qt){!function he(ze,Qe,ke,Qt){Promise.resolve(Qt).then(function(mt){ze({value:mt,done:ke})},Qe)}(ke,Qt,(Qe=te[ze](Qe)).done,Qe.value)})}}}k.d(Ie,{FC:()=>ue,KL:()=>pe,_T:()=>ae,mG:()=>re,qq:()=>Z}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=9921)}]);