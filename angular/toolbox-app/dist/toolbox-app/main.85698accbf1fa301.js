(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{618:(ye,Ce,V)=>{"use strict";function M(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const G=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function z(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(M(r))try{r()}catch(s){e=s instanceof G?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof G?e=[...e,...o.errors]:e.push(o)}}if(e)throw new G(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&z(n,e)}remove(e){const{_finalizers:n}=this;n&&z(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const N=J.EMPTY;function W(t){return t instanceof J||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function _(t){M(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){P.setTimeout(()=>{const{onUnhandledError:e}=b;if(!e)throw t;e(t)})}function T(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(b.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,W(e)&&e.add(this)):this.destination=X}static create(e,n,r){return new de(e,n,r)}next(e){this.isStopped?we(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?we(function D(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?we(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function H(t,e){return O.call(t,e)}class ${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){le(r)}else le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){le(n)}}}class de extends L{constructor(e,n,r){let i;if(super(),M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H(e.next,s),error:e.error&&H(e.error,s),complete:e.complete&&H(e.complete,s)}):i=e}this.destination=new $(i)}}function le(t){b.useDeprecatedSynchronousErrorHandling?function C(t){b.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function we(t,e){const{onStoppedNotification:n}=b;n&&P.setTimeout(()=>n(t,e))}const X={closed:!0,next:T,error:function pe(t){throw t},complete:T},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function Ne(t){return 0===t.length?ve:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof L||function tt(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}(t)&&W(t)}(n)?n:new de(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qe(r))((i,s)=>{const o=new de({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ue](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=qe(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qe(t){var e;return null!==(e=t??b.Promise)&&void 0!==e?e:Promise}const ae=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ae}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,z(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new fe;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function St(t){return M(t?.lift)}function Fe(t){return e=>{if(St(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Fe((n,r)=>{let i=0;n.subscribe(nt(r,s=>{r.next(t.call(e,s,i++))}))})}function rr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Zt(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Rr(t,e){return function(n,r){e(n,r,t)}}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function jp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Oc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ad(t){return M(t?.then)}function Qp(t){return M(t[ue])}function Xp(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function cd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ld=function l_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(t){return M(t?.[ld])}function Ri(t){return function Vs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Pi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Pi(n.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{n.releaseLock()}})}function ud(t){return M(t?.getReader)}function sr(t){if(t instanceof fe)return t;if(null!=t){if(Qp(t))return function sj(t){return new fe(e=>{const n=t[ue]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Yp(t))return function oj(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ad(t))return function aj(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(Xp(t))return Cw(t);if(ir(t))return function cj(t){return new fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ud(t))return function lj(t){return Cw(Ri(t))}(t)}throw cd(t)}function Cw(t){return new fe(e=>{(function uj(t,e){var n,r,i,s;return function kr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ls(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function jn(t,e,n=1/0){return M(e)?jn((r,i)=>Ye((s,o)=>e(r,s,i,o))(sr(t(r,i))),n):("number"==typeof e&&(n=e),Fe((r,i)=>function dj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let y=!1;sr(n(g,u++)).subscribe(nt(e,S=>{i?.(S),s?h(S):e.next(S)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const S=c.shift();o?Ls(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(nt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Jp(t=1/0){return jn(ve,t)}const Ji=new fe(t=>t.complete());function u_(t){return t[t.length-1]}function Iw(t){return M(u_(t))?t.pop():void 0}function dd(t){return function hj(t){return t&&M(t.schedule)}(u_(t))?t.pop():void 0}function Zp(t,e=0){return Fe((n,r)=>{n.subscribe(nt(r,i=>Ls(r,t,()=>r.next(i),e),()=>Ls(r,t,()=>r.complete(),e),i=>Ls(r,t,()=>r.error(i),e)))})}function e0(t,e=0){return Fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bw(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Ls(n,e,()=>{const r=t[Symbol.asyncIterator]();Ls(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $n(t,e){return e?function Ej(t,e){if(null!=t){if(Qp(t))return function gj(t,e){return sr(t).pipe(e0(e),Zp(e))}(t,e);if(Yp(t))return function _j(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ad(t))return function mj(t,e){return sr(t).pipe(e0(e),Zp(e))}(t,e);if(Xp(t))return bw(t,e);if(ir(t))return function vj(t,e){return new fe(n=>{let r;return Ls(n,e,()=>{r=t[ld](),Ls(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}(t,e);if(ud(t))return function yj(t,e){return bw(Ri(t),e)}(t,e)}throw cd(t)}(t,e):sr(t)}class gi extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ve(...t){return $n(t,dd(t))}function ww(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,y)=>{l++,!d&&!u&&f();const S=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=d_(p,i))}),S.subscribe(y),!o&&l>0&&(o=new de({next:w=>S.next(w),error:w=>{d=!0,f(),a=d_(h,n,w),S.error(w)},complete:()=>{u=!0,f(),a=d_(h,r),S.complete()}}),sr(g).subscribe(o))})(s)}}function d_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return sr(e(...n)).subscribe(r)}function mi(t,e){return Fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(nt(r,c=>{i?.unsubscribe();let l=0;const u=s++;sr(t(c,u)).subscribe(i=nt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Aw(t,e=ve){return t=t??Cj,Fe((n,r)=>{let i,s=!0;n.subscribe(nt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Cj(t,e){return t===e}function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function t0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ij=Et({__forward_ref__:Et});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return wn(this())},t}function He(t){return h_(t)?t():t}function h_(t){return"function"==typeof t&&t.hasOwnProperty(Ij)&&t.__forward_ref__===Pt}function p_(t){return t&&!!t.\u0275providers}const Tw="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function n0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function g_(t,e){throw new re(-201,!1)}function _i(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function r0(t){return Dw(t,o0)||Dw(t,Sw)}function Dw(t,e){return t.hasOwnProperty(e)?t[e]:null}function s0(t){return t&&(t.hasOwnProperty(m_)||t.hasOwnProperty(Pj))?t[m_]:null}const o0=Et({\u0275prov:Et}),m_=Et({\u0275inj:Et}),Sw=Et({ngInjectableDef:Et}),Pj=Et({ngInjectorDef:Et});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let __;function Or(t){const e=__;return __=t,e}function Pw(t,e,n){const r=r0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void g_(wn(t))}const Rt=globalThis;class Ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fd={},C_="__NG_DI_FLAG__",a0="ngTempTokenPath",Nj=/\n/gm,kw="__source";let Fc;function To(t){const e=Fc;return Fc=t,e}function Vj(t,e=ot.Default){if(void 0===Fc)throw new re(-203,!1);return null===Fc?Pw(t,void 0,e):Fc.get(t,e&ot.Optional?null:void 0,e)}function Se(t,e=ot.Default){return(function Mw(){return __}()||Vj)(He(t),e)}function q(t,e=ot.Default){return Se(t,c0(e))}function c0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=ot.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Lj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Se(i,s))}else e.push(Se(r))}return e}function hd(t,e){return t[C_]=e,t.prototype[C_]=e,t}function Lj(t){return t[C_]}function Bs(t){return{toString:t}.toString()}var l0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(l0||{}),ki=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ki||{});const Zi={},gt=[],u0=Et({\u0275cmp:Et}),b_=Et({\u0275dir:Et}),w_=Et({\u0275pipe:Et}),Ow=Et({\u0275mod:Et}),Hs=Et({\u0275fac:Et}),pd=Et({__NG_ELEMENT_ID__:Et}),Fw=Et({__NG_ENV_ID__:Et});function Vw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function A_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Bw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Lw(t){return 3===t||4===t||6===t}function Bw(t){return 64===t.charCodeAt(0)}function gd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Hw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Hw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const zw="ng-template";function zj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Vw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Uw(t){return 4===t.type&&t.value!==zw}function Uj(t,e,n){return e===(4!==t.type||n?t.value:zw)}function jj(t,e,n){let r=4;const i=t.attrs||[],s=function qj(t){for(let e=0;e<t.length;e++)if(Lw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Uj(t,c,n)||""===c&&1===e.length){if(Ni(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!zj(t.attrs,l,n)){if(Ni(r))return!1;o=!0}continue}const d=$j(8&r?"class":c,i,Uw(t),n);if(-1===d){if(Ni(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Vw(h,l,0)||2&r&&l!==f){if(Ni(r))return!1;o=!0}}}}else{if(!o&&!Ni(r)&&!Ni(c))return!1;if(o&&Ni(c))continue;o=!1,r=c|1&r}}return Ni(r)||o}function Ni(t){return 0==(1&t)}function $j(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Wj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jw(t,e,n=!1){for(let r=0;r<e.length;r++)if(jj(t,e[r],n))return!0;return!1}function Kj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function $w(t,e){return t?":not("+e.trim()+")":e}function Yj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ni(o)&&(e+=$w(s,i),i=""),r=o,s=s||!Ni(r);n++}return""!==i&&(e+=$w(s,i)),e}function kn(t){return Bs(()=>{const e=qw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===l0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ki.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""};Ww(n);const r=t.dependencies;return n.directiveDefs=d0(r,!1),n.pipeDefs=d0(r,!0),n.id=function r$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Zj(t){return ct(t)||Gn(t)}function e$(t){return null!==t}function At(t){return Bs(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gw(t,e){if(null==t)return Zi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Bs(()=>{const e=qw(t);return Ww(e),e})}function Nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[u0]||null}function Gn(t){return t[b_]||null}function _r(t){return t[w_]||null}function Zr(t,e){const n=t[Ow]||null;if(!n&&!0===e)throw new Error(`Type ${wn(t)} does not have '\u0275mod' property.`);return n}function qw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gw(t.inputs,e),outputs:Gw(t.outputs)}}function Ww(t){t.features?.forEach(e=>e(t))}function d0(t,e){if(!t)return null;const n=e?_r:Zj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(e$)}const rn=0,be=1,We=2,Gt=3,Oi=4,md=5,or=6,Lc=7,fn=8,Do=9,Bc=10,je=11,_d=12,Kw=13,Hc=14,hn=15,vd=16,zc=17,es=18,yd=19,Yw=20,So=21,zs=22,Ed=23,xd=24,rt=25,T_=1,Qw=2,ts=7,Uc=9,qn=11;function Fr(t){return Array.isArray(t)&&"object"==typeof t[T_]}function vr(t){return Array.isArray(t)&&!0===t[T_]}function D_(t){return 0!=(4&t.flags)}function wa(t){return t.componentOffset>-1}function h0(t){return 1==(1&t.flags)}function Fi(t){return!!t.template}function S_(t){return 0!=(512&t[We])}function Aa(t,e){return t.hasOwnProperty(Hs)?t[Hs]:null}let Wn=null,p0=!1;function vi(t){const e=Wn;return Wn=t,e}const Zw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function tA(t){if(!Id(t)||t.dirty){if(!t.producerMustRecompute(t)&&!iA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function rA(t){t.dirty=!0,function nA(t){if(void 0===t.liveConsumerNode)return;const e=p0;p0=!0;try{for(const n of t.liveConsumerNode)n.dirty||rA(n)}finally{p0=e}}(t),t.consumerMarkedDirty?.(t)}function P_(t){return t&&(t.nextProducerIndex=0),vi(t)}function R_(t,e){if(vi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)g0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function iA(t){jc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(tA(n),r!==n.version))return!0}return!1}function sA(t){if(jc(t),Id(t))for(let e=0;e<t.producerNode.length;e++)g0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function g0(t,e){if(function aA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),jc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)g0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jc(i),i.producerIndexOfThis[r]=e}}function Id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let cA=null;function dA(t){const e=vi(null);try{return t()}finally{vi(e)}}const fA=()=>{},m$=(()=>({...Zw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:fA}))();class _${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return hA}function hA(t){return t.type.prototype.ngOnChanges&&(t.setInput=y$),v$}function v$(){const t=gA(this),e=t?.current;if(e){const n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function y$(t,e,n,r){const i=this.declaredInputs[n],s=gA(t)||function E$(t,e){return t[pA]=e}(t,{previous:Zi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new _$(c&&c.currentValue,e,a===Zi),t[r]=e}yr.ngInherit=!0;const pA="__ngSimpleChanges__";function gA(t){return t[pA]||null}const ns=function(t,e,n){};function kt(t){for(;Array.isArray(t);)t=t[rn];return t}function m0(t,e){return kt(e[t])}function Vr(t,e){return kt(e[t.index])}function vA(t,e){return t.data[e]}function $c(t,e){return t[e]}function ei(t,e){const n=e[t];return Fr(n)?n:n[rn]}function Po(t,e){return null==e?null:t[e]}function yA(t){t[zc]=0}function A$(t){1024&t[We]||(t[We]|=1024,xA(t,1))}function EA(t){1024&t[We]&&(t[We]&=-1025,xA(t,-1))}function xA(t,e){let n=t[Gt];if(null===n)return;n[md]+=e;let r=n;for(n=n[Gt];null!==n&&(1===e&&1===r[md]||-1===e&&0===r[md]);)n[md]+=e,r=n,n=n[Gt]}const Be={lFrame:RA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bA(){return Be.bindingsEnabled}function Gc(){return null!==Be.skipHydrationRootTNode}function ee(){return Be.lFrame.lView}function lt(){return Be.lFrame.tView}function Lr(t){return Be.lFrame.contextLView=t,t[fn]}function Br(t){return Be.lFrame.contextLView=null,t}function Kn(){let t=wA();for(;null!==t&&64===t.type;)t=t.parent;return t}function wA(){return Be.lFrame.currentTNode}function rs(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function V_(){return Be.lFrame.isParent}function L_(){Be.lFrame.isParent=!1}function Er(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qc(){return Be.lFrame.bindingIndex++}function L$(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,B_(e)}function B_(t){Be.lFrame.currentDirectiveIndex=t}function SA(){return Be.lFrame.currentQueryIndex}function z_(t){Be.lFrame.currentQueryIndex=t}function H$(t){const e=t[be];return 2===e.type?e.declTNode:1===e.type?t[or]:null}function MA(t,e,n){if(n&ot.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=H$(s),null===i||(s=s[Hc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=PA();return r.currentTNode=e,r.lView=t,!0}function U_(t){const e=PA(),n=t[be];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function PA(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?RA(t):e}function RA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function kA(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const NA=kA;function j_(){const t=kA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xr(){return Be.lFrame.selectedIndex}function Ta(t){Be.lFrame.selectedIndex=t}function en(){const t=Be.lFrame;return vA(t.tView,t.selectedIndex)}let FA=!0;function _0(){return FA}function Ro(t){FA=t}function v0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function y0(t,e,n){VA(t,e,3,n)}function E0(t,e,n,r){(3&t[We])===n&&VA(t,e,n,r)}function $_(t,e){let n=t[We];(3&n)===e&&(n&=8191,n+=1,t[We]=n)}function VA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[zc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[zc]+=65536),(a<s||-1==s)&&(K$(t,n,e,c),t[zc]=(4294901760&t[zc])+c+2),c++}function LA(t,e){ns(4,t,e);const n=vi(null);try{e.call(t)}finally{vi(n),ns(5,t,e)}}function K$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[We]>>13<t[zc]>>16&&(3&t[We])===e&&(t[We]+=8192,LA(a,s)):LA(a,s)}const Wc=-1;class wd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function q_(t){return t!==Wc}function Ad(t){return 32767&t}function Td(t,e){let n=function J$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Hc],n--;return r}let W_=!0;function x0(t){const e=W_;return W_=t,e}const BA=255,HA=5;let Z$=0;const is={};function C0(t,e){const n=zA(t,e);if(-1!==n)return n;const r=e[be];r.firstCreatePass&&(t.injectorIndex=e.length,K_(r.data,t),K_(e,null),K_(r.blueprint,null));const i=I0(t,e),s=t.injectorIndex;if(q_(i)){const o=Ad(i),a=Td(i,e),c=a[be].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function K_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function I0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=KA(i),null===r)return Wc;if(n++,i=i[Hc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Wc}function Y_(t,e,n){!function eG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(pd)&&(r=n[pd]),null==r&&(r=n[pd]=Z$++);const i=r&BA;e.data[t+(i>>HA)]|=1<<i}(t,e,n)}function UA(t,e,n){if(n&ot.Optional||void 0!==t)return t;g_()}function jA(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[Do],s=Or(void 0);try{return i?i.get(e,r,n&ot.Optional):Pw(e,r,n&ot.Optional)}finally{Or(s)}}return UA(r,0,n)}function $A(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[We]&&!(r&ot.Self)){const o=function oG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=GA(s,o,n,r|ot.Self,is);if(a!==is)return a;let c=s.parent;if(!c){const l=o[Yw];if(l){const u=l.get(n,is,r);if(u!==is)return u}c=KA(o),o=o[Hc]}s=c}return i}(t,e,n,r,is);if(o!==is)return o}const s=GA(t,e,n,r,is);if(s!==is)return s}return jA(e,n,r,i)}function GA(t,e,n,r,i){const s=function rG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(pd)?t[pd]:void 0;return"number"==typeof e?e>=0?e&BA:sG:e}(n);if("function"==typeof s){if(!MA(e,t,r))return r&ot.Host?UA(i,0,r):jA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ot.Optional)return o;g_()}finally{NA()}}else if("number"==typeof s){let o=null,a=zA(t,e),c=Wc,l=r&ot.Host?e[hn][or]:null;for((-1===a||r&ot.SkipSelf)&&(c=-1===a?I0(t,e):e[a+8],c!==Wc&&WA(r,!1)?(o=e[be],a=Ad(c),e=Td(c,e)):a=-1);-1!==a;){const u=e[be];if(qA(s,a,u.data)){const d=nG(a,e,n,o,r,l);if(d!==is)return d}c=e[a+8],c!==Wc&&WA(r,e[be].data[a+8]===l)&&qA(s,a,e)?(o=u,a=Ad(c),e=Td(c,e)):a=-1}}return i}function nG(t,e,n,r,i,s){const o=e[be],a=o.data[t+8],u=b0(a,o,n,null==r?wa(a)&&W_:r!=o&&0!=(3&a.type),i&ot.Host&&s===a);return null!==u?Da(e,o,u,a):is}function b0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Fi(h)&&h.type===n)return c}return null}function Da(t,e,n,r){let i=t[n];const s=e.data;if(function Y$(t){return t instanceof wd}(i)){const o=i;o.resolving&&function bj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(s[n]));const a=x0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Or(o.injectImpl):null;MA(t,r,ot.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function W$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=hA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Or(l),x0(a),o.resolving=!1,NA()}}return i}function qA(t,e,n){return!!(n[e+(t>>HA)]&1<<t)}function WA(t,e){return!(t&ot.Self||t&ot.Host&&e)}class Cr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $A(this._tNode,this._lView,e,c0(r),n)}}function sG(){return new Cr(Kn(),ee())}function Yn(t){return Bs(()=>{const e=t.prototype.constructor,n=e[Hs]||Q_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Hs]||Q_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Q_(t){return h_(t)?()=>{const e=Q_(He(t));return e&&e()}:Aa(t)}function KA(t){const e=t[be],n=e.type;return 2===n?e.declTNode:1===n?t[or]:null}const Yc="__parameters__";function Xc(t,e,n){return Bs(()=>{const r=function X_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Yc)?c[Yc]:Object.defineProperty(c,Yc,{value:[]})[Yc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Zc(t,e){t.forEach(n=>Array.isArray(n)?Zc(n,e):e(n))}function QA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function A0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Md(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ti(t,e,n){let r=el(t,e);return r>=0?t[1|r]=n:(r=~r,function hG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function J_(t,e){const n=el(t,e);if(n>=0)return t[1|n]}function el(t,e){return function XA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const qt=hd(Xc("Optional"),8),ev=hd(Xc("SkipSelf"),4);function R0(t){return 128==(128&t.flags)}var ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ko||{});const NG=/^>|^->|<!--|-->|--!>|<!-$/g,OG=/(<|>)/g,FG="\u200b$1\u200b";const iv=new Map;let VG=0;const ov="__ngContext__";function ar(t,e){Fr(e)?(t[ov]=e[yd],function BG(t){iv.set(t[yd],t)}(e)):t[ov]=e}let av;function cv(t,e){return av(t,e)}function kd(t){const e=t[Gt];return vr(e)?e[Gt]:e}function _5(t){return y5(t[_d])}function v5(t){return y5(t[Oi])}function y5(t){for(;null!==t&&!vr(t);)t=t[Oi];return t}function rl(t,e,n,r,i){if(null!=r){let s,o=!1;vr(r)?s=r:Fr(r)&&(o=!0,r=r[rn]);const a=kt(r);0===t&&null!==n?null==i?I5(e,n,a):Sa(e,n,a,i||null,!0):1===t&&null!==n?Sa(e,n,a,i||null,!0):2===t?function B0(t,e,n){const r=V0(t,e);r&&function iq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function aq(t,e,n,r,i){const s=n[ts];s!==kt(n)&&rl(e,t,r,s,i);for(let a=qn;a<n.length;a++){const c=n[a];Od(c[be],c,t,e,r,s)}}(e,t,s,n,i)}}function lv(t,e){return t.createComment(function l5(t){return t.replace(NG,e=>e.replace(OG,FG))}(e))}function O0(t,e,n){return t.createElement(e,n)}function x5(t,e){const n=t[Uc],r=n.indexOf(e);EA(e),n.splice(r,1)}function F0(t,e){if(t.length<=qn)return;const n=qn+e,r=t[n];if(r){const i=r[vd];null!==i&&i!==t&&x5(i,r),e>0&&(t[n-1][Oi]=r[Oi]);const s=A0(t,qn+e);!function QG(t,e){Od(t,e,e[je],2,null,null),e[rn]=null,e[or]=null}(r[be],r);const o=s[es];null!==o&&o.detachView(s[be]),r[Gt]=null,r[Oi]=null,r[We]&=-129}return r}function uv(t,e){if(!(256&e[We])){const n=e[je];e[Ed]&&sA(e[Ed]),e[xd]&&sA(e[xd]),n.destroyNode&&Od(t,e,n,3,null,null),function ZG(t){let e=t[_d];if(!e)return dv(t[be],t);for(;e;){let n=null;if(Fr(e))n=e[_d];else{const r=e[qn];r&&(n=r)}if(!n){for(;e&&!e[Oi]&&e!==t;)Fr(e)&&dv(e[be],e),e=e[Gt];null===e&&(e=t),Fr(e)&&dv(e[be],e),n=e&&e[Oi]}e=n}}(e)}}function dv(t,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function rq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ns(4,a,c);try{c.call(a)}finally{ns(5,a,c)}}else{ns(4,i,s);try{s.call(i)}finally{ns(5,i,s)}}}}}(t,e),function nq(t,e){const n=t.cleanup,r=e[Lc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Lc]=null);const i=e[So];if(null!==i){e[So]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[be].type&&e[je].destroy();const n=e[vd];if(null!==n&&vr(e[Gt])){n!==e[Gt]&&x5(n,e);const r=e[es];null!==r&&r.detachView(t)}!function HG(t){iv.delete(t[yd])}(e)}}function fv(t,e,n){return function C5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[rn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ki.None||s===ki.Emulated)return null}return Vr(r,n)}}(t,e.parent,n)}function Sa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function I5(t,e,n){t.appendChild(e,n)}function b5(t,e,n,r,i){null!==r?Sa(t,e,n,r,i):I5(t,e,n)}function V0(t,e){return t.parentNode(e)}function w5(t,e,n){return T5(t,e,n)}let hv,H0,_v,z0,T5=function A5(t,e,n){return 40&t.type?Vr(t,n):null};function L0(t,e,n,r){const i=fv(t,r,e),s=e[je],a=w5(r.parent||e[or],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)b5(s,i,n[c],a,!1);else b5(s,i,n,a,!1);void 0!==hv&&hv(s,r,e,n,i)}function Nd(t,e){if(null!==e){const n=e.type;if(3&n)return Vr(e,t);if(4&n)return pv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Nd(t,r);{const i=t[e.index];return vr(i)?pv(-1,i):kt(i)}}if(32&n)return cv(e,t)()||kt(t[e.index]);{const r=S5(t,e);return null!==r?Array.isArray(r)?r[0]:Nd(kd(t[hn]),r):Nd(t,e.next)}}return null}function S5(t,e){return null!==e?t[hn][or].projection[e.projection]:null}function pv(t,e){const n=qn+t+1;if(n<e.length){const r=e[n],i=r[be].firstChild;if(null!==i)return Nd(r,i)}return e[ts]}function gv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&ar(kt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)gv(t,e,n.child,r,i,s,!1),rl(e,t,i,a,s);else if(32&c){const l=cv(n,r);let u;for(;u=l();)rl(e,t,i,u,s);rl(e,t,i,a,s)}else 16&c?P5(t,e,r,n,i,s):rl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Od(t,e,n,r,i,s){gv(n,r,t.firstChild,e,i,s,!1)}function P5(t,e,n,r,i,s){const o=n[hn],c=o[or].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)rl(e,t,i,c[l],s);else{let l=c;const u=o[Gt];R0(r)&&(l.flags|=128),gv(t,e,l,u,i,s,!0)}}function R5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function k5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&A_(t,e,r),null!==i&&R5(t,e,i),null!==s&&function lq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function il(t){return function mv(){if(void 0===H0&&(H0=null,Rt.trustedTypes))try{H0=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return H0}()?.createHTML(t)||t}function sl(){if(void 0!==_v)return _v;if(typeof document<"u")return document;throw new re(210,!1)}function N5(t){return function vv(){if(void 0===z0&&(z0=null,Rt.trustedTypes))try{z0=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return z0}()?.createHTML(t)||t}class Ma{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tw})`}}class pq extends Ma{getTypeName(){return"HTML"}}class gq extends Ma{getTypeName(){return"Style"}}class mq extends Ma{getTypeName(){return"Script"}}class _q extends Ma{getTypeName(){return"URL"}}class vq extends Ma{getTypeName(){return"ResourceURL"}}function ni(t){return t instanceof Ma?t.changingThisBreaksApplicationSecurity:t}function ss(t,e){const n=function yq(t){return t instanceof Ma&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Tw})`)}return n===e}class wq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(il(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Aq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=il(e),n}}const Dq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U0(t){return(t=String(t)).match(Dq)?t:"unsafe:"+t}function $s(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const L5=$s("area,br,col,hr,img,wbr"),B5=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),H5=$s("rp,rt"),yv=Fd(L5,Fd(B5,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fd(H5,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fd(H5,B5)),Ev=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),z5=Fd(Ev,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sq=$s("script,style,template");class Mq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!yv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Sq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!z5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Ev[a]&&(c=U0(c)),this.buf.push(" ",o,'="',U5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();yv.hasOwnProperty(n)&&!L5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(U5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Pq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rq=/([^\#-~ |!])/g;function U5(t){return t.replace(/&/g,"&amp;").replace(Pq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Rq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let j0;function j5(t,e){let n=null;try{j0=j0||function V5(t){const e=new Aq(t);return function Tq(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch{return!1}}()?new wq(e):e}(t);let r=e?String(e):"";n=j0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=j0.getInertBodyElement(r)}while(r!==s);return il((new Mq).sanitizeChildren(xv(n)||n))}finally{if(n){const r=xv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function xv(t){return"content"in t&&function kq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ei=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ei||{});function $5(t){const e=function Vd(){const t=ee();return t&&t[Bc].sanitizer}();return e?N5(e.sanitize(Ei.HTML,t)||""):ss(t,"HTML")?N5(ni(t)):j5(sl(),Ue(t))}const Ld=new Ee("ENVIRONMENT_INITIALIZER"),K5=new Ee("INJECTOR",-1),Y5=new Ee("INJECTOR_DEF_TYPES");class Cv{get(e,n=fd){if(n===fd){const r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Bq(...t){return{\u0275providers:Q5(0,t),\u0275fromNgModule:!0}}function Q5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Zc(e,o=>{const a=o;$0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&X5(i,s),n}function X5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];bv(i,s=>{e(s,r)})}}function $0(t,e,n,r){if(!(t=He(t)))return!1;let i=null,s=s0(t);const o=!s&&ct(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=s0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)$0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Zc(s.imports,u=>{$0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&X5(l,e)}if(!a){const l=Aa(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:Y5,useValue:i,multi:!0},i),e({provide:Ld,useValue:()=>Se(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;bv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function bv(t,e){for(let n of t)p_(n)&&(n=n.\u0275providers),Array.isArray(n)?bv(n,e):e(n)}const Hq=Et({provide:String,useValue:Et});function wv(t){return null!==t&&"object"==typeof t&&Hq in t}function Pa(t){return"function"==typeof t}const Av=new Ee("Set Injector scope."),G0={},Uq={};let Tv;function q0(){return void 0===Tv&&(Tv=new Cv),Tv}class xi{}class ol extends xi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sv(e,o=>this.processProvider(o)),this.records.set(K5,al(void 0,this)),i.has("environment")&&this.records.set(xi,al(void 0,this));const s=this.records.get(Av);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Y5.multi,gt,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=To(this),r=Or(void 0);try{return e()}finally{To(n),Or(r)}}get(e,n=fd,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fw))return e[Fw](this);r=c0(r);const s=To(this),o=Or(void 0);try{if(!(r&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Wq(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ee}(e)&&r0(e);c=l&&this.injectableDefInScope(l)?al(Dv(e),G0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ot.Self?q0():this.parent).get(e,n=r&ot.Optional&&n===fd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[a0]=a[a0]||[]).unshift(wn(e)),s)throw a;return function Bj(t,e,n,r){const i=t[a0];throw e[kw]&&i.unshift(e[kw]),t.message=function Hj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[a0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Or(o),To(s)}}resolveInjectorInitializers(){const e=To(this),n=Or(void 0);try{const i=this.get(Ld.multi,gt,ot.Self);for(const s of i)s()}finally{To(e),Or(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=Pa(e=He(e))?e:He(e&&e.provide);const r=function $q(t){return wv(t)?al(void 0,t.useValue):al(eT(t),G0)}(e);if(Pa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=al(void 0,G0,!0),i.factory=()=>I_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===G0&&(n.value=Uq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Dv(t){const e=r0(t),n=null!==e?e.factory:Aa(t);if(null!==n)return n;if(t instanceof Ee)throw new re(204,!1);if(t instanceof Function)return function jq(t){const e=t.length;if(e>0)throw Md(e,"?"),new re(204,!1);const n=function Mj(t){return t&&(t[o0]||t[Sw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function eT(t,e,n){let r;if(Pa(t)){const i=He(t);return Aa(i)||Dv(i)}if(wv(t))r=()=>He(t.useValue);else if(function Z5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...I_(t.deps||[]));else if(function J5(t){return!(!t||!t.useExisting)}(t))r=()=>Se(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function Gq(t){return!!t.deps}(t))return Aa(i)||Dv(i);r=()=>new i(...I_(t.deps))}return r}function al(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sv(t,e){for(const n of t)Array.isArray(n)?Sv(n,e):n&&p_(n)?Sv(n.\u0275providers,e):e(n)}const W0=new Ee("AppId",{providedIn:"root",factory:()=>Kq}),Kq="ng",tT=new Ee("Platform Initializer"),os=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nT=new Ee("CSP nonce",{providedIn:"root",factory:()=>sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rT=(t,e,n)=>null;function Vv(t,e,n=!1){return rT(t,e,n)}class iW{}class oT{}class oW{resolveComponentFactory(e){throw function sW(t){const e=Error(`No component factory found for ${wn(t)}.`);return e.ngComponent=t,e}(e)}}let zd=(()=>{class e{}return e.NULL=new oW,e})();function aW(){return ul(Kn(),ee())}function ul(t,e){return new Ir(Vr(t,e))}let Ir=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=aW,e})();function cW(t){return t instanceof Ir?t.nativeElement:t}class cT{}let as=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function lW(){const t=ee(),n=ei(Kn().index,t);return(Fr(n)?n:t)[je]}(),e})(),uW=(()=>{var t;class e{}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>null}),e})();class dl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lT=new dl("16.2.12"),Hv={};function hT(t,e=null,n=null,r){const i=pT(t,e,n,r);return i.resolveInjectorInitializers(),i}function pT(t,e=null,n=null,r,i=new Set){const s=[n||gt,Bq(t)];return r=r||("object"==typeof t?void 0:wn(t)),new ol(s,e||q0(),r||null,i)}let Tn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return hT({name:""},i,r,"");{const s=r.name??"";return hT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=fd,t.NULL=new Cv,t.\u0275prov=Ie({token:t,providedIn:"any",factory:()=>Se(K5)}),t.__NG_ELEMENT_ID__=-1,e})();function Uv(t){return t.ngOriginalError}class Gs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Uv(e);for(;n&&Uv(n);)n=Uv(n);return n||null}}function $v(t){return e=>{setTimeout(t,void 0,e)}}const Tt=class _W extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=$v(s),i&&(i=$v(i)),o&&(o=$v(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function mT(...t){}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vW(){const t="function"==typeof Rt.requestAnimationFrame;let e=Rt[t?"requestAnimationFrame":"setTimeout"],n=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function xW(t){const e=()=>{!function EW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qv(t),t.isCheckStableRunning=!0,Gv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function IW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return _T(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),vT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return _T(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),vT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,qv(t),Gv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,yW,mT,mT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const yW={};function Gv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _T(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vT(t){t._nesting--,Gv(t)}class CW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const yT=new Ee("",{providedIn:"root",factory:ET});function ET(){const t=q(pt);let e=!0;return function xj(...t){const e=dd(t),n=function pj(t,e){return"number"==typeof u_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sr(r[0]):Jp(n)($n(r,e)):Ji}(new fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(ww()))}function qs(t){return t instanceof Function?t():t}let Wv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function Ud(t){for(;t;){t[We]|=64;const e=kd(t);if(S_(t)&&!e)return t;t=e}return null}const wT=new Ee("",{providedIn:"root",factory:()=>!1});let eg=null;function ST(t,e){return t[e]??RT()}function MT(t,e){const n=RT();n.producerNode?.length&&(t[e]=eg,n.lView=t,eg=PT())}const kW={...Zw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ud(t.lView)},lView:null};function PT(){return Object.create(kW)}function RT(){return eg??=PT(),eg}const Ge={};function Ae(t){kT(lt(),ee(),xr()+t,!1)}function kT(t,e,n,r){if(!r)if(3==(3&e[We])){const s=t.preOrderCheckHooks;null!==s&&y0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&E0(e,s,0,n)}Ta(n)}function te(t,e=ot.Default){const n=ee();return null===n?Se(t,e):$A(Kn(),n,He(t),e)}function tg(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[rn]=i,d[We]=140|r,(null!==l||t&&2048&t[We])&&(d[We]|=2048),yA(d),d[Gt]=d[Hc]=t,d[fn]=n,d[Bc]=o||t&&t[Bc],d[je]=a||t&&t[je],d[Do]=c||t&&t[Do]||null,d[or]=s,d[yd]=function LG(){return VG++}(),d[zs]=u,d[Yw]=l,d[hn]=2==e.type?t[hn]:d,d}function pl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Kv(t,e,n,r,i){const s=wA(),o=V_(),c=t.data[e]=function UW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Gc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function V$(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function bd(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rs(s,!0),s}function jd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function NT(t,e,n,r,i){const s=ST(e,Ed),o=xr(),a=2&r;try{Ta(-1),a&&e.length>rt&&kT(t,e,rt,!1),ns(a?2:0,i);const l=a?s:null,u=P_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{R_(l,u)}}finally{a&&null===e[Ed]&&MT(e,Ed),Ta(o),ns(a?3:1,i)}}function Yv(t,e,n){if(D_(e)){const r=vi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{vi(r)}}}function Qv(t,e,n){bA()&&(function YW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;wa(n)&&function nK(t,e,n){const r=Vr(e,t),i=OT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ng(t,tg(t,i,null,o,r,e,null,t[Bc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||C0(n,e),ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Da(e,t,a,n);ar(l,e),null!==o&&rK(0,a-i,l,c,0,o),Fi(c)&&(ei(n.index,e)[fn]=Da(e,t,a,n))}}(t,e,n,Vr(n,e)),64==(64&n.flags)&&HT(t,e,n))}function Xv(t,e,n=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function OT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jv(t,e,n,r,i,s,o,a,c,l,u){const d=rt+r,f=d+i,h=function FW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ge);return n}(d,f),p="function"==typeof l?l():l;return h[be]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let FT=t=>null;function VT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LT(n,e,i,s):r.hasOwnProperty(i)&&LT(n,e,r[i],s)}return n}function LT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ri(t,e,n,r,i,s,o,a){const c=Vr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(ry(t,n,u,r,i),wa(e)&&function GW(t,e){const n=ei(e,t);16&n[We]||(n[We]|=64)}(n,e.index)):3&e.type&&(r=function $W(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Zv(t,e,n,r){if(bA()){const i=null===r?null:{"":-1},s=function XW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(jw(e,o.selectors,!1))if(r||(r=[]),Fi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ey(t,e,a.length)}else r.unshift(o),ey(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&BT(t,e,n,o,i,a),i&&function JW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=gd(n.mergedAttrs,n.attrs)}function BT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Y_(C0(n,e),t,r[l].type);!function eK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=jd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=gd(n.mergedAttrs,u.hostAttrs),tK(t,n,e,c,u),ZW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function jW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=VT(d.inputs,u,c,f?f.inputs:null),l=VT(d.outputs,u,l,p);const g=null===c||null===o||Uw(e)?null:iK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function HT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function B$(){return Be.lFrame.currentDirectiveIndex}();try{Ta(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];B_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&QW(c,l)}}finally{Ta(-1),B_(o)}}function QW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ey(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fi(e)&&(n[""]=t)}}function tK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Aa(i.type)),o=new wd(s,Fi(i),te);t.blueprint[r]=o,n[r]=o,function WW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function KW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,jd(t,n,i.hostVars,Ge),i)}function cs(t,e,n,r,i,s){const o=Vr(t,e);!function ty(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ue(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],o,s,t.value,n,r,i)}function rK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)zT(r,n,o[a++],o[a++],o[a++])}function zT(t,e,n,r,i){const s=vi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{vi(s)}}function iK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function UT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function jT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];z_(n[r]),o.contentQueries(2,e[s],s)}}}function ng(t,e){return t[_d]?t[Kw][Oi]=e:t[_d]=e,t[Kw]=e,e}function ny(t,e,n){z_(0);const r=vi(null);try{e(t,n)}finally{vi(r)}}function $T(t){return t[Lc]||(t[Lc]=[])}function GT(t){return t.cleanup||(t.cleanup=[])}function WT(t,e){const n=t[Do],r=n?n.get(Gs,null):null;r&&r.handleError(e)}function ry(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];zT(t.data[o],e[o],r,a,i)}}function sK(t,e){const n=ei(e,t),r=n[be];!function oK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[rn];null!==i&&null===n[zs]&&(n[zs]=Vv(i,n[Do])),iy(r,n,n[fn])}function iy(t,e,n){U_(e);try{const r=t.viewQuery;null!==r&&ny(1,r,n);const i=t.template;null!==i&&NT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jT(t,e),t.staticViewQueries&&ny(2,t.viewQuery,n);const s=t.components;null!==s&&function aK(t,e){for(let n=0;n<e.length;n++)sK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[We]&=-5,j_()}}let KT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function g$(t,e,n){const r=Object.create(m$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>rA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!iA(r))return;r.hasRun=!0;const o=P_(r);try{r.cleanupFn(),r.cleanupFn=fA,r.fn(i)}finally{R_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function rg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=f_(i,a):2==s&&(r=f_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function $d(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(kt(s)),vr(s)&&YT(s,r);const o=n.type;if(8&o)$d(t,e,n.child,r);else if(32&o){const a=cv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=S5(e,n);if(Array.isArray(a))r.push(...a);else{const c=kd(e[hn]);$d(c[be],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YT(t,e){for(let n=qn;n<t.length;n++){const r=t[n],i=r[be].firstChild;null!==i&&$d(r[be],r,i,e)}t[ts]!==t[rn]&&e.push(t[ts])}function ig(t,e,n,r=!0){const i=e[Bc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{QT(t,e,t.template,n)}catch(c){throw r&&WT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function QT(t,e,n,r){const i=e[We];if(256!=(256&i)){e[Bc].effectManager?.flush(),U_(e);try{yA(e),function TA(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&NT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&y0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&E0(e,l,0,null),$_(e,0)}if(function uK(t){for(let e=_5(t);null!==e;e=v5(e)){if(!e[Qw])continue;const n=e[Uc];for(let r=0;r<n.length;r++){A$(n[r])}}}(e),XT(e,2),null!==t.contentQueries&&jT(t,e),o){const l=t.contentCheckHooks;null!==l&&y0(e,l)}else{const l=t.contentHooks;null!==l&&E0(e,l,1),$_(e,1)}!function OW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=ST(e,xd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ta(~s);else{const o=s,a=n[++i],c=n[++i];L$(a,o),r.dirty=!1;const l=P_(r);try{c(2,e[o])}finally{R_(r,l)}}}}finally{null===e[xd]&&MT(e,xd),Ta(-1)}}(t,e);const a=t.components;null!==a&&ZT(e,a,0);const c=t.viewQuery;if(null!==c&&ny(2,c,r),o){const l=t.viewCheckHooks;null!==l&&y0(e,l)}else{const l=t.viewHooks;null!==l&&E0(e,l,2),$_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[We]&=-73,EA(e)}finally{j_()}}}function XT(t,e){for(let n=_5(t);null!==n;n=v5(n))for(let r=qn;r<n.length;r++)JT(n[r],e)}function dK(t,e,n){JT(ei(e,t),n)}function JT(t,e){if(!function b$(t){return 128==(128&t[We])}(t))return;const n=t[be],r=t[We];if(80&r&&0===e||1024&r||2===e)QT(n,t,n.template,t[fn]);else if(t[md]>0){XT(t,1);const i=n.components;null!==i&&ZT(t,i,1)}}function ZT(t,e,n){for(let r=0;r<e.length;r++)dK(t,e[r],n)}class Gd{get rootNodes(){const e=this._lView,n=e[be];return $d(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gt];if(vr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(F0(e,r),A0(n,r))}this._attachedToViewContainer=!1}uv(this._lView[be],this._lView)}onDestroy(e){!function CA(t,e){if(256==(256&t[We]))throw new re(911,!1);null===t[So]&&(t[So]=[]),t[So].push(e)}(this._lView,e)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){ig(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JG(t,e){Od(t,e,e[je],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class fK extends Gd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ig(e[be],e,e[fn],!1)}checkNoChanges(){}get context(){return null}}class eD extends zd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ct(e);return new qd(n,this.ngModule)}}function tD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class pK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=c0(r);const i=this.injector.get(e,Hv,r);return i!==Hv||n===Hv?i:this.parentInjector.get(e,n,r)}}class qd extends oT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=tD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Qj(t){return t.map(Yj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pK(e,s):e,a=o.get(cT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(uW,null),effectManager:o.get(KT,null),afterRenderEventManager:o.get(Wv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function VW(t,e,n,r){const s=r.get(wT,!1)||n===ki.ShadowDom,o=t.selectRootElement(e,s);return function LW(t){FT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):O0(f,h,function hK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=Vv(p,o,!0));const j=Jv(0,null,null,1,0,null,null,null,null,null,null),Y=tg(null,j,null,S,null,null,d,f,o,null,w);let he,Re;U_(Y);try{const Ke=this.componentDef;let Jt,Rn=null;Ke.findHostDirectiveDefs?(Jt=[],Rn=new Map,Ke.findHostDirectiveDefs(Ke,Jt,Rn),Jt.push(Ke)):Jt=[Ke];const Ea=function mK(t,e){const n=t[be],r=rt;return t[r]=e,pl(n,r,2,"#host",null)}(Y,p),o3e=function _K(t,e,n,r,i,s,o){const a=i[be];!function vK(t,e,n,r){for(const i of t)e.mergedAttrs=gd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rg(e,e.mergedAttrs,!0),null!==n&&k5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Vv(e,i[Do]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=tg(i,OT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ey(a,t,r.length-1),ng(i,d),i[t.index]=d}(Ea,p,Ke,Jt,Y,d,f);Re=vA(j,rt),p&&function EK(t,e,n,r){if(r)A_(t,n,["ng-version",lT.full]);else{const{attrs:i,classes:s}=function Xj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ni(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&A_(t,n,i),s&&s.length>0&&R5(t,n,s.join(" "))}}(f,Ke,p,r),void 0!==n&&function xK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Re,this.ngContentSelectors,n),he=function yK(t,e,n,r,i,s){const o=Kn(),a=i[be],c=Vr(o,i);BT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ar(Da(i,a,o.directiveStart+u,o),i);HT(a,i,o),c&&ar(c,i);const l=Da(i,a,o.directiveStart+o.componentOffset,o);if(t[fn]=i[fn]=l,null!==s)for(const u of s)u(l,e);return Yv(a,o,t),l}(o3e,Ke,Jt,Rn,Y,[CK]),iy(j,Y,null)}finally{j_()}return new gK(this.componentType,he,ul(Re,Y),Y,Re)}}class gK extends iW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ry(s[be],s,i,e,n),this.previousInputValues.set(e,n),Ud(ei(this._tNode.index,s))}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function CK(){const t=Kn();v0(ee()[be],t)}function Ct(t){let e=function nD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Fi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=sg(t.inputs),o.inputTransforms=sg(t.inputTransforms),o.declaredInputs=sg(t.declaredInputs),o.outputs=sg(t.outputs);const a=i.hostBindings;a&&AK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&bK(t,c),l&&wK(t,l),t0(t.inputs,i.inputs),t0(t.declaredInputs,i.declaredInputs),t0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),t0(o.inputTransforms,i.inputTransforms)),Fi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}!function IK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gd(i.hostAttrs,n=gd(n,i.hostAttrs))}}(r)}function sg(t){return t===Zi?{}:t===gt?[]:t}function bK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function wK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function AK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function og(t){return!!sy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,e,n){return t[e]=n}function Wd(t,e){return t[e]}function cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ra(t,e,n,r){const i=cr(t,e,n);return cr(t,e+1,r)||i}function Vi(t,e,n,r){const i=ee();return cr(i,qc(),e)&&(lt(),cs(en(),i,t,e,n,r)),Vi}function ml(t,e,n,r){return cr(t,qc(),n)?e+Ue(n)+r:Ge}function lr(t,e,n,r,i,s,o,a){const c=ee(),l=lt(),u=t+rt,d=l.firstCreatePass?function XK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=pl(e,t,4,o||null,Po(l,a));Zv(e,n,u,Po(l,c)),v0(e,u);const d=u.tView=Jv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];rs(d,!1);const f=yD(l,c,d,t);_0()&&L0(l,c,f,d),ar(f,c),ng(c,c[u]=UT(f,c,f,d)),h0(d)&&Qv(l,c,d),null!=o&&Xv(c,d,a)}let yD=function ED(t,e,n,r){return Ro(!0),e[je].createComment("")};function dy(t){return $c(function F$(){return Be.lFrame.contextLView}(),rt+t)}function Ze(t,e,n){const r=ee();return cr(r,qc(),e)&&ri(lt(),en(),r,t,e,r[je],n,!1),Ze}function fy(t,e,n,r,i){const o=i?"class":"style";ry(t,n,e.inputs[o],o,r)}function U(t,e,n,r){const i=ee(),s=lt(),o=rt+t,a=i[je],c=s.firstCreatePass?function tY(t,e,n,r,i,s){const o=e.consts,c=pl(e,t,2,r,Po(o,i));return Zv(e,n,c,Po(o,s)),null!==c.attrs&&rg(c,c.attrs,!1),null!==c.mergedAttrs&&rg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=xD(s,i,c,a,e,t);i[o]=l;const u=h0(c);return rs(c,!0),k5(a,l,c),32!=(32&c.flags)&&_0()&&L0(s,i,l,c),0===function D$(){return Be.lFrame.elementDepthCount}()&&ar(l,i),function S$(){Be.lFrame.elementDepthCount++}(),u&&(Qv(s,i,c),Yv(s,c,i)),null!==r&&Xv(i,c),U}function K(){let t=Kn();V_()?L_():(t=t.parent,rs(t,!1));const e=t;(function P$(t){return Be.skipHydrationRootTNode===t})(e)&&function O$(){Be.skipHydrationRootTNode=null}(),function M$(){Be.lFrame.elementDepthCount--}();const n=lt();return n.firstCreatePass&&(v0(n,t),D_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Q$(t){return 0!=(8&t.flags)}(e)&&fy(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function X$(t){return 0!=(16&t.flags)}(e)&&fy(n,e,ee(),e.stylesWithoutHost,!1),K}function ut(t,e,n,r){return U(t,e,n,r),K(),ut}let xD=(t,e,n,r,i,s)=>(Ro(!0),O0(r,i,function OA(){return Be.lFrame.currentNamespace}()));function ka(t,e,n){const r=ee(),i=lt(),s=t+rt,o=i.firstCreatePass?function iY(t,e,n,r,i){const s=e.consts,o=Po(s,r),a=pl(e,t,8,"ng-container",o);return null!==o&&rg(a,o,!0),Zv(e,n,a,Po(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];rs(o,!0);const a=ID(i,r,o,t);return r[s]=a,_0()&&L0(i,r,a,o),ar(a,r),h0(o)&&(Qv(i,r,o),Yv(i,o,r)),null!=n&&Xv(r,o),ka}function Na(){let t=Kn();const e=lt();return V_()?L_():(t=t.parent,rs(t,!1)),e.firstCreatePass&&(v0(e,t),D_(t)&&e.queries.elementEnd(t)),Na}let ID=(t,e,n,r)=>(Ro(!0),lv(e[je],""));function bl(){return ee()}function Xd(t){return!!t&&"function"==typeof t.then}function bD(t){return!!t&&"function"==typeof t.subscribe}function Nt(t,e,n,r){const i=ee(),s=lt(),o=Kn();return function AD(t,e,n,r,i,s,o){const a=h0(r),l=t.firstCreatePass&&GT(t),u=e[fn],d=$T(e);let f=!0;if(3&r.type||o){const g=Vr(r,e),y=o?o(g):g,S=d.length,w=o?Y=>o(kt(Y[r.index])):r.index;let j=null;if(!o&&a&&(j=function aY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Lc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,f=!1;else{s=DD(r,e,u,s,!1);const Y=n.listen(y,i,s);d.push(s,Y),l&&l.push(i,w,S,S+1)}}else s=DD(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const he=e[p[y]][p[y+1]].subscribe(s),Re=d.length;d.push(s,he),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[je],o,t,e,r),Nt}function TD(t,e,n,r){try{return ns(6,e,n),!1!==n(r)}catch(i){return WT(t,i),!1}finally{ns(7,e,n)}}function DD(t,e,n,r,i){return function s(o){if(o===Function)return r;Ud(t.componentOffset>-1?ei(t.index,e):e);let c=TD(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=TD(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Ht(t=1){return function z$(t){return(Be.lFrame.contextLView=function U$(t,e){for(;t>0;)e=e[Hc],t--;return e}(t,Be.lFrame.contextLView))[fn]}(t)}function cY(t,e){let n=null;const r=function Gj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?jw(t,s,!0):Kj(r,s))return i}else n=i}return n}function hy(t,e,n){return py(t,"",e,"",n),hy}function py(t,e,n,r,i){const s=ee(),o=ml(s,e,n,r);return o!==Ge&&ri(lt(),en(),s,t,o,s[je],i,!1),py}function dg(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function gy(t){return 2|t}function Oa(t){return(131068&t)>>2}function my(t,e){return-131069&t|e<<2}function _y(t){return 1|t}function BD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?No(s):Oa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];pY(t[a],e)&&(c=!0,t[a+1]=r?_y(u):gy(u)),a=r?No(u):Oa(u)}c&&(t[n+1]=r?gy(s):_y(s))}function pY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&el(t,e)>=0}function Jd(t,e){return function Li(t,e,n,r){const i=ee(),s=lt(),o=function js(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function KD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[xr()],o=function WD(t,e){return e>=t.expandoStartIndex}(t,n);(function JD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function IY(t,e,n,r){const i=function H_(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zd(n=vy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vy(i,t,e,n,r),null===s){let c=function bY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oa(r))return t[No(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=vy(null,t,e,c[1],r),c=Zd(c,e.attrs,r),function wY(t,e,n,r){t[No(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function AY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zd(r,t[s].hostAttrs,n);return Zd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function fY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=No(o),c=Oa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||el(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=No(t[a+1]);t[r+1]=dg(f,a),0!==f&&(t[f+1]=my(t[f+1],r)),t[a+1]=function uY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=dg(a,0),0!==a&&(t[a+1]=my(t[a+1],r)),a=r;else t[r+1]=dg(c,0),0===a?a=r:t[c+1]=my(t[c+1],r),c=r;l&&(t[r+1]=gy(t[r+1])),BD(t,u,r,!0),BD(t,u,r,!1),function hY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&el(s,e)>=0&&(n[r+1]=_y(n[r+1]))}(e,u,t,r,s),o=dg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ge&&cr(i,o,e)&&function QD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function dY(t){return 1==(1&t)}(l)?XD(c,e,n,i,Oa(l),o):void 0;fg(u)||(fg(s)||function lY(t){return 2==(2&t)}(l)&&(s=XD(c,null,n,i,a,o)),function cq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ko.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ko.Important),t.setStyle(n,r,i,s))}}(r,o,m0(xr(),n),i,s))}(s,s.data[xr()],i,i[je],t,i[o+1]=function MY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wn(ni(t)))),t}(e,n),r,o)}(t,e,null,!0),Jd}function vy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Zd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ti(t,o,!!n||e[++s]))}return void 0===t?null:t}function XD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ge&&(f=d?gt:void 0);let h=d?J_(f,r):u===r?f:void 0;if(l&&!fg(h)&&(h=J_(c,r)),fg(h)&&(a=h,o))return a;const p=t[i+1];i=o?No(p):Oa(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=J_(c,r))}return a}function fg(t){return void 0!==t}function Q(t,e=""){const n=ee(),r=lt(),i=t+rt,s=r.firstCreatePass?pl(r,i,1,e,null):r.data[i],o=ZD(r,n,s,e,t);n[i]=o,_0()&&L0(r,n,o,s),rs(s,!1)}let ZD=(t,e,n,r,i)=>(Ro(!0),function N0(t,e){return t.createText(e)}(e[je],r));function dt(t){return Fa("",t,""),dt}function Fa(t,e,n){const r=ee(),i=ml(r,t,e,n);return i!==Ge&&function Ws(t,e,n){const r=m0(e,t);!function E5(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,xr(),i),Fa}function yy(t,e,n){const r=ee();return cr(r,qc(),e)&&ri(lt(),en(),r,t,e,r[je],n,!0),yy}const Va=void 0;var JY=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Al={};function br(t){const e=function ZY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=yS(e);if(n)return n;const r=e.split("-")[0];if(n=yS(r),n)return n;if("en"===r)return JY;throw new re(701,!1)}function yS(t){return t in Al||(Al[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),Al[t]}var Ot=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ot||{});const Tl="en-US";let ES=Tl;function Cy(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)Cy(t[s],e,n,r,i);else{const s=lt(),o=ee(),a=Kn();let c=Pa(t)?t:He(t.provide);const l=eT(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Pa(t)||!t.multi){const h=new wd(l,i,te),p=by(c,e,i?u:u+f,d);-1===p?(Y_(C0(a,o),s,c),Iy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=by(c,e,u+f,d),p=by(c,e,u,u+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){Y_(C0(a,o),s,c);const S=function XQ(t,e,n,r,i){const s=new wd(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,GS(s,i,r&&!n),s}(i?QQ:YQ,n.length,i,r,l);!i&&y&&(n[p].providerFactory=S),Iy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else Iy(s,t,h>-1?h:p,GS(n[i?p:h],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Iy(t,e,n,r){const i=Pa(e),s=function zq(t){return!!t.useClass}(e);if(i||s){const c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function GS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function by(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YQ(t,e,n,r){return wy(this.multi,[])}function QQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Da(n,n[be],this.providerFactory.index,r);s=a.slice(0,o),wy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],wy(i,s);return s}function wy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Wt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function KQ(t,e,n){const r=lt();if(r.firstCreatePass){const i=Fi(t);Cy(n,r.data,r.blueprint,i,!0),Cy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class La{}class qS{}class Ay extends La{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eD(this);const i=Zr(e);this._bootstrapComponents=qs(i.bootstrap),this._r3Injector=pT(e,n,[{provide:La,useValue:this},{provide:zd,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ty extends qS{constructor(e){super(),this.moduleType=e}create(e){return new Ay(this.moduleType,e,[])}}class WS extends La{constructor(e){super(),this.componentFactoryResolver=new eD(this),this.instance=null;const n=new ol([...e.providers,{provide:La,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],e.parent||q0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function KS(t,e,n=null){return new WS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let eX=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Q5(0,r.type),s=i.length>0?KS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ie({token:t,providedIn:"environment",factory:()=>new t(Se(xi))}),e})();function YS(t){t.getStandaloneInjector=e=>e.get(eX).getOrCreateStandaloneInjector(t)}function Ur(t,e,n,r){return i7(ee(),Er(),t,e,n,r)}function r7(t,e,n,r,i,s,o,a){const c=Er()+t,l=ee(),u=function Ci(t,e,n,r,i,s){const o=Ra(t,e,n,r);return Ra(t,e+2,i,s)||o}(l,c,n,r,i,s);return cr(l,c+4,o)||u?ls(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Wd(l,c+5)}function af(t,e){const n=t[e];return n===Ge?void 0:n}function i7(t,e,n,r,i,s){const o=e+n;return cr(t,o,i)?ls(t,o+1,s?r.call(s,i):r(i)):af(t,o+1)}function o7(t,e,n,r,i,s,o,a){const c=e+n;return function ag(t,e,n,r,i){const s=Ra(t,e,n,r);return cr(t,e+2,i)||s}(t,c,i,s,o)?ls(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):af(t,c+3)}function Kt(t,e){const n=lt();let r;const i=t+rt;n.firstCreatePass?(r=function mX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Aa(r.type)),a=Or(te);try{const c=x0(!1),l=s();return x0(c),function eY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{Or(a)}}function Ii(t,e,n){const r=t+rt,i=ee(),s=$c(i,r);return cf(i,r)?i7(i,Er(),e,s.transform,n,s):s.transform(n)}function l7(t,e,n,r){const i=t+rt,s=ee(),o=$c(s,i);return cf(s,i)?function s7(t,e,n,r,i,s,o){const a=e+n;return Ra(t,a,i,s)?ls(t,a+2,o?r.call(o,i,s):r(i,s)):af(t,a+2)}(s,Er(),e,o.transform,n,r,o):o.transform(n,r)}function bi(t,e,n,r,i){const s=t+rt,o=ee(),a=$c(o,s);return cf(o,s)?o7(o,Er(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function cf(t,e){return t[be].data[e].pure}function yX(){return this._results[Symbol.iterator]()}class Sy{get changes(){return this._changes||(this._changes=new Tt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Sy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=yX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function yi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function dG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function xX(t,e,n,r=!0){const i=e[be];if(function eq(t,e,n,r){const i=qn+r,s=n.length;r>0&&(n[i-1][Oi]=e),r<s-qn?(e[Oi]=n[i],QA(n,qn+r,e)):(n.push(e),e[Oi]=null),e[Gt]=n;const o=e[vd];null!==o&&n!==o&&function tq(t,e){const n=t[Uc];e[hn]!==e[Gt][Gt][hn]&&(t[Qw]=!0),null===n?t[Uc]=[e]:n.push(e)}(o,e);const a=e[es];null!==a&&a.insertView(t),e[We]|=128}(i,e,t,n),r){const s=pv(n,t),o=e[je],a=V0(o,t[ts]);null!==a&&function XG(t,e,n,r,i,s){r[rn]=i,r[or]=e,Od(t,r,n,1,i,s)}(i,t[or],o,e,a,s)}}let Ks=(()=>{class e{}return e.__NG_ELEMENT_ID__=bX,e})();const CX=Ks,IX=class extends CX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function EX(t,e,n,r){const i=e.tView,a=tg(t,i,n,4096&t[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[vd]=t[e.index];const l=t[es];return null!==l&&(a[es]=l.createEmbeddedView(i)),iy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Gd(i)}};function bX(){return _g(Kn(),ee())}function _g(t,e){return 4&t.type?new IX(e,t,ul(t,e)):null}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=MX,e})();function MX(){return m7(Kn(),ee())}const PX=Hi,p7=class extends PX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ul(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const e=I0(this._hostTNode,this._hostLView);if(q_(e)){const n=Td(e,this._hostLView),r=Ad(e);return new Cr(n[be].data[r+8],n)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=g7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Sd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new qd(ct(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?l:this.parentInjector).get(xi,null);y&&(s=y)}ct(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function w$(t){return vr(t[Gt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Gt],u=new p7(l,l[or],l[Gt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return xX(a,i,o,!r),e.attachToViewContainerRef(),QA(My(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=g7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=F0(this._lContainer,n);r&&(A0(My(this._lContainer),n),uv(r[be],r))}detach(e){const n=this._adjustIndex(e,-1),r=F0(this._lContainer,n);return r&&null!=A0(My(this._lContainer),n)?new Gd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function g7(t){return t[8]}function My(t){return t[8]||(t[8]=[])}function m7(t,e){let n;const r=e[t.index];return vr(r)?n=r:(n=UT(r,e,null,t),e[t.index]=n,ng(e,n)),_7(n,e,t,r),new p7(n,t,e)}let _7=function v7(t,e,n,r){if(t[ts])return;let i;i=8&n.type?kt(r):function RX(t,e){const n=t[je],r=n.createComment(""),i=Vr(e,t);return Sa(n,V0(n,i),r,function sq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ts]=i};class Py{constructor(e){this.queryList=e,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ry{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ry(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==b7(e,n).matches&&this.queries[n].setDirty()}}class y7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class ky{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new ky(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ny{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ny(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,OX(n,s)),this.matchTNodeWithReadOption(e,n,b0(n,e,s,!1,!1))}else r===Ks?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,b0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ir||i===Hi||i===Ks&&4&n.type)this.addMatch(n.index,-2);else{const s=b0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function OX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function VX(t,e,n,r){return-1===n?function FX(t,e){return 11&t.type?ul(t,e):4&t.type?_g(t,e):null}(e,t):-2===n?function LX(t,e,n){return n===Ir?ul(e,t):n===Ks?_g(e,t):n===Hi?m7(e,t):void 0}(t,e,r):Da(t,t[be],n,e)}function E7(t,e,n,r){const i=e[es].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:VX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Oy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=E7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=qn;d<u.length;d++){const f=u[d];f[vd]===f[Gt]&&Oy(f[be],f,l,r)}if(null!==u[Uc]){const d=u[Uc];for(let f=0;f<d.length;f++){const h=d[f];Oy(h[be],h,l,r)}}}}}return r}function jr(t){const e=ee(),n=lt(),r=SA();z_(r+1);const i=b7(n,r);if(t.dirty&&function I$(t){return 4==(4&t[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Oy(n,e,r,[]):E7(n,e,i,r);t.reset(s,cW),t.notifyOnChanges()}return!0}return!1}function ii(t,e,n){const r=lt();r.firstCreatePass&&(function I7(t,e,n){null===t.queries&&(t.queries=new ky),t.queries.track(new Ny(e,n))}(r,new y7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function C7(t,e,n){const r=new Sy(4==(4&n));(function zW(t,e,n,r){const i=$T(e);i.push(n),t.firstCreatePass&&GT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[es]&&(e[es]=new Ry),e[es].queries.push(new Py(r))}(r,ee(),e)}function $r(){return function BX(t,e){return t[es].queries[e].queryList}(ee(),SA())}function b7(t,e){return t.queries.getByIndex(e)}const z7=new Ee("Application Initializer");let zy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=q(z7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Xd(o))r.push(o);else if(bD(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),U7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Ys=new Ee("LocaleId",{providedIn:"root",factory:()=>q(Ys,ot.Optional|ot.SkipSelf)||function cJ(){return typeof $localize<"u"&&$localize.locale||Tl}()});let Eg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class dJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let fJ=(()=>{var t;class e{compileModuleSync(r){return new Ty(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=qs(Zr(r).declarations).reduce((a,c)=>{const l=ct(c);return l&&a.push(new qd(l)),a},[]);return new dJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const q7=new Ee(""),Cg=new Ee("");let qy,$y=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qy||(function NJ(t){qy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(pt),Se(Gy),Se(Cg))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})(),Gy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return qy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Oo=null;const W7=new Ee("AllowMultipleToken"),Wy=new Ee("PlatformDestroyListeners"),K7=new Ee("appBootstrapListener");function X7(t,e,n=[]){const r=`Platform: ${e}`,i=new Ee(r);return(s=[])=>{let o=Ky();if(!o||o.injector.get(W7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function VJ(t){if(Oo&&!Oo.get(W7,!1))throw new re(400,!1);(function Y7(){!function u$(t){cA=t}(()=>{throw new re(600,!1)})})(),Oo=t;const e=t.get(Z7);(function Q7(t){t.get(tT,null)?.forEach(n=>n())})(t)}(function J7(t=[],e){return Tn.create({name:e,providers:[{provide:Av,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Oo=null])},...t]})}(a,r))}return function BJ(t){const e=Ky();if(!e)throw new re(401,!1);return e}()}}function Ky(){return Oo?.get(Z7)??null}let Z7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function HJ(t="zone.js",e){return"noop"===t?new CW:"zone.js"===t?new pt(e):t}(i?.ngZone,function eM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function ZQ(t,e,n){return new Ay(t,e,n)}(r.moduleType,this.injector,function sM(t){return[{provide:pt,useFactory:t},{provide:Ld,multi:!0,useFactory:()=>{const e=q(UJ,{optional:!0});return()=>e.initialize()}},{provide:iM,useFactory:zJ},{provide:yT,useFactory:ET}]}(()=>s)),a=o.injector.get(Gs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Ig(this._modules,o),c.unsubscribe()})}),function tM(t,e,n){try{const r=n();return Xd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(zy);return c.runInitializers(),c.donePromise.then(()=>(function xS(t){_i(t,"Expected localeId to be defined"),"string"==typeof t&&(ES=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ys,Tl)||Tl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=nM({},i);return function OJ(t,e,n){const r=new Ty(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(df);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Wy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Tn))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function nM(t,e){return Array.isArray(e)?e.reduce(nM,t):{...t,...e}}let df=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(iM),this.zoneIsStable=q(yT),this.componentTypes=[],this.components=[],this.isStable=q(Eg).hasPendingTasks.pipe(mi(r=>r?Ve(!1):this.zoneIsStable),Aw(),ww()),this._injector=q(xi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof oT;if(!this._injector.get(zy).done)throw!s&&function Vc(t){const e=ct(t)||Gn(t)||_r(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(zd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function FJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(La),u=a.create(Tn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(q7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ig(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ig(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(K7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ig(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ig(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const iM=new Ee("",{providedIn:"root",factory:()=>q(Gs).handleError.bind(void 0)});function zJ(){const t=q(pt),e=q(Gs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let UJ=(()=>{var t;class e{constructor(){this.zone=q(pt),this.applicationRef=q(df)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Qs=(()=>{class e{}return e.__NG_ELEMENT_ID__=GJ,e})();function GJ(t){return function qJ(t,e,n){if(wa(t)&&!n){const r=ei(t.index,e);return new Gd(r,r)}return 47&t.type?new Gd(e[hn],e):null}(Kn(),ee(),16==(16&t))}class lM{constructor(){}supports(e){return og(e)}create(e){return new JJ(e)}}const XJ=(t,e)=>e;class JJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<dM(r,i,s)?n:r,a=dM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!og(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function kK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new ZJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new uM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ZJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new eZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fM{constructor(){}supports(e){return e instanceof Map||sy(e)}create(){return new tZ}}class tZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||sy(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new nZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class nZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hM(){return new Ag([new lM])}let Ag=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||hM()),deps:[[e,new ev,new qt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:hM}),e})();function pM(){return new ff([new fM])}let ff=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pM()),deps:[[e,new ev,new qt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:pM}),e})();const sZ=X7(null,"core",[]);let oZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(df))},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})();let e4=null;function Fo(){return e4}class yZ{}const qr=new Ee("DocumentToken");let IM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return q(EZ)},providedIn:"platform"}),e})(),EZ=(()=>{var t;class e extends IM{constructor(){super(),this._doc=q(qr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fo().getBaseHref(this._doc)}onPopState(r){const i=Fo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Fo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function bM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ha(t){return t&&"?"!==t[0]?"?"+t:t}let Dg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return q(CZ)},providedIn:"root"}),e})();const xZ=new Ee("appBaseHref");let CZ=(()=>{var t;class e extends Dg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(qr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return bM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ha(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Ha(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Ha(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(IM),Se(xZ,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),t4=(()=>{var t;class e{constructor(r){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function wZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(wM(AM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ha(i))}normalize(r){return e.stripTrailingSlash(function bZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,AM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Ha,t.joinWithSlash=bM,t.stripTrailingSlash=wM,t.\u0275fac=function(r){return new(r||t)(Se(Dg))},t.\u0275prov=Ie({token:t,factory:function(){return function IZ(){return new t4(Se(Dg))}()},providedIn:"root"}),e})();function AM(t){return t.replace(/\/index.html$/,"")}var Sg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Sg||{}),pn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pn||{});function wi(t,e){const n=br(t),r=n[Ot.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Ot.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Ot.NumberSymbols][pn.Group]}return r}const JZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function l4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function OM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const d4=/\s+/,FM=[];let f4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=FM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(d4):FM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(d4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(d4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ag),te(ff),te(Ir),te(as))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class uee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new uee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),LM(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{LM(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(Ks),te(Ag))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function LM(t,e){t.context.$implicit=e.item}let fs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new dee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){BM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){BM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(Ks))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class dee{constructor(){this.$implicit=null,this.ngIf=null}}function BM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wn(e)}'.`)}function Ui(t,e){return new re(2100,!1)}class pee{createSubscription(e,n){return dA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){dA(()=>e.unsubscribe())}}class gee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const mee=new gee,_ee=new pee;let gf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Xd(r))return mee;if(bD(r))return _ee;throw Ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Qs,16))},t.\u0275pipe=Nn({name:"async",type:t,pure:!1,standalone:!0}),e})(),zM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=UM}transform(r,i=UM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Mee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ff,16))},t.\u0275pipe=Nn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function UM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let hs=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function g4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function iee(t,e,n){return function a4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function oee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function see(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const w=s.match(JZ);if(null===w)throw new Error(`${s} is not a valid digit info`);const j=w[1],Y=w[3],he=w[5];null!=j&&(u=l4(j)),null!=Y&&(d=l4(Y)),null!=he?f=l4(he):null!=Y&&d>f&&(f=d)}!function aee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let y=[];for(c=h.every(w=>!w);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(wi(n,r)),y.length&&(a+=wi(n,i)+y.join("")),g&&(a+=wi(n,pn.Exponential)+"+"+g)}else a=wi(n,pn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function c4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function n4(t,e){return br(t)[Ot.NumberFormats][e]}(e,Sg.Decimal),wi(e,pn.MinusSign)),e,pn.Group,pn.Decimal,n)}(function m4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Ui()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ys,16))},t.\u0275pipe=Nn({name:"number",type:t,pure:!0,standalone:!0}),e})();let kee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})();const Nee="server";function _4(t){return t===Nee}class $M{}class ote extends yZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E4 extends ote{static makeCurrent(){!function vZ(t){e4||(e4=t)}(new E4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ate(){return _f=_f||document.querySelector("base"),_f?_f.getAttribute("href"):null}();return null==n?null:function cte(t){Ug=Ug||document.createElement("a"),Ug.setAttribute("href",t);const e=Ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OM(document.cookie,e)}}let Ug,_f=null,ute=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const x4=new Ee("EventManagerPlugins");let YM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(x4),Se(pt))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class QM{constructor(e){this._doc=e}}const C4="ng-app-id";let XM=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${C4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(C4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(C4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr),Se(W0),Se(nT,8),Se(os))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const I4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},b4=/%COMP%/g,pte=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZM(t,e){return e.map(n=>n.replace(b4,t))}let eP=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_4(c),this.defaultRenderer=new w4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ki.ShadowDom&&(i={...i,encapsulation:ki.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof nP?s.applyToHost(r):s instanceof A4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ki.Emulated:o=new nP(l,u,i,this.appId,d,a,c,f);break;case ki.ShadowDom:return new vte(l,u,r,i,a,c,this.nonce,f);default:o=new A4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(YM),Se(XM),Se(W0),Se(pte),Se(qr),Se(os),Se(pt),Se(nT))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class w4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(I4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=I4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=I4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ko.DashCase|ko.Important)?e.style.setProperty(n,r,i&ko.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ko.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Fo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function tP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vte extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ZM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class A4 extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?ZM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nP extends A4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function gte(t){return"_ngcontent-%COMP%".replace(b4,t)}(l),this.hostAttr=function mte(t){return"_nghost-%COMP%".replace(b4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let yte=(()=>{var t;class e extends QM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const rP=["alt","control","meta","shift"],Ete={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cte=(()=>{var t;class e extends QM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rP.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Ete[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),rP.forEach(a=>{a!==s&&(0,xte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const sP=[{provide:os,useValue:"browser"},{provide:tT,useValue:function Ite(){E4.makeCurrent()},multi:!0},{provide:qr,useFactory:function wte(){return function hq(t){_v=t}(document),document},deps:[]}],Ate=X7(sZ,"browser",sP),Tte=new Ee(""),oP=[{provide:Cg,useClass:class lte{addToWindow(e){Rt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Fo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:q7,useClass:$y,deps:[pt,Gy,Cg]},{provide:$y,useClass:$y,deps:[pt,Gy,Cg]}],aP=[{provide:Av,useValue:"root"},{provide:Gs,useFactory:function bte(){return new Gs},deps:[]},{provide:x4,useClass:yte,multi:!0,deps:[qr,pt,os]},{provide:x4,useClass:Cte,multi:!0,deps:[qr]},eP,XM,YM,{provide:cT,useExisting:eP},{provide:$M,useClass:ute,deps:[]},[]];let Wr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:W0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Tte,12))},t.\u0275mod=At({type:t}),t.\u0275inj=xt({providers:[...aP,...oP],imports:[kee,oZ]}),e})(),T4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function Ste(){return new T4(Se(qr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let uP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(dP),i},providedIn:"root"}),e})(),dP=(()=>{var t;class e extends uP{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Ei.NONE:return i;case Ei.HTML:return ss(i,"HTML")?ni(i):j5(this._doc,String(i)).toString();case Ei.STYLE:return ss(i,"Style")?ni(i):i;case Ei.SCRIPT:if(ss(i,"Script"))return ni(i);throw new re(5200,!1);case Ei.URL:return ss(i,"URL")?ni(i):U0(String(i));case Ei.RESOURCE_URL:if(ss(i,"ResourceURL"))return ni(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function Eq(t){return new pq(t)}(r)}bypassSecurityTrustStyle(r){return function xq(t){return new gq(t)}(r)}bypassSecurityTrustScript(r){return function Cq(t){return new mq(t)}(r)}bypassSecurityTrustUrl(r){return function Iq(t){return new _q(t)}(r)}bypassSecurityTrustResourceUrl(r){return function bq(t){return new vq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function kte(t){return new dP(t.get(qr))}(Se(Tn)),i},providedIn:"root"}),e})();class S4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class hP{constructor(){this._orbit=0,this._ground=0,this._workers=new S4,this._soldiers=new S4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class M4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Nte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new hP,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new M4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class pP{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new S4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var ur=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(ur||{});class Ote{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Fte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Vt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Vt||{});class gP{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Vte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new pP,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=ur.RESOURCE;break;case 1:s=ur.SURFACE;break;case 2:s=ur.FLEET;break;default:s=ur.UNKNOWN}});let o=new Ote(r,s);if(s!==ur.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new gP(c.split("Owner:")[1].trim(),""):new gP("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===ur.RESOURCE||s===ur.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===ur.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new M4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===ur.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new M4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Fte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Vt.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Vt.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Vt.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Vt.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Vt.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Vt.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Vt.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Vt.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Vt.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Vt.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Vt.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Vt.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Vt.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Lte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new hP;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Rl;class ps{constructor(){this.planetListExtractor=q(Nte),this.planetScanExtractor=q(Vte),this.navigationSystemPlanetsExtractor=q(Lte),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getCountDownMinutes(){return parseInt(document.querySelector("#countdownField").textContent.trim().split(/:/)[0])}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function vf(t){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vt(t,e,n){return(e=function Hte(t){var e=function Bte(t,e){if("object"!==vf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mP(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){mP(s,r,i,o,a,"next",c)}function a(c){mP(s,r,i,o,a,"throw",c)}o(void 0)})}}(Rl=ps).\u0275fac=function(e){return new(e||Rl)},Rl.\u0275prov=Ie({token:Rl,factory:Rl.\u0275fac,providedIn:"platform"}),Zt([Rr(0,qt())],ps.prototype,"username",null);const _P=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},R4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_P(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new $te;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jg=function(t){return function(t){const e=_P(t);return R4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},$g=function(t){try{return R4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gg=()=>{try{return yP().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$g(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},EP=t=>{var e,n;return null===(n=null===(e=Gg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},xP=()=>{var t;return null===(t=Gg())||void 0===t?void 0:t.config},CP=t=>{var e;return null===(e=Gg())||void 0===e?void 0:e[`_${t}`]};class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function yf(){try{return"object"==typeof indexedDB}catch{return!1}}function N4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function IP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function rne(t,e){return t.replace(ine,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ji(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ine=/\{\$([^}]+)}/g;function Ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(wP(s)&&wP(o)){if(!Ef(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wP(t){return null!==t&&"object"==typeof t}function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function If(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class ane{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function cne(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=O4),void 0===i.error&&(i.error=O4),void 0===i.complete&&(i.complete=O4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O4(){}const lne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},une=1e3,dne=2,fne=144e5,hne=.5;function V4(t,e=une,n=dne){const r=e*Math.pow(n,t),i=Math.round(hne*r*(Math.random()-.5)*2);return Math.min(fne,r+i)}function on(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class gne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function _ne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===za?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const L4=[];var at=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(at||{});const AP={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},yne=at.INFO,Ene={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},xne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Ene[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class bf{constructor(e){this.name=e,this._logLevel=yne,this._logHandler=xne,this._userLogHandler=null,L4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?AP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const Cne=(t,e)=>e.some(n=>t instanceof n);let TP,DP;const SP=new WeakMap,B4=new WeakMap,MP=new WeakMap,H4=new WeakMap,z4=new WeakMap;let U4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return B4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Sne(t){return"function"==typeof t?function Dne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bne(){return DP||(DP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(j4(this),e),Bo(SP.get(this))}:function(...e){return Bo(t.apply(j4(this),e))}:function(e,...n){const r=t.call(j4(this),e,...n);return MP.set(r,e.sort?e.sort():[e]),Bo(r)}}(t):(t instanceof IDBTransaction&&function Ane(t){if(B4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});B4.set(t,e)}(t),Cne(t,function Ine(){return TP||(TP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,U4):t)}function Bo(t){if(t instanceof IDBRequest)return function wne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SP.set(n,t)}).catch(()=>{}),z4.set(e,t),e}(t);if(H4.has(t))return H4.get(t);const e=Sne(t);return e!==t&&(H4.set(t,e),z4.set(e,t)),e}const j4=t=>z4.get(t),Pne=["get","getKey","getAll","getAllKeys","count"],Rne=["put","add","delete","clear"],$4=new Map;function PP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($4.get(e))return $4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pne.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return $4.set(e,s),s}!function Tne(t){U4=t(U4)}(t=>({...t,get:(e,n,r)=>PP(e,n)||t.get(e,n,r),has:(e,n)=>!!PP(e,n)||t.has(e,n)}));class kne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Nne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const G4="@firebase/app",Ua=new bf("@firebase/app"),Wg="[DEFAULT]",ore={[G4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ja=new Map,Kg=new Map;function are(t,e){try{t.container.addComponent(e)}catch(n){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(Kg.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of ja.values())are(n,t);return!0}function gs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Zs=new Lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const Nl="10.5.2";function kP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=xP()),!n)throw Zs.create("no-options");const s=ja.get(i);if(s){if(Ef(n,s.options)&&Ef(r,s.config))return s;throw Zs.create("duplicate-app",{appName:i})}const o=new vne(i);for(const c of Kg.values())o.addComponent(c);const a=new lre(n,r,o);return ja.set(i,a),a}function Ol(t=Wg){const e=ja.get(t);if(!e&&t===Wg&&xP())return kP();if(!e)throw Zs.create("no-app",{appName:t});return e}function NP(){return Array.from(ja.values())}function an(t,e,n){var r;let i=null!==(r=ore[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ua.warn(a.join(" "))}Ti(new oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ure="firebase-heartbeat-database",dre=1,wf="firebase-heartbeat-store";let W4=null;function OP(){return W4||(W4=function Mne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bo(o.result),c.oldVersion,c.newVersion,Bo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(ure,dre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wf)}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),W4}function K4(){return(K4=v(function*(t){try{return yield(yield OP()).transaction(wf).objectStore(wf).get(VP(t))}catch(e){if(e instanceof ji)Ua.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(n.message)}}})).apply(this,arguments)}function FP(t,e){return Y4.apply(this,arguments)}function Y4(){return(Y4=v(function*(t,e){try{const r=(yield OP()).transaction(wf,"readwrite");yield r.objectStore(wf).put(e,VP(t)),yield r.done}catch(n){if(n instanceof ji)Ua.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});Ua.warn(r.message)}}})).apply(this,arguments)}function VP(t){return`${t.name}!${t.options.appId}`}class gre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _re(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=LP(),{heartbeatsToSend:r,unsentEntries:i}=function mre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=jg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function LP(){return(new Date).toISOString().substring(0,10)}class _re{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!yf()&&N4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function fre(t){return K4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function BP(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}!function vre(t){Ti(new oi("platform-logger",e=>new kne(e),"PRIVATE")),Ti(new oi("heartbeat",e=>new gre(e),"PRIVATE")),an(G4,"0.9.22",t),an(G4,"0.9.22","esm2017"),an("fire-js","")}(""),an("firebase","10.5.2","app");class xre extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const Yg={setInterval(t,e,...n){const{delegate:r}=Yg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class HP extends xre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,z(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const zP={now:()=>(zP.delegate||Date).now(),delegate:void 0};class Af{constructor(e,n=Af.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Af.now=zP.now;class UP extends Af{constructor(e,n=Af.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const bre=new class Ire extends UP{}(class Cre extends HP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),wre=new UP(HP);function Qn(t,e,n){const r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(nt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ve}const Ho=new dl("ANGULARFIRE2_VERSION");function Qg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Xg=(t,e)=>{const n=e?[e]:NP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Q4{constructor(){return Xg(jP)}}const jP="app-check";function Fl(){}class $P{constructor(e,n=bre){vt(this,"zone",void 0),vt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Tre{constructor(e){vt(this,"zone",void 0),vt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),n.pipe(Qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tf=(()=>{var t;class e{constructor(r){vt(this,"ngZone",void 0),vt(this,"outsideAngular",void 0),vt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new $P(Zone.current)),this.insideAngular=r.run(()=>new $P(Zone.current,wre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(pt))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Vl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function $a(t){return Vl().ngZone.run(()=>t())}function Sre(t){return function Mre(t){return function(n){return(n=n.lift(new Tre(t.ngZone))).pipe(e0(t.outsideAngular),Zp(t.insideAngular))}}(Vl())(t)}const Pre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$a(()=>t.apply(void 0,r))},En=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=$a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl))),r[s]=Pre(r[s],n));const i=function Dre(t){return Vl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof fe){const s=Vl();return i.pipe(e0(s.outsideAngular),Zp(s.insideAngular))}return $a(()=>i)}return i instanceof fe?i.pipe(Sre):i instanceof Promise?$a(()=>new Promise((s,o)=>i.then(a=>$a(()=>s(a)),a=>$a(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:$a(()=>i)};class Ga{constructor(e){return e}}class Df{constructor(){return NP()}}const X4=new Ee("angularfire2._apps"),kre={provide:Ga,useFactory:function Rre(t){return t&&1===t.length?t[0]:new Ga(Ol())},deps:[[new qt,X4]]},Nre={provide:Df,deps:[[new qt,X4]]};function Ore(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ga(r)}}let Fre=(()=>{var t;class e{constructor(r){an("angularfire",Ho.full,"core"),an("angularfire",Ho.full,"app"),an("angular",lT.full,r.toString())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(os))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[kre,Nre]})),e})();function eo(t,...e){return{ngModule:Fre,providers:[{provide:X4,useFactory:Ore(t),multi:!0,deps:[pt,Tn,Tf,...e]}]}}const to=En(Ol,!0),no=En(kP,!0);const Vre=function GP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qP=new Lo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jg=new bf("@firebase/auth");function Zg(t,...e){Jg.logLevel<=at.ERROR&&Jg.error(`Auth (${Nl}): ${t}`,...e)}function Kr(t,...e){throw J4(t,...e)}function ai(t,...e){return J4(t,...e)}function WP(t,e,n){const r=Object.assign(Object.assign({},Vre()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function J4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qP.create(t,...e)}function ge(t,e,...n){if(!t)throw J4(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function ro(t,e){t||ms(e)}function Sf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function KP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ro(n>e,"Short delay should be less than long delay!"),this.isMobile=function Jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}()||function ene(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Bre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Z4(){return"http:"===KP()||"https:"===KP()}()||k4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function e6(t,e){ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ure=new Mf(3e4,6e4);function Yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tn(t,e,n,r){return t6.apply(this,arguments)}function t6(){return(t6=v(function*(t,e,n,r,i={}){return QP(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),YP.fetch()(XP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function QP(t,e,n){return n6.apply(this,arguments)}function n6(){return(n6=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zre),e);try{const i=new $re(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Pf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Pf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Pf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Pf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WP(t,u,l);Kr(t,u)}}catch(i){if(i instanceof ji)throw i;Kr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function io(t,e,n,r){return r6.apply(this,arguments)}function r6(){return(r6=v(function*(t,e,n,r,i={}){const s=yield tn(t,e,n,r,i);return"mfaPendingCredential"in s&&Kr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function XP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e6(t.config,i):`${t.config.apiScheme}://${i}`}function jre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $re{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),Ure.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function ZP(t){return void 0!==t&&void 0!==t.enterprise}class eR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function tR(t,e){return s6.apply(this,arguments)}function s6(){return(s6=v(function*(t,e){return tn(t,"GET","/v2/recaptchaConfig",Yt(t,e))})).apply(this,arguments)}function o6(){return(o6=v(function*(t,e){return tn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function c6(){return(c6=v(function*(t,e){return tn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l6(){return(l6=v(function*(t,e=!1){const n=on(t),r=yield n.getIdToken(e),i=e1(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(u6(i.auth_time)),issuedAtTime:Rf(u6(i.iat)),expirationTime:Rf(u6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function u6(t){return 1e3*Number(t)}function e1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=$g(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function so(t,e){return d6.apply(this,arguments)}function d6(){return(d6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ji&&function Xre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class nR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kf(t){return f6.apply(this,arguments)}function f6(){return f6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield so(t,function Kre(t,e){return c6.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function tie(t){return t.map(e=>{var{providerId:n}=e,r=rr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function eie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),f6.apply(this,arguments)}function h6(){return(h6=v(function*(t){const e=on(t);yield kf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function p6(){return(p6=v(function*(t,e){const n=yield QP(t,{},v(function*(){const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Qre(t){const e=e1(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nie(t,e){return p6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nf;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return ms("not implemented")}}function zo(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield so(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Yre(t){return l6.apply(this,arguments)}(this,e)}reload(){return function Zre(t){return h6.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield so(e,function qre(t,e){return o6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:j,emailVerified:Y,isAnonymous:he,providerData:Re,stsTokenManager:Ke}=n;ge(j&&Ke,e,"internal-error");const Jt=Nf.fromJSON(this.name,Ke);ge("string"==typeof j,e,"internal-error"),zo(d,e.name),zo(f,e.name),ge("boolean"==typeof Y,e,"internal-error"),ge("boolean"==typeof he,e,"internal-error"),zo(h,e.name),zo(p,e.name),zo(g,e.name),zo(y,e.name),zo(S,e.name),zo(w,e.name);const Rn=new qa({uid:j,auth:e,email:f,emailVerified:Y,displayName:d,isAnonymous:he,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Jt,createdAt:S,lastLoginAt:w});return Re&&Array.isArray(Re)&&(Rn.providerData=Re.map(Ea=>Object.assign({},Ea))),y&&(Rn._redirectEventId=y),Rn}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Nf;i.updateFromServerResponse(n);const s=new qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kf(s),s})()}}const rR=new Map;function oo(t){ro(t instanceof Function,"Expected a class definition");let e=rR.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rR.set(t,e),e)}const iR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function t1(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=t1(this.userKey,i.apiKey,s),this.fullPersistenceKey=t1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Bl(oo(iR),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||oo(iR);const o=t1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=qa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Bl(s,e,r)):new Bl(s,e,r)})()}}function sR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uR(e))return"Blackberry";if(dR(e))return"Webos";if(g6(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(lR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function oR(t=On()){return/firefox\//i.test(t)}function g6(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(t=On()){return/crios\//i.test(t)}function cR(t=On()){return/iemobile/i.test(t)}function lR(t=On()){return/android/i.test(t)}function uR(t=On()){return/blackberry/i.test(t)}function dR(t=On()){return/webos/i.test(t)}function n1(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fR(t=On()){return n1(t)||lR(t)||dR(t)||uR(t)||/windows phone/i.test(t)||cR(t)}function hR(t,e=[]){let n;switch(t){case"Browser":n=sR(On());break;case"Worker":n=`${sR(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class oie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function m6(){return(m6=v(function*(t,e={}){return tn(t,"GET","/v2/passwordPolicy",Yt(t,e))})).apply(this,arguments)}class lie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class uie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pR(this),this.idTokenSubscription=new pR(this),this.beforeStateQueue=new oie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield kf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Hre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?on(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(oo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function aie(t){return m6.apply(this,arguments)}(e),r=new lie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&oo(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Bl.create(n,[oo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Lre(t,...e){Jg.logLevel<=at.WARN&&Jg.warn(`Auth (${Nl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xn(t){return on(t)}class pR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function one(t,e){const n=new ane(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function die(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function gR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class mR{constructor(e){this.type="recaptcha-enterprise",this.auth=xn(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){tR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new eR(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;ZP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&ZP(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));_6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function _R(t,e,n){return v6.apply(this,arguments)}function v6(){return(v6=v(function*(t,e,n,r=!1){const i=new mR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function y6(){return y6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield _R(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield _R(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),y6.apply(this,arguments)}function vR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class x6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}function xR(t,e){return I6.apply(this,arguments)}function I6(){return(I6=v(function*(t,e){return tn(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Cie(t,e){return w6.apply(this,arguments)}function w6(){return(w6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithPassword",Yt(t,e))})).apply(this,arguments)}function P6(){return(P6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))})).apply(this,arguments)}function R6(){return(R6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))})).apply(this,arguments)}class Of extends x6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Of(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Of(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function r1(t,e,n,r){return y6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Cie);case"emailLink":return function Tie(t,e){return P6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Kr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return xR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Die(t,e){return R6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Kr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ao(t,e){return k6.apply(this,arguments)}function k6(){return(k6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithIdp",Yt(t,e))})).apply(this,arguments)}class Hl extends x6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ao(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}class Vf{constructor(e){var n,r,i,s,o,a;const c=Cf(If(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Oie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ge(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Fie(t){const e=Cf(If(t)).link,n=e?Cf(If(e)).deep_link_id:null,r=Cf(If(t)).deep_link_id;return(r?Cf(If(r)).link:null)||r||n||e||t}(e);try{return new Vf(n)}catch{return null}}}let CR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Of._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Vf.parseLink(r);return ge(i,"argument-error"),Of._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class IR extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Vie=(()=>{class t extends IR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield qa._fromIdTokenResponse(e,r,i),o=wR(r);return new Di({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=wR(r);return new Di({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function wR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class o1 extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,o1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new o1(e,n,r,i)}}function AR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?o1._fromErrorAndOperation(t,s,e,r):s})}function j6(){return(j6=v(function*(t,e,n=!1){const r=yield so(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Di._forOperation(t,"link",r)})).apply(this,arguments)}function G6(){return(G6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield so(t,AR(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=e1(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Di._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Kr(r,"user-mismatch"),s}})).apply(this,arguments)}function SR(t,e){return q6.apply(this,arguments)}function q6(){return(q6=v(function*(t,e,n=!1){const r="signIn",i=yield AR(t,r,e),s=yield Di._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function K6(){return(K6=v(function*(t,e){return SR(xn(t),e)})).apply(this,arguments)}function r3(){return(r3=v(function*(t){const e=xn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function $ie(t,e,n){return function W6(t,e){return K6.apply(this,arguments)}(on(t),CR.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function n3(t){return r3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const l1="__sak";class PR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(l1,"1"),this.storage.removeItem(l1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cse=(()=>{class t extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sse(){const t=On();return g6(t)||n1(t)}()&&function sie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function iie(){return function tne(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),RR=(()=>{class t extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let use=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function lse(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function u1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class dse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=u1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Cn(){return window}function w3(){return typeof Cn().WorkerGlobalScope<"u"&&"function"==typeof Cn().importScripts}function A3(){return(A3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kR="firebaseLocalStorageDb",d1="firebaseLocalStorage",NR="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function f1(t,e){return t.transaction([d1],e?"readwrite":"readonly").objectStore(d1)}function T3(){const t=indexedDB.open(kR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d1,{keyPath:NR})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(d1)?e(r):(r.close(),yield function _se(){const t=indexedDB.deleteDatabase(kR);return new Bf(t).toPromise()}(),e(yield T3()))}))})}function OR(t,e,n){return D3.apply(this,arguments)}function D3(){return(D3=v(function*(t,e,n){const r=f1(t,!0).put({[NR]:e,value:n});return new Bf(r).toPromise()})).apply(this,arguments)}function S3(){return(S3=v(function*(t,e){const n=f1(t,!1).get(e),r=yield new Bf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function FR(t,e){const n=f1(t,!0).delete(e);return new Bf(n).toPromise()}const xse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield T3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return w3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=use._getInstance(function gse(){return w3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function hse(){return A3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new dse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function pse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield T3();return yield OR(n,l1,"1"),yield FR(n,l1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>OR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function vse(t,e){return S3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>FR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=f1(o,!1).getAll();return new Bf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ka(t,e){return e?oo(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}gR("rcb"),new Mf(3e4,6e4);class L3 extends x6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vse(t){return SR(t.auth,new L3(t),t.bypassAuthState)}function Lse(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function DR(t,e){return G6.apply(this,arguments)}(n,new L3(t),t.bypassAuthState)}function Bse(t){return B3.apply(this,arguments)}function B3(){return(B3=v(function*(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function U6(t,e){return j6.apply(this,arguments)}(n,new L3(t),t.bypassAuthState)})).apply(this,arguments)}class LR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vse;case"linkViaPopup":case"linkViaRedirect":return Bse;case"reauthViaPopup":case"reauthViaRedirect":return Lse;default:Kr(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hse=new Mf(2e3,1e4);function zse(t,e,n){return H3.apply(this,arguments)}function H3(){return(H3=v(function*(t,e,n){const r=xn(t);!function Ll(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Kr(t,"argument-error"),WP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Uo);const i=Ka(r,n);return new j3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let j3=(()=>{class t extends LR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return ge(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){ro(1===n.filter.length,"Popup operations only handle one event");const r=u1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ai(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Hse.get())};n()}}return t.currentPopupAction=null,t})();const Use="pendingRedirect",Hf=new Map;class jse extends LR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Hf.get(n.auth._key());if(!r){try{const s=(yield function $se(t,e){return $3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hf.set(n.auth._key(),r)}return n.bypassAuthState||Hf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function $3(){return($3=v(function*(t,e){const n=function HR(t){return t1(Use,t.config.apiKey,t.name)}(e),r=function BR(t){return oo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Gse(t,e){Hf.set(t._key(),e)}function zR(t,e){return X3.apply(this,arguments)}function X3(){return(X3=v(function*(t,e,n=!1){const r=xn(t),i=Ka(r,e),o=yield new jse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Qse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$R(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jR(e))}saveEventToCache(e){this.cachedEventUids.add(jR(e)),this.lastProcessedEventTime=Date.now()}}function jR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Z3(){return(Z3=v(function*(t,e={}){return tn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Zse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eoe=/^https?/;function eE(){return eE=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Jse(t){return Z3.apply(this,arguments)}(t);for(const n of e)try{if(noe(n))return}catch{}Kr(t,"unauthorized-domain")}),eE.apply(this,arguments)}function noe(t){const e=Sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!eoe.test(n))return!1;if(Zse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const roe=new Mf(3e4,6e4);function GR(){const t=Cn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let p1=null;const ooe=new Mf(5e3,15e3),aoe="__/auth/iframe",coe="emulator/auth/iframe",loe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function doe(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e6(e,coe):`https://${t.config.authDomain}/${aoe}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},i=uoe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xf(r).slice(1)}`}function tE(){return tE=v(function*(t){const e=yield function soe(t){return p1=p1||function ioe(t){return new Promise((e,n)=>{var r,i,s;function o(){GR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GR(),n(ai(t,"network-request-failed"))},timeout:roe.get()})}if(null!==(i=null===(r=Cn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Cn().gapi)||void 0===s||!s.load){const a=gR("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},_6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw p1=null,e})}(t),p1}(t),n=Cn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:doe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:loe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ai(t,"network-request-failed"),c=Cn().setTimeout(()=>{o(a)},ooe.get());function l(){Cn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),tE.apply(this,arguments)}const hoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Eoe="__/auth/handler",xoe="emulator/auth/handler",Coe=encodeURIComponent("fac");function WR(t,e,n,r,i,s){return nE.apply(this,arguments)}function nE(){return(nE=v(function*(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:i};if(e instanceof Uo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function sne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof IR){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Coe}=${encodeURIComponent(c)}`:"";return`${function Ioe({config:t}){return t.emulator?e6(t,xoe):`https://${t.authDomain}/${Eoe}`}(t)}?${xf(a).slice(1)}${l}`})).apply(this,arguments)}const rE="webStorageSupport",woe=class boe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RR,this._completeRedirectFn=zR,this._overrideRedirectResult=Gse}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;ro(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield WR(e,n,r,Sf(),i);return function voe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},hoe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=On().toLowerCase();n&&(a=aR(l)?"_blank":n),oR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function rie(t=On()){var e;return n1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function yoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new qR(null);const d=window.open(e||"",a,u);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new qR(d)}(e,a,u1())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function fse(t){Cn().location.href=t}(yield WR(e,n,r,Sf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ro(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function foe(t){return tE.apply(this,arguments)}(e),i=new Qse(e);return r.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rE,{type:rE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[rE];void 0!==o&&n(!!o),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function toe(t){return eE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fR()||g6()||n1()}};var QR="@firebase/auth";class Aoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Moe=CP("authIdTokenMaxAge")||300;let JR=null;const Poe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Moe)return;const s=r?.token;JR!==s&&(JR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Roe(t=Ol()){const e=gs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function mie(t,e){const n=gs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ef(n.getOptions(),e??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:woe,persistence:[xse,cse,RR]}),r=CP("authTokenSyncURL");if(r){const s=Poe(r);(function Zie(t,e,n){on(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Jie(t,e,n,r){on(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=EP("auth");return i&&function vie(t,e,n){const r=xn(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=vR(e),{host:o,port:a}=function yie(t){const e=vR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:yR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Eie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function koe(t){return new fe(function(e){var n=function ese(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Doe(t){Ti(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(t)},l=new uie(r,i,s,c);return function _ie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new oi("auth-internal",e=>{const n=xn(e.getProvider("auth").getImmediate());return new Aoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(QR,"1.3.2",function Toe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),an(QR,"1.3.2","esm2017")}("Browser");class zf{constructor(e){return e}}class e9{constructor(){return Xg("auth")}}const sE=new Ee("angularfire2.auth-instances");function Foe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zf(r)}}const Voe={provide:e9,deps:[[new qt,sE]]},Loe={provide:zf,useFactory:function Ooe(t,e){const n=Qg("auth",t,e);return n&&new zf(n)},deps:[[new qt,sE],Ga]};let Boe=(()=>{var t;class e{constructor(){an("angularfire",Ho.full,"auth")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Loe,Voe]})),e})();function jo(t,...e){return{ngModule:Boe,providers:[{provide:sE,useFactory:Foe(t),multi:!0,deps:[pt,Tn,Tf,Df,[new qt,Q4],...e]}]}}const t9=En(koe,!0),$o=En(Roe,!0),Hoe=En($ie,!0),zoe=En(zse,!0);var xe,Uoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},oE=oE||{},$e=Uoe||self;function m1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Uf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var aE="closure_uid_"+(1e9*Math.random()>>>0),$oe=0;function Goe(t,e,n){return t.call.apply(t.bind,arguments)}function qoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Goe:qoe).apply(null,arguments)}function _1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Go(){this.s=this.s,this.o=this.o}Go.prototype.s=!1,Go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function joe(t){Object.prototype.hasOwnProperty.call(t,aE)&&t[aE]||(t[aE]=++$oe)}(this)},Go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(m1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var Koe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function jf(t){return/^[\s\xa0]*$/.test(t)}function v1(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function _s(t){return-1!=v1().indexOf(t)}function lE(t){return lE[" "](t),t}lE[" "]=function(){};var dE,t,Qoe=_s("Opera"),zl=_s("Trident")||_s("MSIE"),i9=_s("Edge"),uE=i9||zl,s9=_s("Gecko")&&!(-1!=v1().toLowerCase().indexOf("webkit")&&!_s("Edge"))&&!(_s("Trident")||_s("MSIE"))&&!_s("Edge"),Xoe=-1!=v1().toLowerCase().indexOf("webkit")&&!_s("Edge");function o9(){var t=$e.document;return t?t.documentMode:void 0}e:{var fE="",hE=(t=v1(),s9?/rv:([^\);]+)(\)|;)/.exec(t):i9?/Edge\/([\d\.]+)/.exec(t):zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xoe?/WebKit\/(\S+)/.exec(t):Qoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(hE&&(fE=hE?hE[1]:""),zl){var pE=o9();if(null!=pE&&pE>parseFloat(fE)){dE=String(pE);break e}}dE=fE}var Joe=$e.document&&zl&&(o9()||parseInt(dE,10))||void 0;function $f(t,e){if(fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s9){e:{try{lE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$f.$.h.call(this)}}Fn($f,fr);var Zoe={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gf="closure_listenable_"+(1e6*Math.random()|0),eae=0;function tae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++eae,this.fa=this.ia=!1}function y1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function c9(t){const e={};for(const n in t)e[n]=t[n];return e}const l9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<l9.length;s++)n=l9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E1(t){this.src=t,this.g={},this.h=0}function _E(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=n9(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(y1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}E1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new tae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var yE="closure_lm_"+(1e6*Math.random()|0),EE={};function d9(t,e,n,r,i){if(r&&r.once)return h9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)d9(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Gf]?t.O(e,n,Uf(r)?!!r.capture:!!r,i):f9(t,e,n,!1,r,i)}function f9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Uf(i)?!!i.capture:!!i,a=CE(t);if(a||(t[yE]=a=new E1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function rae(){const e=iae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Koe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(g9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function h9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)h9(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Gf]?t.P(e,n,Uf(r)?!!r.capture:!!r,i):f9(t,e,n,!0,r,i)}function p9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)p9(t,e[s],n,r,i);else r=Uf(r)?!!r.capture:!!r,n=bE(n),t&&t[Gf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vE(s=t.g[e],n,r,i))&&(y1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=CE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vE(e,n,r,i)),(n=-1<t?e[t]:null)&&xE(n))}function xE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gf])_E(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=CE(e))?(_E(n,t),0==n.h&&(n.src=null,e[yE]=null)):y1(t)}}}function g9(t){return t in EE?EE[t]:EE[t]="on"+t}function iae(t,e){if(t.fa)t=!0;else{e=new $f(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xE(t),t=n.call(r,e)}return t}function CE(t){return(t=t[yE])instanceof E1?t:null}var IE="__closure_events_fn_"+(1e9*Math.random()>>>0);function bE(t){return"function"==typeof t?t:(t[IE]||(t[IE]=function(e){return t.handleEvent(e)}),t[IE])}function Vn(){Go.call(this),this.i=new E1(this),this.S=this,this.J=null}function Xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fr(e,t);else if(e instanceof fr)e.target=e.target||t;else{var i=e;u9(e=new fr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=x1(o,r,!0,e)&&i}if(i=x1(o=e.g=t,r,!0,e)&&i,i=x1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=x1(o=e.g=n[s],r,!1,e)&&i}function x1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&_E(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Fn(Vn,Go),Vn.prototype[Gf]=!0,Vn.prototype.removeEventListener=function(t,e,n,r){p9(this,t,e,n,r)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)y1(n[r]);delete t.g[e],t.h--}}this.J=null},Vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var wE=$e.JSON.stringify;function oae(){var t=AE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var m9=new class sae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cae,t=>t.reset());class cae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uae(t){$e.setTimeout(()=>{throw t},0)}let qf,Wf=!1,AE=new class aae{constructor(){this.h=this.g=null}add(e,n){const r=m9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_9=()=>{const t=$e.Promise.resolve(void 0);qf=()=>{t.then(dae)}};var dae=()=>{for(var t;t=oae();){try{t.h.call(t.g)}catch(n){uae(n)}var e=m9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wf=!1};function C1(t,e){Vn.call(this),this.h=t||1,this.g=e||$e,this.j=dr(this.qb,this),this.l=Date.now()}function TE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function DE(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function v9(t){t.g=DE(()=>{t.g=null,t.i&&(t.i=!1,v9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Fn(C1,Vn),(xe=C1.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(TE(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){C1.$.N.call(this),TE(this),delete this.g};class fae extends Go{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v9(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kf(t){Go.call(this),this.h=t,this.g={}}Fn(Kf,Go);var y9=[];function E9(t,e,n,r){Array.isArray(n)||(n&&(y9[0]=n.toString()),n=y9);for(var i=0;i<n.length;i++){var s=d9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function x9(t){mE(t.g,function(e,n){this.g.hasOwnProperty(n)&&xE(e)},t),t.g={}}function I1(){this.g=!0}function Ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kf.prototype.N=function(){Kf.$.N.call(this),x9(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I1.prototype.Ea=function(){this.g=!1},I1.prototype.info=function(){};var Ya={},C9=null;function b1(){return C9=C9||new Vn}function I9(t){fr.call(this,Ya.Ta,t)}function Yf(t){const e=b1();Xn(e,new I9(e))}function b9(t,e){fr.call(this,Ya.STAT_EVENT,t),this.stat=e}function Tr(t){const e=b1();Xn(e,new b9(e,t))}function w9(t,e){fr.call(this,Ya.Ua,t),this.size=e}function Qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}Ya.Ta="serverreachability",Fn(I9,fr),Ya.STAT_EVENT="statevent",Fn(b9,fr),Ya.Ua="timingevent",Fn(w9,fr);var w1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function SE(){}function D9(){}SE.prototype.h=null;var RE,Xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ME(){fr.call(this,"d")}function PE(){fr.call(this,"c")}function A1(){}function Jf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kf(this),this.P=_ae,this.V=new C1(t=uE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new S9}function S9(){this.i=null,this.g="",this.h=!1}Fn(ME,fr),Fn(PE,fr),Fn(A1,SE),A1.prototype.g=function(){return new XMLHttpRequest},A1.prototype.i=function(){return{}},RE=new A1;var _ae=45e3,kE={},T1={};function NE(t,e,n){t.L=1,t.v=P1(co(e)),t.s=n,t.S=!0,M9(t,null)}function M9(t,e){t.G=Date.now(),Zf(t),t.A=co(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),H9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new S9,t.g=uk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new fae(dr(t.Pa,t,t.g),t.O)),E9(t.U,t.g,"readystatechange",t.nb),e=t.I?c9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yf(),function hae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function P9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function R9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=vae(t,n),i==T1){4==e&&(t.o=4,Tr(14),r=!1),Ul(t.j,t.m,null,"[Incomplete Response]");break}if(i==kE){t.o=4,Tr(15),Ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ul(t.j,t.m,i,null),OE(t,i)}P9(t)&&i!=T1&&i!=kE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),UE(e),e.M=!0,Tr(11))):(Ul(t.j,t.m,n,"[Invalid Chunked Response]"),Qa(t),eh(t))}function vae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?T1:(n=Number(e.substring(n,r)),isNaN(n)?kE:(r+=1)+n>e.length?T1:(e=e.slice(r,r+n),t.C=r+n,e))}function Zf(t){t.Y=Date.now()+t.P,k9(t,t.P)}function k9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qf(dr(t.lb,t),e)}function D1(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function eh(t){0==t.l.H||t.J||ok(t.l,t)}function Qa(t){D1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TE(t.V),x9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function OE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||FE(n.i,t)))if(!t.K&&FE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;V1(n),O1(n)}zE(n),Tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qf(dr(n.ib,n),6e3));if(1>=j9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ja(n,11)}else if((t.K||n.g==t)&&V1(n),!jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(VE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,zt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=lk(r,r.J?r.pa:null,r.Y),o.K){$9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(D1(a),Zf(a)),r.g=o}else ik(r);0<n.j.length&&F1(n)}else"stop"!=l[0]&&"close"!=l[0]||Ja(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ja(n,7):HE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Yf()}catch{}}function N9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Eae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(m1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function yae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(m1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(xe=Jf.prototype).setTimeout=function(t){this.P=t},xe.nb=function(t){t=t.target;const e=this.M;e&&3==vs(t)?e.l():this.Pa(t)},xe.Pa=function(t){try{if(t==this.g)e:{const u=vs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||uE||this.g&&(this.h.h||this.g.ja()||J9(this.g)))){this.J||4!=u||7==e||Yf(),D1(this);var n=this.g.da();this.ca=n;t:if(P9(this)){var r=J9(this.g);t="";var i=r.length,s=4==vs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qa(this),eh(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function pae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Tr(12),Qa(this),eh(this);break e}Ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OE(this,n)}this.S?(R9(this,u,o),uE&&this.i&&3==u&&(E9(this.U,this.V,"tick",this.mb),this.V.start())):(Ul(this.j,this.m,o,null),OE(this,o)),4==u&&Qa(this),this.i&&!this.J&&(4==u?ok(this.l,this):(this.i=!1,Zf(this)))}else(function Lae(t){const e={};t=(t.g&&2<=vs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(jf(t[r]))continue;var n=lae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function nae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Qa(this),eh(this)}}}catch{}},xe.mb=function(){if(this.g){var t=vs(this.g),e=this.g.ja();this.C<e.length&&(D1(this),R9(this,t,e),this.i&&4!=t&&Zf(this))}},xe.cancel=function(){this.J=!0,Qa(this)},xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function gae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yf(),Tr(17)),Qa(this),this.o=2,eh(this)):k9(this,this.Y-t)};var O9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xa){this.h=t.h,S1(this,t.j),this.s=t.s,this.g=t.g,M1(this,t.m),this.l=t.l;var e=t.i,n=new rh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F9(this,n),this.o=t.o}else t&&(e=String(t).match(O9))?(this.h=!1,S1(this,e[1]||"",!0),this.s=th(e[2]||""),this.g=th(e[3]||"",!0),M1(this,e[4]),this.l=th(e[5]||"",!0),F9(this,e[6]||"",!0),this.o=th(e[7]||"")):(this.h=!1,this.i=new rh(null,this.h))}function co(t){return new Xa(t)}function S1(t,e,n){t.j=n?th(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function M1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F9(t,e,n){e instanceof rh?(t.i=e,function Tae(t,e){e&&!t.j&&(qo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L9(this,r),H9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=nh(e,wae)),t.i=new rh(e,t.h))}function zt(t,e,n){t.i.set(e,n)}function P1(t){return zt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function th(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nh(e,V9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nh(e,V9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(nh(n,"/"==n.charAt(0)?bae:Iae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nh(n,Aae)),t.join("")};var V9=/[#\/\?@]/g,Iae=/[#\?:]/g,bae=/[#\?]/g,wae=/[#\?@]/g,Aae=/#/g;function rh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qo(t){t.g||(t.g=new Map,t.h=0,t.i&&function xae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function L9(t,e){qo(t),e=jl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function B9(t,e){return qo(t),e=jl(t,e),t.g.has(e)}function H9(t,e,n){L9(t,e),0<n.length&&(t.i=null,t.g.set(jl(t,e),cE(n)),t.h+=n.length)}function jl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function z9(t){this.l=t||Sae,t=$e.PerformanceNavigationTiming?0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=rh.prototype).add=function(t,e){qo(this),this.i=null,t=jl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},xe.forEach=function(t,e){qo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},xe.ta=function(){qo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},xe.Z=function(t){qo(this);let e=[];if("string"==typeof t)B9(this,t)&&(e=e.concat(this.g.get(jl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},xe.set=function(t,e){return qo(this),this.i=null,B9(this,t=jl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Sae=10;function U9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function j9(t){return t.h?1:t.g?t.g.size:0}function FE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function VE(t,e){t.g?t.g.add(e):t.h=e}function $9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function G9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cE(t.i)}z9.prototype.cancel=function(){if(this.i=G9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Mae=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function Pae(){this.g=new Mae}function Rae(t,e,n){const r=n||"";try{N9(t,function(i,s){let o=i;Uf(i)&&(o=wE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ih(t){this.l=t.ec||null,this.j=t.ob||!1}function k1(t,e){Vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(ih,SE),ih.prototype.g=function(){return new k1(this.l,this.j)},ih.prototype.i=function(t){return function(){return t}}({}),Fn(k1,Vn);var LE=0;function q9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,oh(t)}function oh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=k1.prototype).open=function(t,e){if(this.readyState!=LE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,oh(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sh(this)),this.readyState=LE},xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,oh(this)),this.g&&(this.readyState=3,oh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sh(this):oh(this),3==this.readyState&&q9(this)}},xe.Za=function(t){this.g&&(this.response=this.responseText=t,sh(this))},xe.Ya=function(t){this.g&&(this.response=t,sh(this))},xe.ka=function(){this.g&&sh(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(k1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nae=$e.JSON.parse;function cn(t){Vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W9,this.L=this.M=!1}Fn(cn,Vn);var W9="",Oae=/^https?$/i,Fae=["POST","PUT"];function K9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Y9(t),N1(t)}function Y9(t){t.F||(t.F=!0,Xn(t,"complete"),Xn(t,"error"))}function Q9(t){if(t.h&&typeof oE<"u"&&(!t.C[1]||4!=vs(t)||2!=t.da()))if(t.v&&4==vs(t))DE(t.La,0,t);else if(Xn(t,"readystatechange"),4==vs(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(O9)[1]||null;!i&&$e.self&&$e.self.location&&(i=$e.self.location.protocol.slice(0,-1)),r=!Oae.test(i?i.toLowerCase():"")}n=r}if(n)Xn(t,"complete"),Xn(t,"success");else{t.m=6;try{var s=2<vs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Y9(t)}}finally{N1(t)}}}function N1(t,e){if(t.g){X9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function X9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function vs(t){return t.g?t.g.readyState:0}function J9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Z9(t){let e="";return mE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function BE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Z9(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):zt(t,e,n))}function ah(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ek(t){this.Ga=0,this.j=[],this.l=new I1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ah("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ah("baseRetryDelayMs",5e3,t),this.hb=ah("retryDelaySeedMs",1e4,t),this.eb=ah("forwardChannelMaxRetries",2,t),this.xa=ah("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new z9(t&&t.concurrentRequestLimit),this.Ja=new Pae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HE(t){if(tk(t),3==t.H){var e=t.W++,n=co(t.I);if(zt(n,"SID",t.K),zt(n,"RID",e),zt(n,"TYPE","terminate"),ch(t,n),(e=new Jf(t,t.l,e)).L=2,e.v=P1(co(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=uk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zf(e)}ck(t)}function O1(t){t.g&&(UE(t),t.g.cancel(),t.g=null)}function tk(t){O1(t),t.u&&($e.clearTimeout(t.u),t.u=null),V1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function F1(t){if(!U9(t.i)&&!t.m){t.m=!0;var e=t.Na;qf||_9(),Wf||(qf(),Wf=!0),AE.add(e,t),t.C=0}}function nk(t,e){var n;n=e?e.m:t.W++;const r=co(t.I);zt(r,"SID",t.K),zt(r,"RID",n),zt(r,"AID",t.V),ch(t,r),t.o&&t.s&&BE(r,t.o,t.s),n=new Jf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),VE(t.i,n),NE(n,r,e)}function ch(t,e){t.na&&mE(t.na,function(n,r){zt(e,r,n)}),t.h&&N9({},function(n,r){zt(e,r,n)})}function rk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Rae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ik(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qf||_9(),Wf||(qf(),Wf=!0),AE.add(e,t),t.A=0}}function zE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Qf(dr(t.Ma,t),ak(t,t.A)),t.A++,0))}function UE(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function sk(t){t.g=new Jf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=co(t.wa);zt(e,"RID","rpc"),zt(e,"SID",t.K),zt(e,"AID",t.V),zt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&zt(e,"TO",t.qa),zt(e,"TYPE","xmlhttp"),ch(t,e),t.o&&t.s&&BE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=P1(co(e)),n.s=null,n.S=!0,M9(n,t)}function V1(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function ok(t,e){var n=null;if(t.g==e){V1(t),UE(t),t.g=null;var r=2}else{if(!FE(t.i,e))return;n=e.F,$9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xn(r=b1(),new w9(r,n)),F1(t)}else ik(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Bae(t,e){return!(j9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Qf(dr(t.Na,t,e),ak(t,t.C)),t.C++,0)))}(t,e)||2==r&&zE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ja(t,5);break;case 4:Ja(t,10);break;case 3:Ja(t,6);break;default:Ja(t,2)}}function ak(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ja(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||S1(n,"https"),P1(n)),function kae(t,e){const n=new I1;if($e.Image){const r=new Image;r.onload=_1(R1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_1(R1,n,r,"TestLoadImage: error",!1,e),r.onabort=_1(R1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_1(R1,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tr(2);t.H=0,t.h&&t.h.za(e),ck(t),tk(t)}function ck(t){if(t.H=0,t.ma=[],t.h){const e=G9(t.i);(0!=e.length||0!=t.j.length)&&(r9(t.ma,e),r9(t.ma,t.j),t.i.i.length=0,cE(t.j),t.j.length=0),t.h.ya()}}function lk(t,e,n){var r=n instanceof Xa?co(n):new Xa(n);if(""!=r.g)e&&(r.g=e+"."+r.g),M1(r,r.m);else{var i=$e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xa(null);r&&S1(s,r),e&&(s.g=e),i&&M1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&zt(r,n,e),zt(r,"VER",t.ra),ch(t,r),r}function uk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cn(n&&t.Ha&&!t.va?new ih({ob:!0}):t.va)).Oa(t.J),e}function dk(){}function L1(){if(zl&&!(10<=Number(Joe)))throw Error("Environmental error: no available transport.")}function ci(t,e){Vn.call(this),this.g=new ek(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $l(this)}function fk(t){ME.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hk(){PE.call(this),this.status=1}function $l(t){this.g=t}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function It(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(xe=cn.prototype).Oa=function(t){this.M=t},xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():RE.g(),this.C=function T9(t){return t.h||(t.h=t.i())}(this.u?this.u:RE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void K9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$e.FormData&&t instanceof $e.FormData,!(0<=n9(Fae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X9(this),0<this.B&&((this.L=function Vae(t){return zl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=DE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){K9(this,s)}},xe.ua=function(){typeof oE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xn(this,"complete"),Xn(this,"abort"),N1(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N1(this,!0)),cn.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?Q9(this):this.kb())},xe.kb=function(){Q9(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nae(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=ek.prototype).ra=8,xe.H=1,xe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Jf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=c9(s),u9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rk(this,i,e),zt(n=co(this.I),"RID",t),zt(n,"CVER",22),this.F&&zt(n,"X-HTTP-Session-Id",this.F),ch(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Z9(s)))+"&"+e:this.o&&BE(n,this.o,s)),VE(this.i,i),this.bb&&zt(n,"TYPE","init"),this.P?(zt(n,"$req",e),zt(n,"SID","null"),i.aa=!0,NE(i,n,null)):NE(i,n,e),this.H=2}}else 3==this.H&&(t?nk(this,t):0==this.j.length||U9(this.i)||nk(this))},xe.Ma=function(){if(this.u=null,sk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qf(dr(this.jb,this),t)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),O1(this),sk(this))},xe.ib=function(){null!=this.v&&(this.v=null,O1(this),zE(this),Tr(19))},xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=dk.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},L1.prototype.g=function(t,e){return new ci(t,e)},Fn(ci,Vn),ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lk(t,null,t.Y),F1(t)},ci.prototype.close=function(){HE(this.g)},ci.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=wE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&F1(e)},ci.prototype.N=function(){this.g.h=null,delete this.j,HE(this.g),delete this.g,ci.$.N.call(this)},Fn(fk,ME),Fn(hk,PE),Fn($l,dk),$l.prototype.Ba=function(){Xn(this.g,"a")},$l.prototype.Aa=function(t){Xn(this.g,new fk(t))},$l.prototype.za=function(t){Xn(this.g,new hk)},$l.prototype.ya=function(){Xn(this.g,"b")},Fn(Gi,function Hae(){this.blockSize=-1}),Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)jE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jE(this,r),i=0;break}}this.h=i,this.i+=e},Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var zae={};function $E(t){return-128<=t&&128>t?function Yoe(t,e){var n=zae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new It([0|e],0>e?-1:0)}):new It([0|t],0>t?-1:0)}function ys(t){if(isNaN(t)||!isFinite(t))return Gl;if(0>t)return Jn(ys(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=GE;return new It(e,0)}var GE=4294967296,Gl=$E(0),qE=$E(1),gk=$E(16777216);function lo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Si(t){return-1==t.h}function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new It(n,~t.h).add(qE)}function B1(t,e){return t.add(Jn(e))}function H1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lh(t,e){this.g=t,this.h=e}function z1(t,e){if(lo(e))throw Error("division by zero");if(lo(t))return new lh(Gl,Gl);if(Si(t))return e=z1(Jn(t),e),new lh(Jn(e.g),Jn(e.h));if(Si(e))return e=z1(t,Jn(e)),new lh(Jn(e.g),e.h);if(30<t.g.length){if(Si(t)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qE,r=e;0>=r.X(t);)n=mk(n),r=mk(r);var i=ql(n,1),s=ql(r,1);for(r=ql(r,2),n=ql(n,2);!lo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ql(r,1),n=ql(n,1)}return e=B1(t,i.R(e)),new lh(i,e)}for(i=Gl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ys(n)).R(e);Si(o)||0<o.X(t);)o=(s=ys(n-=r)).R(e);lo(s)&&(s=qE),i=i.add(s),t=B1(t,o)}return new lh(i,t)}function mk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new It(n,t.h)}function ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new It(i,t.h)}(xe=It.prototype).ea=function(){if(Si(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:GE+r)*e,e*=GE}return t},xe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(lo(this))return"0";if(Si(this))return"-"+Jn(this).toString(t);for(var e=ys(Math.pow(t,6)),n=this,r="";;){var i=z1(n,e).g,s=((0<(n=B1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(lo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},xe.X=function(t){return Si(t=B1(this,t))?-1:lo(t)?0:1},xe.abs=function(){return Si(this)?Jn(this):this},xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new It(n,-2147483648&n[n.length-1]?-1:0)},xe.R=function(t){if(lo(this)||lo(t))return Gl;if(Si(this))return Si(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(Si(t))return Jn(this.R(Jn(t)));if(0>this.X(gk)&&0>t.X(gk))return ys(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,H1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,H1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,H1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,H1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new It(n,0)},xe.gb=function(t){return z1(this,t).h},xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new It(n,this.h&t.h)},xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new It(n,this.h|t.h)},xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new It(n,this.h^t.h)},L1.prototype.createWebChannel=L1.prototype.g,ci.prototype.send=ci.prototype.u,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,w1.NO_ERROR=0,w1.TIMEOUT=8,w1.HTTP_ERROR=6,A9.COMPLETE="complete",D9.EventType=Xf,Xf.OPEN="a",Xf.CLOSE="b",Xf.ERROR="c",Xf.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,cn.prototype.listenOnce=cn.prototype.P,cn.prototype.getLastError=cn.prototype.Sa,cn.prototype.getLastErrorCode=cn.prototype.Ia,cn.prototype.getStatus=cn.prototype.da,cn.prototype.getResponseJson=cn.prototype.Wa,cn.prototype.getResponseText=cn.prototype.ja,cn.prototype.send=cn.prototype.ha,cn.prototype.setWithCredentials=cn.prototype.Oa,Gi.prototype.digest=Gi.prototype.l,Gi.prototype.reset=Gi.prototype.reset,Gi.prototype.update=Gi.prototype.j,It.prototype.add=It.prototype.add,It.prototype.multiply=It.prototype.R,It.prototype.modulo=It.prototype.gb,It.prototype.compare=It.prototype.X,It.prototype.toNumber=It.prototype.ea,It.prototype.toString=It.prototype.toString,It.prototype.getBits=It.prototype.D,It.fromNumber=ys,It.fromString=function pk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jn(pk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ys(Math.pow(e,8)),r=Gl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ys(Math.pow(e,s)),r=r.R(s).add(ys(o))):r=(r=r.R(n)).add(ys(o))}return r};var Uae=$i.createWebChannelTransport=function(){return new L1},jae=$i.getStatEventTarget=function(){return b1()},WE=$i.ErrorCode=w1,$ae=$i.EventType=A9,Gae=$i.Event=Ya,_k=$i.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qae=$i.FetchXmlHttpFactory=ih,U1=$i.WebChannel=D9,Wae=$i.XhrIo=cn,Kae=$i.Md5=Gi,Wl=$i.Integer=It;const vk="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Kl="10.5.2";const Wo=new bf("@firebase/firestore");function Yl(){return Wo.logLevel}function ie(t,...e){if(Wo.logLevel<=at.DEBUG){const n=e.map(KE);Wo.debug(`Firestore (${Kl}): ${t}`,...n)}}function gn(t,...e){if(Wo.logLevel<=at.ERROR){const n=e.map(KE);Wo.error(`Firestore (${Kl}): ${t}`,...n)}}function li(t,...e){if(Wo.logLevel<=at.WARN){const n=e.map(KE);Wo.warn(`Firestore (${Kl}): ${t}`,...n)}}function KE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function Me(t,e){t||Te()}function me(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class yk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class Qae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xae{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me("string"==typeof r.accessToken),new yk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Ln(e)}}class Jae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ece{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me("string"==typeof n.token),this.R=n.token,new Ek(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class xk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=tce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new nn(0,0))}static max(){return new ke(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends uh{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const nce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends uh{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return nce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}function bk(t){return new ui(t.readTime,t.key,-1)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(ke.min(),_e.empty(),-1)}static max(){return new ui(ke.max(),_e.empty(),-1)}}function QE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_e.comparator(t.documentKey,e.documentKey),0!==n?n:ze(t.largestBatchId,e.largestBatchId))}const wk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(t){return XE.apply(this,arguments)}function XE(){return XE=v(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==wk)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),XE.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Yo(t){return"IndexedDbTransactionError"===t.name}let di=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fh(t){return null==t}function hh(t){return 0===t&&1/t==-1/0}function Nk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ok(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new G1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new G1(this.root,e,this.comparator,!1)}getReverseIterator(){return new G1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new G1(this.root,e,this.comparator,!0)}}class G1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1,Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fk(this.data.getIterator())}getIteratorFrom(e){return new Fk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Fk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new Dt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Vk("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Dce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(Me(!!t),"string"==typeof t){let e=0;const n=Dce.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function uo(t){return"string"==typeof t?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function q1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W1(t){const e=t.mapValue.fields.__previous_value__;return q1(e)?W1(e):e}function ph(t){const e=Xo(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}class Sce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q1(t)?4:zk(t)?9007199254740991:10:Te()}function xs(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ph(t).isEqual(ph(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xo(i.timestampValue),a=Xo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,uo(t.bytesValue).isEqual(uo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ln(i.geoPointValue.latitude)===ln(s.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ln(i.integerValue)===ln(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ln(i.doubleValue),a=ln(s.doubleValue);return o===a?hh(o)===hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Nk(o)!==Nk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!xs(o[c],a[c])))return!1;return!0}(t,e);default:return Te()}var s}function gh(t,e){return void 0!==(t.values||[]).find(n=>xs(n,e))}function ea(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ln(s.integerValue||s.doubleValue),c=ln(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Lk(t.timestampValue,e.timestampValue);case 4:return Lk(ph(t),ph(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=uo(s),c=uo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ze(a[l],c[l]);if(0!==u)return u}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(ln(s.latitude),ln(o.latitude));return 0!==a?a:ze(ln(s.longitude),ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ea(a[l],c[l]);if(u)return u}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Jo.mapValue&&o===Jo.mapValue)return 0;if(s===Jo.mapValue)return 1;if(o===Jo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=ze(c[d],u[d]);if(0!==f)return f;const h=ea(a[c[d]],l[u[d]]);if(0!==h)return h}return ze(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function Lk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ze(t,e);const n=Xo(t),r=Xo(e),i=ze(n.seconds,r.seconds);return 0!==i?i:ze(n.nanos,r.nanos)}function eu(t){return e8(t)}function e8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?uo(t.bytesValue).toBase64():"referenceValue"in t?_e.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=e8(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${e8(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function rc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t8(t){return!!t&&"integerValue"in t}function mh(t){return!!t&&"arrayValue"in t}function Bk(t){return!!t&&"nullValue"in t}function Hk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q1(t){return!!t&&"mapValue"in t}function _h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_h(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_h(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new er(_h(this.value))}}function $k(t){const e=[];return Qo(t.fields,(n,r)=>{const i=new Qt([n]);if(Q1(r)){const s=$k(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yr(e)}class Ut{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,ke.min(),ke.min(),ke.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,ke.min(),ke.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,ke.min(),ke.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ta{constructor(e,n){this.position=e,this.inclusive=n}}function Gk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?_e.comparator(_e.fromName(o.referenceValue),n.key):ea(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Wk{}class it extends Wk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new kce(e,n,r):"array-contains"===n?new Fce(e,r):"in"===n?new Zk(e,r):"not-in"===n?new Vce(e,r):"array-contains-any"===n?new Lce(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Nce(e,r):new Oce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ea(n,this.value)):null!==n&&Zo(this.value)===Zo(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends Wk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new bt(e,n)}matches(e){return tu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tu(t){return"and"===t.op}function r8(t){return function Kk(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}(t)&&tu(t)}function i8(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(r8(t))return t.filters.map(e=>i8(e)).join(",");{const e=t.filters.map(n=>i8(n)).join(",");return`${t.op}(${e})`}}function Yk(t,e){return t instanceof it?(r=t,(i=e)instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&xs(r.value,i.value)):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Yk(o,i.filters[a]),!0)}(t,e):void Te();var r,i}function Xk(t){return t instanceof it?`${(n=t).field.canonicalString()} ${n.op} ${eu(n.value)}`:t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(Xk).join(" ,")+"}"}(t):"Filter";var n}class kce extends it{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nce extends it{constructor(e,n){super(e,"in",n),this.keys=Jk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oce extends it{constructor(e,n){super(e,"not-in",n),this.keys=Jk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Fce extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mh(n)&&gh(n.arrayValue,this.value)}}class Zk extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&gh(this.value.arrayValue,n)}}class Vce extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!gh(this.value.arrayValue,n)}}class Lce extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class Bce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function s8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bce(t,e,n,r,i,s,o)}function ic(t){const e=me(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eu(r)).join(",")),e.ce=n}return e.ce}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qk(t.startAt,e.startAt)&&qk(t.endAt,e.endAt)}function X1(t){return _e.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function nu(t){return new fo(t)}function rN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function o8(t){return null!==t.collectionGroup}function ru(t){const e=me(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(Qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new vh(s,r))}),n.has(Qt.keyField().canonicalString())||e.le.push(new vh(Qt.keyField(),r))}return e.le}function Dr(t){const e=me(t);return e.he||(e.he=function iN(t,e){if("F"===t.limitType)return s8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new vh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return s8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ru(t))),e.he}function a8(t,e){const n=t.filters.concat([e]);return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z1(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return yh(Dr(t),Dr(e))&&t.limitType===e.limitType}function sN(t){return`${ic(Dr(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Xk(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>eu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>eu(i)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ru(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Gk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(o,a,c){const l=Gk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ru(r),i)));var r,i}function aN(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const s=Hce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Hce(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?ea(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ok(this.inner)}size(){return this.innerSize}}const zce=new Lt(_e.comparator);function Qr(){return zce}const cN=new Lt(_e.comparator);function Ch(...t){let e=cN;for(const n of t)e=e.insert(n.key,n);return e}function lN(t){let e=cN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return Ih()}function uN(){return Ih()}function Ih(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const Uce=new Lt(_e.comparator),jce=new Dt(_e.comparator);function Qe(...t){let e=jce;for(const n of t)e=e.add(n);return e}const $ce=new Dt(ze);function dN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function hN(t,e){return function Tk(t){return"number"==typeof t&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?fN(e):dN(t,e)}class em{constructor(){this._=void 0}}function Gce(t,e,n){return t instanceof su?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&q1(s)&&(s=W1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sc?gN(t,e):t instanceof oc?mN(t,e):function(i,s){const o=pN(i,s),a=_N(o)+_N(i.Ie);return t8(o)&&t8(i.Ie)?fN(a):dN(i.serializer,a)}(t,e)}function qce(t,e,n){return t instanceof sc?gN(t,e):t instanceof oc?mN(t,e):n}function pN(t,e){return t instanceof ou?t8(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class su extends em{}class sc extends em{constructor(e){super(),this.elements=e}}function gN(t,e){const n=vN(e);for(const r of t.elements)n.some(i=>xs(i,r))||n.push(r);return{arrayValue:{values:n}}}class oc extends em{constructor(e){super(),this.elements=e}}function mN(t,e){let n=vN(e);for(const r of t.elements)n=n.filter(i=>!xs(i,r));return{arrayValue:{values:n}}}class ou extends em{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function _N(t){return ln(t.integerValue||t.doubleValue)}function vN(t){return mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kce{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nm{}function yN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cu(t.key,Xt.none()):new au(t.key,t.data,Xt.none());{const n=t.data,r=er.empty();let i=new Dt(Qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new po(t.key,r,new Yr(i.toArray()),Xt.none())}}function Yce(t,e,n){t instanceof au?function(i,s,o){const a=i.value.clone(),c=CN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(i,s,o){if(!tm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=CN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(xN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wh(t,e,n,r){return t instanceof au?function(s,o,a,c){if(!tm(s.precondition,o))return a;const l=s.value.clone(),u=IN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,o,a,c){if(!tm(s.precondition,o))return a;const l=IN(s.fieldTransforms,c,o),u=o.data;return u.setAll(xN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,tm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Qce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pN(r.transform,i||null);null!=s&&(null===n&&(n=er.empty()),n.set(r.field,s))}return n||null}function EN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Ql(r,i,(s,o)=>function Wce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof sc&&i instanceof sc||r instanceof oc&&i instanceof oc?Ql(r.elements,i.elements,xs):r instanceof ou&&i instanceof ou?xs(r.Ie,i.Ie):r instanceof su&&i instanceof su);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class au extends nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function xN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CN(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qce(o,a,n[i]))}return r}function IN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Gce(s,o,e))}return r}class cu extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l8 extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=yN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,r)=>EN(n,r))&&Ql(this.baseMutations,e.baseMutations,(n,r)=>EN(n,r))}}class d8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=Uce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new d8(e,n,r,i)}}class f8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jce{constructor(e,n){this.count=e,this.unchangedNames=n}}var In,ht;function wN(t){if(void 0===t)return gn("GRPC error has no .code"),B.UNKNOWN;switch(t){case In.OK:return B.OK;case In.CANCELLED:return B.CANCELLED;case In.UNKNOWN:return B.UNKNOWN;case In.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case In.INTERNAL:return B.INTERNAL;case In.UNAVAILABLE:return B.UNAVAILABLE;case In.UNAUTHENTICATED:return B.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case In.NOT_FOUND:return B.NOT_FOUND;case In.ALREADY_EXISTS:return B.ALREADY_EXISTS;case In.PERMISSION_DENIED:return B.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case In.ABORTED:return B.ABORTED;case In.OUT_OF_RANGE:return B.OUT_OF_RANGE;case In.UNIMPLEMENTED:return B.UNIMPLEMENTED;case In.DATA_LOSS:return B.DATA_LOSS;default:return Te()}}(ht=In||(In={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";const Zce=new Wl([4294967295,4294967295],0);function TN(t){const e=function AN(){return new TextEncoder}().encode(t),n=new Kae;return n.update(e),new Uint8Array(n.digest())}function DN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wl([n,r],0),new Wl([i,s],0)]}class h8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ah(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wl.fromNumber(r)));return 1===i.compare(Zce)&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=TN(e),[r,i]=DN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new h8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=TN(e),[r,i]=DN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(ke.min(),i,new Lt(ze),Qr(),Qe())}}class Dh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dh(r,n,Qe(),Qe(),Qe())}}class im{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class SN{constructor(e,n){this.targetId=e,this.fe=n}}class MN{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PN{constructor(){this.ge=0,this.pe=kN(),this.ye=Mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Dh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=kN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ele{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qr(),this.Qe=RN(),this.Ke=new Lt(ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(X1(s))if(0===r){const o=new _e(s.path);this.We(n,o,Ut.newNoDocument(o,ke.min()))}else Me(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=uo(r).toUint8Array()}catch(c){if(c instanceof Vk)return li("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new h8(o,i,s)}catch(c){return li(c instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&X1(a.target)){const c=new _e(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Ut.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Th(e,n,this.Ke,this.qe,r);return this.qe=Qr(),this.Qe=RN(),this.Ke=new Lt(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new PN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Dt(ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new PN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function RN(){return new Lt(_e.comparator)}function kN(){return new Lt(_e.comparator)}const tle={asc:"ASCENDING",desc:"DESCENDING"},nle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rle={and:"AND",or:"OR"};class ile{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p8(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sle(t,e){return lu(t,e.toTimestamp())}function mn(t){return Me(!!t),ke.fromTimestamp(function(n){const r=Xo(n);return new nn(r.seconds,r.nanos)}(t))}function g8(t,e){return(r=t,new ft(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function ON(t){const e=ft.fromString(t);return Me($N(e)),e}function Sh(t,e){return g8(t.databaseId,e.path)}function Is(t,e){const n=ON(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(VN(n))}function m8(t,e){return g8(t.databaseId,e)}function Mh(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VN(t){return Me(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function LN(t,e,n){return{name:Sh(t,e),fields:n.value.mapValue.fields}}function HN(t,e){return{documents:[m8(t,e.path)]}}function v8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=m8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=m8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return jN(bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:na((d=l).field),direction:ule(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=p8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function zN(t){let e=function FN(t){const e=ON(t);return 4===e.length?ft.emptyPath():VN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=UN(d);return f instanceof bt&&r8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new vh(uu((p=f).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,fh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new ta((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new ta(d.values||[],!d.before)}(n.endAt)),function nN(t,e,n,r,i,s,o,a){return new fo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function UN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uu(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?it.create(uu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return bt.create(n.compositeFilter.filters.map(r=>UN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function ule(t){return tle[t]}function dle(t){return nle[t]}function fle(t){return rle[t]}function na(t){return{fieldPath:t.canonicalString()}}function uu(t){return Qt.fromServerFormat(t.fieldPath)}function jN(t){return t instanceof it?function(n){if("=="===n.op){if(Hk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(Bk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Hk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(Bk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:dle(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>jN(i));return 1===r.length?r[0]:{compositeFilter:{op:fle(n.op),filters:r}}}(t):Te()}function hle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $N(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class go{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GN{constructor(e){this.ut=e}}function y8(t){const e=zN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Z1(e,e.limit,"L"):e}class uc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ln(e.integerValue));else if("doubleValue"in e){const r=ln(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),hh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(uo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?zk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),_e.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}uc.St=new uc;class xle{constructor(){this.on=new w8}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(ui.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class w8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(ft.comparator)).toArray()}}new Uint8Array(0);class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class fc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fc(0)}static Nn(){return new fc(-1)}}class Tle{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&wh(r.mutation,i,Yr.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ch();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qr();const o=Ih(),a=Ih();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof po)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),wh(u.mutation,l,u.mutation.getFieldMask(),nn.now())):o.set(l.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Mle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new Lt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Yr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=uN();u.forEach(f=>{if(!s.has(f)){const h=yN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _e.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):o8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Cs());let a=-1,c=s;return o.next(l=>R.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:lN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,c=>{const l=(d=n,f=c.child(s),new fo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Ut.newInvalidDocument(u)))});let a=Ch();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&wh(u.mutation,l,Yr.empty(),nn.now()),xh(n,l)&&(a=a.insert(c,l))}),a})}}class Ple{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:mn(i.createTime)}),R.resolve();var i}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:y8(i.bundledQuery),readTime:mn(i.readTime)}),R.resolve();var i}}class Rle{constructor(){this.overlays=new Lt(_e.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Lt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Cs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Cs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class A8{constructor(){this.hr=new Dt(Hn.Pr),this.Ir=new Dt(Hn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Hn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new _e(new ft([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new ft([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||ze(e.gr,n.gr)}static Tr(e,n){return ze(e.gr,n.gr)||_e.comparator(e.key,n.key)}}class kle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Dt(Hn.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new u8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(ze);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new _e(s),0);let a=new Dt(ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Me(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Hn(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Nle{constructor(e){this.Cr=e,this.docs=new Lt(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ut.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qr();const o=n.path,a=new _e(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||QE(bk(u),r)<=0||(i.has(u.key)||xh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ole(this)}getSize(e){return R.resolve(this.size)}}class Ole extends Tle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Fle{constructor(e){this.persistence=e,this.Fr=new ho(n=>ic(n),yh),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new A8,this.targetCount=0,this.Nr=fc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}class T8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new di(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Fle(this),this.indexManager=new xle,this.remoteDocumentCache=new Nle(r=>this.referenceDelegate.Qr(r)),this.serializer=new GN(n),this.Kr=new Ple(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new kle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Vle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Vle extends sce{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Gr=new A8,this.zr=null}static jr(e){return new fm(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=_e.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class P8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new P8(e,n.fromCache,r,i)}}class Ble{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ble;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Yl()<=at.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Yl()<=at.DEBUG&&ie("QueryEngine","Query:",iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Yl()<=at.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):R.resolve())}zi(e,n){if(rN(n))return R.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Z1(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Z1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return rN(n)||i.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Yl()<=at.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iu(n)),this.Xi(e,o,n,function Ik(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new nn(n+1,0):new nn(n,r));return new ui(i,_e.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Dt(aN(e));return n.forEach((i,s)=>{xh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Yl()<=at.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",iu(n)),this.Gi.getDocumentsMatchingQuery(e,n,ui.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Lt(ze),this.ns=new ho(s=>ic(s),yh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function CO(t,e){return R8.apply(this,arguments)}function R8(){return R8=v(function*(t,e){const n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),R8.apply(this,arguments)}function IO(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function jle(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e,n){return k8.apply(this,arguments)}function k8(){return k8=v(function*(t,e,n){const r=me(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yo(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),k8.apply(this,arguments)}function gm(t,e,n){const r=me(t);let i=ke.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=me(c),f=d.ns.get(u);return void 0!==f?R.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Qe())).next(a=>(function TO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function oN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class L8{constructor(){this.activeTargetIds=function c8(){return $ce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MO{constructor(){this.eo=new L8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new L8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qle{ro(e){}shutdown(){}}class PO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vm=null;function H8(){return null===vm?vm=268435456+Math.round(2147483648*Math.random()):vm++,"0x"+vm.toString(16)}const Wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const gr="WebChannelConnection";class Yle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=H8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw li("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Kl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Wle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=H8();return new Promise((o,a)=>{const c=new Wae;c.setWithCredentials(!0),c.listenOnce($ae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case WE.NO_ERROR:const u=c.getResponseJson();ie(gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case WE.TIMEOUT:ie(gr,`RPC '${e}' ${s} timed out`),a(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const d=c.getStatus();if(ie(gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(y){const S=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(B.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(gr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(gr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=H8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uae(),a=jae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new qae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(gr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Kle({co:y=>{h?ie(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ie(gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(gr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,S,w)=>{y.listen(S,j=>{try{w(j)}catch(Y){setTimeout(()=>{throw Y},0)}})};return g(d,U1.EventType.OPEN,()=>{h||ie(gr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,U1.EventType.CLOSE,()=>{h||(h=!0,ie(gr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,U1.EventType.ERROR,y=>{h||(h=!0,li(gr,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new se(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,U1.EventType.MESSAGE,y=>{var S;if(!h){const w=y.data[0];Me(!!w);const Y=w.error||(null===(S=w[0])||void 0===S?void 0:S.error);if(Y){ie(gr,`RPC '${e}' stream ${i} received error:`,Y);const he=Y.status;let Re=function(Rn){const Ea=In[Rn];if(void 0!==Ea)return wN(Ea)}(he),Ke=Y.message;void 0===Re&&(Re=B.INTERNAL,Ke="Unknown error status: "+he+" with message "+Y.message),h=!0,p.Ro(new se(Re,Ke)),d.close()}else ie(gr,`RPC '${e}' stream ${i} received:`,w),p.Vo(w)}}),g(a,Gae.STAT_EVENT,y=>{y.stat===_k.PROXY?ie(gr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===_k.NOPROXY&&ie(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function ym(){return typeof document<"u"?document:null}function Bh(t){return new ile(t,!0)}class z8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class kO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new z8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qle extends kO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function ale(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Me(void 0===u||"string"==typeof u),Mn.fromBase64String(u||"")):(Me(void 0===u||u instanceof Uint8Array),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:wN(l.code);return new se(u,l.message||"")}(o);n=new MN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Is(t,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ke.min(),a=new er({mapValue:{fields:r.document.fields}}),c=Ut.newFoundDocument(i,s,o,a);n=new im(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Is(t,r.document),s=r.readTime?mn(r.readTime):ke.min(),o=Ut.newNoDocument(i,s);n=new im([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Is(t,r.document);n=new im([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Jce(i,s);n=new SN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?mn(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Mh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=X1(c)?{documents:HN(s,c)}:{query:v8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NN(s,o.resumeToken);const l=p8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=lu(s,o.snapshotVersion.toTimestamp());const l=p8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function lle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Mh(this.serializer),n.removeTarget=e,this.e_(n)}}class Xle extends kO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function cle(t,e){return t&&t.length>0?(Me(void 0!==e),t.map(n=>function(i,s){let o=mn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=mn(s)),new Kce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.I_(r,n)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Mh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ph(t,e){let n;if(e instanceof au)n={update:LN(t,e.key,e.value)};else if(e instanceof cu)n={delete:Sh(t,e.key)};else if(e instanceof po)n={update:LN(t,e.key,e.data),updateMask:hle(e.fieldMask)};else{if(!(e instanceof l8))return Te();n={verify:Sh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:sle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Te()),n;var s}(this.serializer,r))};this.e_(n)}}class Jle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class eue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class tue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;oa(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=me(u);d.C_.add(4),yield _u(d),d.M_.set("Unknown"),d.C_.delete(4),yield Hh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new eue(r,i)}}function Hh(t){return j8.apply(this,arguments)}function j8(){return j8=v(function*(t){if(oa(t))for(const e of t.v_)yield e(!0)}),j8.apply(this,arguments)}function _u(t){return $8.apply(this,arguments)}function $8(){return $8=v(function*(t){for(const e of t.v_)yield e(!1)}),$8.apply(this,arguments)}function Em(t,e){const n=me(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),W8(n)?q8(n):yu(n).Ho()&&G8(n,e))}function zh(t,e){const n=me(t),r=yu(n);n.D_.delete(e),r.Ho()&&NO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():oa(n)&&n.M_.set("Unknown"))}function G8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).u_(e)}function NO(t,e){t.x_.Oe(e),yu(t).c_(e)}function q8(t){t.x_=new ele({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.M_.g_()}function W8(t){return oa(t)&&!yu(t).jo()&&t.D_.size>0}function oa(t){return 0===me(t).C_.size}function OO(t){t.x_=void 0}function nue(t){return K8.apply(this,arguments)}function K8(){return K8=v(function*(t){t.D_.forEach((e,n)=>{G8(t,e)})}),K8.apply(this,arguments)}function rue(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=v(function*(t,e){OO(t),W8(t)?(t.M_.w_(e),q8(t)):t.M_.set("Unknown")}),Y8.apply(this,arguments)}function iue(t,e,n){return Q8.apply(this,arguments)}function Q8(){return Q8=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof MN&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(t,r)}else if(e instanceof im?t.x_.$e(e):e instanceof SN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield IO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),NO(s,c);const d=new go(u.target,c,l,u.sequenceNumber);G8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield xm(t,r)}var r}),Q8.apply(this,arguments)}function xm(t,e,n){return X8.apply(this,arguments)}function X8(){return X8=v(function*(t,e,n){if(!Yo(e))throw e;t.C_.add(1),yield _u(t),t.M_.set("Offline"),n||(n=()=>IO(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Hh(t)}))}),X8.apply(this,arguments)}function FO(t,e){return e().catch(n=>xm(t,n,e))}function vu(t){return J8.apply(this,arguments)}function J8(){return J8=v(function*(t){const e=me(t),n=aa(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;sue(e);)try{const i=yield jle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,oue(e,i)}catch(i){yield xm(e,i)}VO(e)&&LO(e)}),J8.apply(this,arguments)}function sue(t){return oa(t)&&t.b_.length<10}function oue(t,e){t.b_.push(e);const n=aa(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function VO(t){return oa(t)&&!aa(t).jo()&&t.b_.length>0}function LO(t){aa(t).start()}function aue(t){return Z8.apply(this,arguments)}function Z8(){return Z8=v(function*(t){aa(t).E_()}),Z8.apply(this,arguments)}function cue(t){return ex.apply(this,arguments)}function ex(){return ex=v(function*(t){const e=aa(t);for(const n of t.b_)e.P_(n.mutations)}),ex.apply(this,arguments)}function lue(t,e,n){return tx.apply(this,arguments)}function tx(){return tx=v(function*(t,e,n){const r=t.b_.shift(),i=d8.from(r,e,n);yield FO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),tx.apply(this,arguments)}function uue(t,e){return nx.apply(this,arguments)}function nx(){return nx=v(function*(t,e){var n;e&&aa(t).h_&&(yield(n=v(function*(i,s){if(function bN(t){switch(t){default:return Te();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();aa(i).Yo(),yield FO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),VO(t)&&LO(t)}),nx.apply(this,arguments)}function BO(t,e){return rx.apply(this,arguments)}function rx(){return rx=v(function*(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=oa(n);n.C_.add(3),yield _u(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Hh(n)}),rx.apply(this,arguments)}function sx(){return sx=v(function*(t,e){const n=me(t);e?(n.C_.delete(2),yield Hh(n)):e||(n.C_.add(2),yield _u(n),n.M_.set("Unknown"))}),sx.apply(this,arguments)}function yu(t){return t.O_||(t.O_=function(n,r,i){const s=me(n);return s.A_(),new Qle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:nue.bind(null,t),Io:rue.bind(null,t),a_:iue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),W8(t)?q8(t):t.M_.set("Unknown")):(yield t.O_.stop(),OO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function aa(t){return t.N_||(t.N_=function(n,r,i){const s=me(n);return s.A_(),new Xle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:aue.bind(null,t),Io:uue.bind(null,t),T_:cue.bind(null,t),I_:lue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield vu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ox{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ox(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Yo(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class HO{constructor(){this.B_=new Lt(_e.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,n,xu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class due{constructor(){this.k_=void 0,this.listeners=[]}}class fue{constructor(){this.queries=new ho(e=>sN(e),Eh),this.onlineState="Unknown",this.q_=new Set}}function cx(){return cx=v(function*(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new due),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Eu(o,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&dx(n)}),cx.apply(this,arguments)}function ux(){return ux=v(function*(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),ux.apply(this,arguments)}function hue(t,e){const n=me(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&dx(n)}function pue(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dx(t){t.q_.forEach(e=>{e.next()})}class fx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class jO{constructor(e){this.key=e}}class $O{constructor(e){this.key=e}}class GO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=aN(e),this.aa=new xu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new HO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=xh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Cu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new HO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new $O(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new jO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Cu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class _ue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vue{constructor(e){this.key=e,this.Ra=!1}}class yue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ho(a=>sN(a),Eh),this.fa=new Map,this.ga=new Set,this.pa=new Lt(_e.comparator),this.ya=new Map,this.wa=new A8,this.Sa={},this.ba=new Map,this.Da=fc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Eue(t,e){return hx.apply(this,arguments)}function hx(){return hx=v(function*(t,e){const n=function Fx(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iue.bind(null,e),e.Va.a_=hue.bind(null,e.eventManager),e.Va.Fa=pue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function gu(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Dr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function px(t,e,n,r,i){return gx.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Em(n.remoteStore,o)}return i}),hx.apply(this,arguments)}function gx(){return gx=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(y,S,w,j){let Y=S.view.ca(w);Y.Zi&&(Y=yield gm(y.localStore,S.query,!1).then(({documents:Ke})=>S.view.ca(Ke,Y)));const he=j&&j.targetChanges.get(S.targetId),Re=S.view.applyChanges(Y,y.isPrimaryClient,he);return wx(y,S.targetId,Re.Ta),Re.snapshot}),function g(y,S,w,j){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield gm(t.localStore,e,!0),o=new GO(e,s.ls),a=o.ca(s.documents),c=Dh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);wx(t,n,l.Ta);const u=new _ue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),gx.apply(this,arguments)}function xue(t,e){return mx.apply(this,arguments)}function mx(){return mx=v(function*(t,e){const n=me(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Eh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zh(n.remoteStore,r.targetId),Iu(n,r.targetId)}).catch(Ko))):(Iu(n,r.targetId),yield mu(n.localStore,r.targetId,!0))}),mx.apply(this,arguments)}function _x(){return _x=v(function*(t,e,n){const r=function Vx(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=me(o),l=nn.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Qr(),g=Qe();return c.ss.getEntries(h,u).next(y=>{p=y,p.forEach((S,w)=>{w.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const S=[];for(const w of a){const j=Qce(w,d.get(w.key).overlayedDocument);null!=j&&S.push(new po(w.key,j,$k(j.value.mapValue),Xt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(y=>{f=y;const S=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,y.batchId,S)})}).then(()=>({batchId:f.batchId,changes:lN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Lt(ze)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield mo(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Eu(i,"Failed to persist write");n.reject(s)}}),_x.apply(this,arguments)}function qO(t,e){return vx.apply(this,arguments)}function vx(){return vx=v(function*(t,e){const n=me(t);try{const r=yield function Ule(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,y,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Mn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),y=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Qr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function bO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Me(o.Ra):i.removedDocuments.size>0&&(Me(o.Ra),o.Ra=!1))}),yield mo(n,r,e)}catch(r){yield Ko(r)}}),vx.apply(this,arguments)}function WO(t,e,n){const r=me(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=me(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&dx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Iue(t,e,n){return yx.apply(this,arguments)}function yx(){return yx=v(function*(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Lt(_e.comparator);o=o.insert(s,Ut.newNoDocument(s,ke.min()));const a=Qe().add(s),c=new Th(ke.min(),new Map,new Lt(ze),o,a);yield qO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),Ax(r)}else yield mu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(Ko)}),yx.apply(this,arguments)}function bue(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=v(function*(t,e){const n=me(t),r=e.batch.batchId;try{const i=yield function zle(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=R.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const y=l.docVersions.get(p);Me(null!==y),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);bx(n,r,null),Ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield mo(n,i)}catch(i){yield Ko(i)}}),Ex.apply(this,arguments)}function wue(t,e,n){return xx.apply(this,arguments)}function xx(){return xx=v(function*(t,e,n){const r=me(t);try{const i=yield function(o,a){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Me(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);bx(r,e,n),Ix(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield mo(r,i)}catch(i){yield Ko(i)}}),xx.apply(this,arguments)}function Ix(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function bx(t,e,n){const r=me(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||KO(t,r)})}function KO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(zh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Ax(t))}function wx(t,e,n){for(const r of n)r instanceof jO?(t.wa.addReference(r.key,e),Tue(t,r)):r instanceof $O?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||KO(t,r.key)):Te()}function Tue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),Ax(t))}function Ax(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(ft.fromString(e)),r=t.Da.next();t.ya.set(r,new vue(n)),t.pa=t.pa.insert(n,r),Em(t.remoteStore,new go(Dr(nu(n.path)),r,"TargetPurposeLimboResolution",di._e))}}function mo(t,e,n){return Tx.apply(this,arguments)}function Tx(){return Tx=v(function*(t,e,n){const r=me(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=P8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=me(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(u,h=>R.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>R.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Yo(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,y)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),Tx.apply(this,arguments)}function Due(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=v(function*(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield CO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mo(n,r._s)}var s}),Dx.apply(this,arguments)}function Sue(t,e){const n=me(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Cm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Bh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function xO(t,e,n,r){return new Hle(t,e,n,r)}(this.persistence,new EO,e.initialUser,this.serializer)}createPersistence(e){return new T8(fm.jr,this.serializer)}createSharedClientState(e){return new MO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>WO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Due.bind(null,r.syncEngine),yield function ix(t,e){return sx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fue}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=new Yle(e.databaseInfo);return new Jle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>WO(this.syncEngine,n,0),a=PO.D()?new PO:new qle,new tue(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new yue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=me(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield _u(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Uue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=xk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Eu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function bm(t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield CO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Lx.apply(this,arguments)}function Bx(t,e){return Hx.apply(this,arguments)}function Hx(){return Hx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function zx(t){return Ux.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>BO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>BO(e.remoteStore,s)),t._onlineComponents=e}),Hx.apply(this,arguments)}function Ux(){return Ux=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function eF(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;li("Error using user provided cache. Falling back to memory cache: "+n),yield bm(t,new Cm)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield bm(t,new Cm);return t._offlineComponents}),Ux.apply(this,arguments)}function wm(t){return jx.apply(this,arguments)}function jx(){return jx=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bx(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield Bx(t,new bu))),t._onlineComponents}),jx.apply(this,arguments)}function Au(t){return Gx.apply(this,arguments)}function Gx(){return Gx=v(function*(t){const e=yield wm(t),n=e.eventManager;return n.onListen=Eue.bind(null,e.syncEngine),n.onUnlisten=xue.bind(null,e.syncEngine),n}),Gx.apply(this,arguments)}function oF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aF=new Map;function qx(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cF(t){if(!_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lF(t){if(_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function st(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zue(t,e,n,r){if(!0===e&&!0===r)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Yae;switch(r.type){case"firstParty":return new Zae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),aF.delete(n),r.terminate())}(this),Promise.resolve()}}class tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class bs extends tr{constructor(e,n,r){super(e,n,nu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function tde(t,e,...n){if(t=on(t),qx("collection","path",e),t instanceof Uh){const r=ft.fromString(e,...n);return lF(r),new bs(t,null,r)}{if(!(t instanceof _n||t instanceof bs))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return lF(r),new bs(t.firestore,null,r)}}function fF(t,e,...n){if(t=on(t),1===arguments.length&&(e=xk.newId()),qx("doc","path",e),t instanceof Uh){const r=ft.fromString(e,...n);return cF(r),new _n(t,null,new _e(r))}{if(!(t instanceof _n||t instanceof bs))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return cF(r),new _n(t.firestore,t instanceof bs?t.converter:null,new _e(r))}}class nde{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new z8(this,"async_queue_retry"),this.iu=()=>{const n=ym();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=ym();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Yo(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ox.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Wx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Bt extends Uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pF(this),this._firestoreClient.terminate()}}function ide(t,e){const r="string"==typeof t?t:e||"(default)",i=gs("object"==typeof t?t:Ol(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=EP("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function ede(t,e,n,r={}){var i;const s=(t=st(t,Uh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ln.MOCK_USER;else{a=function Xte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jg(JSON.stringify({alg:"none",type:"JWT"})),jg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ln(l)}t._authCredentials=new Qae(new yk(a,c))}}(i,...s)}return i}function vn(t){return t._firestoreClient||pF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Sce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,oF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Uue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(Mn.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kx{constructor(e){this._methodName=e}}class Yx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const ode=/^__.*__$/;class ade{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class _F{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Tm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Sm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(vF(this.Iu)&&ode.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class cde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}pu(e,n,r,i=!1){return new Tm({Iu:e,methodName:n,gu:r,path:Qt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new cde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Jx("Data must be an object, but it was:",o,r);const a=IF(r,o);let c,l;if(s.merge)c=new Yr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Gh(e,d,n);if(!o.contains(f))throw new se(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wF(u,f)||u.push(f)}c=new Yr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new ade(new er(a),c,l)}class $h extends Kx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function gc(t,e){if(bF(t=on(t)))return Jx("Unsupported field value:",e,t),IF(t,e);if(t instanceof Kx)return function(r,i){if(!vF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=gc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=on(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return hN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=nn.fromDate(r);return{timestampValue:lu(i.serializer,s)}}if(r instanceof nn){const s=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(i.serializer,s)}}if(r instanceof Yx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pc)return{bytesValue:NN(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Am(r)}`)}(t,e)}function IF(t,e){const n={};return Ok(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,(r,i)=>{const s=gc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function bF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Yx||t instanceof pc||t instanceof _n||t instanceof Kx)}function Jx(t,e,n){if(!bF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Am(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Gh(t,e,n){if((e=on(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Dm(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const fde=new RegExp("[~\\*/\\[\\]]");function Dm(t,e,n){if(e.search(fde)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(B.INVALID_ARGUMENT,a+t+c)}function wF(t,e){return t.some(n=>n.isEqual(e))}class Zx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hde extends Zx{data(){return super.data()}}function Mm(t,e){return"string"==typeof e?Dm(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class eC{}class TF extends eC{}function pde(t,e,...n){let r=[];e instanceof eC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Su).length,a=s.filter(c=>c instanceof qh).length;if(o>1||o>0&&a>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qh extends TF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qh(e,n,r)}_apply(e){const n=this._parse(e);return PF(e._query,n),new tr(e.firestore,e.converter,a8(e._query,n))}_parse(e){const n=Du(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){MF(d,u);const h=[];for(const p of d)h.push(SF(c,s,p));f={arrayValue:{values:h}}}else f=SF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||MF(d,u),f=function CF(t,e,n,r=!1){return gc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return it.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function gde(t,e,n){const r=e,i=Mm("where",t);return qh._create(i,r,n)}class Su extends eC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Su(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)PF(o,c),o=a8(o,c)}(e._query,n),new tr(e.firestore,e.converter,a8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Pm extends TF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){return new tr(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}}function mde(t){return function uF(t,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Pm._create("limit",t,"F")}function SF(t,e,n){if("string"==typeof(n=on(n))){if(""===n)throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o8(e)&&-1!==n.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!_e.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rc(t,new _e(r))}if(n instanceof _n)return rc(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function MF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _de{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Yx(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ph(e));default:return null}}convertTimestamp(e){const n=Xo(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Me($N(r));const i=new nc(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends Zx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nm extends Mu{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nm(this._firestore,this._userDataWriter,r.key,r,new mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Nm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Nm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class ca extends _de{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function Ede(t,e,n){t=st(t,_n);const r=st(t.firestore,Bt),i=function nC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Wh(r,[Qx(Du(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Xt.none())])}function xde(t,e,n,...r){t=st(t,_n);const i=st(t.firestore,Bt),s=Du(i);let o;return o="string"==typeof(e=on(e))||e instanceof Tu?function xF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Gh(e,r,n)],c=[i];if(s.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Gh(e,s[f])),c.push(s[f+1]);const l=[],u=er.empty();for(let f=a.length-1;f>=0;--f)if(!wF(l,a[f])){const h=a[f];let p=c[f];p=on(p);const g=o.Ru(h);if(p instanceof $h)l.push(h);else{const y=gc(p,g);null!=y&&(l.push(h),u.set(h,y))}}const d=new Yr(l);return new _F(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function EF(t,e,n,r){const i=t.pu(1,e,n);Jx("Data must be an object, but it was:",i,r);const s=[],o=er.empty();Qo(r,(c,l)=>{const u=Dm(e,c,n);l=on(l);const d=i.Ru(u);if(l instanceof $h)s.push(u);else{const f=gc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Yr(s);return new _F(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Wh(i,[o.toMutation(t._key,Xt.exists(!0))])}function Wh(t,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(v(function*(){return function Cue(t,e,n){return _x.apply(this,arguments)}(yield function $x(t){return wm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(vn(t),e)}!function(e,n=!0){Kl=Nl,Ti(new oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bt(new Xae(r.getProvider("auth-internal")),new ece(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),an(vk,"4.3.2",e),an(vk,"4.3.2","esm2017")}();var Vm=function(){return Vm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Vm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ode={includeMetadataChanges:!1};function oC(t,e){return void 0===e&&(e=Ode),new fe(function(n){var r=function Cde(t,...e){var n,r,i;t=on(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Wx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Wx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof _n)l=st(t.firestore,Bt),u=nu(t._key.path),c={next:d=>{e[o]&&e[o](function rC(t,e,n){const r=n.docs.get(e._key),i=new ca(t);return new Mu(t,i,e._key,r,new mc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=st(t,tr);l=st(d.firestore,Bt),u=d._query;const f=new ca(l);c={next:h=>{e[o]&&e[o](new Pu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function AF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const y=new Im(g),S=new fx(h,y,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function ax(t,e){return cx.apply(this,arguments)}(yield Au(f),S)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function lx(t,e){return ux.apply(this,arguments)}(yield Au(f),S)}))}}(vn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Vde(t,e){return void 0===e&&(e={}),function Fde(t){return oC(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return FF(n,e)}))}function FF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Vm(Vm({},r),((n={})[e.idField]=t.id,n)):r}function jde(t,e){return void 0===e&&(e={}),function Ude(t){return oC(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return FF(r,e)})}))}class ws{constructor(e){return e}}const HF="firestore",lC=new Ee("angularfire2.firestore-instances");function Wde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ws(r)}}const Kde={provide:class Gde{constructor(){return Xg(HF)}},deps:[[new qt,lC]]},Yde={provide:ws,useFactory:function qde(t,e){const n=Qg(HF,t,e);return n&&new ws(n)},deps:[[new qt,lC],Ga]};let Qde=(()=>{var t;class e{constructor(){an("angularfire",Ho.full,"fst")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Yde,Kde]})),e})();function _c(t,...e){return{ngModule:Qde,providers:[{provide:lC,useFactory:Wde(t),multi:!0,deps:[pt,Tn,Tf,Df,[new qt,e9],[new qt,Q4],...e]}]}}const Lm=En(jde,!0),Bm=En(Vde,!0),_o=En(tde,!0),fi=En(fF,!0),vc=En(ide,!0),zF=En(mde,!0),Hm=En(pde,!0),Kh=En(Ede,!0),zm=En(xde,!0),uC=En(gde,!0);class Um{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Ru,dC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(dC||{}),et=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.JS_VERSION="js-version",t.PLAYER_RANKINGS_SORT_MAP="player-rankings-sort-map",t}(et||{});class UF{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Sr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new UF(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(UF,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(et.REMOTE_METADATA)}localMetadata(){return this.get(et.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Ru=Sr).\u0275fac=function(e){return new(e||Ru)},Ru.\u0275prov=Ie({token:Ru,factory:Ru.\u0275fac,providedIn:"platform"}),Zt([Rr(2,qt())],Sr.prototype,"cache",null),Zt([Rr(1,qt())],Sr.prototype,"get",null);var ku,fC=V(874);class As{constructor(){this.localStorageService=q(Sr),this._authState=new Tt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(et.USER))return!1;let n=this.localStorageService.get(et.USER).session.timeToken,r=this.localStorageService.get(et.USER).session.refreshToken,i=Date.parse(fC.AES.decrypt(n,r).toString(fC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Um(s,this.localStorageService.get(et.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(et.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=t9(e).subscribe(r=>{if(null!=r){let i=Lm(Hm(_o(n,"valid-users"),uC("email","==",r.email),zF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:dC.USER},s[0]);o.enabled?(this.localStorageService.cache(et.USER,{session:{timeToken:fC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new Um(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(et.USER),this._authState.emit(new Um(!1,null))})}}signInWithEmailAndPassword(e,n,r){Hoe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){zoe(e,new Vie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(et.USER),this._refreshInProgress=!0,this._authState.emit(new Um(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Ts(t,e){return Fe((n,r)=>{let i=0;n.subscribe(nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function hC(...t){return function Jde(){return Jp(1)}()($n(t,dd(t)))}function jF(...t){const e=dd(t);return Fe((n,r)=>{(e?hC(t,n,e):hC(t,n)).subscribe(r)})}(ku=As).\u0275fac=function(e){return new(e||ku)},ku.\u0275prov=Ie({token:ku,factory:ku.\u0275fac,providedIn:"platform"}),Zt([Rr(0,qt())],As.prototype,"checkLoginValidity",null);const efe=(t,e)=>e.some(n=>t instanceof n);let $F,GF;const qF=new WeakMap,pC=new WeakMap,WF=new WeakMap,gC=new WeakMap,mC=new WeakMap;let _C={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||WF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function afe(t){return"function"==typeof t?function ofe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nfe(){return GF||(GF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vC(this),e),la(qF.get(this))}:function(...e){return la(t.apply(vC(this),e))}:function(e,...n){const r=t.call(vC(this),e,...n);return WF.set(r,e.sort?e.sort():[e]),la(r)}}(t):(t instanceof IDBTransaction&&function ife(t){if(pC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pC.set(t,e)}(t),efe(t,function tfe(){return $F||($F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_C):t)}function la(t){if(t instanceof IDBRequest)return function rfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(la(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qF.set(n,t)}).catch(()=>{}),mC.set(e,t),e}(t);if(gC.has(t))return gC.get(t);const e=afe(t);return e!==t&&(gC.set(t,e),mC.set(e,t)),e}const vC=t=>mC.get(t),lfe=["get","getKey","getAll","getAllKeys","count"],ufe=["put","add","delete","clear"],yC=new Map;function KF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yC.get(e))return yC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ufe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!lfe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return yC.set(e,s),s}!function sfe(t){_C=t(_C)}(t=>({...t,get:(e,n,r)=>KF(e,n)||t.get(e,n,r),has:(e,n)=>!!KF(e,n)||t.has(e,n)}));const YF="@firebase/installations",EC="0.6.4",QF=1e4,XF=`w:${EC}`,JF="FIS_v2",dfe="https://firebaseinstallations.googleapis.com/v1",ffe=36e5,vo=new Lo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ZF(t){return t instanceof ji&&t.code.includes("request-failed")}function xC({projectId:t}){return`${dfe}/projects/${t}/installations`}function eV(t){return{token:t.token,requestStatus:2,expiresIn:mfe(t.expiresIn),creationTime:Date.now()}}function CC(t,e){return IC.apply(this,arguments)}function IC(){return IC=v(function*(t,e){const r=(yield e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),IC.apply(this,arguments)}function tV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bC(t){return wC.apply(this,arguments)}function wC(){return wC=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),wC.apply(this,arguments)}function mfe(t){return Number(t.replace("s","000"))}function AC(){return AC=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xC(t),i=tV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:JF,appId:t.appId,sdkVersion:XF})},c=yield bC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:eV(l.authToken)}}throw yield CC("Create Installation",c)}),AC.apply(this,arguments)}function rV(t){return new Promise(e=>{setTimeout(e,t)})}const Efe=/^[cdef][\w-]{21}$/,TC="";function xfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Cfe(t){return function yfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Efe.test(n)?n:TC}catch{return TC}}function Nu(t){return`${t.appName}!${t.appId}`}const Ou=new Map;function iV(t,e){const n=Nu(t);sV(n,e),function wfe(t,e){const n=function oV(){return!yc&&"BroadcastChannel"in self&&(yc=new BroadcastChannel("[Firebase] FID Change"),yc.onmessage=t=>{sV(t.data.key,t.data.fid)}),yc}();n&&n.postMessage({key:t,fid:e}),function aV(){0===Ou.size&&yc&&(yc.close(),yc=null)}()}(n,e)}function sV(t,e){const n=Ou.get(t);if(n)for(const r of n)r(e)}let yc=null;const Afe="firebase-installations-database",Tfe=1,Ec="firebase-installations-store";let DC=null;function SC(){return DC||(DC=function cfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=la(o);return r&&o.addEventListener("upgradeneeded",c=>{r(la(o.result),c.oldVersion,c.newVersion,la(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Afe,Tfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ec)}})),DC}function jm(t,e){return MC.apply(this,arguments)}function MC(){return MC=v(function*(t,e){const n=Nu(t),i=(yield SC()).transaction(Ec,"readwrite"),s=i.objectStore(Ec),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&iV(t,e.fid),e}),MC.apply(this,arguments)}function PC(t){return RC.apply(this,arguments)}function RC(){return RC=v(function*(t){const e=Nu(t),r=(yield SC()).transaction(Ec,"readwrite");yield r.objectStore(Ec).delete(e),yield r.done}),RC.apply(this,arguments)}function Yh(t,e){return kC.apply(this,arguments)}function kC(){return kC=v(function*(t,e){const n=Nu(t),i=(yield SC()).transaction(Ec,"readwrite"),s=i.objectStore(Ec),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&iV(t,a.fid),a}),kC.apply(this,arguments)}function NC(t){return OC.apply(this,arguments)}function OC(){return OC=v(function*(t){let e;const n=yield Yh(t.appConfig,r=>{const i=function Dfe(t){return lV(t||{fid:xfe(),registrationStatus:0})}(r),s=function Sfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(vo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Mfe(t,e){return FC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Pfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===TC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),OC.apply(this,arguments)}function FC(){return FC=v(function*(t,e){try{const n=yield function vfe(t,e){return AC.apply(this,arguments)}(t,e);return jm(t.appConfig,n)}catch(n){throw ZF(n)&&409===n.customData.serverCode?yield PC(t.appConfig):yield jm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),FC.apply(this,arguments)}function Pfe(t){return VC.apply(this,arguments)}function VC(){return VC=v(function*(t){let e=yield cV(t.appConfig);for(;1===e.registrationStatus;)yield rV(100),e=yield cV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield NC(t);return r||n}return e}),VC.apply(this,arguments)}function cV(t){return Yh(t,e=>{if(!e)throw vo.create("installation-not-found");return lV(e)})}function lV(t){return function Rfe(t){return 1===t.registrationStatus&&t.registrationTime+QF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function LC(){return LC=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Nfe(t,{fid:e}){return`${xC(t)}/${e}/authTokens:generate`}(t,n),i=function nV(t,{refreshToken:e}){const n=tV(t);return n.append("Authorization",function _fe(t){return`${JF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:XF,appId:t.appId}})},c=yield bC(()=>fetch(r,a));if(c.ok)return eV(yield c.json());throw yield CC("Generate Auth Token",c)}),LC.apply(this,arguments)}function BC(t){return HC.apply(this,arguments)}function HC(){return HC=v(function*(t,e=!1){let n;const r=yield Yh(t.appConfig,s=>{if(!dV(s))throw vo.create("not-registered");const o=s.authToken;if(!e&&function Vfe(t){return 2===t.requestStatus&&!function Lfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ffe}(t)}(o))return s;if(1===o.requestStatus)return n=function Ofe(t,e){return zC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");const a=function Bfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ffe(t,e){return UC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),HC.apply(this,arguments)}function zC(){return zC=v(function*(t,e){let n=yield uV(t.appConfig);for(;1===n.authToken.requestStatus;)yield rV(100),n=yield uV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BC(t,e):r}),zC.apply(this,arguments)}function uV(t){return Yh(t,e=>{if(!dV(e))throw vo.create("not-registered");return function Hfe(t){return 1===t.requestStatus&&t.requestTime+QF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function UC(){return UC=v(function*(t,e){try{const n=yield function kfe(t,e){return LC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield jm(t.appConfig,r),n}catch(n){if(!ZF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jm(t.appConfig,r)}else yield PC(t.appConfig);throw n}}),UC.apply(this,arguments)}function dV(t){return void 0!==t&&2===t.registrationStatus}function jC(){return jC=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield NC(e);return r?r.catch(console.error):BC(e).catch(console.error),n.fid}),jC.apply(this,arguments)}function $C(){return $C=v(function*(t,e=!1){const n=t;return yield function jfe(t){return GC.apply(this,arguments)}(n),(yield BC(n,e)).token}),$C.apply(this,arguments)}function GC(){return GC=v(function*(t){const{registrationPromise:e}=yield NC(t);e&&(yield e)}),GC.apply(this,arguments)}function KC(t){return vo.create("missing-app-config-values",{valueName:t})}const fV="installations",Kfe=t=>{const e=t.getProvider("app").getImmediate(),n=function qfe(t){if(!t||!t.options)throw KC("App Configuration");if(!t.name)throw KC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw KC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:gs(e,"heartbeat"),_delete:()=>Promise.resolve()}},Yfe=t=>{const n=gs(t.getProvider("app").getImmediate(),fV).getImmediate();return{getId:()=>function zfe(t){return jC.apply(this,arguments)}(n),getToken:i=>function Ufe(t){return $C.apply(this,arguments)}(n,i)}};(function Qfe(){Ti(new oi(fV,Kfe,"PUBLIC")),Ti(new oi("installations-internal",Yfe,"PRIVATE"))})(),an(YF,EC),an(YF,EC,"esm2017");const $m="analytics",Xfe="firebase_id",Jfe="origin",Zfe=6e4,ehe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",YC="https://www.googletagmanager.com/gtag/js",zn=new bf("@firebase/analytics"),Mr=new Lo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nhe(t){if(!t.startsWith(YC)){const e=Mr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function hV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function QC(){return QC=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield hV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zn.error(a)}t("config",i,s)}),QC.apply(this,arguments)}function XC(){return XC=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield hV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){zn.error(s)}}),XC.apply(this,arguments)}const dhe=30,pV=new class hhe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function phe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function JC(){return JC=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:phe(r)},s=ehe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),JC.apply(this,arguments)}function ZC(){return ZC=v(function*(t,e=pV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yhe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:Zfe),gV({appId:r,apiKey:i,measurementId:s},o,a,e)}),ZC.apply(this,arguments)}function gV(t,e,n){return eI.apply(this,arguments)}function eI(){return eI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pV){var s;const{appId:o,measurementId:a}=t;try{yield function _he(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function ghe(t){return JC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function vhe(t){if(!(t instanceof ji&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?V4(n,i.intervalMillis,dhe):V4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),zn.debug(`Calling attemptFetch again in ${u} millis`),gV(t,d,r,i)}}),eI.apply(this,arguments)}class yhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let tI,cI;function nI(){return nI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),nI.apply(this,arguments)}function iI(){return iI=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),iI.apply(this,arguments)}function lI(){return lI=v(function*(){if(!yf())return zn.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield N4()}catch(t){return zn.warn(Mr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),lI.apply(this,arguments)}function uI(){return uI=v(function*(t,e,n,r,i,s,o){var a;const c=function mhe(t){return ZC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>zn.error(h)),e.push(c);const l=function Ahe(){return lI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function uhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(YC)&&n.src.includes(t))return n;return null})(s)||function ihe(t,e){const n=function rhe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:nhe}),r=document.createElement("script"),i=`${YC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),cI&&(i("consent","default",cI),function mV(t){cI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Jfe]="firebase",f.update=!0,null!=d&&(f[Xfe]=d),i("config",u.measurementId,f),tI&&(i("set",tI),function _V(t){tI=t}(void 0)),u.measurementId}),uI.apply(this,arguments)}class Dhe{constructor(e){this.app=e}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},vV=[];const yV={};let xV,Ss,Gm="dataLayer",dI=!1;function Mhe(t,e,n){!function She(){const t=[];if(k4()&&t.push("This is a browser extension environment."),IP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mr.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[r])throw Mr.create("already-exists",{id:r});if(!dI){!function she(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Gm);const{wrappedGtag:s,gtagCore:o}=function lhe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function che(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function ahe(t,e,n,r,i){return XC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function ohe(t,e,n,r,i,s){return QC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){zn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ds,vV,yV,Gm,"gtag");Ss=s,xV=o,dI=!0}return Ds[r]=function The(t,e,n,r,i,s,o){return uI.apply(this,arguments)}(t,vV,yV,e,xV,Gm,n),new Dhe(t)}function Phe(t=Ol()){const e=gs(t=on(t),$m);return e.isInitialized()?e.getImmediate():function Rhe(t,e={}){const n=gs(t,$m);if(n.isInitialized()){const i=n.getImmediate();if(Ef(e,n.getOptions()))return i;throw Mr.create("already-initialized")}return n.initialize({options:e})}(t)}function khe(){return fI.apply(this,arguments)}function fI(){return(fI=v(function*(){if(k4()||!IP()||!yf())return!1;try{return yield N4()}catch{return!1}})).apply(this,arguments)}function Nhe(t,e,n){t=on(t),function Che(t,e,n,r){return iI.apply(this,arguments)}(Ss,Ds[t.app.options.appId],e,n).catch(r=>zn.error(r))}function CV(t,e,n,r){t=on(t),function Ehe(t,e,n,r,i){return nI.apply(this,arguments)}(Ss,Ds[t.app.options.appId],e,n,r).catch(i=>zn.error(i))}const IV="@firebase/analytics";!function Ohe(){Ti(new oi($m,(e,{options:n})=>Mhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ti(new oi("analytics-internal",function t(e){try{const n=e.getProvider($m).getImmediate();return{logEvent:(r,i,s)=>CV(n,r,i,s)}}catch(n){throw Mr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),an(IV,"0.10.0"),an(IV,"0.10.0","esm2017")}();const Qh=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Vhe}=Array,{getPrototypeOf:Lhe,prototype:Bhe,keys:Hhe}=Object;function wV(t){if(1===t.length){const e=t[0];if(Vhe(e))return{args:e,keys:null};if(function zhe(t){return t&&"object"==typeof t&&Lhe(t)===Bhe}(e)){const n=Hhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Uhe}=Array;function AV(t){return Ye(e=>function jhe(t,e){return Uhe(e)?t(...e):t(e)}(t,e))}function TV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function DV(...t){const e=dd(t),n=Iw(t),{args:r,keys:i}=wV(t);if(0===r.length)return $n([],e);const s=new fe(function $he(t,e,n=ve){return r=>{SV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)SV(e,()=>{const l=$n(t[c],e);let u=!1;l.subscribe(nt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>TV(i,o):ve));return n?s.pipe(AV(n)):s}function SV(t,e,n){t?Ls(n,t,e):e()}function MV(t){return new fe(e=>{sr(t()).subscribe(e)})}function Xh(t,e){const n=M(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function pI(){return Fe((t,e)=>{let n=null;t._refCount++;const r=nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class PV extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,St(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return pI()(this)}}function Fu(t){return t<=0?()=>Ji:Fe((e,n)=>{let r=0;e.subscribe(nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qm(t){return Fe((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function RV(t=Ghe){return Fe((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Ghe(){return new Qh}function xc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ts((i,s)=>t(i,s,r)):ve,Fu(1),n?qm(e):RV(()=>new Qh))}function Jh(t,e){return M(e)?jn(t,e,1):jn(t,1)}function Cc(t){return Fe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(nt(n,void 0,void 0,o=>{s=sr(t(o,Cc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function gI(t){return t<=0?()=>Ji:Fe((e,n)=>{let r=[];e.subscribe(nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zh(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",ep=Symbol("RouteTitle");class Xhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Vu(t){return new Xhe(t)}function Jhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ms(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!kV(t[i],e[i]))return!1;return!0}function kV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function NV(t){return t.length>0?t[t.length-1]:null}function ua(t){return function Fhe(t){return!!t&&(t instanceof fe||M(t.lift)&&M(t.subscribe))}(t)?t:Xd(t)?$n(Promise.resolve(t)):Ve(t)}const epe={exact:function VV(t,e,n){if(!Ic(t.segments,e.segments)||!Wm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!VV(t.children[r],e.children[r],n))return!1;return!0},subset:LV},OV={exact:function tpe(t,e){return Ms(t,e)},subset:function npe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kV(t[n],e[n]))},ignored:()=>!0};function FV(t,e,n){return epe[n.paths](t.root,e.root,n.matrixParams)&&OV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function LV(t,e,n){return BV(t,e,e.segments,n)}function BV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ic(i,n)||e.hasChildren()||!Wm(i,n,r))}if(t.segments.length===n.length){if(!Ic(t.segments,n)||!Wm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!LV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ic(t.segments,i)&&Wm(t.segments,i,r)&&t.children[Xe])&&BV(t.children[Xe],e,s,r)}}function Wm(t,e,n){return e.every((r,i)=>OV[n](t[i].parameters,r.parameters))}class Lu{constructor(e=new wt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return spe.serialize(this)}}class wt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Km(this)}}class tp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap}toString(){return UV(this)}}function Ic(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let np=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new mI},providedIn:"root"}),e})();class mI{parse(e){const n=new mpe(e);return new Lu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${rp(e.root,!0)}`,r=function cpe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ym(n)}=${Ym(i)}`).join("&"):`${Ym(n)}=${Ym(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function ope(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const spe=new mI;function Km(t){return t.segments.map(e=>UV(e)).join("/")}function rp(t,e){if(!t.hasChildren())return Km(t);if(e){const n=t.children[Xe]?rp(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${rp(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ipe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[rp(t.children[Xe],!1)]:[`${i}:${rp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${Km(t)}/${n[0]}`:`${Km(t)}/(${n.join("//")})`}}function HV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ym(t){return HV(t).replace(/%3B/gi,";")}function _I(t){return HV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qm(t){return decodeURIComponent(t)}function zV(t){return Qm(t.replace(/\+/g,"%20"))}function UV(t){return`${_I(t.path)}${function ape(t){return Object.keys(t).map(e=>`;${_I(e)}=${_I(t[e])}`).join("")}(t.parameters)}`}const lpe=/^[^\/()?;#]+/;function vI(t){const e=t.match(lpe);return e?e[0]:""}const upe=/^[^\/()?;=#]+/,fpe=/^[^=?&#]+/,ppe=/^[^&#]+/;class mpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new wt(e,n)),r}parseSegment(){const e=vI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new tp(Qm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function dpe(t){const e=t.match(upe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vI(this.remaining);i&&(r=i,this.capture(r))}e[Qm(n)]=Qm(r)}parseQueryParam(e){const n=function hpe(t){const e=t.match(fpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function gpe(t){const e=t.match(ppe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=zV(n),s=zV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new wt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function jV(t){return t.segments.length>0?new wt([],{[Xe]:t}):t}function $V(t){const e={};for(const r of Object.keys(t.children)){const s=$V(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function _pe(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new wt(t.segments.concat(e.segments),e.children)}return t}(new wt(t.segments,e))}function bc(t){return t instanceof Lu}function GV(t){let e;const i=jV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new wt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function qV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return yI(i,i,i,n,r);const s=function ype(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new KV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new KV(n,e,r)}(e);if(s.toRoot())return yI(i,i,new wt([],{}),n,r);const o=function Epe(t,e,n){if(t.isAbsolute)return new Jm(e,!0,0);if(!n)return new Jm(e,!1,NaN);if(null===n.parent)return new Jm(n,!0,0);const r=Xm(t.commands[0])?0:1;return function xpe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new Jm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?sp(o.segmentGroup,o.index,s.commands):YV(o.segmentGroup,o.index,s.commands);return yI(i,o.segmentGroup,a,n,r)}function Xm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ip(t){return"object"==typeof t&&null!=t&&t.outlets}function yI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:WV(t,e,n);const a=jV($V(o));return new Lu(a,s,i)}function WV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:WV(s,e,n)}),new wt(t.segments,r)}class KV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xm(r[0]))throw new re(4003,!1);const i=r.find(ip);if(i&&i!==NV(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function YV(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return sp(t,e,n);const r=function Ipe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ip(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!XV(c,l,o))return s;r+=2}else{if(!XV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new wt(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new wt(t.segments.slice(r.pathIndex),t.children),sp(s,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?EI(t,e,n):r.match?sp(t,0,i):EI(t,e,n)}function sp(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function Cpe(t){return ip(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=sp(t.children[Xe],e,n);return new wt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=YV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new wt(t.segments,i)}}function EI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ip(s)){const c=bpe(s.outlets);return new wt(r,c)}if(0===i&&Xm(n[0])){r.push(new tp(t.segments[e].path,QV(n[0]))),i++;continue}const o=ip(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xm(a)?(r.push(new tp(o,QV(a))),i+=2):(r.push(new tp(o,{})),i++)}return new wt(r,{})}function bpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=EI(new wt([],{}),0,r))}),e}function QV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XV(t,e,n){return t==n.path&&Ms(e,n.parameters)}const op="imperative";class Ps{constructor(e,n){this.id=e,this.url=n}}class xI extends Ps{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bu extends Ps{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ap extends Ps{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cp extends Ps{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Zm extends Ps{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JV extends Ps{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wpe extends Ps{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ape extends Ps{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tpe extends Ps{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dpe extends Ps{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Spe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ppe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CI{}class II{constructor(e){this.url=e}}class Npe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lp,this.attachRef=null}}let lp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Npe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class eL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=bI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=bI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=wI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wI(e,this._root).map(n=>n.value)}}function bI(t,e){if(t===e.value)return e;for(const n of e.children){const r=bI(t,n);if(r)return r}return null}function wI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wI(t,n);if(r.length)return r.unshift(e),r}return[]}class yo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Hu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class tL extends eL{constructor(e,n){super(e),this.snapshot=n,AI(this,e)}toString(){return this.snapshot.toString()}}function nL(t,e){const n=function Ope(t,e){const o=new e2([],{},{},"",{},Xe,e,null,{});return new iL("",new yo(o,[]))}(0,e),r=new gi([new tp("",{})]),i=new gi({}),s=new gi({}),o=new gi({}),a=new gi(""),c=new zu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new tL(new yo(c,[]),n)}class zu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[ep]))??Ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Vu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Vu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Fpe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class e2{get title(){return this.data?.[ep]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iL extends eL{constructor(e,n){super(n),this.url=e,AI(this,n)}toString(){return sL(this._root)}}function AI(t,e){e.value._routerState=t,e.children.forEach(n=>AI(t,n))}function sL(t){const e=t.children.length>0?` { ${t.children.map(sL).join(", ")} } `:"";return`${t.value}${e}`}function TI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ms(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ms(e.params,n.params)||t.paramsSubject.next(n.params),function Zhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ms(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ms(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function DI(t,e){const n=Ms(t.params,e.params)&&function rpe(t,e){return Ic(t,e)&&t.every((n,r)=>Ms(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||DI(t.parent,e.parent))}let oL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=q(lp),this.location=q(Hi),this.changeDetector=q(Qs),this.environmentInjector=q(xi),this.inputBinder=q(t2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Vpe(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]}),e})();class Vpe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zu?this.route:e===lp?this.childContexts:this.parent.get(e,n)}}const t2=new Ee("");function up(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Bpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return up(t,r,i);return up(t,r)})}(t,e,n);return new yo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>up(t,a)),o}}const r=function Hpe(t){return new zu(new gi(t.url),new gi(t.params),new gi(t.queryParams),new gi(t.fragment),new gi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>up(t,s));return new yo(r,i)}}const SI="ngNavigationCancelingError";function cL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[SI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function uL(t){return t&&t[SI]}let MI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["ng-component"]],standalone:!0,features:[YS],decls:1,vars:0,template:function(r,i){1&r&&ut(0,"router-outlet")},dependencies:[oL],encapsulation:2}),e})();function PI(t){const e=t.children&&t.children.map(PI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=MI),n}function Wi(t){return t.outlet||Xe}function dp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Kpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),TI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ZV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rpe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(TI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),TI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=dp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class dL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class n2{constructor(e,n){this.component=e,this.route=n}}function Ype(t,e,n){const r=t._root;return fp(r,e?e._root:null,n,[r.value])}function Uu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Sj(t){return null!==r0(t)}(t)?e.get(t):t:r}function fp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hu(e);return t.children.forEach(o=>{(function Xpe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Jpe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ic(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ic(t.url,e.url)||!Ms(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DI(t,e)||!Ms(t.queryParams,e.queryParams);default:return!DI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new dL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),fp(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new n2(a.outlet.component,o))}else o&&hp(e,a,i),i.canActivateChecks.push(new dL(r)),fp(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>hp(a,n.getContext(o),i)),i}function hp(t,e,n){const r=Hu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{hp(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new n2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pp(t){return"function"==typeof t}function fL(t){return t instanceof Qh||"EmptyError"===t?.name}const r2=Symbol("INITIAL_VALUE");function ju(){return mi(t=>DV(t.map(e=>e.pipe(Fu(1),jF(r2)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===r2)return r2;if(!1===n||n instanceof Lu)return n}return!0}),Ts(e=>e!==r2),Fu(1)))}function hL(t){return function ce(...t){return Ne(t)}(Qn(e=>{if(bc(e))throw cL(0,e)}),Ye(e=>!0===e))}class s2{constructor(e){this.segmentGroup=e||null}}class pL{constructor(e){this.urlTree=e}}function $u(t){return Xh(new s2(t))}function gL(t){return Xh(new pL(t))}class v0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ve(r);if(i.numberOfChildren>1||!i.children[Xe])return Xh(new re(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Lu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new wt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const RI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y0e(t,e,n,r,i){const s=kI(t,e,n);return s.matched?(r=function Upe(t,e){return t.providers&&!t._injector&&(t._injector=KS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function g0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ve(i.map(o=>{const a=Uu(o,t);return ua(function i0e(t){return t&&pp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),hL()):Ve(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...RI}))):Ve(s)}function kI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...RI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jhe)(n,t,e);if(!i)return{...RI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mL(t,e,n,r){return n.length>0&&function C0e(t,e,n){return n.some(r=>o2(t,e,r)&&Wi(r)!==Xe)}(t,n,r)?{segmentGroup:new wt(e,x0e(r,new wt(n,t.children))),slicedSegments:[]}:0===n.length&&function I0e(t,e,n){return n.some(r=>o2(t,e,r))}(t,n,r)?{segmentGroup:new wt(t.segments,E0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:n}}function E0e(t,e,n,r,i){const s={};for(const o of r)if(o2(t,n,o)&&!i[Wi(o)]){const a=new wt([],{});s[Wi(o)]=a}return{...i,...s}}function x0e(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&Wi(r)!==Xe){const i=new wt([],{});n[Wi(r)]=i}return n}function o2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class T0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new v0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=mL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(Cc(n=>{if(n instanceof pL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof s2?this.noMatchError(n):n}),Ye(n=>{const r=new e2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new yo(r,n),s=new iL("",i),o=function vpe(t,e,n=null,r=null){return qV(GV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(Cc(r=>{throw r instanceof s2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=rL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $n(i).pipe(Jh(s=>{const o=r.children[s],a=function qpe(t,e){const n=t.filter(r=>Wi(r)===e);return n.push(...t.filter(r=>Wi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Whe(t,e){return Fe(function qhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(nt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),qm(null),function Khe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ts((i,s)=>t(i,s,r)):ve,gI(1),n?qm(e):RV(()=>new Qh))}(),jn(s=>{if(null===s)return $u(r);const o=_L(s);return function D0e(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ve(o)}))}processSegment(e,n,r,i,s,o){return $n(n).pipe(Jh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Cc(c=>{if(c instanceof s2)return Ve(null);throw c}))),xc(a=>!!a),Cc(a=>{if(fL(a))return function w0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ve([]):$u(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function b0e(t,e,n,r){return!!(Wi(t)===r||r!==Xe&&o2(e,n,t))&&("**"===t.path||kI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):$u(i):$u(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(jn(o=>{const a=new wt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=kI(n,i,s);if(!a)return $u(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?gL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(jn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?NV(i).parameters:{};a=Ve({snapshot:new e2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vL(r),Wi(r),r.component??r._loadedComponent??null,r,yL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=y0e(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new e2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vL(r),Wi(r),r.component??r._loadedComponent??null,r,yL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(mi(c=>null===c?$u(n):this.getChildConfig(e=r._injector??e,r,i).pipe(mi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=mL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(S=>null===S?null:[new yo(d,S)]));if(0===l.length&&0===g.length)return Ve([new yo(d,[])]);const y=Wi(r)===s;return this.processSegment(u,l,p,g,y?Xe:s,!0).pipe(Ye(S=>[new yo(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function p0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ve(!0):Ve(i.map(o=>{const a=Uu(o,t);return ua(function e0e(t){return t&&pp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),hL())}(e,n,r).pipe(jn(i=>i?this.configLoader.loadChildren(e,n).pipe(Qn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function _0e(t){return Xh(lL(!1,3))}())):Ve({routes:[],injector:e})}}function S0e(t){const e=t.value.routeConfig;return e&&""===e.path}function _L(t){const e=[],n=new Set;for(const r of t){if(!S0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=_L(r.children);e.push(new yo(r.value,i))}return e.filter(r=>!n.has(r))}function vL(t){return t.data||{}}function yL(t){return t.resolve||{}}function EL(t){return"string"==typeof t.title||null===t.title}function NI(t){return mi(e=>{const n=t(e);return n?$n(n).pipe(Ye(()=>e)):Ve(e)})}const a2=new Ee("ROUTES");let xL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(fJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ua(r.loadComponent()).pipe(Ye(CL),Qn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Zh(()=>{this.componentLoaders.delete(r)})),s=new PV(i,()=>new ne).pipe(pI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function F0e(t,e,n,r){return ua(t.loadChildren()).pipe(Ye(CL),jn(i=>i instanceof qS||Array.isArray(i)?Ve(i):$n(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(a2,[],{optional:!0,self:!0}).flat()),{routes:o.map(PI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Zh(()=>{this.childrenLoaders.delete(i)})),a=new PV(o,()=>new ne).pipe(pI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function CL(t){return function V0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let c2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=q(xL),this.environmentInjector=q(xi),this.urlSerializer=q(np),this.rootContexts=q(lp),this.inputBindingEnabled=null!==q(t2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Mpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Spe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new gi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:op,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ts(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),mi(o=>{this.currentTransition=o;let a=!1,c=!1;return Ve(o).pipe(Qn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new cp(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Ji}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ve(l).pipe(mi(h=>{const p=this.transitions?.getValue();return this.events.next(new xI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Ji:Promise.resolve(h)}),function M0e(t,e,n,r,i,s){return jn(o=>function A0e(t,e,n,r,i,s,o="emptyOnly"){return new T0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Qn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new JV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:y,extras:S}=l,w=new xI(h,this.urlSerializer.serialize(p),g,y);this.events.next(w);const j=nL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:j,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Ve(o)}{const h="";return this.events.next(new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Ji}}),Qn(l=>{const u=new wpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:Ype(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function o0e(t,e){return jn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ve({...n,guardsResult:!0}):function a0e(t,e,n,r){return $n(t).pipe(jn(i=>function h0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const c=dp(e)??i,l=Uu(a,c);return ua(function r0e(t){return t&&pp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(xc())})).pipe(ju()):Ve(!0)}(i.component,i.route,n,e,r)),xc(i=>!0!==i,!0))}(o,r,i,t).pipe(jn(a=>a&&function Zpe(t){return"boolean"==typeof t}(a)?function c0e(t,e,n,r){return $n(e).pipe(Jh(i=>hC(function u0e(t,e){return null!==t&&e&&e(new Ppe(t)),Ve(!0)}(i.route.parent,r),function l0e(t,e){return null!==t&&e&&e(new kpe(t)),Ve(!0)}(i.route,r),function f0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Qpe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>MV(()=>Ve(o.guards.map(c=>{const l=dp(o.node)??n,u=Uu(c,l);return ua(function n0e(t){return t&&pp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(xc())})).pipe(ju())));return Ve(s).pipe(ju())}(t,i.path,n),function d0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const i=r.map(s=>MV(()=>{const o=dp(e)??n,a=Uu(s,o);return ua(function t0e(t){return t&&pp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(xc())}));return Ve(i).pipe(ju())}(t,i.route,n))),xc(i=>!0!==i,!0))}(r,s,t,e):Ve(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Qn(l=>{if(o.guardsResult=l.guardsResult,bc(l.guardsResult))throw cL(0,l.guardsResult);const u=new Ape(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ts(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),NI(l=>{if(l.guards.canActivateChecks.length)return Ve(l).pipe(Qn(u=>{const d=new Tpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),mi(u=>{let d=!1;return Ve(u).pipe(function P0e(t,e){return jn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ve(n);let s=0;return $n(i).pipe(Jh(o=>function R0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!EL(i)&&(s[ep]=i.title),function k0e(t,e,n,r){const i=function N0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ve({});const s={};return $n(i).pipe(jn(o=>function O0e(t,e,n,r){const i=dp(e)??r,s=Uu(t,i);return ua(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(xc(),Qn(a=>{s[o]=a}))),gI(1),function Yhe(t){return Ye(()=>t)}(s),Cc(o=>fL(o)?Ji:Xh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=rL(t,n).resolve,i&&EL(i)&&(t.data[ep]=i.title),null)))}(o.route,r,t,e)),Qn(()=>s++),gI(1),jn(o=>s===i.length?Ve(n):Ji))})}(r.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Qn(u=>{const d=new Dpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),NI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return DV(u(l.targetSnapshot.root)).pipe(qm(),Fu(1))}),NI(()=>this.afterPreactivation()),Ye(l=>{const u=function Lpe(t,e,n){const r=up(t,e._root,n?n._root:void 0);return new tL(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Qn(()=>{this.events.next(new CI)}),((t,e,n,r)=>Ye(i=>(new Kpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fu(1),Qn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Qhe(t){return Fe((e,n)=>{sr(t).subscribe(nt(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Qn(l=>{throw l}))),Zh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Cc(l=>{if(c=!0,uL(l))this.events.next(new ap(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function zpe(t){return uL(t)&&bc(t.url)}(l)?this.events.next(new II(l.url)):o.resolve(!1);else{this.events.next(new Zm(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Ji}))}))}cancelNavigationTransition(r,i,s){const o=new ap(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IL(t){return t!==op}let bL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[ep]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return q(L0e)},providedIn:"root"}),e})(),L0e=(()=>{var t;class e extends bL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(T4))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),B0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return q(z0e)},providedIn:"root"}),e})();class H0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let z0e=(()=>{var t;class e extends H0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const OI=new Ee("",{providedIn:"root",factory:()=>({})});let U0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return q(j0e)},providedIn:"root"}),e})(),j0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var gp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gp||{});function $0e(t){throw t}function G0e(t,e,n){return e.parse("/")}const q0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=q(U7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=q(OI,{optional:!0})||{},this.pendingTasks=q(Eg),this.errorHandler=this.options.errorHandler||$0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||G0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=q(U0e),this.routeReuseStrategy=q(B0e),this.titleStrategy=q(bL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q(a2,{optional:!0})?.flat()??[],this.navigationTransitions=q(c2),this.urlSerializer=q(np),this.location=q(t4),this.componentInputBindingEnabled=!!q(t2,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=q(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(AL(i)&&this._events.next(i));if(i instanceof xI)IL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof cp)this.rawUrlTree=s.rawUrl;else if(i instanceof JV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof CI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof ap)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof II){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IL(s.source)};this.scheduleNavigation(o,op,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Zm&&this.restoreHistory(s,!0),i instanceof Bu&&(this.navigated=!0),AL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),op,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(PI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=GV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return qV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=bc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,op,null,i)}navigate(r,i={skipLocationChange:!1}){return function K0e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...q0e}:!1===i?{...W0e}:i,bc(r))return FV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return FV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function wL(t,e){t.events.pipe(Ts(n=>n instanceof Bu||n instanceof ap||n instanceof Zm||n instanceof cp),Ye(n=>n instanceof Bu||n instanceof cp?gp.COMPLETE:n instanceof ap&&(0===n.code||1===n.code)?gp.REDIRECTING:gp.FAILED),Ts(n=>n!==gp.REDIRECTING),Fu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function AL(t){return!(t instanceof CI||t instanceof II)}class Gu{constructor(e){return e}}const kL="analytics",BI="__angularfire_symbol__analyticsIsSupportedValue",NL="__angularfire_symbol__analyticsIsSupported";globalThis[NL]||=khe().then(t=>globalThis[BI]=t).catch(()=>globalThis[BI]=!1);const l2={async:()=>globalThis[NL],sync:()=>{const t=globalThis[BI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},OL=l2.async,rge=En(Phe,!0),mp=En(CV,!0),ige=En(Nhe,!0);let FL=(()=>{var t;class e{constructor(r,i,s){let o;vt(this,"initialized",void 0),vt(this,"disposables",[]),an("angularfire",Ho.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),OL().then(()=>{const a=s.get(Gu);a?this.disposables=[t9(r).subscribe(c=>{ige(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(zf),Se(pt),Se(Tn))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const VL="firebase_screen_id",HI="outlet",_p="screen_class",LL="screen_name";let mge=Math.floor(Math.random()*(2**32-1))-2**31;const zI={},_ge=t=>{const e=[t[_p],t[HI]].join("#");if(zI.hasOwnProperty(e))return zI[e];{const n=mge++;return zI[e]=n,n}},vge=(t,e,n)=>t.events.pipe(Ts(i=>i instanceof ZV)).pipe(mi(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Ve(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[LL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[HI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===MI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Ve({...u,[_p]:d});if(d){const f=n.resolveComponentFactory(d);return Ve({...u,[_p]:f.selector})}return Ve(null)}),Ts(i=>!!i),Ye(i=>({firebase_screen_class:i[_p],[VL]:_ge(i),...i})),function Xde(t,e,n,r){return Fe((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let y=a.get(g);if(!y){a.set(g,y=r?r():new ne);const S=function h(p,g){const y=new fe(S=>{u++;const w=g.subscribe(S);return()=>{w.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return y.key=p,y}(g,y);if(s.next(S),n){const w=nt(y,()=>{y.complete(),w?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(sr(n(S)).subscribe(w))}}y.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[HI]),jn(i=>i.pipe(Aw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),jF(void 0),function Zde(){return Fe((t,e)=>{let n,r=!1;t.subscribe(nt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[_p],firebase_previous_screen:s[LL],firebase_previous_id:s[VL],...o}:o))));let yge=(()=>{var t;class e{constructor(r,i,s,o,a,c){vt(this,"disposable",void 0),an("angularfire",Ho.full,"screen-tracking"),OL().then(()=>{const l=c.get(Gu);!r||!l||o.runOutsideAngular(()=>{this.disposable=vge(r,i,s).pipe(mi(function(){var u=v(function*(d){return a&&(yield a.initialized),mp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(Ki,8),Se(T4,8),Se(zd),Se(pt),Se(FL,8),Se(Tn))}),vt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const UI=new Ee("angularfire2.analytics-instances");function xge(t){return(e,n)=>{if(!l2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Gu(r)}}const Cge={provide:class nge{constructor(){return Xg(kL)}},deps:[[new qt,UI]]},Ige={provide:Gu,useFactory:function Ege(t,e){if(!l2.sync())return null;const n=Qg(kL,t,e);return n&&new Gu(n)},deps:[[new qt,UI],Ga]};let bge=(()=>{var t;class e{constructor(r,i){an("angularfire",Ho.full,"analytics")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(yge,8),Se(FL,8))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Ige,Cge,{provide:z7,useValue:l2.async,multi:!0}]})),e})();function wge(t,...e){return{ngModule:bge,providers:[{provide:UI,useFactory:xge(t),multi:!0,deps:[pt,Tn,Tf,Df,...e]}]}}let BL=(()=>{var t;class e{constructor(){this.localStorageService=q(Sr),this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(5e3).then(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(et.USER);this.localStorageService.clearAll(),this.localStorageService.cache(et.USER,s),this.localStorageService.cache(et.JS_VERSION,i.dgtVersion),this.localStorageService.cache(et.LOCAL_METADATA,i),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Age=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Jd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const Tge=["updateNotification"];function Dge(t,e){1&t&&ut(0,"span",25,26)}let Sge=(()=>{var t;class e{constructor(){this.dgAPI=q(ps),this.changeDetector=q(Qs),this.authService=q(As),this.changelogService=q(BL),this.analytics=q(Gu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");mp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),mp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new fe(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&ii(Tge,5),2&r){let s;jr(s=$r())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(U(0,"div",0)(1,"ul",1)(2,"li",2),lr(3,Dge,2,0,"span",3),Kt(4,"async"),U(5,"a",4),ut(6,"img",5),U(7,"span",6),Q(8,"home"),K()()(),U(9,"li",7)(10,"a",8),ut(11,"img",9),U(12,"span",6),Q(13,"planets"),K()()(),U(14,"li",10)(15,"a",11),ut(16,"img",12),U(17,"span",6),Q(18,"radar"),K()()(),U(19,"li",13)(20,"a",14),ut(21,"img",15),U(22,"span",6),Q(23,"fleets"),K()()(),U(24,"li",16)(25,"a",17),ut(26,"img",18),U(27,"span",6),Q(28,"navigation"),K()()(),U(29,"li",19)(30,"a",20),ut(31,"img",21),U(32,"span",6),Q(33,"research"),K()()(),U(34,"li",22)(35,"a",23),ut(36,"img",24),U(37,"span",6),Q(38,"alliances"),K()()()()()),2&r&&(Ae(2),Ze("tabName","home"),Ae(1),Ze("ngIf",Ii(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),Ae(6),Ze("tabName","planets"),Ae(5),Ze("tabName","radar"),Ae(5),Ze("tabName","fleets"),Ae(5),Ze("tabName","navigation"),Ae(5),Ze("tabName","research"),Ae(5),Ze("tabName","alliances"))},dependencies:[fs,Age,gf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const Un_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},jI=new Map,HL={activated:!1,tokenObservers:[]},Mge={initialized:!1,enabled:!1};function un(t){return jI.get(t)||Object.assign({},HL)}function u2(){return Mge}const $I="https://content-firebaseappcheck.googleapis.com/v1",Nge="exchangeDebugToken",zL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Fge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new kl,yield function Vge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new kl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const nr=new Lo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function d2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function GI(t){if(!un(t).activated)throw nr.create("use-before-activation",{appName:t.name})}function qI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=f2(n)+"d:"),r&&(o+=f2(r)+"h:"),o+=f2(i)+"m:"+f2(s)+"s",o}function f2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function h2(t,e){return WI.apply(this,arguments)}function WI(){return WI=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw nr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw nr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw nr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),WI.apply(this,arguments)}function UL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$I}/projects/${n}/apps/${r}:${Nge}?key=${i}`,body:{debug_token:e}}}const zge="firebase-app-check-database",Uge=1,vp="firebase-app-check-store",jL="debug-token";let p2=null;function $L(){return p2||(p2=new Promise((t,e)=>{try{const n=indexedDB.open(zge,Uge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(nr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vp,{keyPath:"compositeKey"})}}catch(n){e(nr.create("storage-open",{originalErrorMessage:n?.message}))}}),p2)}function GL(t,e){return KI.apply(this,arguments)}function KI(){return KI=v(function*(t,e){const r=(yield $L()).transaction(vp,"readwrite"),s=r.objectStore(vp).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(nr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),KI.apply(this,arguments)}function qL(t){return YI.apply(this,arguments)}function YI(){return YI=v(function*(t){const n=(yield $L()).transaction(vp,"readonly"),i=n.objectStore(vp).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(nr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),YI.apply(this,arguments)}function WL(t){return`${t.options.appId}-${t.name}`}const yp=new bf("@firebase/app-check");function QI(){return QI=v(function*(t){if(yf()){let e;try{e=yield function jge(t){return qL(WL(t))}(t)}catch(n){yp.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),QI.apply(this,arguments)}function XI(t,e){return yf()?function $ge(t,e){return GL(WL(t),e)}(t,e).catch(n=>{yp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function JI(){return JI=v(function*(){let t;try{t=yield function qge(){return qL(jL)}()}catch{}if(t)return t;{const e=lne();return function Gge(t){return GL(jL,t)}(e).catch(n=>yp.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),JI.apply(this,arguments)}function ZI(){return u2().enabled}function eb(){return tb.apply(this,arguments)}function tb(){return tb=v(function*(){const t=u2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tb.apply(this,arguments)}const Qge={error:"UNKNOWN_ERROR"};function Xge(t){return R4.encodeString(JSON.stringify(t),!1)}function g2(t){return nb.apply(this,arguments)}function nb(){return nb=v(function*(t,e=!1){const n=t.app;GI(n);const r=un(n);let s,i=r.token;if(i&&!qu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(qu(c)?i=c:yield XI(n,void 0))}if(!e&&i&&qu(i))return{token:i.token};let a,o=!1;if(ZI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=h2(UL(n,yield eb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield XI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield un(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?yp.warn(c.message):yp.error(c),s=c}return i?s?a=qu(i)?{token:i.token,internalError:s}:XL(s):(a={token:i.token},r.token=i,yield XI(n,i)):a=XL(s),o&&QL(n,a),a}),nb.apply(this,arguments)}function rb(){return rb=v(function*(t){const e=t.app;GI(e);const{provider:n}=un(e);if(ZI()){const r=yield eb(),{token:i}=yield h2(UL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),rb.apply(this,arguments)}function ib(t,e,n,r){const{app:i}=t,s=un(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),YL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YL(t))}function sb(t,e){const n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function YL(t){const{app:e}=t,n=un(e);let r=n.tokenRefresher;r||(r=function Jge(t){const{app:e}=t;return new Fge(v(function*(){let r;if(r=un(e).token?yield g2(t,!0):yield g2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},zL.RETRIAL_MIN_WAIT,zL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function QL(t,e){const n=un(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qu(t){return t.expireTimeMillis-Date.now()>0}function XL(t){return{token:Xge(Qge),error:t}}class Zge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=un(this.app);for(const n of e)sb(this.app,n.next);return Promise.resolve()}}function o1e(t,e){const n=new kl;un(t).reCAPTCHAState={initialized:n};const i=function JL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=d2(!1);return s?m2(t,e,s,i,n):function l1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=d2(!1);if(!o)throw new Error("no recaptcha");m2(t,e,o,i,n)}),n.promise}function m2(t,e,n,r,i){n.ready(()=>{(function c1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{un(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{un(t).reCAPTCHAState.succeeded=!1}}),s=un(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function ob(){return ob=v(function*(t){GI(t);const n=yield un(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=un(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),ob.apply(this,arguments)}class Yi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function rB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw nr.create("throttled",{time:qI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function ZL(t){return ob.apply(this,arguments)}(e._app).catch(a=>{throw nr.create("recaptcha-error")});if(null===(n=un(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw nr.create("recaptcha-error");let o;try{o=yield h2(function Bge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$I}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function nB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=V4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),nr.create("throttled",{time:qI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=gs(e,"heartbeat"),o1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Yi&&this._siteKey===e._siteKey}}function d1e(t=Ol(),e){const n=gs(t=on(t),"app-check");if(u2().initialized||function Yge(){const t=yP(),e=u2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new kl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Kge(){return JI.apply(this,arguments)}())}(),ZI()&&eb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw nr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function f1e(t,e,n){const r=function Pge(t,e){return jI.set(t,e),jI.get(t)}(t,Object.assign({},HL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Wge(t){return QI.apply(this,arguments)}(t).then(i=>(i&&qu(i)&&(r.token=i,QL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),un(t).isTokenAutoRefreshEnabled&&ib(r,"INTERNAL",()=>{}),r}const iB="app-check-internal";!function p1e(){Ti(new oi("app-check",t=>function e1e(t,e){return new Zge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(iB).initialize()})),Ti(new oi(iB,t=>function t1e(t){return{getToken:e=>g2(t,e),getLimitedUseToken:()=>function KL(t){return rb.apply(this,arguments)}(t),addTokenListener:e=>ib(t,"INTERNAL",e),removeTokenListener:e=>sb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),an("@firebase/app-check","0.8.0")}();class cb{constructor(e){return e}}const lb=new Ee("angularfire2.app-check-instances"),m1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function _1e(t){return(e,n,r)=>{!_4(r)&&m1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new cb(i)}}const v1e={provide:Q4,deps:[[new qt,lb]]},y1e={provide:cb,useFactory:function g1e(t,e){const n=Qg(jP,t,e);return n&&new cb(n)},deps:[[new qt,lb],Ga,os]};let E1e=(()=>{var t;class e{constructor(){an("angularfire",Ho.full,"app-check")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[y1e,v1e]})),e})();function xo(t,...e){return{ngModule:E1e,providers:[{provide:lb,useFactory:_1e(t),multi:!0,deps:[pt,Tn,os,Tf,Df,...e]}]}}const Co=En(d1e,!0);let x1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Sge]}),t.\u0275inj=xt({imports:[Wr,eo(()=>no(Un_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),wge(()=>rge())]}),e})();class C1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class I1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class sB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class oB{constructor(){this._resources=new I1e,this._workers=new sB,this._soldiers=new sB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var bn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(bn||{});let aB=(()=>{var t;class e{constructor(){this.dgAPI=q(ps)}extractStats(){let r=new C1e;return r.stats.set(bn.ALL,new oB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new oB),r.stats.get(bn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(bn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(bn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(bn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(bn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(bn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case bn.METAL:r.stats.get(bn.ALL).resources.metalStored+=s.stored,r.stats.get(bn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case bn.MINERAL:r.stats.get(bn.ALL).resources.mineralStored+=s.stored,r.stats.get(bn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case bn.FOOD:r.stats.get(bn.ALL).resources.foodStored+=s.stored,r.stats.get(bn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case bn.ENERGY:r.stats.get(bn.ALL).resources.energyStored+=s.stored,r.stats.get(bn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),b1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ub=(()=>{var t;class e{constructor(){this.decimalPipe=q(hs)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const w1e=function(t){return{"dgt-stats-totals-last-row":t}},Mi=function(t){return{"dgt-padding-bottom-xs":t}};function A1e(t,e){if(1&t&&(U(0,"tr",4)(1,"th",5)(2,"span",6),Q(3),Kt(4,"galaxyNameFormatter"),K(),U(5,"span",7),Q(6),K()(),U(7,"td",8)(8,"div",9),ut(9,"img",10),U(10,"span",11),Q(11),Kt(12,"number"),K()()(),U(13,"td",12)(14,"div",9)(15,"span",11),Q(16),Kt(17,"resourceProductionFormatter"),K()()(),U(18,"td",13)(19,"div",14),ut(20,"img",15),U(21,"span",11),Q(22),Kt(23,"number"),K()()(),U(24,"td",12)(25,"div",14)(26,"span",11),Q(27),Kt(28,"resourceProductionFormatter"),K()()(),U(29,"td",13)(30,"div",16),ut(31,"img",17),U(32,"span",11),Q(33),Kt(34,"number"),K()()(),U(35,"td",12)(36,"div",16)(37,"span",11),Q(38),Kt(39,"resourceProductionFormatter"),K()()(),U(40,"td",13)(41,"div",18),ut(42,"img",19),U(43,"span",11),Q(44),Kt(45,"number"),K()()(),U(46,"td",20)(47,"div",18)(48,"span",11),Q(49),Kt(50,"resourceProductionFormatter"),K()()(),U(51,"td",21)(52,"div",22),ut(53,"img",23),U(54,"span",11),Q(55),Kt(56,"number"),K()()(),U(57,"td",24)(58,"div",25),ut(59,"img",26),U(60,"span",11),Q(61),Kt(62,"number"),K()()(),U(63,"td",27)(64,"div",28),ut(65,"img",29),U(66,"span",11),Q(67),Kt(68,"number"),K()()()()),2&t){const n=e.$implicit,r=e.index,i=Ht();Ze("ngClass",Ur(64,w1e,r==i.panel.stats.size-1)),Ae(1),Ze("ngClass",Ur(66,Mi,r==i.panel.stats.size-2)),Ae(2),dt(Ii(4,26,n.key)),Ae(3),Fa("[",n.value.count,"]"),Ae(1),Ze("ngClass",Ur(68,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(12,28,n.value.resources.metalStored,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(70,Mi,r==i.panel.stats.size-2)),Ae(3),dt(Ii(17,32,n.value.resources.metalProduction)),Ae(2),Ze("ngClass",Ur(72,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(23,34,n.value.resources.mineralStored,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(74,Mi,r==i.panel.stats.size-2)),Ae(3),dt(Ii(28,38,n.value.resources.mineralProduction)),Ae(2),Ze("ngClass",Ur(76,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(34,40,n.value.resources.foodStored,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(78,Mi,r==i.panel.stats.size-2)),Ae(3),dt(Ii(39,44,n.value.resources.foodProduction)),Ae(2),Ze("ngClass",Ur(80,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(45,46,n.value.resources.energyStored,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(82,Mi,r==i.panel.stats.size-2)),Ae(3),dt(Ii(50,50,n.value.resources.energyProduction)),Ae(2),Ze("ngClass",Ur(84,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(56,52,n.value.resources.ground,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(86,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(62,56,n.value.resources.orbit,"1.0","en-US")),Ae(2),Ze("ngClass",Ur(88,Mi,r==i.panel.stats.size-2)),Ae(4),dt(bi(68,60,n.value.soldiers.total,"1.0","en-US"))}}let T1e=(()=>{var t;class e{constructor(){this.statsPanelService=q(aB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"div",1)(2,"table",2),lr(3,A1e,69,90,"tr",3),Kt(4,"keyvalue"),K()()()),2&r&&(Ae(3),Ze("ngForOf",Ii(4,1,i.panel.stats)))},dependencies:[f4,Bg,hs,zM,b1e,ub],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _2(t){return(_2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function lB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function db(t,e){return function R1e(t){if(Array.isArray(t))return t}(t)||function N1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||uB(t,e)||function F1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(t){return function P1e(t){if(Array.isArray(t))return fb(t)}(t)||function k1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||uB(t)||function O1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uB(t,e){if(t){if("string"==typeof t)return fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(t,e)}}function fb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dB=function(){},hb={},fB={},hB=null,pB={mark:dB,measure:dB};try{typeof window<"u"&&(hb=window),typeof document<"u"&&(fB=document),typeof MutationObserver<"u"&&(hB=MutationObserver),typeof performance<"u"&&(pB=performance)}catch{}var E2,x2,C2,I2,b2,gB=(hb.navigator||{}).userAgent,mB=void 0===gB?"":gB,da=hb,jt=fB,_B=hB,y2=pB,Io=!!jt.documentElement&&!!jt.head&&"function"==typeof jt.addEventListener&&"function"==typeof jt.createElement,vB=~mB.indexOf("MSIE")||~mB.indexOf("Trident/"),bo="___FONT_AWESOME___",yB="fa",EB="svg-inline--fa",wc="data-fa-i2svg",gb="data-fa-pseudo-element",L1e="data-fa-pseudo-element-pending",mb="data-prefix",_b="data-icon",xB="fontawesome-i2svg",B1e="async",H1e=["HTML","HEAD","STYLE","SCRIPT"],CB=function(){try{return!0}catch{return!1}}(),$t="classic",dn="sharp",vb=[$t,dn];function Cp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[$t]}})}var Ip=Cp((Pn(E2={},$t,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(E2,dn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),E2)),bp=Cp((Pn(x2={},$t,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(x2,dn,{solid:"fass",regular:"fasr",light:"fasl"}),x2)),wp=Cp((Pn(C2={},$t,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(C2,dn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),C2)),z1e=Cp((Pn(I2={},$t,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(I2,dn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),I2)),U1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,IB="fa-layers-text",j1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$1e=Cp((Pn(b2={},$t,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(b2,dn,{900:"fass",400:"fasr",300:"fasl"}),b2)),bB=[1,2,3,4,5,6,7,8,9,10],G1e=bB.concat([11,12,13,14,15,16,17,18,19,20]),q1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ac={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ap=new Set;Object.keys(bp[$t]).map(Ap.add.bind(Ap)),Object.keys(bp[dn]).map(Ap.add.bind(Ap));var W1e=[].concat(vb,xp(Ap),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ac.GROUP,Ac.SWAP_OPACITY,Ac.PRIMARY,Ac.SECONDARY]).concat(bB.map(function(t){return"".concat(t,"x")})).concat(G1e.map(function(t){return"w-".concat(t)})),Tp=da.FontAwesomeConfig||{};jt&&"function"==typeof jt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=db(t,2),r=e[1],i=function Y1e(t){return""===t||"false"!==t&&("true"===t||t)}(function K1e(t){var e=jt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Tp[r]=i)});var wB={styleDefault:"solid",familyDefault:"classic",cssPrefix:yB,replacementClass:EB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tp.familyPrefix&&(Tp.cssPrefix=Tp.familyPrefix);var Wu=De(De({},wB),Tp);Wu.autoReplaceSvg||(Wu.observeMutations=!1);var Pe={};Object.keys(wB).forEach(function(t){Object.defineProperty(Pe,t,{enumerable:!0,set:function(n){Wu[t]=n,Dp.forEach(function(r){return r(Pe)})},get:function(){return Wu[t]}})}),Object.defineProperty(Pe,"familyPrefix",{enumerable:!0,set:function(e){Wu.cssPrefix=e,Dp.forEach(function(n){return n(Pe)})},get:function(){return Wu.cssPrefix}}),da.FontAwesomeConfig=Pe;var Dp=[],Rs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Z1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Sp(){for(var t=12,e="";t-- >0;)e+=Z1e[62*Math.random()|0];return e}function Ku(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function yb(t){return t.classList?Ku(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function AB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Eb(t){return t.size!==Rs.size||t.x!==Rs.x||t.y!==Rs.y||t.rotate!==Rs.rotate||t.flipX||t.flipY}var rme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function TB(){var t=yB,e=EB,n=Pe.cssPrefix,r=Pe.replacementClass,i=rme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var DB=!1;function xb(){Pe.autoAddCss&&!DB&&(function J1e(t){if(t&&Io){var e=jt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=jt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}jt.head.insertBefore(e,r)}}(TB()),DB=!0)}var ime={mixout:function(){return{dom:{css:TB,insertCss:xb}}},hooks:function(){return{beforeDOMElementCreation:function(){xb()},beforeI2svg:function(){xb()}}}},wo=da||{};wo[bo]||(wo[bo]={}),wo[bo].styles||(wo[bo].styles={}),wo[bo].hooks||(wo[bo].hooks={}),wo[bo].shims||(wo[bo].shims=[]);var Qi=wo[bo],SB=[],A2=!1;function Mp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?AB(t):"<".concat(e," ").concat(function eme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(AB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Mp).join(""),"</").concat(e,">")}function MB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Io&&((A2=(jt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(jt.readyState))||jt.addEventListener("DOMContentLoaded",function t(){jt.removeEventListener("DOMContentLoaded",t),A2=1,SB.map(function(e){return e()})}));var Cb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Ib(t){var e=function cme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function PB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function bb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=PB(e);"function"!=typeof Qi.hooks.addPack||i?Qi.styles[t]=De(De({},Qi.styles[t]||{}),s):Qi.hooks.addPack(t,PB(e)),"fas"===t&&bb("fa",e)}var T2,D2,S2,Yu=Qi.styles,ume=Qi.shims,dme=(Pn(T2={},$t,Object.values(wp[$t])),Pn(T2,dn,Object.values(wp[dn])),T2),wb=null,RB={},kB={},NB={},OB={},FB={},fme=(Pn(D2={},$t,Object.keys(Ip[$t])),Pn(D2,dn,Object.keys(Ip[dn])),D2);var VB=function(){var e=function(s){return Cb(Yu,function(o,a,c){return o[c]=Cb(a,s,{}),o},{})};RB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),kB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),FB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Yu||Pe.autoFetchSvg,r=Cb(ume,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});NB=r.names,OB=r.unicodes,wb=M2(Pe.styleDefault,{family:Pe.familyDefault})};function Ab(t,e){return(RB[t]||{})[e]}function Tc(t,e){return(FB[t]||{})[e]}function LB(t){return NB[t]||{prefix:null,iconName:null}}function ha(){return wb}(function X1e(t){Dp.push(t)})(function(t){wb=M2(t.styleDefault,{family:Pe.familyDefault})}),VB();var Tb=function(){return{prefix:null,iconName:null,rest:[]}};function M2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?$t:n;return bp[r][t]||bp[r][Ip[r][t]]||(t in Qi.styles?t:null)||null}var BB=(Pn(S2={},$t,Object.keys(wp[$t])),Pn(S2,dn,Object.keys(wp[dn])),S2);function P2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Pn(e={},$t,"".concat(Pe.cssPrefix,"-").concat($t)),Pn(e,dn,"".concat(Pe.cssPrefix,"-").concat(dn)),e),o=null,a=$t;(t.includes(s[$t])||t.some(function(l){return BB[$t].includes(l)}))&&(a=$t),(t.includes(s[dn])||t.some(function(l){return BB[dn].includes(l)}))&&(a=dn);var c=t.reduce(function(l,u){var d=function pme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function hme(t){return~W1e.indexOf(t)}(i)?null:i}(Pe.cssPrefix,u);if(Yu[u]?(u=dme[a].includes(u)?z1e[a][u]:u,o=u,l.prefix=u):fme[a].indexOf(u)>-1?(o=u,l.prefix=M2(u,{family:a})):d?l.iconName=d:u!==Pe.replacementClass&&u!==s[$t]&&u!==s[dn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?LB(l.iconName):{},h=Tc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Yu.far&&Yu.fas&&!Pe.autoFetchSvg&&(l.prefix="fas")}return l},Tb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===dn&&(Yu.fass||Pe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Tc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=ha()||"fas"),c}var _me=function(){function t(){(function D1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function S1e(t,e,n){e&&lB(t.prototype,e),n&&lB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=De(De({},n.definitions[a]||{}),o[a]),bb(a,o[a]);var c=wp[$t][a];c&&bb(c,o[a]),VB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),HB=[],Qu={},Xu={},vme=Object.keys(Xu);function Db(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qu[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Dc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Qu[t]||[]).forEach(function(s){s.apply(null,n)})}function Ao(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Xu[t]?Xu[t].apply(null,e):void 0}function Sb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ha();if(e)return e=Tc(n,e)||e,MB(zB.definitions,n,e)||MB(Qi.styles,n,e)}var zB=new _me,xme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Io?(Dc("beforeI2svg",e),Ao("pseudoElements2svg",e),Ao("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Pe.autoReplaceSvg&&(Pe.autoReplaceSvg=!0),Pe.observeMutations=!0,function ome(t){Io&&(A2?setTimeout(t,0):SB.push(t))}(function(){Ime({autoReplaceSvgRoot:n}),Dc("watch",e)})}},hi={noAuto:function(){Pe.autoReplaceSvg=!1,Pe.observeMutations=!1,Dc("noAuto")},config:Pe,dom:xme,parse:{icon:function(e){if(null===e)return null;if("object"===_2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Tc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=M2(e[0]);return{prefix:r,iconName:Tc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Pe.cssPrefix,"-"))>-1||e.match(U1e))){var i=P2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ha(),iconName:Tc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=ha();return{prefix:s,iconName:Tc(s,e)||e}}}},library:zB,findIconDefinition:Sb,toHtml:Mp},Ime=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?jt:n;(Object.keys(Qi.styles).length>0||Pe.autoFetchSvg)&&Io&&Pe.autoReplaceSvg&&hi.dom.i2svg({node:r})};function R2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Mp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Io){var r=jt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Mb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,y=p.height,S="fak"===i,w=[Pe.replacementClass,s?"".concat(Pe.cssPrefix,"-").concat(s):""].filter(function(Rn){return-1===d.classes.indexOf(Rn)}).filter(function(Rn){return""!==Rn||!!Rn}).concat(d.classes).join(" "),j={children:[],attributes:De(De({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},Y=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};h&&(j.attributes[wc]=""),c&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(u||Sp())},children:[c]}),delete j.attributes.title);var he=De(De({},j),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:De(De({},Y),d.styles)}),Re=r.found&&n.found?Ao("generateAbstractMask",he)||{children:[],attributes:{}}:Ao("generateAbstractIcon",he)||{children:[],attributes:{}},Jt=Re.attributes;return he.children=Re.children,he.attributes=Jt,a?function wme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:De(De({},i),{},{id:o}),children:r}]}]}(he):function bme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Eb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=w2(De(De({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(he)}function UB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=De(De(De({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[wc]="");var u=De({},o.styles);Eb(i)&&(u.transform=function nme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&vB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=w2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Pb=Qi.styles;function Rb(t){var e=t[0],n=t[1],s=db(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Ac.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Ac.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Ac.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Tme={found:!1,width:512,height:512};function kb(t,e){var n=e;return"fa"===e&&null!==Pe.styleDefault&&(e=ha()),new Promise(function(r,i){if(Ao("missingIconAbstract"),"fa"===n){var o=LB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Pb[e]&&Pb[e][t])return r(Rb(Pb[e][t]));(function Dme(t,e){!CB&&!Pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(De(De({},Tme),{},{icon:Pe.showMissingIcons&&t&&Ao("missingIconAbstract")||{}}))})}var jB=function(){},Nb=Pe.measurePerformance&&y2&&y2.mark&&y2.measure?y2:{mark:jB,measure:jB},Pp='FA "6.4.2"',$B=function(e){Nb.mark("".concat(Pp," ").concat(e," ends")),Nb.measure("".concat(Pp," ").concat(e),"".concat(Pp," ").concat(e," begins"),"".concat(Pp," ").concat(e," ends"))},Ob={begin:function(e){return Nb.mark("".concat(Pp," ").concat(e," begins")),function(){return $B(e)}},end:$B},k2=function(){};function GB(t){return"string"==typeof(t.getAttribute?t.getAttribute(wc):null)}function kme(t){return jt.createElementNS("http://www.w3.org/2000/svg",t)}function Nme(t){return jt.createElement(t)}function qB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?kme:Nme:n;if("string"==typeof t)return jt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(qB(o,{ceFn:r}))}),i}var N2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(qB(i),n)}),null===n.getAttribute(wc)&&Pe.keepOriginalSource){var r=jt.createComment(function Ome(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~yb(n).indexOf(Pe.replacementClass))return N2.replace(e);var i=new RegExp("".concat(Pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Pe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Mp(a)}).join("\n");n.setAttribute(wc,""),n.innerHTML=o}};function WB(t){t()}function KB(t,e){var n="function"==typeof e?e:k2;if(0===t.length)n();else{var r=WB;Pe.mutateApproach===B1e&&(r=da.requestAnimationFrame||WB),r(function(){var i=function Rme(){return!0===Pe.autoReplaceSvg?N2.replace:N2[Pe.autoReplaceSvg]||N2.replace}(),s=Ob.begin("mutate");t.map(i),s(),n()})}}var Fb=!1;function YB(){Fb=!0}function Vb(){Fb=!1}var O2=null;function QB(t){if(_B&&Pe.observeMutations){var e=t.treeCallback,n=void 0===e?k2:e,r=t.nodeCallback,i=void 0===r?k2:r,s=t.pseudoElementsCallback,o=void 0===s?k2:s,a=t.observeMutationsRoot,c=void 0===a?jt:a;O2=new _B(function(l){if(!Fb){var u=ha();Ku(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!GB(d.addedNodes[0])&&(Pe.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Pe.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&GB(d.target)&&~q1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Mme(t){var e=t.getAttribute?t.getAttribute(mb):null,n=t.getAttribute?t.getAttribute(_b):null;return e&&n}(d.target)){var f=P2(yb(d.target)),p=f.iconName;d.target.setAttribute(mb,f.prefix||u),p&&d.target.setAttribute(_b,p)}else(function Pme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pe.replacementClass)})(d.target)&&i(d.target)})}}),Io&&O2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function XB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Lme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=P2(yb(t));return i.prefix||(i.prefix=ha()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function gme(t,e){return(kB[t]||{})[e]}(i.prefix,t.innerText)||Ab(i.prefix,Ib(t.innerText))),!i.iconName&&Pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Bme(t){var e=Ku(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pe.autoA11y&&(n?e["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(r||Sp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Db("parseNodeAttributes",{},t),c=e.styleParser?function Vme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return De({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Rs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var zme=Qi.styles;function JB(t){var e="nest"===Pe.autoReplaceSvg?XB(t,{styleParser:!1}):XB(t);return~e.extra.classes.indexOf(IB)?Ao("generateLayersText",t,e):Ao("generateSvgReplacementMutation",t,e)}var pa=new Set;function ZB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Io)return Promise.resolve();var n=jt.documentElement.classList,r=function(d){return n.add("".concat(xB,"-").concat(d))},i=function(d){return n.remove("".concat(xB,"-").concat(d))},s=Pe.autoFetchSvg?pa:vb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(zme));s.includes("fa")||s.push("fa");var o=[".".concat(IB,":not([").concat(wc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(wc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Ku(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Ob.begin("onTree"),l=a.reduce(function(u,d){try{var f=JB(d);f&&u.push(f)}catch(h){CB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){KB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Ume(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;JB(t).then(function(n){n&&KB([n],e)})}function jme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Sb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Sb(i||{})),t(r,De(De({},n),{},{mask:i}))}}vb.map(function(t){pa.add("fa-".concat(t))}),Object.keys(Ip[$t]).map(pa.add.bind(pa)),Object.keys(Ip[dn]).map(pa.add.bind(pa)),pa=xp(pa);var $me=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Rs:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,y=void 0===g?[]:g,S=n.attributes,w=void 0===S?{}:S,j=n.styles,Y=void 0===j?{}:j;if(e){var he=e.prefix,Re=e.iconName,Ke=e.icon;return R2(De({type:"icon"},e),function(){return Dc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pe.autoA11y&&(f?w["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(p||Sp()):(w["aria-hidden"]="true",w.focusable="false")),Mb({icons:{main:Rb(Ke),mask:c?Rb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:he,iconName:Re,transform:De(De({},Rs),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:w,styles:Y,classes:y}})})}},Gme={mixout:function(){return{icon:jme($me)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=ZB,n.nodeCallback=Ume,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return ZB(void 0===r?jt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([kb(i,a),u.iconName?kb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=db(g,2);h([n,Mb({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=w2(n.styles);return c.length>0&&(i.style=c),Eb(o)&&(l=Ao("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},qme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return R2({type:"layer"},function(){Dc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Pe.cssPrefix,"-layers")].concat(xp(s)).join(" ")},children:o}]})}}}},Wme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return R2({type:"counter",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),function Ame(t){var e=t.content,n=t.title,r=t.extra,i=De(De(De({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=w2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Pe.cssPrefix,"-layers-counter")].concat(xp(a))}})})}}}},Kme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Rs:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return R2({type:"text",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),UB({content:n,transform:De(De({},Rs),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Pe.cssPrefix,"-layers-text")].concat(xp(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(vB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Pe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,UB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Yme=new RegExp('"',"ug"),eH=[1105920,1112319];function tH(t,e){var n="".concat(L1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Ku(t.children).filter(function(Ke){return Ke.getAttribute(gb)===e})[0],a=da.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(j1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?dn:$t,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?bp[f][c[2].toLowerCase()]:$1e[f][l],p=function Qme(t){var e=t.replace(Yme,""),n=function lme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=eH[0]&&n<=eH[1],i=2===e.length&&e[0]===e[1];return{value:Ib(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,y=p.isSecondary,S=c[0].startsWith("FontAwesome"),w=Ab(h,g),j=w;if(S){var Y=function mme(t){var e=OB[t],n=Ab("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Y.iconName&&Y.prefix&&(w=Y.iconName,h=Y.prefix)}if(!w||y||o&&o.getAttribute(mb)===h&&o.getAttribute(_b)===j)r();else{t.setAttribute(n,j),o&&t.removeChild(o);var he=function Hme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Rs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Re=he.extra;Re.attributes[gb]=e,kb(w,h).then(function(Ke){var Jt=Mb(De(De({},he),{},{icons:{main:Ke,mask:Tb()},prefix:h,iconName:j,extra:Re,watchable:!0})),Rn=jt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Rn,t.firstChild):t.appendChild(Rn),Rn.outerHTML=Jt.map(function(Ea){return Mp(Ea)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Xme(t){return Promise.all([tH(t,"::before"),tH(t,"::after")])}function Jme(t){return!(t.parentNode===document.head||~H1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(gb)||t.parentNode&&"svg"===t.parentNode.tagName)}function nH(t){if(Io)return new Promise(function(e,n){var r=Ku(t.querySelectorAll("*")).filter(Jme).map(Xme),i=Ob.begin("searchPseudoElements");YB(),Promise.all(r).then(function(){i(),Vb(),e()}).catch(function(){i(),Vb(),n()})})}var rH=!1,iH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Lb={x:0,y:0,width:"100%",height:"100%"};function sH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function n2e(t){return"g"===t.tag?t.children:[t]}var r2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?P2(i.split(" ").map(function(o){return o.trim()})):Tb();return s.prefix||(s.prefix=ha()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function tme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:De(De({},Lb),{},{fill:"white"})},g=u.children?{children:u.children.map(sH)}:{},y={tag:"g",attributes:De({},h.inner),children:[sH(De({tag:u.tag,attributes:De(De({},u.attributes),h.path)},g))]},S={tag:"g",attributes:De({},h.outer),children:[y]},w="mask-".concat(a||Sp()),j="clip-".concat(a||Sp()),Y={tag:"mask",attributes:De(De({},Lb),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},he={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:n2e(f)},Y]};return r.push(he,{tag:"rect",attributes:De({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(w,")")},Lb)}),{children:r,attributes:i}}}};!function yme(t,e){var n=e.mixoutsTo;HB=t,Qu={},Object.keys(Xu).forEach(function(r){-1===vme.indexOf(r)&&delete Xu[r]}),HB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===_2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Qu[o]||(Qu[o]=[]),Qu[o].push(s[o])})}r.provides&&r.provides(Xu)})}([ime,Gme,qme,Wme,Kme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=nH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Pe.searchPseudoElements&&nH(void 0===r?jt:r)}}},{mixout:function(){return{dom:{unwatch:function(){YB(),rH=!0}}}},hooks:function(){return{bootstrap:function(){QB(Db("mutationObserverCallbacks",{}))},noAuto:function(){!function Fme(){O2&&O2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;rH?Vb():QB(Db("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return iH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=iH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:De({},h.outer),children:[{tag:"g",attributes:De({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:De(De({},r.icon.attributes),h.path)}]}]}}}},r2e,{provides:function(e){var n=!1;da.matchMedia&&(n=da.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:De(De({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=De(De({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:De(De({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:De(De({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:De(De({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:De(De({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:De(De({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:De(De({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:De(De({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:hi});var a2e=hi.parse,c2e=hi.icon;const l2e=["*"],f2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let g2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),m2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[yr]}),e})(),_2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(Ir))},t.\u0275cmp=kn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[yr],ngContentSelectors:l2e,decls:1,vars:0,template:function(r,i){1&r&&(function SD(t){const e=ee()[hn][or];if(!e.projection){const r=e.projection=Md(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?cY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function MD(t,e=0,n){const r=ee(),i=lt(),s=pl(i,rt+t,16,null,n||null);null===s.projection&&(s.projection=e),L_(),(!r[zs]||Gc())&&32!=(32&s.flags)&&function oq(t,e,n){P5(e[je],0,e,n,fv(t,n,e),w5(n.parent||e[or],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),v2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?a2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...f2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=c2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(uP),te(g2e),te(oH),te(m2e,8),te(_2e,8))},t.\u0275cmp=kn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(yy("innerHTML",i.renderedIconHTML,$5),Vi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[yr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Bb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})(),y2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[T1e]}),t.\u0275inj=xt({providers:[hs,aB],imports:[Wr,Bb]}),e})(),aH=(()=>{var t;class e{constructor(){this.firestore=q(ws),this.dgAPI=q(ps)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=_o(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=Lm(Hm(i,uC("location","==",r.planetScan.location),zF(1))).subscribe(s=>{let o=Object.assign(new pP,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==ur.RESOURCE||r.type==ur.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==ur.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==ur.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==ur.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Kh(fi(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):zm(fi(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function E2e(t,e){1&t&&(U(0,"p",3),Q(1,"Each scan will be cached and shared with your alliance members "),ut(2,"img",4),K())}let x2e=(()=>{var t;class e{constructor(){this.scanService=q(aH),this.authService=q(As),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(U(0,"div",0),ut(1,"span",1),K(),lr(2,E2e,3,0,"p",2)),2&r&&(Ae(2),Ze("ngIf",i.active))},dependencies:[fs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),C2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[x2e]}),t.\u0275inj=xt({providers:[aH],imports:[Wr,eo(()=>no(Un_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),cH=(()=>{var t;class e{constructor(){this.firestore=q(ws),this.dgAPI=q(ps),this.resourceProductionFormatterPipe=q(ub),this.decimalPipe=q(hs)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Lm(Hm(_o(this.firestore,"scans-g"+i[0].split(/\./)[0]),uC("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Vt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Vt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Vt.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Vt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Vt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Vt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Vt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Vt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Vt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Vt.MEDICAL_CENTRE)&&(f+=.3),d.includes(Vt.LEISURE_CENTRE)&&(f+=.4),d.includes(Vt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function I2e(t,e){1&t&&(U(0,"p",3),Q(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),K())}let b2e=(()=>{var t;class e{constructor(){this.scanService=q(cH),this.authService=q(As),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(U(0,"div",0),ut(1,"span",1),K(),lr(2,I2e,2,0,"p",2)),2&r&&(Ae(2),Ze("ngIf",i.active))},dependencies:[fs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),w2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[b2e]}),t.\u0275inj=xt({providers:[hs,ub,cH],imports:[Wr,eo(()=>no(Un_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function A2e(t,e){if(1&t){const n=bl();U(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Q(6,"DGT Login"),K()()(),U(7,"tr",3)(8,"td"),ut(9,"input",4,5),K(),U(11,"td"),ut(12,"input",6,7),K()(),U(14,"tr",8)(15,"td",2)(16,"button",9),Nt("click",function(){Lr(n);const i=dy(10),s=dy(13);return Br(Ht().signInWithEmailAndPassword(i.value,s.value))}),Q(17,"Login"),K(),U(18,"button",10),Nt("click",function(){return Lr(n),Br(Ht().signInWithGoogle())}),ut(19,"img",11),K()()()()()()}}let T2e=(()=>{var t;class e{constructor(){this.authService=q(As),this.auth=q(zf),this.firestore=q(ws),this.localStorageService=q(Sr),this.changeDetection=q(Qs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new fe(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(et.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(lr(0,A2e,20,0,"div",0),Kt(1,"async")),2&r&&Ze("ngIf",Ii(1,1,i.displayLogin))},dependencies:[fs,gf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),D2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[T2e]}),t.\u0275inj=xt({imports:[Wr,eo(()=>no(Un_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var V2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Lye=(()=>{var t;class e{constructor(){this.localStorageService=q(Sr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){const o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(et.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Nz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(Ir))},t.\u0275dir=Oe({type:t}),e})(),Sc=(()=>{var t;class e extends Nz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[Ct]}),e})();const ks=new Ee("NgValueAccessor"),zye={provide:ks,useExisting:Pt(()=>L2),multi:!0},jye=new Ee("CompositionEventMode");let L2=(()=>{var t;class e extends Nz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Uye(){const t=Fo()?Fo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(Ir),te(jye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Nt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Wt([zye]),Ct]}),e})();const mr=new Ee("NgValidators"),ma=new Ee("NgAsyncValidators");function Gz(t){return null!=t}function qz(t){return Xd(t)?$n(t):t}function Wz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Kz(t,e){return e.map(n=>n(t))}function Yz(t){return t.map(e=>function Gye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Gb(t){return null!=t?function Qz(t){if(!t)return null;const e=t.filter(Gz);return 0==e.length?null:function(n){return Wz(Kz(n,e))}}(Yz(t)):null}function qb(t){return null!=t?function Xz(t){if(!t)return null;const e=t.filter(Gz);return 0==e.length?null:function(n){return function Bye(...t){const e=Iw(t),{args:n,keys:r}=wV(t),i=new fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;sr(n[u]).subscribe(nt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?TV(r,a):a),s.complete())}))}});return e?i.pipe(AV(e)):i}(Kz(n,e).map(qz)).pipe(Ye(Wz))}}(Yz(t)):null}function Jz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wb(t){return t?Array.isArray(t)?t:[t]:[]}function H2(t,e){return Array.isArray(t)?t.includes(e):t===e}function tU(t,e){const n=Wb(e);return Wb(t).forEach(i=>{H2(n,i)||n.push(i)}),n}function nU(t,e){return Wb(e).filter(n=>!H2(t,n))}class rU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Pr extends rU{get formDirective(){return null}get path(){return null}}class _a extends rU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sU=(()=>{var t;class e extends iU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(_a,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Jd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ct]}),e})(),Kb=(()=>{var t;class e extends iU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Pr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Jd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ct]}),e})();const Rp="VALID",U2="INVALID",Ju="PENDING",kp="DISABLED";function Xb(t){return(j2(t)?t.validators:t)||null}function Jb(t,e){return(j2(e)?e.asyncValidators:t)||null}function j2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class lU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===U2}get pending(){return this.status==Ju}get disabled(){return this.status===kp}get enabled(){return this.status!==kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nU(e,this._rawAsyncValidators))}hasValidator(e){return H2(this._rawValidators,e)}hasAsyncValidator(e){return H2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===Ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kp:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const n=qz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?kp:this.errors?U2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(U2)?U2:Rp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){j2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Yye(t){return Array.isArray(t)?Gb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Qye(t){return Array.isArray(t)?qb(t):t||null}(this._rawAsyncValidators)}}class Zb extends lU{constructor(e,n,r){super(Xb(n),Jb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function cU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function aU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zu=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>$2}),$2="always";function Np(t,e,n=$2){ew(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Zye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uU(t,e)})}(t,e),function t4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function e4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Jye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function W2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ew(t,e){const n=function Zz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Jz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function eU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Jz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();W2(e._rawValidators,i),W2(e._rawAsyncValidators,i)}function uU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const o4e={provide:Pr,useExisting:Pt(()=>Fp)},Op=(()=>Promise.resolve())();let Fp=(()=>{var t;class e extends Pr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new Zb({},Gb(r),qb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Op.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Np(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Op.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Op.then(()=>{const i=this._findContainer(r.path),s=new Zb({});(function dU(t,e){ew(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Op.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Op.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function fU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(mr,10),te(ma,10),te(Zu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Nt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([o4e]),Ct]}),e})();function hU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function pU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const gU=class extends lU{constructor(e=null,n,r){super(Xb(n),Jb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=pU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},l4e={provide:_a,useExisting:Pt(()=>iw)},vU=(()=>Promise.resolve())();let iw=(()=>{var t;class e extends _a{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new gU,this._registered=!1,this.name="",this.update=new Tt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function rw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===L2?n=s:function i4e(t){return Object.getPrototypeOf(t.constructor)===Sc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function nw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Np(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){vU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Ml(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);vU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function G2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Pr,9),te(mr,10),te(ma,10),te(ks,10),te(Qs,8),te(Zu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([l4e]),Ct,yr]}),e})(),sw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),EU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})(),k4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({imports:[EU]}),e})(),fw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zu,useValue:r.callSetDisabledState??$2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({imports:[k4e]}),e})(),O4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const F4e=["dgtSpinner"],V4e=["dgtMainContainer"];function L4e(t,e){if(1&t&&(U(0,"span",18),Q(1),K()),2&t){const n=Ht().$implicit;Ae(1),Fa("[",n.kickEta,"]")}}const B4e=function(){return["far","circle-xmark"]};function H4e(t,e){if(1&t){const n=bl();U(0,"div",19)(1,"form",20,21),Nt("ngSubmit",function(i){return Lr(n),Br(Ht(4).onSubmitKickMember(i))}),ut(3,"input",22),Kt(4,"kickMemberFormatter"),U(5,"button",23),ut(6,"fa-icon",24),K()()()}if(2&t){const n=Ht().$implicit;Ae(3),hy("name",Ii(4,2,n.dgId)),Ae(3),Ze("icon",function n7(t,e,n){const r=Er()+t,i=ee();return i[r]===Ge?ls(i,r,n?e.call(n):e()):Wd(i,r)}(4,B4e))}}function z4e(t,e){if(1&t&&(U(0,"div",8)(1,"div",9)(2,"span",10),Q(3),K(),U(4,"span",11),Q(5,"Rank: "),U(6,"span",12),Q(7),Kt(8,"number"),K()(),lr(9,L4e,2,1,"span",13),U(10,"span",14),Q(11,"Score: "),U(12,"span",12),Q(13),Kt(14,"number"),K()(),U(15,"span",15),Q(16,"Combat: "),U(17,"span",12),Q(18),Kt(19,"number"),K()(),U(20,"span",16),Q(21,"Planets: "),U(22,"span",12),Q(23),K()(),lr(24,H4e,7,5,"div",17),K()()),2&t){const n=e.$implicit,r=Ht(2).ngIf,i=Ht();Ae(3),dt(n.name),Ae(4),dt(bi(8,7,n.stats.rank,"1.0","en-US")),Ae(2),Ze("ngIf",null!=n.kickEta),Ae(4),dt(bi(14,11,n.stats.score,"1.0","en-US")),Ae(5),dt(bi(19,15,n.stats.combatScore,"1.0","en-US")),Ae(5),dt(n.stats.planets),Ae(1),Ze("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function U4e(t,e){if(1&t&&(U(0,"div",5,6),lr(2,z4e,25,19,"div",7),K()),2&t){const n=Ht(2);Ae(2),Ze("ngForOf",n.allianceMembers)}}function j4e(t,e){if(1&t&&(ka(0),lr(1,U4e,3,1,"div",4),Na()),2&t){const n=Ht();Ae(1),Ze("ngIf",n.active)}}let $4e=(()=>{var t;class e{constructor(r){this.authService=q(As),this.localStorageService=q(Sr),this.membersPanelService=q(Lye),this.active=!1,this.initialized=!1,this.UserRole=dC,r.addIcons(V2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new fe(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(et.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(oH))},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(ii(F4e,5),ii(V4e,5)),2&r){let s;jr(s=$r())&&(i.loadSpinner=s.first),jr(s=$r())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(U(0,"div",0,1),ut(2,"span",2),K(),lr(3,j4e,2,1,"ng-container",3),Kt(4,"async")),2&r&&(Ae(3),Ze("ngIf",Ii(4,1,i.role)))},dependencies:[Bg,fs,sw,Kb,Fp,v2e,gf,hs,O4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),G4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[$4e]}),t.\u0275inj=xt({imports:[Wr,fw,Bb,eo(()=>no(Un_firebase)),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),W4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[q4e]}),t.\u0275inj=xt({imports:[Wr]}),e})(),K4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),Y4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[K4e]}),t.\u0275inj=xt({imports:[Wr]}),e})();const Q4e=["dgtSpinner"],X4e=["dgtUpdatingModel"];function J4e(t,e){if(1&t){const n=bl();U(0,"div",11)(1,"span"),Q(2,"There is a new update: "),U(3,"i")(4,"b"),Q(5),K(),Q(6," - "),K(),U(7,"a",12),Nt("click",function(){return Lr(n),Br(Ht().installUpdate())}),Q(8,"click here"),K(),Q(9," to update your data"),K()()}if(2&t){const n=Ht();Ae(5),dt(n.newVersion)}}let Z4e=(()=>{var t;class e{constructor(){this.changeLogService=q(BL),this.changeDetector=q(Qs),this.localStorageService=q(Sr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new fe(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(ii(Q4e,5),ii(X4e,5)),2&r){let s;jr(s=$r())&&(i.loadSpinner=s.first),jr(s=$r())&&(i.dgtUpdatingModel=s.first)}},decls:87,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(U(0,"div",0)(1,"h2"),Q(2,"DarkGalaxy Tools "),U(3,"span"),Q(4),K()(),U(5,"div",1,2),ut(7,"span",3),K(),lr(8,J4e,10,1,"div",4),Kt(9,"async"),U(10,"div",5)(11,"div")(12,"span"),Q(13,"Changelog:"),K()(),U(14,"ul")(15,"li"),Q(16,"fix - starting with 2.0.0 most of the updates will be silent, without opening github/tampermonkey"),K(),U(17,"li"),Q(18,"fix - added images for all ships (including holoships)"),K(),U(19,"li"),Q(20,"fix - revamped "),U(21,"b"),Q(22,"Research"),K(),Q(23," screen and added required research points for queued items - finished researches are now highlighted"),K(),U(24,"li"),Q(25,"new - "),U(26,"b"),Q(27,"Player Rankings"),K(),Q(28," screen - added planets stats & details"),K(),U(29,"li"),Q(30,"new - enabled Admin Panel for TL/Admin roles"),K(),U(31,"li"),Q(32,"new - reworked caching module - you will see a short "),U(33,"b"),Q(34,"syncing"),K(),Q(35," modal everytime stats metadata gets updated on Firebase"),K()(),U(36,"div")(37,"span"),Q(38,"Upcoming:"),K()(),U(39,"ul")(40,"li")(41,"b"),Q(42,"Alliance Rankings"),K(),Q(43," screen - added planets stats"),K(),U(44,"li"),Q(45,"Notification for "),U(46,"b"),Q(47,"Radar"),K(),Q(48," when at least one allied planet (including yours) is attacked"),K(),U(49,"li")(50,"b"),Q(51,"Research"),K(),Q(52," queue cancel confirmation popup"),K(),U(53,"li")(54,"b"),Q(55,"Navigation"),K(),Q(56," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),K(),U(57,"li"),Q(58,"Integration with Google Sheets"),K(),U(59,"li"),Q(60,"Copy to clipboard various stats"),K(),U(61,"li"),Q(62,"Fleet Scan statistics, including a fight simulation"),K()()(),U(63,"div",6)(64,"div")(65,"span"),Q(66,"Important:"),K()(),U(67,"ul")(68,"li"),Q(69,"please report any bug on "),U(70,"b"),Q(71,"Whatsapp#Toolbox"),K(),Q(72," channel"),K(),U(73,"li")(74,"b"),Q(75,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),K(),Q(76," - some of them are interfering with Firebase communication"),K()()()(),U(77,"div",7,8)(79,"div",9)(80,"span"),Q(81,"Installing "),U(82,"i")(83,"b"),Q(84),K()(),Q(85,"..."),K(),ut(86,"img",10),K()()),2&r&&(Ae(4),dt(i.version),Ae(4),Ze("ngIf",Ii(9,3,i.updateAvailable)),Ae(76),dt(i.newVersion))},dependencies:[fs,gf],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Vp(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new de({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Qh)}});t.subscribe(s)})}class Y2{}class Q2{}class Ns{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ns;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class e6e{encodeKey(e){return LU(e)}encodeValue(e){return LU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const n6e=/%(\d[a-f0-9])/gi,r6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LU(t){return encodeURIComponent(t).replace(n6e,(e,n)=>r6e[n]??e)}function X2(t){return`${t}`}class va{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function t6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(X2):[X2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new va({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(X2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(X2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class i6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function BU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function HU(t){return typeof Blob<"u"&&t instanceof Blob}function zU(t){return typeof FormData<"u"&&t instanceof FormData}class Lp{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function s6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ns),this.context||(this.context=new i6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new va,this.urlWithParams=n}serializeBody(){return null===this.body?null:BU(this.body)||HU(this.body)||zU(this.body)||function o6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof va?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zU(this.body)?null:HU(this.body)?this.body.type||null:BU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof va?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Lp(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var ed=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ed||{});class hw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ns,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pw extends hw{constructor(e={}){super(e),this.type=ed.ResponseHeader}clone(e={}){return new pw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class td extends hw{constructor(e={}){super(e),this.type=ed.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new td({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class UU extends hw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let J2=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Lp)o=r;else{let l,u;l=s.headers instanceof Ns?s.headers:new Ns(s.headers),s.params&&(u=s.params instanceof va?s.params:new va({fromObject:s.params})),o=new Lp(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ve(o).pipe(Jh(l=>this.handler.handle(l)));if(r instanceof Lp||"events"===s.observe)return a;const c=a.pipe(Ts(l=>l instanceof td));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new va).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,gw(s,i))}post(r,i,s={}){return this.request("POST",r,gw(s,i))}put(r,i,s={}){return this.request("PUT",r,gw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Y2))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function GU(t,e){return e(t)}function c6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const u6e=new Ee(""),Bp=new Ee(""),qU=new Ee("");function d6e(){let t=null;return(e,n)=>{null===t&&(t=(q(u6e,{optional:!0})??[]).reduceRight(c6e,GU));const r=q(Eg),i=r.add();return t(e,n).pipe(Zh(()=>r.remove(i)))}}let WU=(()=>{var t;class e extends Y2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=q(Eg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Bp),...this.injector.get(qU,[])]));this.chain=s.reduceRight((o,a)=>function l6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),GU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Zh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Q2),Se(xi))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const g6e=/^\)\]\}',?\n/;let YU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$n(i.\u0275loadImpl()):Ve(null)).pipe(mi(()=>new fe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,S)=>a.setRequestHeader(y,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const y=r.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(r.responseType){const y=r.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const y=a.statusText||"OK",S=new Ns(a.getAllResponseHeaders()),w=function m6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new pw({headers:S,status:a.status,statusText:y,url:w}),l},d=()=>{let{headers:y,status:S,statusText:w,url:j}=u(),Y=null;204!==S&&(Y=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=Y?200:0);let he=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof Y){const Re=Y;Y=Y.replace(g6e,"");try{Y=""!==Y?JSON.parse(Y):null}catch(Ke){Y=Re,he&&(he=!1,Y={error:Ke,text:Y})}}he?(o.next(new td({body:Y,headers:y,status:S,statusText:w,url:j||void 0})),o.complete()):o.error(new UU({error:Y,headers:y,status:S,statusText:w,url:j||void 0}))},f=y=>{const{url:S}=u(),w=new UU({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(w)};let h=!1;const p=y=>{h||(o.next(u()),h=!0);let S={type:ed.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(S.total=y.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),o.next(S)},g=y=>{let S={type:ed.UploadProgress,loaded:y.loaded};y.lengthComputable&&(S.total=y.total),o.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:ed.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se($M))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const mw=new Ee("XSRF_ENABLED"),QU=new Ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),XU=new Ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class JU{}let y6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=OM(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr),Se(os),Se(QU))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function E6e(t,e){const n=t.url.toLowerCase();if(!q(mw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=q(JU).getToken(),i=q(XU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ya=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ya||{});function Pc(t,e){return{\u0275kind:t,\u0275providers:e}}function x6e(...t){const e=[J2,YU,WU,{provide:Y2,useExisting:WU},{provide:Q2,useExisting:YU},{provide:Bp,useValue:E6e,multi:!0},{provide:mw,useValue:!0},{provide:JU,useClass:y6e}];for(const n of t)e.push(...n.\u0275providers);return function Iv(t){return{\u0275providers:t}}(e)}const ZU=new Ee("LEGACY_INTERCEPTOR_FN");let ej=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({providers:[x6e(Pc(ya.LegacyInterceptors,[{provide:ZU,useFactory:d6e},{provide:Bp,useExisting:ZU,multi:!0}]))]}),e})();class _w{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class D6e{constructor(){this._stats=new _w}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class S6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}class vw{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class e_{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class tj{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let Hp=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};Hp=Zt([Rr(2,qt())],Hp);let nj=(()=>{var t;class e{constructor(){this.httpClient=q(J2),this.firestore=q(ws),this.localStorageService=q(Sr),this.dgAPI=q(ps),this.PLAYER_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return v(function*(){const s=100+Math.floor(100*Math.random()),o=_o(i.firestore,"players-planets");let a=new tj(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,s,u,l),yield i.scanCombatRankingsPage(c,r,a,s,u,l);yield i.cacheRankings(c,o,r,new tj(0))})()}getNumberOfPages(){var r=this;return v(function*(){let i=yield Vp(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Vp(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new _w);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),("wp"===p.alliance||"skol"===p.alliance)&&(p.relation="hostile")}),s.number+=(yield l.atomicIncrement()),i.emit(new e_(s.number,2*c,"load")),yield l.delay(o)})()}scanCombatRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Vp(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new _w);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),s.number+=(yield l.atomicIncrement()),i.emit(new e_(s.number,2*c,"load")),yield l.delay(o)})()}cacheRankings(r,i,s,o){var a=this;return v(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=Bm(fi(i,d.toString())).subscribe(h=>{if(h){const p=Object.assign(new vw,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),s.emit(new e_(++o.number,r.size,"save")),f.unsubscribe()})},25*++l)}),yield a.delay(25*++l).then(()=>{a.localStorageService.cache(et.PLAYERS_STATS,c);let u=a.localStorageService.localMetadata();u.playersRankingsTurn=new Hp(a.dgAPI.gameTurn(),0),a.localStorageService.cache(et.LOCAL_METADATA,u)})})()}atomicIncrement(){return v(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var nd;class t_{constructor(){this.httpClient=q(J2),this.firestore=q(ws),this.localStorageService=q(Sr),this.playersRankingsLoaderService=q(nj),this._updatesEmitter=new Tt,this.ALLIANCES_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new Tt}updateMetadata(e){const n=_o(this.firestore,"metadata");let r=Lm(Hm(n)).subscribe(i=>{const s=Object.assign([],i);let o=new S6e;o.dgtVersion=s[0].version,o.planetsTurn=s[1],o.playersRankingsTurn=s[2],this.localStorageService.cache(et.REMOTE_METADATA,o),e.next(!0),e.complete(),r.unsubscribe()})}loadPlanets(){var e=this;return v(function*(){let n=e.localStorageService.localMetadata();const r=e.localStorageService.get(et.REMOTE_METADATA);if(0===n.planetsTurn.turn||r.planetsTurn.turn>n.planetsTurn.turn||r.planetsTurn.turn==n.planetsTurn.turn&&r.planetsTurn.version>n.planetsTurn.version){console.log("Loading new planets data... "),e._updatesEmitter.emit(1);let a=e.localStorageService.localMetadata(),c=e.localStorageService.remoteMetadata();a.planetsTurn.turn=c.planetsTurn.turn,a.planetsTurn.version=c.planetsTurn.version,a.dgtVersion=c.dgtVersion,e.localStorageService.cache(et.LOCAL_METADATA,a),e._updatesEmitter.emit(-1)}})()}loadRankings(e,n,r=!1){const i=this.localStorageService.localMetadata(),s=this.localStorageService.get(et.PLAYERS_STATS);(!s||0===i.playersRankingsTurn.turn||e>i.playersRankingsTurn.turn&&n>5&&n<57||r)&&(this._updatesEmitter.emit(2),this.loadPlayersRankings(this._playersRankingsEmitter));const c=this.localStorageService.get(et.ALLIANCE_MEMBERS);s&&(!c||0===i.allianceMembersTurn.turn||e>i.allianceMembersTurn.turn)&&(this._updatesEmitter.emit(1),this.loadAllianceMembers(e).then(()=>{this._updatesEmitter.emit(0)}).catch(d=>console.log(d)))}loadPlayersRankings(e){this.playersRankingsLoaderService.scanPlayersRankingsScreens(e).then(()=>{this._updatesEmitter.emit(1),this.loadAllianceMembers(this.localStorageService.localMetadata().playersRankingsTurn.turn).then(()=>{this._updatesEmitter.emit(0)})})}loadAllianceMembers(e){var n=this;return v(function*(){const r=yield Vp(n.httpClient.get(n.ALLIANCES_URL,{responseType:"text"})),i=(new DOMParser).parseFromString(r,"text/html"),s=n.localStorageService.get(et.PLAYERS_STATS);if(!i.querySelector('[action="/alliances/join/"]')){let o=[];i.querySelectorAll(".allianceBox").forEach(c=>{c.querySelector(".plainHeader")&&"member list"===c.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&c.querySelectorAll(".player").forEach(l=>{let u=new D6e;if(null!=l.querySelector('[action^="/alliances/note/"]')){let d=l.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);u.dgId=d[d.length-2]}null==l.querySelector('[action="/alliances/kick/"] input')&&null!=l.querySelector(".right>b")&&(u.kickEta=l.querySelector(".right>b").textContent.trim().toLowerCase()),null!=l.querySelector("div.name")&&(u.name=l.querySelector("div.name").childNodes[0].textContent.trim(),u.stats=s.find(d=>d.name.toLowerCase()===u.name.toLowerCase()),o.push(u))})});let a=n.localStorageService.localMetadata();a.allianceMembersTurn.turn=e,n.localStorageService.cache(et.ALLIANCE_MEMBERS,o),n.localStorageService.cache(et.LOCAL_METADATA,a)}})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}}(nd=t_).\u0275fac=function(e){return new(e||nd)},nd.\u0275prov=Ie({token:nd,factory:nd.\u0275fac,providedIn:"root"}),Zt([Rr(2,qt())],t_.prototype,"loadRankings",null);let M6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Z4e]}),t.\u0275inj=xt({providers:[t_],imports:[Wr,eo(()=>no(Un_firebase)),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class P6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class rj{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}let n_=(()=>{var t;class e{constructor(){this.firestore=q(ws),this.dgAPI=q(ps),this.metadataPath=_o(this.firestore,"metadata"),this.localStorageService=q(Sr)}updateMetadataTurns(r){let i=Bm(fi(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new Hp(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,zm(fi(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Kh(fi(this.metadataPath,r),JSON.parse(JSON.stringify(new Hp(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}resetSortingMaps(){-1===window.location.pathname.indexOf("/rankings/players")&&this.localStorageService.remove(et.PLAYER_RANKINGS_SORT_MAP)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class ij{constructor(){this._planets=[]}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total}}}var rd;class yw{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=q(J2),this.firestore=q(ws),this.dgAPI=q(ps),this.metadataService=q(n_),this.localStorageService=q(Sr),this._systemScanEmitter=new Tt,this._planetScanEmitter=new Tt,this.NAVIGATION_BASE_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return v(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=_o(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let y=1;y<=r.SYSTEMS;y++)a&&(yield r.parseAndSave(s[u],g,y,d,f,h),r._systemScanEmitter.emit(new e_(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe(),yield r.delay(i)})()}mergeAlliancePlanets(e){const n=_o(this.firestore,"alliances-planets");e.forEach((r,i)=>{let s=Bm(fi(n,i)).subscribe(o=>{o?(Object.assign(new ij,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.planets.length}),zm(fi(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.planets.length}),Kh(fi(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=_o(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Bm(fi(n,i.toString())).subscribe(o=>{o&&Object.assign(new vw,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?zm(fi(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Kh(fi(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return v(function*(){const c=yield Vp(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new P6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new vw);let g=i.get(f.playerId).planets;if(g.some(S=>S.galaxy===e)?g.filter(w=>w.galaxy===e&&!w.planets.includes(f.location)).forEach(w=>w.planets.push(f.location)):i.get(f.playerId).planets.push(new rj(e,[f.location])),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new ij);let S=s.get(f.alliance).planets;S.some(j=>j.galaxy===e)?S.filter(Y=>Y.galaxy===e&&!Y.planets.includes(f.location)).forEach(Y=>Y.planets.push(f.location)):s.get(f.alliance).planets.push(new rj(e,[f.location])),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}Kh(fi(o,f.location),JSON.parse(JSON.stringify(f))).catch(S=>console.log(S))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(rd=yw).\u0275fac=function(e){return new(e||rd)},rd.\u0275prov=Ie({token:rd,factory:rd.\u0275fac,providedIn:"root"}),Zt([Rr(1,qt())],yw.prototype,"scanPlanets",null);let R6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ir))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&Nt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const k6e=["planetsLoadModal"],N6e=["planetProgressBar"],O6e=["playersProgressBar"],F6e=["planetCounter"];function V6e(t,e){if(1&t){const n=bl();ka(0),U(1,"div",1)(2,"div",2)(3,"b",3),Q(4,"DGT Admin Panel"),K()(),U(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),Q(10,"Universe Scan"),K()(),U(11,"span",8),Q(12,"Use this with caution. It's a very expensive operation for both DG server and DGT database!"),K(),U(13,"span",8),Q(14,"Usage examples:"),K(),U(15,"ul")(16,"li"),Q(17,"1,2 - G01 and G02"),K(),U(18,"li"),Q(19,"34 - G34"),K(),U(20,"li"),Q(21,"special: 213 - first ring (G02-G13)"),K(),U(22,"li"),Q(23,"special: 1449 - second ring (G14-G49)"),K(),U(24,"li"),Q(25,"special: 149 - everything (G01-G49)"),K()()(),U(26,"form")(27,"input",9),Nt("ngModelChange",function(i){return Lr(n),Br(Ht().controls.galaxies=i)}),K(),U(28,"button",10),Nt("click",function(){return Lr(n),Br(Ht().scanNavigationScreen())}),Q(29,"Fetch"),K()()()()(),U(30,"div",11,12)(32,"div",13)(33,"div",14)(34,"span",15),Q(35),K(),U(36,"span",16,17),Q(38),K()(),U(39,"div",18)(40,"span",19),Q(41),K(),ut(42,"span",20,21),K(),U(44,"div",22)(45,"button",23),Nt("click",function(){return Lr(n),Br(Ht().cancelScan())}),Q(46,"Cancel"),K()()()(),Na()}if(2&t){const n=Ht();Ae(27),Ze("ngModel",n.controls.galaxies),Ae(8),dt(n.loadedSystem),Ae(3),dt(n.loadedPlanet),Ae(3),Fa("",n.planetPercentage,"%")}}let L6e=(()=>{var t;class e{constructor(){this.planetsLoaderService=q(yw),this.changeDetection=q(Qs),this.authService=q(As),this.cancelScanEmitter=new Tt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return v(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(ii(k6e,5),ii(N6e,5),ii(O6e,5),ii(F6e,5)),2&r){let s;jr(s=$r())&&(i.planetsLoadModal=s.first),jr(s=$r())&&(i.planetProgressBar=s.first),jr(s=$r())&&(i.playersProgressBar=s.first),jr(s=$r())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"]],template:function(r,i){1&r&&lr(0,V6e,47,4,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[fs,sw,L2,sU,Kb,iw,Fp,R6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], .load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),B6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[L6e]}),t.\u0275inj=xt({providers:[n_],imports:[Wr,fw,ej,eo(()=>no(Un_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),H6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-rankings"]],decls:0,vars:0,template:function(r,i){}}),e})(),z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[H6e]}),t.\u0275inj=xt({imports:[Wr]}),e})();const U6e=["dgtUpdatingModel"],j6e=["rankingsLoadModal"],$6e=["playersProgressBar"];function G6e(t,e){if(1&t&&(ka(0),U(1,"div",1,2)(3,"div",3)(4,"span"),Q(5,"Downloading DGT metadata updates..."),K(),ut(6,"img",4),K()(),U(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),Q(12),K()(),U(13,"div",10)(14,"span",11),Q(15),K(),ut(16,"span",12,13),K()()(),Na()),2&t){const n=Ht();Ae(12),dt(n.loadedRankings),Ae(3),Fa("",n.playersPercentage,"%")}}let q6e=(()=>{var t;class e{constructor(){this.synchronizerService=q(t_),this.dgAPI=q(ps),this.authService=q(As),this.changeDetection=q(Qs),this.metadataService=q(n_),this.authenticated=!1,this.playersPercentage=0,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.metadataService.resetSortingMaps(),this.prepareRankingsLoader(),this.synchronizerService.updatesEmitter.subscribe(i=>{switch(i){case-1:console.log("Planets loaded! Reloading rankings... "),this.synchronizerService.loadRankings(this.dgAPI.gameTurn(),this.dgAPI.getCountDownMinutes(),!0);break;case 0:this.delay(1e3).then(()=>{this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()});break;case 1:this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(1e3).then(()=>{});break;case 2:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.playersProgressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open")}});let r=new fe(i=>{this.synchronizerService.updateMetadata(i)}).subscribe(i=>{i&&(this.synchronizerService.loadPlanets().catch(s=>console.log(s)),r.unsubscribe())})}prepareRankingsLoader(){this.rankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%",r.page==r.total&&this.rankingsCountSubscription.unsubscribe()}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(ii(U6e,5),ii(j6e,5),ii($6e,5)),2&r){let s;jr(s=$r())&&(i.dgtUpdatingModel=s.first),jr(s=$r())&&(i.rankingsLoadModal=s.first),jr(s=$r())&&(i.playersProgressBar=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["playersProgressBar",""]],template:function(r,i){1&r&&lr(0,G6e,18,2,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[fs],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),W6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[q6e]}),t.\u0275inj=xt({providers:[nj,n_],imports:[Wr,ej,eo(()=>no(Un_firebase)),_c(()=>vc()),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),K6e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),Y6e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=K6e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Q6e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=q(Y6e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),X6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Q6e]}),t.\u0275inj=xt({imports:[Wr]}),e})();var id;class Ew{constructor(){this.localStorageService=q(Sr)}fetchAndClear(e,n,r,i,s=!1){let o=new Map;const a=this.localStorageService.get(et.PLAYERS_STATS);for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":"desc"===n&&(u=a[c][e]<a[l][e]),"asc"===n&&(u=a[c][e]>a[l][e]);break;case"scorePerPlanet":u="desc"===n?a[c].score/a[c].planets<a[l].score/a[l].planets:a[c].score/a[c].planets>a[l].score/a[l].planets}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)o.set(a[c].playerId,a[c]);else for(let c=a.length-100;c<a.length;c++)o.set(a[c].playerId,a[c]);return console.log(o),s&&document.querySelector(".playerRankingsList").remove(),o}}(id=Ew).\u0275fac=function(e){return new(e||id)},id.\u0275prov=Ie({token:id,factory:id.\u0275fac,providedIn:"root"}),Zt([Rr(4,qt())],Ew.prototype,"fetchAndClear",null);let J6e=(()=>{var t;class e{constructor(){this.decimalPipe=q(hs)}transform(r,i){return this.decimalPipe.transform(Math.round(r/i),"1.0","en_US")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"scorePerPlanetFormatter",type:t,pure:!0}),e})();const Z6e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}};function e3e(t,e){if(1&t&&(U(0,"tr",17)(1,"td",3),Q(2),K(),U(3,"td",4),Q(4),K(),U(5,"td",5),Q(6),K(),U(7,"td",6)(8,"a",18),Q(9),K()(),U(10,"td",8)(11,"a",18),Q(12),K()(),U(13,"td",9)(14,"a",18),Q(15),K()(),U(16,"td",10)(17,"a",18),Q(18),K()(),ut(19,"td",11),U(20,"td",12),Q(21),Kt(22,"scorePerPlanetFormatter"),K(),U(23,"td",13),Q(24),Kt(25,"number"),K()()),2&t){const n=e.$implicit;Ze("ngClass",r7(17,Z6e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),Ae(2),dt(n.rank),Ae(2),dt(n.alliance),Ae(2),dt(n.name),Ae(3),dt(n.planets),Ae(3),dt(n.g1Total),Ae(3),dt(n.g213Total),Ae(3),dt(n.g1449Total),Ae(3),dt(l7(22,10,n.score,n.planets)),Ae(3),dt(bi(25,13,n.score,"1.0","en-US"))}}function t3e(t,e){if(1&t){const n=bl();ka(0),U(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),Q(6,"#"),K(),U(7,"th",4),Q(8,"Tag"),K(),U(9,"th",5),Q(10,"Player"),K(),U(11,"th",6)(12,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("planets","desc"))}),Q(13,"Planets"),K()(),U(14,"th",8)(15,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("g1Total","desc"))}),Q(16,"G1"),K()(),U(17,"th",9)(18,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("g213Total","desc"))}),Q(19,"Inner"),K()(),U(20,"th",10)(21,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("g1449Total","desc"))}),Q(22,"Outer"),K()(),ut(23,"th",11),U(24,"th",12)(25,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("scorePerPlanet","desc"))}),Q(26,"Score/Planet"),K()(),U(27,"th",13)(28,"a",7),Nt("click",function(){return Lr(n),Br(Ht().orderBy("score","desc"))}),Q(29,"Score"),K()()()(),U(30,"tbody"),lr(31,e3e,26,23,"tr",14),K()()(),U(32,"div",15)(33,"div",16)(34,"h2"),Q(35,"Riddick"),K(),U(36,"table")(37,"tr")(38,"th"),Q(39,"G7"),K(),U(40,"td"),Q(41,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),K()(),U(42,"tr")(43,"th"),Q(44,"G8"),K(),U(45,"td"),Q(46,"8.4.3.5"),K()(),U(47,"tr")(48,"th"),Q(49,"G9"),K(),U(50,"td"),Q(51,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),K()()()()(),Na()}if(2&t){const n=Ht();Ae(31),Ze("ngForOf",n.rankings.values())}}let n3e=(()=>{var t;class e{constructor(){this.playerRankingsService=q(Ew),this.authService=q(As),this.localStorageService=q(Sr),this.rankings=new Map,this.authenticated=!1,this.Math=Math;const r=window.location.pathname.split(/\//);switch(r.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(r[3])}this.page=1,this.authService.authState.subscribe(i=>{this.authenticated=i.status,this.authenticated&&(null===this.localStorageService.get(et.PLAYER_RANKINGS_SORT_MAP)&&this.localStorageService.cache(et.PLAYER_RANKINGS_SORT_MAP,["score:asc"]),this.orderBy("score","desc"))}),this.authService.checkLoginValidity()}orderBy(r,i){let s=this.localStorageService.get(et.PLAYER_RANKINGS_SORT_MAP),o=!1,a=0,c="desc";for(let l=0;l<s.length;l++)if(s[l].split(":")[0]===r){o=!0,a=l,c=s[l].split(":")[1];break}o?s[a]="desc"===c?r+":asc":r+":desc":s.push(r+":"+i),this.rankings=this.playerRankingsService.fetchAndClear(r,i,this.page,100),this.localStorageService.cache(et.PLAYER_RANKINGS_SORT_MAP,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets"],["href","javascript:void(0);",3,"click"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"empty"],[1,"score-per-planet"],[1,"score"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(r,i){1&r&&lr(0,t3e,52,1,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[f4,Bg,fs,hs,J6e],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:50px}.empty[_ngcontent-%COMP%]{width:100px}.score[_ngcontent-%COMP%]{width:75px}.score-per-planet[_ngcontent-%COMP%]{width:50px;text-align:center}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;padding:5px!important;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}"]}),e})(),r3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[n3e]}),t.\u0275inj=xt({providers:[hs],imports:[Wr,fw,Bb,eo(()=>no(Un_firebase)),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Xr=Ate();let i3e=window.location.pathname.split(/\//g);Xr.bootstrapModule(Y4e).then(()=>{Xr.bootstrapModule(W4e).then(()=>{Xr.bootstrapModule(D2e).then(()=>{Xr.bootstrapModule(W6e).then(()=>{Xr.bootstrapModule(x1e).then(()=>{!function s3e(t){2===t.length&&0===t[1].trim().length&&(Xr.bootstrapModule(M6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),Xr.bootstrapModule(B6e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&Xr.bootstrapModule(y2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&Xr.bootstrapModule(C2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&Xr.bootstrapModule(w2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&Xr.bootstrapModule(G4e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&Xr.bootstrapModule(z6e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&Xr.bootstrapModule(r3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&Xr.bootstrapModule(X6e).catch(e=>console.error("Error loading ResearchModule: "+e))}(i3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.BlockCipher,J=I.algo,N=[],W=[],_=[],b=[],P=[],E=[],T=[],x=[],D=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var H=O^O<<1^O<<2^O<<3^O<<4;N[L]=H=H>>>8^255&H^99,W[H]=L;var pe,$=m[L],de=m[$],le=m[de];_[L]=(pe=257*m[H]^16843008*H)<<24|pe>>>8,b[L]=pe<<16|pe>>>16,P[L]=pe<<8|pe>>>24,E[L]=pe,T[H]=(pe=16843009*le^65537*de^257*$^16843008*L)<<24|pe>>>8,x[H]=pe<<16|pe>>>16,D[H]=pe<<8|pe>>>24,A[H]=pe,L?(L=$^m[m[m[le^$]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=J.AES=z.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,$=4*((this._nRounds=O+6)+1),de=this._keySchedule=[],le=0;le<$;le++)le<O?de[le]=L[le]:(m=de[le-1],le%O?O>6&&le%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[le/O|0]<<24),de[le]=de[le-O]^m);for(var pe=this._invKeySchedule=[],we=0;we<$;we++){if(le=$-we,we%4)var m=de[le];else m=de[le-4];pe[we]=we<4||le<=4?m:T[N[m>>>24]]^x[N[m>>>16&255]]^D[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,b,P,E,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,T,x,D,A,W),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,H,$,de,le){for(var pe=this._nRounds,we=m[C]^L[0],X=m[C+1]^L[1],ue=m[C+2]^L[2],ve=m[C+3]^L[3],ce=4,Ne=1;Ne<pe;Ne++){var fe=O[we>>>24]^H[X>>>16&255]^$[ue>>>8&255]^de[255&ve]^L[ce++],qe=O[X>>>24]^H[ue>>>16&255]^$[ve>>>8&255]^de[255&we]^L[ce++],tt=O[ue>>>24]^H[ve>>>16&255]^$[we>>>8&255]^de[255&X]^L[ce++],Z=O[ve>>>24]^H[we>>>16&255]^$[X>>>8&255]^de[255&ue]^L[ce++];we=fe,X=qe,ue=tt,ve=Z}fe=(le[we>>>24]<<24|le[X>>>16&255]<<16|le[ue>>>8&255]<<8|le[255&ve])^L[ce++],qe=(le[X>>>24]<<24|le[ue>>>16&255]<<16|le[ve>>>8&255]<<8|le[255&we])^L[ce++],tt=(le[ue>>>24]<<24|le[ve>>>16&255]<<16|le[we>>>8&255]<<8|le[255&X])^L[ce++],Z=(le[ve>>>24]<<24|le[we>>>16&255]<<16|le[X>>>8&255]<<8|le[255&ue])^L[ce++],m[C]=fe,m[C+1]=qe,m[C+2]=tt,m[C+3]=Z},keySize:8});I.AES=z._createHelper(k)}(),M.AES)},172:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.BlockCipher;const N=16,W=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var D=I.algo.Blowfish=z.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let H=0;H<4;H++){A.sbox[H]=[];for(let $=0;$<256;$++)A.sbox[H][$]=_[H][$]}let m=0;for(let H=0;H<N+2;H++)A.pbox[H]=W[H]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let H=0;H<N+2;H+=2)O=E(A,C,L),C=O.left,L=O.right,A.pbox[H]=C,A.pbox[H+1]=L;for(let H=0;H<4;H++)for(let $=0;$<256;$+=2)O=E(A,C,L),C=O.left,L=O.right,A.sbox[H][$]=C,A.sbox[H][$+1]=L;return!0}(b,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function T(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=z._createHelper(D)}(),M.Blowfish)},270:function(ye,Ce,V){var G,z,J,N,W,_,P,T,x,A,F,k,C,O,$,de,pe,we,M;ye.exports=(M=V(12),V(66),void(M.lib.Cipher||(G=M,z=G.lib,J=z.Base,N=z.WordArray,W=z.BufferedBlockAlgorithm,_=G.enc,P=_.Base64,T=G.algo.EvpKDF,x=z.Cipher=W.extend({cfg:J.extend(),createEncryptor:function(X,ue){return this.create(this._ENC_XFORM_MODE,X,ue)},createDecryptor:function(X,ue){return this.create(this._DEC_XFORM_MODE,X,ue)},init:function(X,ue,ve){this.cfg=this.cfg.extend(ve),this._xformMode=X,this._key=ue,this.reset()},reset:function(){W.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(ue){return"string"==typeof ue?we:de}return function(ue){return{encrypt:function(ve,ce,Ne){return X(ce).encrypt(ue,ve,ce,Ne)},decrypt:function(ve,ce,Ne){return X(ce).decrypt(ue,ve,ce,Ne)}}}}()}),z.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=G.mode={},F=z.BlockCipherMode=J.extend({createEncryptor:function(X,ue){return this.Encryptor.create(X,ue)},createDecryptor:function(X,ue){return this.Decryptor.create(X,ue)},init:function(X,ue){this._cipher=X,this._iv=ue}}),k=A.CBC=function(){var X=F.extend();function ue(ve,ce,Ne){var fe,qe=this._iv;qe?(fe=qe,this._iv=undefined):fe=this._prevBlock;for(var tt=0;tt<Ne;tt++)ve[ce+tt]^=fe[tt]}return X.Encryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize;ue.call(this,ve,ce,fe),Ne.encryptBlock(ve,ce),this._prevBlock=ve.slice(ce,ce+fe)}}),X.Decryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize,qe=ve.slice(ce,ce+fe);Ne.decryptBlock(ve,ce),ue.call(this,ve,ce,fe),this._prevBlock=qe}}),X}(),C=(G.pad={}).Pkcs7={pad:function(X,ue){for(var ve=4*ue,ce=ve-X.sigBytes%ve,Ne=ce<<24|ce<<16|ce<<8|ce,fe=[],qe=0;qe<ce;qe+=4)fe.push(Ne);var tt=N.create(fe,ce);X.concat(tt)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},z.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var X;x.reset.call(this);var ue=this.cfg,ve=ue.iv,ce=ue.mode;this._xformMode==this._ENC_XFORM_MODE?X=ce.createEncryptor:(X=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,ve&&ve.words):(this._mode=X.call(ce,this,ve&&ve.words),this._mode.__creator=X)},_doProcessBlock:function(X,ue){this._mode.processBlock(X,ue)},_doFinalize:function(){var X,ue=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ue.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),ue.unpad(X)),X},blockSize:4}),O=z.CipherParams=J.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),$=(G.format={}).OpenSSL={stringify:function(X){var ve=X.ciphertext,ce=X.salt;return(ce?N.create([1398893684,1701076831]).concat(ce).concat(ve):ve).toString(P)},parse:function(X){var ue,ve=P.parse(X),ce=ve.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(ue=N.create(ce.slice(2,4)),ce.splice(0,4),ve.sigBytes-=16),O.create({ciphertext:ve,salt:ue})}},de=z.SerializableCipher=J.extend({cfg:J.extend({format:$}),encrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce);var Ne=X.createEncryptor(ve,ce),fe=Ne.finalize(ue),qe=Ne.cfg;return O.create({ciphertext:fe,key:ve,iv:qe.iv,algorithm:X,mode:qe.mode,padding:qe.padding,blockSize:X.blockSize,formatter:ce.format})},decrypt:function(X,ue,ve,ce){return ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format),X.createDecryptor(ve,ce).finalize(ue.ciphertext)},_parse:function(X,ue){return"string"==typeof X?ue.parse(X,this):X}}),pe=(G.kdf={}).OpenSSL={execute:function(X,ue,ve,ce,Ne){if(ce||(ce=N.random(8)),Ne)var fe=T.create({keySize:ue+ve,hasher:Ne}).compute(X,ce);else fe=T.create({keySize:ue+ve}).compute(X,ce);var qe=N.create(fe.words.slice(ue),4*ve);return fe.sigBytes=4*ue,O.create({key:fe,iv:qe,salt:ce})}},we=z.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:pe}),encrypt:function(X,ue,ve,ce){var Ne=(ce=this.cfg.extend(ce)).kdf.execute(ve,X.keySize,X.ivSize,ce.salt,ce.hasher);ce.iv=Ne.iv;var fe=de.encrypt.call(this,X,ue,Ne.key,ce);return fe.mixIn(Ne),fe},decrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format);var Ne=ce.kdf.execute(ve,X.keySize,X.ivSize,ue.salt,ce.hasher);return ce.iv=Ne.iv,de.decrypt.call(this,X,ue,Ne.key,ce)}}))))},12:function(ye,Ce,V){var M;ye.exports=(M=M||function(I,G){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof global<"u"&&global.crypto&&(z=global.crypto),!z)try{z=V(480)}catch{}var J=function(){if(z){if("function"==typeof z.getRandomValues)try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof z.randomBytes)try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),W={},_=W.lib={},b=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=_.WordArray=b.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||T).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,H=m.sigBytes;if(this.clamp(),O%4)for(var $=0;$<H;$++)C[O+$>>>2]|=(L[$>>>2]>>>24-$%4*8&255)<<24-(O+$)%4*8;else for(var le=0;le<H;le+=4)C[O+le>>>2]=L[le>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=I.ceil(C/4)},clone:function(){var m=b.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(J());return new P.init(C,m)}}),E=W.enc={},T=E.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++){var $=C[H>>>2]>>>24-H%4*8&255;O.push(($>>>4).toString(16)),O.push((15&$).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=E.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++)O.push(String.fromCharCode(C[H>>>2]>>>24-H%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},D=E.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=D.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,H=L.sigBytes,$=this.blockSize,le=H/(4*$),pe=(le=m?I.ceil(le):I.max((0|le)-this._minBufferSize,0))*$,we=I.min(4*pe,H);if(pe){for(var X=0;X<pe;X+=$)this._doProcessBlock(O,X);C=O.splice(0,pe),L.sigBytes-=we}return new P.init(C,we)},clone:function(){var m=b.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:b.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),W.algo={});return W}(Math),M)},506:function(ye,Ce,V){var M,z;ye.exports=(M=V(12),z=M.lib.WordArray,M.enc.Base64={stringify:function(_){var b=_.words,P=_.sigBytes,E=this._map;_.clamp();for(var T=[],x=0;x<P;x+=3)for(var k=(b[x>>>2]>>>24-x%4*8&255)<<16|(b[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|b[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<P;m++)T.push(E.charAt(k>>>6*(3-m)&63));var C=E.charAt(64);if(C)for(;T.length%4;)T.push(C);return T.join("")},parse:function(_){var b=_.length,P=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<P.length;T++)E[P.charCodeAt(T)]=T}var x=P.charAt(64);if(x){var D=_.indexOf(x);-1!==D&&(b=D)}return function W(_,b,P){for(var E=[],T=0,x=0;x<b;x++)if(x%4){var D=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(D|A)<<24-T%4*8,T++}return z.create(E,T)}(_,b,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},M.enc.Base64)},523:function(ye,Ce,V){var M,z;ye.exports=(M=V(12),z=M.lib.WordArray,M.enc.Base64url={stringify:function(_,b){void 0===b&&(b=!0);var P=_.words,E=_.sigBytes,T=b?this._safe_map:this._map;_.clamp();for(var x=[],D=0;D<E;D+=3)for(var m=(P[D>>>2]>>>24-D%4*8&255)<<16|(P[D+1>>>2]>>>24-(D+1)%4*8&255)<<8|P[D+2>>>2]>>>24-(D+2)%4*8&255,C=0;C<4&&D+.75*C<E;C++)x.push(T.charAt(m>>>6*(3-C)&63));var L=T.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,b){void 0===b&&(b=!0);var P=_.length,E=b?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var x=0;x<E.length;x++)T[E.charCodeAt(x)]=x}var D=E.charAt(64);if(D){var A=_.indexOf(D);-1!==A&&(P=A)}return function W(_,b,P){for(var E=[],T=0,x=0;x<b;x++)if(x%4){var D=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(D|A)<<24-T%4*8,T++}return z.create(E,T)}(_,P,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},M.enc.Base64url)},454:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(){var z=M.lib.WordArray,J=M.enc;function W(_){return _<<8&4278255360|_>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(_){for(var b=_.words,P=_.sigBytes,E=[],T=0;T<P;T+=2)E.push(String.fromCharCode(b[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(_){for(var b=_.length,P=[],E=0;E<b;E++)P[E>>>1]|=_.charCodeAt(E)<<16-E%2*16;return z.create(P,2*b)}},J.Utf16LE={stringify:function(_){for(var b=_.words,P=_.sigBytes,E=[],T=0;T<P;T+=2){var x=W(b[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(x))}return E.join("")},parse:function(_){for(var b=_.length,P=[],E=0;E<b;E++)P[E>>>1]|=W(_.charCodeAt(E)<<16-E%2*16);return z.create(P,2*b)}}}(),M.enc.Utf16)},66:function(ye,Ce,V){var I,G,z,J,N,_,M;ye.exports=(M=V(12),V(446),V(990),J=(G=(I=M).lib).WordArray,_=(N=I.algo).EvpKDF=(z=G.Base).extend({cfg:z.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,P){for(var E,T=this.cfg,x=T.hasher.create(),D=J.create(),A=D.words,F=T.keySize,k=T.iterations;A.length<F;){E&&x.update(E),E=x.update(b).finalize(P),x.reset();for(var m=1;m<k;m++)E=x.finalize(E),x.reset();D.concat(E)}return D.sigBytes=4*F,D}}),I.EvpKDF=function(b,P,E){return _.create(E).compute(b,P)},M.EvpKDF)},826:function(ye,Ce,V){var M,J,W;ye.exports=(M=V(12),V(270),J=M.lib.CipherParams,W=M.enc.Hex,M.format.Hex={stringify:function(P){return P.ciphertext.toString(W)},parse:function(P){var E=W.parse(P);return J.create({ciphertext:E})}},M.format.Hex)},990:function(ye,Ce,V){var M,N;ye.exports=(M=V(12),N=M.enc.Utf8,void(M.algo.HMAC=M.lib.Base.extend({init:function(b,P){b=this._hasher=new b.init,"string"==typeof P&&(P=N.parse(P));var E=b.blockSize,T=4*E;P.sigBytes>T&&(P=b.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),D=this._iKey=P.clone(),A=x.words,F=D.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=D.sigBytes=T,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var P=this._hasher,E=P.finalize(b);return P.reset(),P.finalize(this._oKey.clone().concat(E))}})))},874:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),M)},37:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(){if("function"==typeof ArrayBuffer){var z=M.lib.WordArray,J=z.init,N=z.init=function(W){if(W instanceof ArrayBuffer&&(W=new Uint8Array(W)),(W instanceof Int8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)&&(W=new Uint8Array(W.buffer,W.byteOffset,W.byteLength)),W instanceof Uint8Array){for(var _=W.byteLength,b=[],P=0;P<_;P++)b[P>>>2]|=W[P]<<24-P%4*8;J.call(this,b,_)}else J.apply(this,arguments)};N.prototype=z}}(),M.lib.WordArray)},873:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var G=M,z=G.lib,J=z.WordArray,N=z.Hasher,W=G.algo,_=[];!function(){for(var D=0;D<64;D++)_[D]=4294967296*I.abs(I.sin(D+1))|0}();var b=W.MD5=N.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(D,A){for(var F=0;F<16;F++){var k=A+F,m=D[k];D[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=D[A+0],O=D[A+1],H=D[A+2],$=D[A+3],de=D[A+4],le=D[A+5],pe=D[A+6],we=D[A+7],X=D[A+8],ue=D[A+9],ve=D[A+10],ce=D[A+11],Ne=D[A+12],fe=D[A+13],qe=D[A+14],tt=D[A+15],Z=C[0],ae=C[1],ne=C[2],oe=C[3];Z=P(Z,ae,ne,oe,L,7,_[0]),oe=P(oe,Z,ae,ne,O,12,_[1]),ne=P(ne,oe,Z,ae,H,17,_[2]),ae=P(ae,ne,oe,Z,$,22,_[3]),Z=P(Z,ae,ne,oe,de,7,_[4]),oe=P(oe,Z,ae,ne,le,12,_[5]),ne=P(ne,oe,Z,ae,pe,17,_[6]),ae=P(ae,ne,oe,Z,we,22,_[7]),Z=P(Z,ae,ne,oe,X,7,_[8]),oe=P(oe,Z,ae,ne,ue,12,_[9]),ne=P(ne,oe,Z,ae,ve,17,_[10]),ae=P(ae,ne,oe,Z,ce,22,_[11]),Z=P(Z,ae,ne,oe,Ne,7,_[12]),oe=P(oe,Z,ae,ne,fe,12,_[13]),ne=P(ne,oe,Z,ae,qe,17,_[14]),Z=E(Z,ae=P(ae,ne,oe,Z,tt,22,_[15]),ne,oe,O,5,_[16]),oe=E(oe,Z,ae,ne,pe,9,_[17]),ne=E(ne,oe,Z,ae,ce,14,_[18]),ae=E(ae,ne,oe,Z,L,20,_[19]),Z=E(Z,ae,ne,oe,le,5,_[20]),oe=E(oe,Z,ae,ne,ve,9,_[21]),ne=E(ne,oe,Z,ae,tt,14,_[22]),ae=E(ae,ne,oe,Z,de,20,_[23]),Z=E(Z,ae,ne,oe,ue,5,_[24]),oe=E(oe,Z,ae,ne,qe,9,_[25]),ne=E(ne,oe,Z,ae,$,14,_[26]),ae=E(ae,ne,oe,Z,X,20,_[27]),Z=E(Z,ae,ne,oe,fe,5,_[28]),oe=E(oe,Z,ae,ne,H,9,_[29]),ne=E(ne,oe,Z,ae,we,14,_[30]),Z=T(Z,ae=E(ae,ne,oe,Z,Ne,20,_[31]),ne,oe,le,4,_[32]),oe=T(oe,Z,ae,ne,X,11,_[33]),ne=T(ne,oe,Z,ae,ce,16,_[34]),ae=T(ae,ne,oe,Z,qe,23,_[35]),Z=T(Z,ae,ne,oe,O,4,_[36]),oe=T(oe,Z,ae,ne,de,11,_[37]),ne=T(ne,oe,Z,ae,we,16,_[38]),ae=T(ae,ne,oe,Z,ve,23,_[39]),Z=T(Z,ae,ne,oe,fe,4,_[40]),oe=T(oe,Z,ae,ne,L,11,_[41]),ne=T(ne,oe,Z,ae,$,16,_[42]),ae=T(ae,ne,oe,Z,pe,23,_[43]),Z=T(Z,ae,ne,oe,ue,4,_[44]),oe=T(oe,Z,ae,ne,Ne,11,_[45]),ne=T(ne,oe,Z,ae,tt,16,_[46]),Z=x(Z,ae=T(ae,ne,oe,Z,H,23,_[47]),ne,oe,L,6,_[48]),oe=x(oe,Z,ae,ne,we,10,_[49]),ne=x(ne,oe,Z,ae,qe,15,_[50]),ae=x(ae,ne,oe,Z,le,21,_[51]),Z=x(Z,ae,ne,oe,Ne,6,_[52]),oe=x(oe,Z,ae,ne,$,10,_[53]),ne=x(ne,oe,Z,ae,ve,15,_[54]),ae=x(ae,ne,oe,Z,O,21,_[55]),Z=x(Z,ae,ne,oe,X,6,_[56]),oe=x(oe,Z,ae,ne,tt,10,_[57]),ne=x(ne,oe,Z,ae,pe,15,_[58]),ae=x(ae,ne,oe,Z,fe,21,_[59]),Z=x(Z,ae,ne,oe,de,6,_[60]),oe=x(oe,Z,ae,ne,ce,10,_[61]),ne=x(ne,oe,Z,ae,H,15,_[62]),ae=x(ae,ne,oe,Z,ue,21,_[63]),C[0]=C[0]+Z|0,C[1]=C[1]+ae|0,C[2]=C[2]+ne|0,C[3]=C[3]+oe|0},_doFinalize:function(){var D=this._data,A=D.words,F=8*this._nDataBytes,k=8*D.sigBytes;A[k>>>5]|=128<<24-k%32;var m=I.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),D.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,H=0;H<4;H++){var $=O[H];O[H]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8)}return L},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});function P(D,A,F,k,m,C,L){var O=D+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function E(D,A,F,k,m,C,L){var O=D+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function T(D,A,F,k,m,C,L){var O=D+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(D,A,F,k,m,C,L){var O=D+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}G.MD5=N._createHelper(b),G.HmacMD5=N._createHmacHelper(b)}(Math),M.MD5)},228:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.mode.CFB=function(){var I=M.lib.BlockCipherMode.extend();function G(z,J,N,W){var _,b=this._iv;b?(_=b.slice(0),this._iv=void 0):_=this._prevBlock,W.encryptBlock(_,0);for(var P=0;P<N;P++)z[J+P]^=_[P]}return I.Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize;G.call(this,z,J,W,N),this._prevBlock=z.slice(J,J+W)}}),I.Decryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=z.slice(J,J+W);G.call(this,z,J,W,N),this._prevBlock=_}}),I}(),M.mode.CFB)},584:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.mode.CTRGladman=function(){var I=M.lib.BlockCipherMode.extend();function G(N){if(255==(N>>24&255)){var W=N>>16&255,_=N>>8&255,b=255&N;255===W?(W=0,255===_?(_=0,255===b?b=0:++b):++_):++W,N=0,N+=W<<16,N+=_<<8,N+=b}else N+=1<<24;return N}var J=I.Encryptor=I.extend({processBlock:function(N,W){var _=this._cipher,b=_.blockSize,P=this._iv,E=this._counter;P&&(E=this._counter=P.slice(0),this._iv=void 0),function z(N){return 0===(N[0]=G(N[0]))&&(N[1]=G(N[1])),N}(E);var T=E.slice(0);_.encryptBlock(T,0);for(var x=0;x<b;x++)N[W+x]^=T[x]}});return I.Decryptor=J,I}(),M.mode.CTRGladman)},392:function(ye,Ce,V){var I,G,M;ye.exports=(M=V(12),V(270),M.mode.CTR=(G=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0);var P=b.slice(0);N.encryptBlock(P,0),b[W-1]=b[W-1]+1|0;for(var E=0;E<W;E++)z[J+E]^=P[E]}}),I.Decryptor=G,I),M.mode.CTR)},594:function(ye,Ce,V){var I,M;ye.exports=(M=V(12),V(270),M.mode.ECB=((I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(G,z){this._cipher.encryptBlock(G,z)}}),I.Decryptor=I.extend({processBlock:function(G,z){this._cipher.decryptBlock(G,z)}}),I),M.mode.ECB)},15:function(ye,Ce,V){var I,G,M;ye.exports=(M=V(12),V(270),M.mode.OFB=(G=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=this._iv,b=this._keystream;_&&(b=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(b,0);for(var P=0;P<W;P++)z[J+P]^=b[P]}}),I.Decryptor=G,I),M.mode.OFB)},237:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.AnsiX923={pad:function(I,G){var z=I.sigBytes,J=4*G,N=J-z%J,W=z+N-1;I.clamp(),I.words[W>>>2]|=N<<24-W%4*8,I.sigBytes+=N},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Ansix923)},501:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso10126={pad:function(I,G){var z=4*G,J=z-I.sigBytes%z;I.concat(M.lib.WordArray.random(J-1)).concat(M.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Iso10126)},4:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso97971={pad:function(I,G){I.concat(M.lib.WordArray.create([2147483648],1)),M.pad.ZeroPadding.pad(I,G)},unpad:function(I){M.pad.ZeroPadding.unpad(I),I.sigBytes--}},M.pad.Iso97971)},738:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.NoPadding={pad:function(){},unpad:function(){}},M.pad.NoPadding)},297:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.ZeroPadding={pad:function(I,G){var z=4*G;I.clamp(),I.sigBytes+=z-(I.sigBytes%z||z)},unpad:function(I){var G=I.words,z=I.sigBytes-1;for(z=I.sigBytes-1;z>=0;z--)if(G[z>>>2]>>>24-z%4*8&255){I.sigBytes=z+1;break}}},M.pad.ZeroPadding)},538:function(ye,Ce,V){var I,G,z,J,N,_,b,M;ye.exports=(M=V(12),V(78),V(990),J=(G=(I=M).lib).WordArray,_=(N=I.algo).HMAC,b=N.PBKDF2=(z=G.Base).extend({cfg:z.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,E){for(var T=this.cfg,x=_.create(T.hasher,P),D=J.create(),A=J.create([1]),F=D.words,k=A.words,m=T.keySize,C=T.iterations;F.length<m;){var L=x.update(E).finalize(A);x.reset();for(var O=L.words,H=O.length,$=L,de=1;de<C;de++){$=x.finalize($),x.reset();for(var le=$.words,pe=0;pe<H;pe++)O[pe]^=le[pe]}D.concat(L),k[0]++}return D.sigBytes=4*m,D}}),I.PBKDF2=function(P,E,T){return b.create(T).compute(P,E)},M.PBKDF2)},848:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,N=[],W=[],_=[],b=I.algo.RabbitLegacy=z.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,x=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],D=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)D[A]^=x[A+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(D[0]^=C,D[1]^=O,D[2]^=L,D[3]^=H,D[4]^=C,D[5]^=O,D[6]^=L,D[7]^=H,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(E,T){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),E[T+D]^=N[D]},blockSize:4,ivSize:2});function P(){for(var E=this._X,T=this._C,x=0;x<8;x++)W[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<W[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<W[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<W[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<W[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<W[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<W[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<W[6]>>>0?1:0)|0,this._b=T[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var D=E[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.RabbitLegacy=z._createHelper(b)}(),M.RabbitLegacy)},969:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,N=[],W=[],_=[],b=I.algo.Rabbit=z.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,x=0;x<4;x++)E[x]=16711935&(E[x]<<8|E[x]>>>24)|4278255360&(E[x]<<24|E[x]>>>8);var D=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=D[x+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=H,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=H,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(E,T){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),E[T+D]^=N[D]},blockSize:4,ivSize:2});function P(){for(var E=this._X,T=this._C,x=0;x<8;x++)W[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<W[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<W[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<W[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<W[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<W[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<W[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<W[6]>>>0?1:0)|0,this._b=T[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var D=E[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.Rabbit=z._createHelper(b)}(),M.Rabbit)},195:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,J=I.algo,N=J.RC4=z.extend({_doReset:function(){for(var b=this._key,P=b.words,E=b.sigBytes,T=this._S=[],x=0;x<256;x++)T[x]=x;x=0;for(var D=0;x<256;x++){var A=x%E,k=T[x];T[x]=T[D=(D+T[x]+(P[A>>>2]>>>24-A%4*8&255))%256],T[D]=k}this._i=this._j=0},_doProcessBlock:function(b,P){b[P]^=W.call(this)},keySize:8,ivSize:0});function W(){for(var b=this._S,P=this._i,E=this._j,T=0,x=0;x<4;x++){var D=b[P=(P+1)%256];b[P]=b[E=(E+b[P])%256],b[E]=D,T|=b[(b[P]+b[E])%256]<<24-8*x}return this._i=P,this._j=E,T}I.RC4=z._createHelper(N);var _=J.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)W.call(this)}});I.RC4Drop=z._createHelper(_)}(),M.RC4)},558:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var G=M,z=G.lib,J=z.WordArray,N=z.Hasher,W=G.algo,_=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=J.create([0,1518500249,1859775393,2400959708,2840853838]),x=J.create([1352829926,1548603684,1836072691,2053994217,0]),D=W.RIPEMD160=N.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,H){for(var $=0;$<16;$++){var de=H+$,le=O[de];O[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}var fe,qe,tt,Z,ae,ne,oe,St,Fe,nt,Je,pe=this._hash.words,we=T.words,X=x.words,ue=_.words,ve=b.words,ce=P.words,Ne=E.words;for(ne=fe=pe[0],oe=qe=pe[1],St=tt=pe[2],Fe=Z=pe[3],nt=ae=pe[4],$=0;$<80;$+=1)Je=fe+O[H+ue[$]]|0,Je+=$<16?A(qe,tt,Z)+we[0]:$<32?F(qe,tt,Z)+we[1]:$<48?k(qe,tt,Z)+we[2]:$<64?m(qe,tt,Z)+we[3]:C(qe,tt,Z)+we[4],Je=(Je=L(Je|=0,ce[$]))+ae|0,fe=ae,ae=Z,Z=L(tt,10),tt=qe,qe=Je,Je=ne+O[H+ve[$]]|0,Je+=$<16?C(oe,St,Fe)+X[0]:$<32?m(oe,St,Fe)+X[1]:$<48?k(oe,St,Fe)+X[2]:$<64?F(oe,St,Fe)+X[3]:A(oe,St,Fe)+X[4],Je=(Je=L(Je|=0,Ne[$]))+nt|0,ne=nt,nt=Fe,Fe=L(St,10),St=oe,oe=Je;Je=pe[1]+tt+Fe|0,pe[1]=pe[2]+Z+nt|0,pe[2]=pe[3]+ae+ne|0,pe[3]=pe[4]+fe+oe|0,pe[4]=pe[0]+qe+St|0,pe[0]=Je},_doFinalize:function(){var O=this._data,H=O.words,$=8*this._nDataBytes,de=8*O.sigBytes;H[de>>>5]|=128<<24-de%32,H[14+(de+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),O.sigBytes=4*(H.length+1),this._process();for(var le=this._hash,pe=le.words,we=0;we<5;we++){var X=pe[we];pe[we]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return le},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,H,$){return O^H^$}function F(O,H,$){return O&H|~O&$}function k(O,H,$){return(O|~H)^$}function m(O,H,$){return O&$|H&~$}function C(O,H,$){return O^(H|~$)}function L(O,H){return O<<H|O>>>32-H}G.RIPEMD160=N._createHelper(D),G.HmacRIPEMD160=N._createHmacHelper(D)}(Math),M.RIPEMD160)},446:function(ye,Ce,V){var I,G,z,J,W,_,M;ye.exports=(M=V(12),z=(G=(I=M).lib).WordArray,W=[],_=I.algo.SHA1=(J=G.Hasher).extend({_doReset:function(){this._hash=new z.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,P){for(var E=this._hash.words,T=E[0],x=E[1],D=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)W[k]=0|b[P+k];else{var m=W[k-3]^W[k-8]^W[k-14]^W[k-16];W[k]=m<<1|m>>>31}var C=(T<<5|T>>>27)+F+W[k];C+=k<20?1518500249+(x&D|~x&A):k<40?1859775393+(x^D^A):k<60?(x&D|x&A|D&A)-1894007588:(x^D^A)-899497514,F=A,A=D,D=x<<30|x>>>2,x=T,T=C}E[0]=E[0]+T|0,E[1]=E[1]+x|0,E[2]=E[2]+D|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var b=this._data,P=b.words,E=8*this._nDataBytes,T=8*b.sigBytes;return P[T>>>5]|=128<<24-T%32,P[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),P[15+(T+64>>>9<<4)]=E,b.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var b=J.clone.call(this);return b._hash=this._hash.clone(),b}}),I.SHA1=J._createHelper(_),I.HmacSHA1=J._createHmacHelper(_),M.SHA1)},811:function(ye,Ce,V){var I,z,J,N,W,M;ye.exports=(M=V(12),V(78),z=(I=M).lib.WordArray,W=(J=I.algo).SHA224=(N=J.SHA256).extend({_doReset:function(){this._hash=new z.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),I.SHA224=N._createHelper(W),I.HmacSHA224=N._createHmacHelper(W),M.SHA224)},78:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var G=M,z=G.lib,J=z.WordArray,N=z.Hasher,W=G.algo,_=[],b=[];!function(){function T(F){for(var k=I.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var D=2,A=0;A<64;)T(D)&&(A<8&&(_[A]=x(I.pow(D,.5))),b[A]=x(I.pow(D,1/3)),A++),D++}();var P=[],E=W.SHA256=N.extend({_doReset:function(){this._hash=new J.init(_.slice(0))},_doProcessBlock:function(T,x){for(var D=this._hash.words,A=D[0],F=D[1],k=D[2],m=D[3],C=D[4],L=D[5],O=D[6],H=D[7],$=0;$<64;$++){if($<16)P[$]=0|T[x+$];else{var de=P[$-15],pe=P[$-2];P[$]=((de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3)+P[$-7]+((pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10)+P[$-16]}var ue=A&F^A&k^F&k,Ne=H+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+b[$]+P[$];H=O,O=L,L=C,C=m+Ne|0,m=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ue)|0}D[0]=D[0]+A|0,D[1]=D[1]+F|0,D[2]=D[2]+k|0,D[3]=D[3]+m|0,D[4]=D[4]+C|0,D[5]=D[5]+L|0,D[6]=D[6]+O|0,D[7]=D[7]+H|0},_doFinalize:function(){var T=this._data,x=T.words,D=8*this._nDataBytes,A=8*T.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=I.floor(D/4294967296),x[15+(A+64>>>9<<4)]=D,T.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});G.SHA256=N._createHelper(E),G.HmacSHA256=N._createHmacHelper(E)}(Math),M.SHA256)},545:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),function(I){var G=M,z=G.lib,J=z.WordArray,N=z.Hasher,_=G.x64.Word,b=G.algo,P=[],E=[],T=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var H=0,$=0,de=0;de<7;de++){if(1&L){var le=(1<<de)-1;le<32?$^=1<<le:H^=1<<le-32}128&L?L=L<<1^113:L<<=1}T[O]=_.create(H,$)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var D=b.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(H=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H.low^=L}for(var $=0;$<24;$++){for(var de=0;de<5;de++){for(var le=0,pe=0,we=0;we<5;we++)le^=(H=k[de+5*we]).high,pe^=H.low;var X=x[de];X.high=le,X.low=pe}for(de=0;de<5;de++){var ue=x[(de+4)%5],ve=x[(de+1)%5],ce=ve.high,Ne=ve.low;for(le=ue.high^(ce<<1|Ne>>>31),pe=ue.low^(Ne<<1|ce>>>31),we=0;we<5;we++)(H=k[de+5*we]).high^=le,H.low^=pe}for(var fe=1;fe<25;fe++){var qe=(H=k[fe]).high,tt=H.low,Z=P[fe];Z<32?(le=qe<<Z|tt>>>32-Z,pe=tt<<Z|qe>>>32-Z):(le=tt<<Z-32|qe>>>64-Z,pe=qe<<Z-32|tt>>>64-Z);var ae=x[E[fe]];ae.high=le,ae.low=pe}var ne=x[0],oe=k[0];for(ne.high=oe.high,ne.low=oe.low,de=0;de<5;de++)for(we=0;we<5;we++){var St=x[fe=de+5*we],Fe=x[(de+1)%5+5*we],nt=x[(de+2)%5+5*we];(H=k[fe]).high=St.high^~Fe.high&nt.high,H.low=St.low^~Fe.low&nt.low}var H,Je=T[$];(H=k[0]).high^=Je.high,H.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(I.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,H=O/8,$=[],de=0;de<H;de++){var le=L[de],pe=le.high,we=le.low;pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),$.push(we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8)),$.push(pe)}return new J.init($,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});G.SHA3=N._createHelper(D),G.HmacSHA3=N._createHmacHelper(D)}(Math),M.SHA3)},913:function(ye,Ce,V){var I,G,z,J,N,W,_,M;ye.exports=(M=V(12),V(802),V(870),z=(G=(I=M).x64).Word,J=G.WordArray,_=(N=I.algo).SHA384=(W=N.SHA512).extend({_doReset:function(){this._hash=new J.init([new z.init(3418070365,3238371032),new z.init(1654270250,914150663),new z.init(2438529370,812702999),new z.init(355462360,4144912697),new z.init(1731405415,4290775857),new z.init(2394180231,1750603025),new z.init(3675008525,1694076839),new z.init(1203062813,3204075428)])},_doFinalize:function(){var b=W._doFinalize.call(this);return b.sigBytes-=16,b}}),I.SHA384=W._createHelper(_),I.HmacSHA384=W._createHmacHelper(_),M.SHA384)},870:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),function(){var I=M,z=I.lib.Hasher,J=I.x64,N=J.Word,W=J.WordArray,_=I.algo;function b(){return N.create.apply(N,arguments)}var P=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],E=[];!function(){for(var x=0;x<80;x++)E[x]=b()}();var T=_.SHA512=z.extend({_doReset:function(){this._hash=new W.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,D){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],H=A[6],$=A[7],de=F.high,le=F.low,pe=k.high,we=k.low,X=m.high,ue=m.low,ve=C.high,ce=C.low,Ne=L.high,fe=L.low,qe=O.high,tt=O.low,Z=H.high,ae=H.low,ne=$.high,oe=$.low,St=de,Fe=le,nt=pe,Je=we,Ye=X,Xi=ue,sd=ve,Os=ce,rr=Ne,Zt=fe,Rr=qe,Rc=tt,od=Z,kc=ae,zp=ne,xa=oe,kr=0;kr<80;kr++){var Nr,pi,Nc=E[kr];if(kr<16)pi=Nc.high=0|x[D+2*kr],Nr=Nc.low=0|x[D+2*kr+1];else{var Oc=E[kr-15],Fs=Oc.high,Ca=Oc.low,Up=(Ca>>>1|Fs<<31)^(Ca>>>8|Fs<<24)^(Ca>>>7|Fs<<25),Pi=E[kr-2],Vs=Pi.high,Ia=Pi.low,$p=(Ia>>>19|Vs<<13)^(Ia<<3|Vs>>>29)^(Ia>>>6|Vs<<26),Gp=E[kr-7],qp=E[kr-16],Wp=qp.low;Nc.high=pi=(pi=(pi=((Fs>>>1|Ca<<31)^(Fs>>>8|Ca<<24)^Fs>>>7)+Gp.high+((Nr=Up+Gp.low)>>>0<Up>>>0?1:0))+((Vs>>>19|Ia<<13)^(Vs<<3|Ia>>>29)^Vs>>>6)+((Nr+=$p)>>>0<$p>>>0?1:0))+qp.high+((Nr+=Wp)>>>0<Wp>>>0?1:0),Nc.low=Nr}var ir,a_=rr&Rr^~rr&od,Kp=Zt&Rc^~Zt&kc,c_=St&nt^St&Ye^nt&Ye,ad=(Fe>>>28|St<<4)^(Fe<<30|St>>>2)^(Fe<<25|St>>>7),cd=P[kr],ld=cd.low,Ri=zp+((rr>>>14|Zt<<18)^(rr>>>18|Zt<<14)^(rr<<23|Zt>>>9))+((ir=xa+((Zt>>>14|rr<<18)^(Zt>>>18|rr<<14)^(Zt<<23|rr>>>9)))>>>0<xa>>>0?1:0),ud=ad+(Fe&Je^Fe&Xi^Je&Xi);zp=od,xa=kc,od=Rr,kc=Rc,Rr=rr,Rc=Zt,rr=sd+(Ri=(Ri=(Ri=Ri+a_+((ir+=Kp)>>>0<Kp>>>0?1:0))+cd.high+((ir+=ld)>>>0<ld>>>0?1:0))+pi+((ir+=Nr)>>>0<Nr>>>0?1:0))+((Zt=Os+ir|0)>>>0<Os>>>0?1:0)|0,sd=Ye,Os=Xi,Ye=nt,Xi=Je,nt=St,Je=Fe,St=Ri+(((St>>>28|Fe<<4)^(St<<30|Fe>>>2)^(St<<25|Fe>>>7))+c_+(ud>>>0<ad>>>0?1:0))+((Fe=ir+ud|0)>>>0<ir>>>0?1:0)|0}le=F.low=le+Fe,F.high=de+St+(le>>>0<Fe>>>0?1:0),we=k.low=we+Je,k.high=pe+nt+(we>>>0<Je>>>0?1:0),ue=m.low=ue+Xi,m.high=X+Ye+(ue>>>0<Xi>>>0?1:0),ce=C.low=ce+Os,C.high=ve+sd+(ce>>>0<Os>>>0?1:0),fe=L.low=fe+Zt,L.high=Ne+rr+(fe>>>0<Zt>>>0?1:0),tt=O.low=tt+Rc,O.high=qe+Rr+(tt>>>0<Rc>>>0?1:0),ae=H.low=ae+kc,H.high=Z+od+(ae>>>0<kc>>>0?1:0),oe=$.low=oe+xa,$.high=ne+zp+(oe>>>0<xa>>>0?1:0)},_doFinalize:function(){var x=this._data,D=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return D[F>>>5]|=128<<24-F%32,D[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),D[31+(F+128>>>10<<5)]=A,x.sigBytes=4*D.length,this._process(),this._hash.toX32()},clone:function(){var x=z.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});I.SHA512=z._createHelper(T),I.HmacSHA512=z._createHmacHelper(T)}(),M.SHA512)},769:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,G=I.lib,z=G.WordArray,J=G.BlockCipher,N=I.algo,W=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=N.DES=J.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=W[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],H=0;H<16;H++){var $=O[H]=[],de=b[H];for(C=0;C<24;C++)$[C/6|0]|=m[(_[C]-1+de)%28]<<31-C%6,$[4+(C/6|0)]|=m[28+(_[C+24]-1+de)%28]<<31-C%6;for($[0]=$[0]<<1|$[0]>>>31,C=1;C<7;C++)$[C]=$[C]>>>4*(C-1)+3;$[7]=$[7]<<5|$[7]>>>27}var le=this._invSubKeys=[];for(C=0;C<16;C++)le[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),D.call(this,2,858993459),D.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,H=this._rBlock,$=0,de=0;de<8;de++)$|=P[de][((H^L[de])&E[de])>>>0];this._lBlock=H,this._rBlock=O^$}var le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=le,x.call(this,1,1431655765),D.call(this,8,16711935),D.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function D(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}I.DES=J._createHelper(T);var A=N.TripleDES=J.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=T.createEncryptor(z.create(m)),this._des2=T.createEncryptor(z.create(C)),this._des3=T.createEncryptor(z.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),M.TripleDES)},802:function(ye,Ce,V){var z,J,N,W,M;ye.exports=(M=V(12),J=(z=M.lib).Base,N=z.WordArray,(W=M.x64={}).Word=J.extend({init:function(P,E){this.high=P,this.low=E}}),W.WordArray=J.extend({init:function(P,E){P=this.words=P||[],this.sigBytes=null!=E?E:8*P.length},toX32:function(){for(var P=this.words,E=P.length,T=[],x=0;x<E;x++){var D=P[x];T.push(D.high),T.push(D.low)}return N.create(T,this.sigBytes)},clone:function(){for(var P=J.clone.call(this),E=P.words=this.words.slice(0),T=E.length,x=0;x<T;x++)E[x]=E[x].clone();return P}}),M)},480:()=>{}},ye=>{ye(ye.s=618)}]);