(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{692:(ye,Ie,V)=>{"use strict";function P(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const q=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{v(s)}catch(o){e=e??[],o instanceof q?e=[...e,...o.errors]:e.push(o)}}if(e)throw new q(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const N=J.EMPTY;function K(t){return t instanceof J||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function v(t){P(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(t,e,...n){const{delegate:r}=M;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=M;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){M.setTimeout(()=>{const{onUnhandledError:e}=b;if(!e)throw t;e(t)})}function T(){}const C=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function _(t){if(b.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,K(e)&&e.add(this)):this.destination=X}static create(e,n,r){return new de(e,n,r)}next(e){this.isStopped?Ae(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ae(function S(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ae(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class ${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){le(r)}else le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){le(n)}}}class de extends L{constructor(e,n,r){let i;if(super(),P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new $(i)}}function le(t){b.useDeprecatedSynchronousErrorHandling?function x(t){b.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function Ae(t,e){const{onStoppedNotification:n}=b;n&&M.setTimeout(()=>n(t,e))}const X={closed:!0,next:T,error:function pe(t){throw t},complete:T},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function Ne(t){return 0===t.length?ve:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof L||function tt(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}(t)&&K(t)}(n)?n:new de(n,r,i);return _(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qe(r))((i,s)=>{const o=new de({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ue](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=qe(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qe(t){var e;return null!==(e=t??b.Promise)&&void 0!==e?e:Promise}const ae=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ae}next(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new fe;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function Dt(t){return P(t?.lift)}function Fe(t){return e=>{if(Dt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Fe((n,r)=>{let i=0;n.subscribe(nt(r,s=>{r.next(t.call(e,s,i++))}))})}function rr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function un(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function di(t,e){return function(n,r){e(n,r,t)}}function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}function Gp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Fc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function cd(t){return P(t?.then)}function Jp(t){return P(t[ue])}function Zp(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function ld(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ud=function l_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(t){return P(t?.[ud])}function Pi(t){return function Ls(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Di?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Di(n.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{n.releaseLock()}})}function dd(t){return P(t?.getReader)}function sr(t){if(t instanceof fe)return t;if(null!=t){if(Jp(t))return function nj(t){return new fe(e=>{const n=t[ue]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Xp(t))return function rj(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(cd(t))return function ij(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(Zp(t))return yw(t);if(ir(t))return function sj(t){return new fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(dd(t))return function oj(t){return yw(Pi(t))}(t)}throw ld(t)}function yw(t){return new fe(e=>{(function aj(t,e){var n,r,i,s;return function Or(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Gp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Bs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function jn(t,e,n=1/0){return P(e)?jn((r,i)=>Ye((s,o)=>e(r,s,i,o))(sr(t(r,i))),n):("number"==typeof e&&(n=e),Fe((r,i)=>function cj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let y=!1;sr(n(g,u++)).subscribe(nt(e,D=>{i?.(D),s?h(D):e.next(D)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const D=c.shift();o?Bs(e,o,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(nt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function e0(t=1/0){return jn(ve,t)}const Zi=new fe(t=>t.complete());function u_(t){return t[t.length-1]}function Ew(t){return P(u_(t))?t.pop():void 0}function fd(t){return function uj(t){return t&&P(t.schedule)}(u_(t))?t.pop():void 0}function t0(t,e=0){return Fe((n,r)=>{n.subscribe(nt(r,i=>Bs(r,t,()=>r.next(i),e),()=>Bs(r,t,()=>r.complete(),e),i=>Bs(r,t,()=>r.error(i),e)))})}function n0(t,e=0){return Fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Cw(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Bs(n,e,()=>{const r=t[Symbol.asyncIterator]();Bs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $n(t,e){return e?function _j(t,e){if(null!=t){if(Jp(t))return function fj(t,e){return sr(t).pipe(n0(e),t0(e))}(t,e);if(Xp(t))return function pj(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(cd(t))return function hj(t,e){return sr(t).pipe(n0(e),t0(e))}(t,e);if(Zp(t))return Cw(t,e);if(ir(t))return function gj(t,e){return new fe(n=>{let r;return Bs(n,e,()=>{r=t[ud](),Bs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}(t,e);if(dd(t))return function mj(t,e){return Cw(Pi(t),e)}(t,e)}throw ld(t)}(t,e):sr(t)}class hi extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ve(...t){return $n(t,fd(t))}function xw(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,y)=>{l++,!d&&!u&&f();const D=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=d_(p,i))}),D.subscribe(y),!o&&l>0&&(o=new de({next:w=>D.next(w),error:w=>{d=!0,f(),a=d_(h,n,w),D.error(w)},complete:()=>{u=!0,f(),a=d_(h,r),D.complete()}}),sr(g).subscribe(o))})(s)}}function d_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return sr(e(...n)).subscribe(r)}function pi(t,e){return Fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(nt(r,c=>{i?.unsubscribe();let l=0;const u=s++;sr(t(c,u)).subscribe(i=nt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Iw(t,e=ve){return t=t??yj,Fe((n,r)=>{let i,s=!0;n.subscribe(nt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function yj(t,e){return t===e}function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function r0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ej=Et({__forward_ref__:Et});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return wn(this())},t}function He(t){return h_(t)?t():t}function h_(t){return"function"==typeof t&&t.hasOwnProperty(Ej)&&t.__forward_ref__===Mt}function p_(t){return t&&!!t.\u0275providers}const bw="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function s0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function g_(t,e){throw new re(-201,!1)}function gi(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function o0(t){return ww(t,c0)||ww(t,Aw)}function ww(t,e){return t.hasOwnProperty(e)?t[e]:null}function a0(t){return t&&(t.hasOwnProperty(m_)||t.hasOwnProperty(Sj))?t[m_]:null}const c0=Et({\u0275prov:Et}),m_=Et({\u0275inj:Et}),Aw=Et({ngInjectableDef:Et}),Sj=Et({ngInjectorDef:Et});var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(at||{});let __;function Vr(t){const e=__;return __=t,e}function Sw(t,e,n){const r=o0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&at.Optional?null:void 0!==e?e:void g_(wn(t))}const Rt=globalThis;class Ce{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hd={},x_="__NG_DI_FLAG__",l0="ngTempTokenPath",Mj=/\n/gm,Pw="__source";let Vc;function To(t){const e=Vc;return Vc=t,e}function Nj(t,e=at.Default){if(void 0===Vc)throw new re(-203,!1);return null===Vc?Sw(t,void 0,e):Vc.get(t,e&at.Optional?null:void 0,e)}function De(t,e=at.Default){return(function Tw(){return __}()||Nj)(He(t),e)}function G(t,e=at.Default){return De(t,u0(e))}function u0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=at.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Oj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(De(i,s))}else e.push(De(r))}return e}function pd(t,e){return t[x_]=e,t.prototype[x_]=e,t}function Oj(t){return t[x_]}function Hs(t){return{toString:t}.toString()}var d0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(d0||{}),Mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mi||{});const es={},gt=[],f0=Et({\u0275cmp:Et}),b_=Et({\u0275dir:Et}),w_=Et({\u0275pipe:Et}),Rw=Et({\u0275mod:Et}),zs=Et({\u0275fac:Et}),gd=Et({__NG_ELEMENT_ID__:Et}),kw=Et({__NG_ENV_ID__:Et});function Nw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function A_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Fw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Ow(t){return 3===t||4===t||6===t}function Fw(t){return 64===t.charCodeAt(0)}function md(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Vw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Vw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Lw="ng-template";function Lj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Nw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Bw(t){return 4===t.type&&t.value!==Lw}function Bj(t,e,n){return e===(4!==t.type||n?t.value:Lw)}function Hj(t,e,n){let r=4;const i=t.attrs||[],s=function jj(t){for(let e=0;e<t.length;e++)if(Ow(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Bj(t,c,n)||""===c&&1===e.length){if(Ri(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Lj(t.attrs,l,n)){if(Ri(r))return!1;o=!0}continue}const d=zj(8&r?"class":c,i,Bw(t),n);if(-1===d){if(Ri(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Nw(h,l,0)||2&r&&l!==f){if(Ri(r))return!1;o=!0}}}}else{if(!o&&!Ri(r)&&!Ri(c))return!1;if(o&&Ri(c))continue;o=!1,r=c|1&r}}return Ri(r)||o}function Ri(t){return 0==(1&t)}function zj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function $j(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Hw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hj(t,e[r],n))return!0;return!1}function Gj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function zw(t,e){return t?":not("+e.trim()+")":e}function qj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ri(o)&&(e+=zw(s,i),i=""),r=o,s=s||!Ri(r);n++}return""!==i&&(e+=zw(s,i)),e}function kn(t){return Hs(()=>{const e=jw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===d0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mi.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""};$w(n);const r=t.dependencies;return n.directiveDefs=h0(r,!1),n.pipeDefs=h0(r,!0),n.id=function e$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Qj(t){return ut(t)||Gn(t)}function Xj(t){return null!==t}function Tt(t){return Hs(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uw(t,e){if(null==t)return es;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Hs(()=>{const e=jw(t);return $w(e),e})}function Nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[f0]||null}function Gn(t){return t[b_]||null}function _r(t){return t[w_]||null}function Jr(t,e){const n=t[Rw]||null;if(!n&&!0===e)throw new Error(`Type ${wn(t)} does not have '\u0275mod' property.`);return n}function jw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||es,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uw(t.inputs,e),outputs:Uw(t.outputs)}}function $w(t){t.features?.forEach(e=>e(t))}function h0(t,e){if(!t)return null;const n=e?_r:Qj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Xj)}const Zt=0,be=1,We=2,jt=3,ki=4,_d=5,or=6,Bc=7,dn=8,So=9,Hc=10,je=11,vd=12,Gw=13,zc=14,fn=15,yd=16,Uc=17,ts=18,Ed=19,qw=20,Do=21,Us=22,Cd=23,xd=24,rt=25,T_=1,Ww=2,ns=7,jc=9,qn=11;function Lr(t){return Array.isArray(t)&&"object"==typeof t[T_]}function vr(t){return Array.isArray(t)&&!0===t[T_]}function S_(t){return 0!=(4&t.flags)}function Ta(t){return t.componentOffset>-1}function g0(t){return 1==(1&t.flags)}function Ni(t){return!!t.template}function D_(t){return 0!=(512&t[We])}function Sa(t,e){return t.hasOwnProperty(zs)?t[zs]:null}let Wn=null,m0=!1;function mi(t){const e=Wn;return Wn=t,e}const Qw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Jw(t){if(!bd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!tA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function eA(t){t.dirty=!0,function Zw(t){if(void 0===t.liveConsumerNode)return;const e=m0;m0=!0;try{for(const n of t.liveConsumerNode)n.dirty||eA(n)}finally{m0=e}}(t),t.consumerMarkedDirty?.(t)}function M_(t){return t&&(t.nextProducerIndex=0),mi(t)}function R_(t,e){if(mi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(bd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tA(t){$c(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Jw(n),r!==n.version))return!0}return!1}function nA(t){if($c(t),bd(t))for(let e=0;e<t.producerNode.length;e++)_0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _0(t,e){if(function iA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$c(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)_0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$c(i),i.producerIndexOfThis[r]=e}}function bd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let sA=null;function cA(t){const e=mi(null);try{return t()}finally{mi(e)}}const lA=()=>{},h$=(()=>({...Qw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:lA}))();class p${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return uA}function uA(t){return t.type.prototype.ngOnChanges&&(t.setInput=m$),g$}function g$(){const t=fA(this),e=t?.current;if(e){const n=t.previous;if(n===es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function m$(t,e,n,r){const i=this.declaredInputs[n],s=fA(t)||function _$(t,e){return t[dA]=e}(t,{previous:es,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new p$(c&&c.currentValue,e,a===es),t[r]=e}yr.ngInherit=!0;const dA="__ngSimpleChanges__";function fA(t){return t[dA]||null}const rs=function(t,e,n){};function kt(t){for(;Array.isArray(t);)t=t[Zt];return t}function v0(t,e){return kt(e[t])}function Br(t,e){return kt(e[t.index])}function gA(t,e){return t.data[e]}function Gc(t,e){return t[e]}function Zr(t,e){const n=e[t];return Lr(n)?n:n[Zt]}function Mo(t,e){return null==e?null:t[e]}function mA(t){t[Uc]=0}function I$(t){1024&t[We]||(t[We]|=1024,vA(t,1))}function _A(t){1024&t[We]&&(t[We]&=-1025,vA(t,-1))}function vA(t,e){let n=t[jt];if(null===n)return;n[_d]+=e;let r=n;for(n=n[jt];null!==n&&(1===e&&1===r[_d]||-1===e&&0===r[_d]);)n[_d]+=e,r=n,n=n[jt]}const Be={lFrame:DA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function CA(){return Be.bindingsEnabled}function qc(){return null!==Be.skipHydrationRootTNode}function ee(){return Be.lFrame.lView}function dt(){return Be.lFrame.tView}function is(t){return Be.lFrame.contextLView=t,t[dn]}function ss(t){return Be.lFrame.contextLView=null,t}function Kn(){let t=xA();for(;null!==t&&64===t.type;)t=t.parent;return t}function xA(){return Be.lFrame.currentTNode}function os(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function V_(){return Be.lFrame.isParent}function L_(){Be.lFrame.isParent=!1}function Er(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wc(){return Be.lFrame.bindingIndex++}function O$(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,B_(e)}function B_(t){Be.lFrame.currentDirectiveIndex=t}function AA(){return Be.lFrame.currentQueryIndex}function z_(t){Be.lFrame.currentQueryIndex=t}function V$(t){const e=t[be];return 2===e.type?e.declTNode:1===e.type?t[or]:null}function TA(t,e,n){if(n&at.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&at.Host||(i=V$(s),null===i||(s=s[zc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=SA();return r.currentTNode=e,r.lView=t,!0}function U_(t){const e=SA(),n=t[be];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SA(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?DA(t):e}function DA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function PA(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const MA=PA;function j_(){const t=PA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cr(){return Be.lFrame.selectedIndex}function Da(t){Be.lFrame.selectedIndex=t}function Qt(){const t=Be.lFrame;return gA(t.tView,t.selectedIndex)}let kA=!0;function y0(){return kA}function Ro(t){kA=t}function E0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function C0(t,e,n){NA(t,e,3,n)}function x0(t,e,n,r){(3&t[We])===n&&NA(t,e,n,r)}function $_(t,e){let n=t[We];(3&n)===e&&(n&=8191,n+=1,t[We]=n)}function NA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Uc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Uc]+=65536),(a<s||-1==s)&&(G$(t,n,e,c),t[Uc]=(4294901760&t[Uc])+c+2),c++}function OA(t,e){rs(4,t,e);const n=mi(null);try{e.call(t)}finally{mi(n),rs(5,t,e)}}function G$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[We]>>13<t[Uc]>>16&&(3&t[We])===e&&(t[We]+=8192,OA(a,s)):OA(a,s)}const Kc=-1;class Ad{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function q_(t){return t!==Kc}function Td(t){return 32767&t}function Sd(t,e){let n=function Y$(t){return t>>16}(t),r=e;for(;n>0;)r=r[zc],n--;return r}let W_=!0;function I0(t){const e=W_;return W_=t,e}const FA=255,VA=5;let Q$=0;const as={};function b0(t,e){const n=LA(t,e);if(-1!==n)return n;const r=e[be];r.firstCreatePass&&(t.injectorIndex=e.length,K_(r.data,t),K_(e,null),K_(r.blueprint,null));const i=w0(t,e),s=t.injectorIndex;if(q_(i)){const o=Td(i),a=Sd(i,e),c=a[be].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function K_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function w0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=GA(i),null===r)return Kc;if(n++,i=i[zc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Kc}function Y_(t,e,n){!function X$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(gd)&&(r=n[gd]),null==r&&(r=n[gd]=Q$++);const i=r&FA;e.data[t+(i>>VA)]|=1<<i}(t,e,n)}function BA(t,e,n){if(n&at.Optional||void 0!==t)return t;g_()}function HA(t,e,n,r){if(n&at.Optional&&void 0===r&&(r=null),!(n&(at.Self|at.Host))){const i=t[So],s=Vr(void 0);try{return i?i.get(e,r,n&at.Optional):Sw(e,r,n&at.Optional)}finally{Vr(s)}}return BA(r,0,n)}function zA(t,e,n,r=at.Default,i){if(null!==t){if(2048&e[We]&&!(r&at.Self)){const o=function rG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=UA(s,o,n,r|at.Self,as);if(a!==as)return a;let c=s.parent;if(!c){const l=o[qw];if(l){const u=l.get(n,as,r);if(u!==as)return u}c=GA(o),o=o[zc]}s=c}return i}(t,e,n,r,as);if(o!==as)return o}const s=UA(t,e,n,r,as);if(s!==as)return s}return HA(e,n,r,i)}function UA(t,e,n,r,i){const s=function eG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(gd)?t[gd]:void 0;return"number"==typeof e?e>=0?e&FA:nG:e}(n);if("function"==typeof s){if(!TA(e,t,r))return r&at.Host?BA(i,0,r):HA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&at.Optional)return o;g_()}finally{MA()}}else if("number"==typeof s){let o=null,a=LA(t,e),c=Kc,l=r&at.Host?e[fn][or]:null;for((-1===a||r&at.SkipSelf)&&(c=-1===a?w0(t,e):e[a+8],c!==Kc&&$A(r,!1)?(o=e[be],a=Td(c),e=Sd(c,e)):a=-1);-1!==a;){const u=e[be];if(jA(s,a,u.data)){const d=Z$(a,e,n,o,r,l);if(d!==as)return d}c=e[a+8],c!==Kc&&$A(r,e[be].data[a+8]===l)&&jA(s,a,e)?(o=u,a=Td(c),e=Sd(c,e)):a=-1}}return i}function Z$(t,e,n,r,i,s){const o=e[be],a=o.data[t+8],u=A0(a,o,n,null==r?Ta(a)&&W_:r!=o&&0!=(3&a.type),i&at.Host&&s===a);return null!==u?Pa(e,o,u,a):as}function A0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Ni(h)&&h.type===n)return c}return null}function Pa(t,e,n,r){let i=t[n];const s=e.data;if(function q$(t){return t instanceof Ad}(i)){const o=i;o.resolving&&function Cj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(s[n]));const a=I0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Vr(o.injectImpl):null;TA(t,r,at.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function $$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=uA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Vr(l),I0(a),o.resolving=!1,MA()}}return i}function jA(t,e,n){return!!(n[e+(t>>VA)]&1<<t)}function $A(t,e){return!(t&at.Self||t&at.Host&&e)}class xr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zA(this._tNode,this._lView,e,u0(r),n)}}function nG(){return new xr(Kn(),ee())}function Yn(t){return Hs(()=>{const e=t.prototype.constructor,n=e[zs]||Q_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[zs]||Q_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Q_(t){return h_(t)?()=>{const e=Q_(He(t));return e&&e()}:Sa(t)}function GA(t){const e=t[be],n=e.type;return 2===n?e.declTNode:1===n?t[or]:null}const Qc="__parameters__";function Jc(t,e,n){return Hs(()=>{const r=function X_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Qc)?c[Qc]:Object.defineProperty(c,Qc,{value:[]})[Qc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function el(t,e){t.forEach(n=>Array.isArray(n)?el(n,e):e(n))}function WA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function S0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Md(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ei(t,e,n){let r=tl(t,e);return r>=0?t[1|r]=n:(r=~r,function uG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function J_(t,e){const n=tl(t,e);if(n>=0)return t[1|n]}function tl(t,e){return function KA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const en=pd(Jc("Optional"),8),ev=pd(Jc("SkipSelf"),4);function N0(t){return 128==(128&t.flags)}var ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ko||{});const MG=/^>|^->|<!--|-->|--!>|<!-$/g,RG=/(<|>)/g,kG="\u200b$1\u200b";const iv=new Map;let NG=0;const ov="__ngContext__";function ar(t,e){Lr(e)?(t[ov]=e[Ed],function FG(t){iv.set(t[Ed],t)}(e)):t[ov]=e}let av;function cv(t,e){return av(t,e)}function Nd(t){const e=t[jt];return vr(e)?e[jt]:e}function p5(t){return m5(t[vd])}function g5(t){return m5(t[ki])}function m5(t){for(;null!==t&&!vr(t);)t=t[ki];return t}function il(t,e,n,r,i){if(null!=r){let s,o=!1;vr(r)?s=r:Lr(r)&&(o=!0,r=r[Zt]);const a=kt(r);0===t&&null!==n?null==i?E5(e,n,a):Ma(e,n,a,i||null,!0):1===t&&null!==n?Ma(e,n,a,i||null,!0):2===t?function z0(t,e,n){const r=B0(t,e);r&&function tq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function iq(t,e,n,r,i){const s=n[ns];s!==kt(n)&&il(e,t,r,s,i);for(let a=qn;a<n.length;a++){const c=n[a];Fd(c[be],c,t,e,r,s)}}(e,t,s,n,i)}}function lv(t,e){return t.createComment(function o5(t){return t.replace(MG,e=>e.replace(RG,kG))}(e))}function V0(t,e,n){return t.createElement(e,n)}function v5(t,e){const n=t[jc],r=n.indexOf(e);_A(e),n.splice(r,1)}function L0(t,e){if(t.length<=qn)return;const n=qn+e,r=t[n];if(r){const i=r[yd];null!==i&&i!==t&&v5(i,r),e>0&&(t[n-1][ki]=r[ki]);const s=S0(t,qn+e);!function WG(t,e){Fd(t,e,e[je],2,null,null),e[Zt]=null,e[or]=null}(r[be],r);const o=s[ts];null!==o&&o.detachView(s[be]),r[jt]=null,r[ki]=null,r[We]&=-129}return r}function uv(t,e){if(!(256&e[We])){const n=e[je];e[Cd]&&nA(e[Cd]),e[xd]&&nA(e[xd]),n.destroyNode&&Fd(t,e,n,3,null,null),function QG(t){let e=t[vd];if(!e)return dv(t[be],t);for(;e;){let n=null;if(Lr(e))n=e[vd];else{const r=e[qn];r&&(n=r)}if(!n){for(;e&&!e[ki]&&e!==t;)Lr(e)&&dv(e[be],e),e=e[jt];null===e&&(e=t),Lr(e)&&dv(e[be],e),n=e&&e[ki]}e=n}}(e)}}function dv(t,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function eq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ad)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];rs(4,a,c);try{c.call(a)}finally{rs(5,a,c)}}else{rs(4,i,s);try{s.call(i)}finally{rs(5,i,s)}}}}}(t,e),function ZG(t,e){const n=t.cleanup,r=e[Bc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Bc]=null);const i=e[Do];if(null!==i){e[Do]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[be].type&&e[je].destroy();const n=e[yd];if(null!==n&&vr(e[jt])){n!==e[jt]&&v5(n,e);const r=e[ts];null!==r&&r.detachView(t)}!function VG(t){iv.delete(t[Ed])}(e)}}function fv(t,e,n){return function y5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Zt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Mi.None||s===Mi.Emulated)return null}return Br(r,n)}}(t,e.parent,n)}function Ma(t,e,n,r,i){t.insertBefore(e,n,r,i)}function E5(t,e,n){t.appendChild(e,n)}function C5(t,e,n,r,i){null!==r?Ma(t,e,n,r,i):E5(t,e,n)}function B0(t,e){return t.parentNode(e)}function x5(t,e,n){return b5(t,e,n)}let hv,U0,_v,j0,b5=function I5(t,e,n){return 40&t.type?Br(t,n):null};function H0(t,e,n,r){const i=fv(t,r,e),s=e[je],a=x5(r.parent||e[or],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)C5(s,i,n[c],a,!1);else C5(s,i,n,a,!1);void 0!==hv&&hv(s,r,e,n,i)}function Od(t,e){if(null!==e){const n=e.type;if(3&n)return Br(e,t);if(4&n)return pv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Od(t,r);{const i=t[e.index];return vr(i)?pv(-1,i):kt(i)}}if(32&n)return cv(e,t)()||kt(t[e.index]);{const r=A5(t,e);return null!==r?Array.isArray(r)?r[0]:Od(Nd(t[fn]),r):Od(t,e.next)}}return null}function A5(t,e){return null!==e?t[fn][or].projection[e.projection]:null}function pv(t,e){const n=qn+t+1;if(n<e.length){const r=e[n],i=r[be].firstChild;if(null!==i)return Od(r,i)}return e[ns]}function gv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&ar(kt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)gv(t,e,n.child,r,i,s,!1),il(e,t,i,a,s);else if(32&c){const l=cv(n,r);let u;for(;u=l();)il(e,t,i,u,s);il(e,t,i,a,s)}else 16&c?S5(t,e,r,n,i,s):il(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Fd(t,e,n,r,i,s){gv(n,r,t.firstChild,e,i,s,!1)}function S5(t,e,n,r,i,s){const o=n[fn],c=o[or].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)il(e,t,i,c[l],s);else{let l=c;const u=o[jt];N0(r)&&(l.flags|=128),gv(t,e,l,u,i,s,!0)}}function D5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function P5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&A_(t,e,r),null!==i&&D5(t,e,i),null!==s&&function oq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function sl(t){return function mv(){if(void 0===U0&&(U0=null,Rt.trustedTypes))try{U0=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return U0}()?.createHTML(t)||t}function ol(){if(void 0!==_v)return _v;if(typeof document<"u")return document;throw new re(210,!1)}function M5(t){return function vv(){if(void 0===j0&&(j0=null,Rt.trustedTypes))try{j0=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return j0}()?.createHTML(t)||t}class Ra{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bw})`}}class dq extends Ra{getTypeName(){return"HTML"}}class fq extends Ra{getTypeName(){return"Style"}}class hq extends Ra{getTypeName(){return"Script"}}class pq extends Ra{getTypeName(){return"URL"}}class gq extends Ra{getTypeName(){return"ResourceURL"}}function ti(t){return t instanceof Ra?t.changingThisBreaksApplicationSecurity:t}function cs(t,e){const n=function mq(t){return t instanceof Ra&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${bw})`)}return n===e}class xq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(sl(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Iq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=sl(e),n}}const wq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $0(t){return(t=String(t)).match(wq)?t:"unsafe:"+t}function Gs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Vd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const O5=Gs("area,br,col,hr,img,wbr"),F5=Gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V5=Gs("rp,rt"),yv=Vd(O5,Vd(F5,Gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(V5,Gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(V5,F5)),Ev=Gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L5=Vd(Ev,Gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Aq=Gs("script,style,template");class Tq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!yv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Aq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!L5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Ev[a]&&(c=$0(c)),this.buf.push(" ",o,'="',B5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();yv.hasOwnProperty(n)&&!O5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(B5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Sq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dq=/([^\#-~ |!])/g;function B5(t){return t.replace(/&/g,"&amp;").replace(Sq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Dq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let G0;function H5(t,e){let n=null;try{G0=G0||function N5(t){const e=new Iq(t);return function bq(){try{return!!(new window.DOMParser).parseFromString(sl(""),"text/html")}catch{return!1}}()?new xq(e):e}(t);let r=e?String(e):"";n=G0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=G0.getInertBodyElement(r)}while(r!==s);return sl((new Tq).sanitizeChildren(Cv(n)||n))}finally{if(n){const r=Cv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Cv(t){return"content"in t&&function Pq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vi||{});function z5(t){const e=function Ld(){const t=ee();return t&&t[Hc].sanitizer}();return e?M5(e.sanitize(vi.HTML,t)||""):cs(t,"HTML")?M5(ti(t)):H5(ol(),Ue(t))}const Bd=new Ce("ENVIRONMENT_INITIALIZER"),G5=new Ce("INJECTOR",-1),q5=new Ce("INJECTOR_DEF_TYPES");class xv{get(e,n=hd){if(n===hd){const r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Fq(...t){return{\u0275providers:W5(0,t),\u0275fromNgModule:!0}}function W5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return el(e,o=>{const a=o;q0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&K5(i,s),n}function K5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];bv(i,s=>{e(s,r)})}}function q0(t,e,n,r){if(!(t=He(t)))return!1;let i=null,s=a0(t);const o=!s&&ut(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=a0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)q0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{el(s.imports,u=>{q0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&K5(l,e)}if(!a){const l=Sa(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:q5,useValue:i,multi:!0},i),e({provide:Bd,useValue:()=>De(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;bv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function bv(t,e){for(let n of t)p_(n)&&(n=n.\u0275providers),Array.isArray(n)?bv(n,e):e(n)}const Vq=Et({provide:String,useValue:Et});function wv(t){return null!==t&&"object"==typeof t&&Vq in t}function ka(t){return"function"==typeof t}const Av=new Ce("Set Injector scope."),W0={},Bq={};let Tv;function K0(){return void 0===Tv&&(Tv=new xv),Tv}class yi{}class al extends yi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dv(e,o=>this.processProvider(o)),this.records.set(G5,cl(void 0,this)),i.has("environment")&&this.records.set(yi,cl(void 0,this));const s=this.records.get(Av);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(q5.multi,gt,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=To(this),r=Vr(void 0);try{return e()}finally{To(n),Vr(r)}}get(e,n=hd,r=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kw))return e[kw](this);r=u0(r);const s=To(this),o=Vr(void 0);try{if(!(r&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function $q(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ce}(e)&&o0(e);c=l&&this.injectableDefInScope(l)?cl(Sv(e),W0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&at.Self?K0():this.parent).get(e,n=r&at.Optional&&n===hd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[l0]=a[l0]||[]).unshift(wn(e)),s)throw a;return function Fj(t,e,n,r){const i=t[l0];throw e[Pw]&&i.unshift(e[Pw]),t.message=function Vj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Mj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[l0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Vr(o),To(s)}}resolveInjectorInitializers(){const e=To(this),n=Vr(void 0);try{const i=this.get(Bd.multi,gt,at.Self);for(const s of i)s()}finally{To(e),Vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=ka(e=He(e))?e:He(e&&e.provide);const r=function zq(t){return wv(t)?cl(void 0,t.useValue):cl(X5(t),W0)}(e);if(ka(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=cl(void 0,W0,!0),i.factory=()=>I_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===W0&&(n.value=Bq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sv(t){const e=o0(t),n=null!==e?e.factory:Sa(t);if(null!==n)return n;if(t instanceof Ce)throw new re(204,!1);if(t instanceof Function)return function Hq(t){const e=t.length;if(e>0)throw Md(e,"?"),new re(204,!1);const n=function Tj(t){return t&&(t[c0]||t[Aw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function X5(t,e,n){let r;if(ka(t)){const i=He(t);return Sa(i)||Sv(i)}if(wv(t))r=()=>He(t.useValue);else if(function Q5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...I_(t.deps||[]));else if(function Y5(t){return!(!t||!t.useExisting)}(t))r=()=>De(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function Uq(t){return!!t.deps}(t))return Sa(i)||Sv(i);r=()=>new i(...I_(t.deps))}return r}function cl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dv(t,e){for(const n of t)Array.isArray(n)?Dv(n,e):n&&p_(n)?Dv(n.\u0275providers,e):e(n)}const Y0=new Ce("AppId",{providedIn:"root",factory:()=>Gq}),Gq="ng",J5=new Ce("Platform Initializer"),ls=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Z5=new Ce("CSP nonce",{providedIn:"root",factory:()=>ol().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let eT=(t,e,n)=>null;function Vv(t,e,n=!1){return eT(t,e,n)}class tW{}class rT{}class rW{resolveComponentFactory(e){throw function nW(t){const e=Error(`No component factory found for ${wn(t)}.`);return e.ngComponent=t,e}(e)}}let Ud=(()=>{class e{}return e.NULL=new rW,e})();function iW(){return dl(Kn(),ee())}function dl(t,e){return new Ir(Br(t,e))}let Ir=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=iW,e})();function sW(t){return t instanceof Ir?t.nativeElement:t}class sT{}let us=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function oW(){const t=ee(),n=Zr(Kn().index,t);return(Lr(n)?n:t)[je]}(),e})(),aW=(()=>{var t;class e{}return(t=e).\u0275prov=Ee({token:t,providedIn:"root",factory:()=>null}),e})();class fl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oT=new fl("16.2.12"),Hv={};function uT(t,e=null,n=null,r){const i=dT(t,e,n,r);return i.resolveInjectorInitializers(),i}function dT(t,e=null,n=null,r,i=new Set){const s=[n||gt,Fq(t)];return r=r||("object"==typeof t?void 0:wn(t)),new al(s,e||K0(),r||null,i)}let Tn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return uT({name:""},i,r,"");{const s=r.name??"";return uT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=hd,t.NULL=new xv,t.\u0275prov=Ee({token:t,providedIn:"any",factory:()=>De(G5)}),t.__NG_ELEMENT_ID__=-1,e})();function Uv(t){return t.ngOriginalError}class qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Uv(e);for(;n&&Uv(n);)n=Uv(n);return n||null}}function $v(t){return e=>{setTimeout(t,void 0,e)}}const xt=class pW extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=$v(s),i&&(i=$v(i)),o&&(o=$v(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function hT(...t){}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gW(){const t="function"==typeof Rt.requestAnimationFrame;let e=Rt[t?"requestAnimationFrame":"setTimeout"],n=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vW(t){const e=()=>{!function _W(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qv(t),t.isCheckStableRunning=!0,Gv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function EW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return pT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),gT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return pT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),gT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,qv(t),Gv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mW,hT,hT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const mW={};function Gv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function pT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gT(t){t._nesting--,Gv(t)}class yW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const mT=new Ce("",{providedIn:"root",factory:_T});function _T(){const t=G(pt);let e=!0;return function vj(...t){const e=fd(t),n=function dj(t,e){return"number"==typeof u_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sr(r[0]):e0(n)($n(r,e)):Zi}(new fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(xw()))}function Ws(t){return t instanceof Function?t():t}let Wv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ee({token:t,providedIn:"root",factory:()=>new t}),e})();function jd(t){for(;t;){t[We]|=64;const e=Nd(t);if(D_(t)&&!e)return t;t=e}return null}const xT=new Ce("",{providedIn:"root",factory:()=>!1});let ng=null;function AT(t,e){return t[e]??DT()}function TT(t,e){const n=DT();n.producerNode?.length&&(t[e]=ng,n.lView=t,ng=ST())}const PW={...Qw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jd(t.lView)},lView:null};function ST(){return Object.create(PW)}function DT(){return ng??=ST(),ng}const Ge={};function we(t){PT(dt(),ee(),Cr()+t,!1)}function PT(t,e,n,r){if(!r)if(3==(3&e[We])){const s=t.preOrderCheckHooks;null!==s&&C0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&x0(e,s,0,n)}Da(n)}function te(t,e=at.Default){const n=ee();return null===n?De(t,e):zA(Kn(),n,He(t),e)}function rg(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Zt]=i,d[We]=140|r,(null!==l||t&&2048&t[We])&&(d[We]|=2048),mA(d),d[jt]=d[zc]=t,d[dn]=n,d[Hc]=o||t&&t[Hc],d[je]=a||t&&t[je],d[So]=c||t&&t[So]||null,d[or]=s,d[Ed]=function OG(){return NG++}(),d[Us]=u,d[qw]=l,d[fn]=2==e.type?t[fn]:d,d}function gl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Kv(t,e,n,r,i){const s=xA(),o=V_(),c=t.data[e]=function BW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return qc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function N$(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function wd(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return os(s,!0),s}function $d(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function MT(t,e,n,r,i){const s=AT(e,Cd),o=Cr(),a=2&r;try{Da(-1),a&&e.length>rt&&PT(t,e,rt,!1),rs(a?2:0,i);const l=a?s:null,u=M_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{R_(l,u)}}finally{a&&null===e[Cd]&&TT(e,Cd),Da(o),rs(a?3:1,i)}}function Yv(t,e,n){if(S_(e)){const r=mi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mi(r)}}}function Qv(t,e,n){CA()&&(function qW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ta(n)&&function ZW(t,e,n){const r=Br(e,t),i=RT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=ig(t,rg(t,i,null,o,r,e,null,t[Hc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||b0(n,e),ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Pa(e,t,a,n);ar(l,e),null!==o&&eK(0,a-i,l,c,0,o),Ni(c)&&(Zr(n.index,e)[dn]=Pa(e,t,a,n))}}(t,e,n,Br(n,e)),64==(64&n.flags)&&VT(t,e,n))}function Xv(t,e,n=Br){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function RT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jv(t,e,n,r,i,s,o,a,c,l,u){const d=rt+r,f=d+i,h=function kW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ge);return n}(d,f),p="function"==typeof l?l():l;return h[be]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let kT=t=>null;function NT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?OT(n,e,i,s):r.hasOwnProperty(i)&&OT(n,e,r[i],s)}return n}function OT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ni(t,e,n,r,i,s,o,a){const c=Br(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(ry(t,n,u,r,i),Ta(e)&&function UW(t,e){const n=Zr(e,t);16&n[We]||(n[We]|=64)}(n,e.index)):3&e.type&&(r=function zW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Zv(t,e,n,r){if(CA()){const i=null===r?null:{"":-1},s=function KW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Hw(e,o.selectors,!1))if(r||(r=[]),Ni(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ey(t,e,a.length)}else r.unshift(o),ey(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&FT(t,e,n,o,i,a),i&&function YW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=md(n.mergedAttrs,n.attrs)}function FT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Y_(b0(n,e),t,r[l].type);!function XW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=$d(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=md(n.mergedAttrs,u.hostAttrs),JW(t,n,e,c,u),QW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function HW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=NT(d.inputs,u,c,f?f.inputs:null),l=NT(d.outputs,u,l,p);const g=null===c||null===o||Bw(e)?null:tK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function VT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function F$(){return Be.lFrame.currentDirectiveIndex}();try{Da(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];B_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&WW(c,l)}}finally{Da(-1),B_(o)}}function WW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ey(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ni(e)&&(n[""]=t)}}function JW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Sa(i.type)),o=new Ad(s,Ni(i),te);t.blueprint[r]=o,n[r]=o,function $W(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function GW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,$d(t,n,i.hostVars,Ge),i)}function ds(t,e,n,r,i,s){const o=Br(t,e);!function ty(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ue(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],o,s,t.value,n,r,i)}function eK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)LT(r,n,o[a++],o[a++],o[a++])}function LT(t,e,n,r,i){const s=mi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{mi(s)}}function tK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function BT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function HT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];z_(n[r]),o.contentQueries(2,e[s],s)}}}function ig(t,e){return t[vd]?t[Gw][ki]=e:t[vd]=e,t[Gw]=e,e}function ny(t,e,n){z_(0);const r=mi(null);try{e(t,n)}finally{mi(r)}}function zT(t){return t[Bc]||(t[Bc]=[])}function UT(t){return t.cleanup||(t.cleanup=[])}function $T(t,e){const n=t[So],r=n?n.get(qs,null):null;r&&r.handleError(e)}function ry(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];LT(t.data[o],e[o],r,a,i)}}function nK(t,e){const n=Zr(e,t),r=n[be];!function rK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Zt];null!==i&&null===n[Us]&&(n[Us]=Vv(i,n[So])),iy(r,n,n[dn])}function iy(t,e,n){U_(e);try{const r=t.viewQuery;null!==r&&ny(1,r,n);const i=t.template;null!==i&&MT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HT(t,e),t.staticViewQueries&&ny(2,t.viewQuery,n);const s=t.components;null!==s&&function iK(t,e){for(let n=0;n<e.length;n++)nK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[We]&=-5,j_()}}let GT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function f$(t,e,n){const r=Object.create(h$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>eA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!tA(r))return;r.hasRun=!0;const o=M_(r);try{r.cleanupFn(),r.cleanupFn=lA,r.fn(i)}finally{R_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ee({token:t,providedIn:"root",factory:()=>new t}),e})();function sg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=f_(i,a):2==s&&(r=f_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Gd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(kt(s)),vr(s)&&qT(s,r);const o=n.type;if(8&o)Gd(t,e,n.child,r);else if(32&o){const a=cv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=A5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Nd(e[fn]);Gd(c[be],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qT(t,e){for(let n=qn;n<t.length;n++){const r=t[n],i=r[be].firstChild;null!==i&&Gd(r[be],r,i,e)}t[ns]!==t[Zt]&&e.push(t[ns])}function og(t,e,n,r=!0){const i=e[Hc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{WT(t,e,t.template,n)}catch(c){throw r&&$T(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function WT(t,e,n,r){const i=e[We];if(256!=(256&i)){e[Hc].effectManager?.flush(),U_(e);try{mA(e),function bA(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&MT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&C0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&x0(e,l,0,null),$_(e,0)}if(function aK(t){for(let e=p5(t);null!==e;e=g5(e)){if(!e[Ww])continue;const n=e[jc];for(let r=0;r<n.length;r++){I$(n[r])}}}(e),KT(e,2),null!==t.contentQueries&&HT(t,e),o){const l=t.contentCheckHooks;null!==l&&C0(e,l)}else{const l=t.contentHooks;null!==l&&x0(e,l,1),$_(e,1)}!function RW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=AT(e,xd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Da(~s);else{const o=s,a=n[++i],c=n[++i];O$(a,o),r.dirty=!1;const l=M_(r);try{c(2,e[o])}finally{R_(r,l)}}}}finally{null===e[xd]&&TT(e,xd),Da(-1)}}(t,e);const a=t.components;null!==a&&QT(e,a,0);const c=t.viewQuery;if(null!==c&&ny(2,c,r),o){const l=t.viewCheckHooks;null!==l&&C0(e,l)}else{const l=t.viewHooks;null!==l&&x0(e,l,2),$_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[We]&=-73,_A(e)}finally{j_()}}}function KT(t,e){for(let n=p5(t);null!==n;n=g5(n))for(let r=qn;r<n.length;r++)YT(n[r],e)}function cK(t,e,n){YT(Zr(e,t),n)}function YT(t,e){if(!function C$(t){return 128==(128&t[We])}(t))return;const n=t[be],r=t[We];if(80&r&&0===e||1024&r||2===e)WT(n,t,n.template,t[dn]);else if(t[_d]>0){KT(t,1);const i=n.components;null!==i&&QT(t,i,1)}}function QT(t,e,n){for(let r=0;r<e.length;r++)cK(t,e[r],n)}class qd{get rootNodes(){const e=this._lView,n=e[be];return Gd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jt];if(vr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(L0(e,r),S0(n,r))}this._attachedToViewContainer=!1}uv(this._lView[be],this._lView)}onDestroy(e){!function yA(t,e){if(256==(256&t[We]))throw new re(911,!1);null===t[Do]&&(t[Do]=[]),t[Do].push(e)}(this._lView,e)}markForCheck(){jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){og(this._lView[be],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function YG(t,e){Fd(t,e,e[je],2,null,null)}(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class lK extends qd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;og(e[be],e,e[dn],!1)}checkNoChanges(){}get context(){return null}}class XT extends Ud{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ut(e);return new Wd(n,this.ngModule)}}function JT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class dK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=u0(r);const i=this.injector.get(e,Hv,r);return i!==Hv||n===Hv?i:this.parentInjector.get(e,n,r)}}class Wd extends rT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=JT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return JT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Wj(t){return t.map(qj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof yi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new dK(e,s):e,a=o.get(sT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(aW,null),effectManager:o.get(GT,null),afterRenderEventManager:o.get(Wv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function NW(t,e,n,r){const s=r.get(xT,!1)||n===Mi.ShadowDom,o=t.selectRootElement(e,s);return function OW(t){kT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):V0(f,h,function uK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=Vv(p,o,!0));const j=Jv(0,null,null,1,0,null,null,null,null,null,null),Q=rg(null,j,null,D,null,null,d,f,o,null,w);let he,Re;U_(Q);try{const Ke=this.componentDef;let Yt,Rn=null;Ke.findHostDirectiveDefs?(Yt=[],Rn=new Map,Ke.findHostDirectiveDefs(Ke,Yt,Rn),Yt.push(Ke)):Yt=[Ke];const xa=function hK(t,e){const n=t[be],r=rt;return t[r]=e,gl(n,r,2,"#host",null)}(Q,p),a3e=function pK(t,e,n,r,i,s,o){const a=i[be];!function gK(t,e,n,r){for(const i of t)e.mergedAttrs=md(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(sg(e,e.mergedAttrs,!0),null!==n&&P5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Vv(e,i[So]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=rg(i,RT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ey(a,t,r.length-1),ig(i,d),i[t.index]=d}(xa,p,Ke,Yt,Q,d,f);Re=gA(j,rt),p&&function _K(t,e,n,r){if(r)A_(t,n,["ng-version",oT.full]);else{const{attrs:i,classes:s}=function Kj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ri(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&A_(t,n,i),s&&s.length>0&&D5(t,n,s.join(" "))}}(f,Ke,p,r),void 0!==n&&function vK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Re,this.ngContentSelectors,n),he=function mK(t,e,n,r,i,s){const o=Kn(),a=i[be],c=Br(o,i);FT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ar(Pa(i,a,o.directiveStart+u,o),i);VT(a,i,o),c&&ar(c,i);const l=Pa(i,a,o.directiveStart+o.componentOffset,o);if(t[dn]=i[dn]=l,null!==s)for(const u of s)u(l,e);return Yv(a,o,t),l}(a3e,Ke,Yt,Rn,Q,[yK]),iy(j,Q,null)}finally{j_()}return new fK(this.componentType,he,dl(Re,Q),Q,Re)}}class fK extends tW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ry(s[be],s,i,e,n),this.previousInputValues.set(e,n),jd(Zr(this._tNode.index,s))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yK(){const t=Kn();E0(ee()[be],t)}function It(t){let e=function ZT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ni(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ag(t.inputs),o.inputTransforms=ag(t.inputTransforms),o.declaredInputs=ag(t.declaredInputs),o.outputs=ag(t.outputs);const a=i.hostBindings;a&&IK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&CK(t,c),l&&xK(t,l),r0(t.inputs,i.inputs),r0(t.declaredInputs,i.declaredInputs),r0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),r0(o.inputTransforms,i.inputTransforms)),Ni(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===It&&(n=!1)}}e=Object.getPrototypeOf(e)}!function EK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=md(i.hostAttrs,n=md(n,i.hostAttrs))}}(r)}function ag(t){return t===es?{}:t===gt?[]:t}function CK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function xK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function IK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function cg(t){return!!sy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fs(t,e,n){return t[e]=n}function Kd(t,e){return t[e]}function cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Na(t,e,n,r){const i=cr(t,e,n);return cr(t,e+1,r)||i}function Oi(t,e,n,r){const i=ee();return cr(i,Wc(),e)&&(dt(),ds(Qt(),i,t,e,n,r)),Oi}function _l(t,e,n,r){return cr(t,Wc(),n)?e+Ue(n)+r:Ge}function lr(t,e,n,r,i,s,o,a){const c=ee(),l=dt(),u=t+rt,d=l.firstCreatePass?function KK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=gl(e,t,4,o||null,Mo(l,a));Zv(e,n,u,Mo(l,c)),E0(e,u);const d=u.tView=Jv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];os(d,!1);const f=mS(l,c,d,t);y0()&&H0(l,c,f,d),ar(f,c),ig(c,c[u]=BT(f,c,f,d)),g0(d)&&Qv(l,c,d),null!=o&&Xv(c,d,a)}let mS=function _S(t,e,n,r){return Ro(!0),e[je].createComment("")};function dy(t){return Gc(function k$(){return Be.lFrame.contextLView}(),rt+t)}function Ze(t,e,n){const r=ee();return cr(r,Wc(),e)&&ni(dt(),Qt(),r,t,e,r[je],n,!1),Ze}function fy(t,e,n,r,i){const o=i?"class":"style";ry(t,n,e.inputs[o],o,r)}function H(t,e,n,r){const i=ee(),s=dt(),o=rt+t,a=i[je],c=s.firstCreatePass?function JK(t,e,n,r,i,s){const o=e.consts,c=gl(e,t,2,r,Mo(o,i));return Zv(e,n,c,Mo(o,s)),null!==c.attrs&&sg(c,c.attrs,!1),null!==c.mergedAttrs&&sg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=vS(s,i,c,a,e,t);i[o]=l;const u=g0(c);return os(c,!0),P5(a,l,c),32!=(32&c.flags)&&y0()&&H0(s,i,l,c),0===function w$(){return Be.lFrame.elementDepthCount}()&&ar(l,i),function A$(){Be.lFrame.elementDepthCount++}(),u&&(Qv(s,i,c),Yv(s,c,i)),null!==r&&Xv(i,c),H}function W(){let t=Kn();V_()?L_():(t=t.parent,os(t,!1));const e=t;(function S$(t){return Be.skipHydrationRootTNode===t})(e)&&function R$(){Be.skipHydrationRootTNode=null}(),function T$(){Be.lFrame.elementDepthCount--}();const n=dt();return n.firstCreatePass&&(E0(n,t),S_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function W$(t){return 0!=(8&t.flags)}(e)&&fy(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function K$(t){return 0!=(16&t.flags)}(e)&&fy(n,e,ee(),e.stylesWithoutHost,!1),W}function it(t,e,n,r){return H(t,e,n,r),W(),it}let vS=(t,e,n,r,i,s)=>(Ro(!0),V0(r,i,function RA(){return Be.lFrame.currentNamespace}()));function Oa(t,e,n){const r=ee(),i=dt(),s=t+rt,o=i.firstCreatePass?function tY(t,e,n,r,i){const s=e.consts,o=Mo(s,r),a=gl(e,t,8,"ng-container",o);return null!==o&&sg(a,o,!0),Zv(e,n,a,Mo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];os(o,!0);const a=ES(i,r,o,t);return r[s]=a,y0()&&H0(i,r,a,o),ar(a,r),g0(o)&&(Qv(i,r,o),Yv(i,o,r)),null!=n&&Xv(r,o),Oa}function Fa(){let t=Kn();const e=dt();return V_()?L_():(t=t.parent,os(t,!1)),e.firstCreatePass&&(E0(e,t),S_(t)&&e.queries.elementEnd(t)),Fa}let ES=(t,e,n,r)=>(Ro(!0),lv(e[je],""));function Jd(){return ee()}function Zd(t){return!!t&&"function"==typeof t.then}function CS(t){return!!t&&"function"==typeof t.subscribe}function tn(t,e,n,r){const i=ee(),s=dt(),o=Kn();return function IS(t,e,n,r,i,s,o){const a=g0(r),l=t.firstCreatePass&&UT(t),u=e[dn],d=zT(e);let f=!0;if(3&r.type||o){const g=Br(r,e),y=o?o(g):g,D=d.length,w=o?Q=>o(kt(Q[r.index])):r.index;let j=null;if(!o&&a&&(j=function iY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Bc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,f=!1;else{s=wS(r,e,u,s,!1);const Q=n.listen(y,i,s);d.push(s,Q),l&&l.push(i,w,D,D+1)}}else s=wS(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const he=e[p[y]][p[y+1]].subscribe(s),Re=d.length;d.push(s,he),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[je],o,t,e,r),tn}function bS(t,e,n,r){try{return rs(6,e,n),!1!==n(r)}catch(i){return $T(t,i),!1}finally{rs(7,e,n)}}function wS(t,e,n,r,i){return function s(o){if(o===Function)return r;jd(t.componentOffset>-1?Zr(t.index,e):e);let c=bS(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=bS(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function hn(t=1){return function L$(t){return(Be.lFrame.contextLView=function B$(t,e){for(;t>0;)e=e[zc],t--;return e}(t,Be.lFrame.contextLView))[dn]}(t)}function sY(t,e){let n=null;const r=function Uj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Hw(t,s,!0):Gj(r,s))return i}else n=i}return n}function hy(t,e,n){return py(t,"",e,"",n),hy}function py(t,e,n,r,i){const s=ee(),o=_l(s,e,n,r);return o!==Ge&&ni(dt(),Qt(),s,t,o,s[je],i,!1),py}function hg(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function gy(t){return 2|t}function Va(t){return(131068&t)>>2}function my(t,e){return-131069&t|e<<2}function _y(t){return 1|t}function FS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?No(s):Va(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];dY(t[a],e)&&(c=!0,t[a+1]=r?_y(u):gy(u)),a=r?No(u):Va(u)}c&&(t[n+1]=r?gy(s):_y(s))}function dY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&tl(t,e)>=0}function ef(t,e){return function Fi(t,e,n,r){const i=ee(),s=dt(),o=function $s(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function GS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Cr()],o=function $S(t,e){return e>=t.expandoStartIndex}(t,n);(function YS(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function EY(t,e,n,r){const i=function H_(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=tf(n=vy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vy(i,t,e,n,r),null===s){let c=function CY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Va(r))return t[No(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=vy(null,t,e,c[1],r),c=tf(c,e.attrs,r),function xY(t,e,n,r){t[No(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function IY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=tf(r,t[s].hostAttrs,n);return tf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function lY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=No(o),c=Va(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||tl(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=No(t[a+1]);t[r+1]=hg(f,a),0!==f&&(t[f+1]=my(t[f+1],r)),t[a+1]=function aY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=hg(a,0),0!==a&&(t[a+1]=my(t[a+1],r)),a=r;else t[r+1]=hg(c,0),0===a?a=r:t[c+1]=my(t[c+1],r),c=r;l&&(t[r+1]=gy(t[r+1])),FS(t,u,r,!0),FS(t,u,r,!1),function uY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&tl(s,e)>=0&&(n[r+1]=_y(n[r+1]))}(e,u,t,r,s),o=hg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ge&&cr(i,o,e)&&function WS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function cY(t){return 1==(1&t)}(l)?KS(c,e,n,i,Va(l),o):void 0;pg(u)||(pg(s)||function oY(t){return 2==(2&t)}(l)&&(s=KS(c,null,n,i,a,o)),function sq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ko.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ko.Important),t.setStyle(n,r,i,s))}}(r,o,v0(Cr(),n),i,s))}(s,s.data[Cr()],i,i[je],t,i[o+1]=function TY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wn(ti(t)))),t}(e,n),r,o)}(t,e,null,!0),ef}function vy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=tf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function tf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ei(t,o,!!n||e[++s]))}return void 0===t?null:t}function KS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ge&&(f=d?gt:void 0);let h=d?J_(f,r):u===r?f:void 0;if(l&&!pg(h)&&(h=J_(c,r)),pg(h)&&(a=h,o))return a;const p=t[i+1];i=o?No(p):Va(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=J_(c,r))}return a}function pg(t){return void 0!==t}function Y(t,e=""){const n=ee(),r=dt(),i=t+rt,s=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],o=QS(r,n,s,e,t);n[i]=o,y0()&&H0(r,n,o,s),os(s,!1)}let QS=(t,e,n,r,i)=>(Ro(!0),function F0(t,e){return t.createText(e)}(e[je],r));function ct(t){return Oo("",t,""),ct}function Oo(t,e,n){const r=ee(),i=_l(r,t,e,n);return i!==Ge&&function Ks(t,e,n){const r=v0(e,t);!function _5(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,Cr(),i),Oo}function yy(t,e,n){const r=ee();return cr(r,Wc(),e)&&ni(dt(),Qt(),r,t,e,r[je],n,!0),yy}const La=void 0;var YY=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Al={};function br(t){const e=function QY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=mD(e);if(n)return n;const r=e.split("-")[0];if(n=mD(r),n)return n;if("en"===r)return YY;throw new re(701,!1)}function mD(t){return t in Al||(Al[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),Al[t]}var Nt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nt||{});const Tl="en-US";let _D=Tl;function xy(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)xy(t[s],e,n,r,i);else{const s=dt(),o=ee(),a=Kn();let c=ka(t)?t:He(t.provide);const l=X5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(ka(t)||!t.multi){const h=new Ad(l,i,te),p=by(c,e,i?u:u+f,d);-1===p?(Y_(b0(a,o),s,c),Iy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=by(c,e,u+f,d),p=by(c,e,u,u+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){Y_(b0(a,o),s,c);const D=function KQ(t,e,n,r,i){const s=new Ad(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,UD(s,i,r&&!n),s}(i?WQ:qQ,n.length,i,r,l);!i&&y&&(n[p].providerFactory=D),Iy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else Iy(s,t,h>-1?h:p,UD(n[i?p:h],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Iy(t,e,n,r){const i=ka(e),s=function Lq(t){return!!t.useClass}(e);if(i||s){const c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function UD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function by(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qQ(t,e,n,r){return wy(this.multi,[])}function WQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Pa(n,n[be],this.providerFactory.index,r);s=a.slice(0,o),wy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],wy(i,s);return s}function wy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function GQ(t,e,n){const r=dt();if(r.firstCreatePass){const i=Ni(t);xy(n,r.data,r.blueprint,i,!0),xy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ba{}class jD{}class Ay extends Ba{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XT(this);const i=Jr(e);this._bootstrapComponents=Ws(i.bootstrap),this._r3Injector=dT(e,n,[{provide:Ba,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ty extends jD{constructor(e){super(),this.moduleType=e}create(e){return new Ay(this.moduleType,e,[])}}class $D extends Ba{constructor(e){super(),this.componentFactoryResolver=new XT(this),this.instance=null;const n=new al([...e.providers,{provide:Ba,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver}],e.parent||K0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function GD(t,e,n=null){return new $D({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let XQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=W5(0,r.type),s=i.length>0?GD([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ee({token:t,providedIn:"environment",factory:()=>new t(De(yi))}),e})();function qD(t){t.getStandaloneInjector=e=>e.get(XQ).getOrCreateStandaloneInjector(t)}function Ur(t,e,n,r){return t7(ee(),Er(),t,e,n,r)}function e7(t,e,n,r,i,s,o,a){const c=Er()+t,l=ee(),u=function Ei(t,e,n,r,i,s){const o=Na(t,e,n,r);return Na(t,e+2,i,s)||o}(l,c,n,r,i,s);return cr(l,c+4,o)||u?fs(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Kd(l,c+5)}function lf(t,e){const n=t[e];return n===Ge?void 0:n}function t7(t,e,n,r,i,s){const o=e+n;return cr(t,o,i)?fs(t,o+1,s?r.call(s,i):r(i)):lf(t,o+1)}function r7(t,e,n,r,i,s,o,a){const c=e+n;return function lg(t,e,n,r,i){const s=Na(t,e,n,r);return cr(t,e+2,i)||s}(t,c,i,s,o)?fs(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):lf(t,c+3)}function Gt(t,e){const n=dt();let r;const i=t+rt;n.firstCreatePass?(r=function hX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Sa(r.type)),a=Vr(te);try{const c=I0(!1),l=s();return I0(c),function XK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{Vr(a)}}function Ci(t,e,n){const r=t+rt,i=ee(),s=Gc(i,r);return uf(i,r)?t7(i,Er(),e,s.transform,n,s):s.transform(n)}function o7(t,e,n,r){const i=t+rt,s=ee(),o=Gc(s,i);return uf(s,i)?function n7(t,e,n,r,i,s,o){const a=e+n;return Na(t,a,i,s)?fs(t,a+2,o?r.call(o,i,s):r(i,s)):lf(t,a+2)}(s,Er(),e,o.transform,n,r,o):o.transform(n,r)}function xi(t,e,n,r,i){const s=t+rt,o=ee(),a=Gc(o,s);return uf(o,s)?r7(o,Er(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function uf(t,e){return t[be].data[e].pure}function mX(){return this._results[Symbol.iterator]()}class Dy{get changes(){return this._changes||(this._changes=new xt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Dy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function _i(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function cG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vX(t,e,n,r=!0){const i=e[be];if(function XG(t,e,n,r){const i=qn+r,s=n.length;r>0&&(n[i-1][ki]=e),r<s-qn?(e[ki]=n[i],WA(n,qn+r,e)):(n.push(e),e[ki]=null),e[jt]=n;const o=e[yd];null!==o&&n!==o&&function JG(t,e){const n=t[jc];e[fn]!==e[jt][jt][fn]&&(t[Ww]=!0),null===n?t[jc]=[e]:n.push(e)}(o,e);const a=e[ts];null!==a&&a.insertView(t),e[We]|=128}(i,e,t,n),r){const s=pv(n,t),o=e[je],a=B0(o,t[ns]);null!==a&&function KG(t,e,n,r,i,s){r[Zt]=i,r[or]=e,Fd(t,r,n,1,i,s)}(i,t[or],o,e,a,s)}}let Ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=CX,e})();const yX=Ys,EX=class extends yX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _X(t,e,n,r){const i=e.tView,a=rg(t,i,n,4096&t[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[yd]=t[e.index];const l=t[ts];return null!==l&&(a[ts]=l.createEmbeddedView(i)),iy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new qd(i)}};function CX(){return yg(Kn(),ee())}function yg(t,e){return 4&t.type?new EX(e,t,dl(t,e)):null}let Li=(()=>{class e{}return e.__NG_ELEMENT_ID__=TX,e})();function TX(){return h7(Kn(),ee())}const SX=Li,d7=class extends SX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return dl(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const e=w0(this._hostTNode,this._hostLView);if(q_(e)){const n=Sd(e,this._hostLView),r=Td(e);return new xr(n[be].data[r+8],n)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=f7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Pd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Wd(ut(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?l:this.parentInjector).get(yi,null);y&&(s=y)}ut(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function x$(t){return vr(t[jt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[jt],u=new d7(l,l[or],l[jt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return vX(a,i,o,!r),e.attachToViewContainerRef(),WA(Py(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=f7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=L0(this._lContainer,n);r&&(S0(Py(this._lContainer),n),uv(r[be],r))}detach(e){const n=this._adjustIndex(e,-1),r=L0(this._lContainer,n);return r&&null!=S0(Py(this._lContainer),n)?new qd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function f7(t){return t[8]}function Py(t){return t[8]||(t[8]=[])}function h7(t,e){let n;const r=e[t.index];return vr(r)?n=r:(n=BT(r,e,null,t),e[t.index]=n,ig(e,n)),p7(n,e,t,r),new d7(n,t,e)}let p7=function g7(t,e,n,r){if(t[ns])return;let i;i=8&n.type?kt(r):function DX(t,e){const n=t[je],r=n.createComment(""),i=Br(e,t);return Ma(n,B0(n,i),r,function nq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ns]=i};class My{constructor(e){this.queryList=e,this.matches=null}clone(){return new My(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ry{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ry(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==C7(e,n).matches&&this.queries[n].setDirty()}}class m7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class ky{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new ky(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ny{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ny(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,RX(n,s)),this.matchTNodeWithReadOption(e,n,A0(n,e,s,!1,!1))}else r===Ys?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,A0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ir||i===Li||i===Ys&&4&n.type)this.addMatch(n.index,-2);else{const s=A0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function RX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function NX(t,e,n,r){return-1===n?function kX(t,e){return 11&t.type?dl(t,e):4&t.type?yg(t,e):null}(e,t):-2===n?function OX(t,e,n){return n===Ir?dl(e,t):n===Ys?yg(e,t):n===Li?h7(e,t):void 0}(t,e,r):Pa(t,t[be],n,e)}function _7(t,e,n,r){const i=e[ts].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:NX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Oy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=_7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=qn;d<u.length;d++){const f=u[d];f[yd]===f[jt]&&Oy(f[be],f,l,r)}if(null!==u[jc]){const d=u[jc];for(let f=0;f<d.length;f++){const h=d[f];Oy(h[be],h,l,r)}}}}}return r}function wr(t){const e=ee(),n=dt(),r=AA();z_(r+1);const i=C7(n,r);if(t.dirty&&function E$(t){return 4==(4&t[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Oy(n,e,r,[]):_7(n,e,i,r);t.reset(s,sW),t.notifyOnChanges()}return!0}return!1}function jr(t,e,n){const r=dt();r.firstCreatePass&&(function E7(t,e,n){null===t.queries&&(t.queries=new ky),t.queries.track(new Ny(e,n))}(r,new m7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function y7(t,e,n){const r=new Dy(4==(4&n));(function LW(t,e,n,r){const i=zT(e);i.push(n),t.firstCreatePass&&UT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ts]&&(e[ts]=new Ry),e[ts].queries.push(new My(r))}(r,ee(),e)}function Ar(){return function FX(t,e){return t[ts].queries[e].queryList}(ee(),AA())}function C7(t,e){return t.queries.getByIndex(e)}const L7=new Ce("Application Initializer");let zy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=G(L7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Zd(o))r.push(o);else if(CS(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),B7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Qs=new Ce("LocaleId",{providedIn:"root",factory:()=>G(Qs,at.Optional|at.SkipSelf)||function sJ(){return typeof $localize<"u"&&$localize.locale||Tl}()});let xg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class cJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let lJ=(()=>{var t;class e{compileModuleSync(r){return new Ty(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ws(Jr(r).declarations).reduce((a,c)=>{const l=ut(c);return l&&a.push(new Wd(l)),a},[]);return new cJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const j7=new Ce(""),bg=new Ce("");let qy,$y=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qy||(function MJ(t){qy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(De(pt),De(Gy),De(bg))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})(),Gy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return qy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Fo=null;const $7=new Ce("AllowMultipleToken"),Wy=new Ce("PlatformDestroyListeners"),G7=new Ce("appBootstrapListener");function K7(t,e,n=[]){const r=`Platform: ${e}`,i=new Ce(r);return(s=[])=>{let o=Ky();if(!o||o.injector.get($7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function NJ(t){if(Fo&&!Fo.get($7,!1))throw new re(400,!1);(function q7(){!function a$(t){sA=t}(()=>{throw new re(600,!1)})})(),Fo=t;const e=t.get(Q7);(function W7(t){t.get(J5,null)?.forEach(n=>n())})(t)}(function Y7(t=[],e){return Tn.create({name:e,providers:[{provide:Av,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Fo=null])},...t]})}(a,r))}return function FJ(t){const e=Ky();if(!e)throw new re(401,!1);return e}()}}function Ky(){return Fo?.get(Q7)??null}let Q7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function VJ(t="zone.js",e){return"noop"===t?new yW:"zone.js"===t?new pt(e):t}(i?.ngZone,function X7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function QQ(t,e,n){return new Ay(t,e,n)}(r.moduleType,this.injector,function nP(t){return[{provide:pt,useFactory:t},{provide:Bd,multi:!0,useFactory:()=>{const e=G(BJ,{optional:!0});return()=>e.initialize()}},{provide:tP,useFactory:LJ},{provide:mT,useFactory:_T}]}(()=>s)),a=o.injector.get(qs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{wg(this._modules,o),c.unsubscribe()})}),function J7(t,e,n){try{const r=n();return Zd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(zy);return c.runInitializers(),c.donePromise.then(()=>(function vD(t){gi(t,"Expected localeId to be defined"),"string"==typeof t&&(_D=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Qs,Tl)||Tl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=Z7({},i);return function RJ(t,e,n){const r=new Ty(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(hf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Wy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Tn))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Z7(t,e){return Array.isArray(e)?e.reduce(Z7,t):{...t,...e}}let hf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(tP),this.zoneIsStable=G(mT),this.componentTypes=[],this.components=[],this.isStable=G(xg).hasPendingTasks.pipe(pi(r=>r?Ve(!1):this.zoneIsStable),Iw(),xw()),this._injector=G(yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof rT;if(!this._injector.get(zy).done)throw!s&&function Lc(t){const e=ut(t)||Gn(t)||_r(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(Ud).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function kJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ba),u=a.create(Tn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(j7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),wg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;wg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(G7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tP=new Ce("",{providedIn:"root",factory:()=>G(qs).handleError.bind(void 0)});function LJ(){const t=G(pt),e=G(qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let BJ=(()=>{var t;class e{constructor(){this.zone=G(pt),this.applicationRef=G(hf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Xs=(()=>{class e{}return e.__NG_ELEMENT_ID__=UJ,e})();function UJ(t){return function jJ(t,e,n){if(Ta(t)&&!n){const r=Zr(t.index,e);return new qd(r,r)}return 47&t.type?new qd(e[fn],e):null}(Kn(),ee(),16==(16&t))}class oP{constructor(){}supports(e){return cg(e)}create(e){return new YJ(e)}}const KJ=(t,e)=>e;class YJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<cP(r,i,s)?n:r,a=cP(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!cg(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function PK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new QJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new aP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class QJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class aP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new XJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class lP{constructor(){}supports(e){return e instanceof Map||sy(e)}create(){return new JJ}}class JJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||sy(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new ZJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class ZJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uP(){return new Sg([new oP])}let Sg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uP()),deps:[[e,new ev,new en]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ee({token:t,providedIn:"root",factory:uP}),e})();function dP(){return new pf([new lP])}let pf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||dP()),deps:[[e,new ev,new en]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=Ee({token:t,providedIn:"root",factory:dP}),e})();const nZ=K7(null,"core",[]);let rZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(De(hf))},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({}),e})();let e4=null;function Vo(){return e4}class mZ{}const Gr=new Ce("DocumentToken");let EP=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return G(_Z)},providedIn:"platform"}),e})(),_Z=(()=>{var t;class e extends EP{constructor(){super(),this._doc=G(Gr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(r){const i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function CP(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function za(t){return t&&"?"!==t[0]?"?"+t:t}let Pg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return G(yZ)},providedIn:"root"}),e})();const vZ=new Ce("appBaseHref");let yZ=(()=>{var t;class e extends Pg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??G(Gr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return CP(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+za(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+za(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+za(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(EP),De(vZ,8))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),t4=(()=>{var t;class e{constructor(r){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function xZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(xP(IP(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+za(i))}normalize(r){return e.stripTrailingSlash(function CZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,IP(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+za(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+za(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=za,t.joinWithSlash=CP,t.stripTrailingSlash=xP,t.\u0275fac=function(r){return new(r||t)(De(Pg))},t.\u0275prov=Ee({token:t,factory:function(){return function EZ(){return new t4(De(Pg))}()},providedIn:"root"}),e})();function IP(t){return t.replace(/\/index.html$/,"")}var Mg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Mg||{}),pn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pn||{});function Ii(t,e){const n=br(t),r=n[Nt.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Nt.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Nt.NumberSymbols][pn.Group]}return r}const YZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function l4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function RP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const d4=/\s+/,kP=[];let f4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=kP,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(d4):kP}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(d4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(d4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Sg),te(pf),te(Ir),te(us))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class aee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new aee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),OP(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{OP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Li),te(Ys),te(Sg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function OP(t,e){t.context.$implicit=e.item}let gs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new cee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){FP("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){FP("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Li),te(Ys))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class cee{constructor(){this.$implicit=null,this.ngIf=null}}function FP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wn(e)}'.`)}function Hi(t,e){return new re(2100,!1)}class dee{createSubscription(e,n){return cA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){cA(()=>e.unsubscribe())}}class fee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const hee=new fee,pee=new dee;let _f=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Zd(r))return hee;if(CS(r))return pee;throw Hi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Xs,16))},t.\u0275pipe=Nn({name:"async",type:t,pure:!1,standalone:!0}),e})(),LP=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=BP}transform(r,i=BP){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Tee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(pf,16))},t.\u0275pipe=Nn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function BP(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let ms=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function g4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function tee(t,e,n){return function a4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function ree(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function nee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const w=s.match(YZ);if(null===w)throw new Error(`${s} is not a valid digit info`);const j=w[1],Q=w[3],he=w[5];null!=j&&(u=l4(j)),null!=Q&&(d=l4(Q)),null!=he?f=l4(he):null!=Q&&d>f&&(f=d)}!function iee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let y=[];for(c=h.every(w=>!w);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(Ii(n,r)),y.length&&(a+=Ii(n,i)+y.join("")),g&&(a+=Ii(n,pn.Exponential)+"+"+g)}else a=Ii(n,pn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function c4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function n4(t,e){return br(t)[Nt.NumberFormats][e]}(e,Mg.Decimal),Ii(e,pn.MinusSign)),e,pn.Group,pn.Decimal,n)}(function m4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Hi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Qs,16))},t.\u0275pipe=Nn({name:"number",type:t,pure:!0,standalone:!0}),e})();let Pee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({}),e})();const Mee="server";function _4(t){return t===Mee}class zP{}class rte extends mZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E4 extends rte{static makeCurrent(){!function gZ(t){e4||(e4=t)}(new E4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ite(){return yf=yf||document.querySelector("base"),yf?yf.getAttribute("href"):null}();return null==n?null:function ste(t){$g=$g||document.createElement("a"),$g.setAttribute("href",t);const e=$g.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RP(document.cookie,e)}}let $g,yf=null,ate=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const C4=new Ce("EventManagerPlugins");let qP=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(De(C4),De(pt))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();class WP{constructor(e){this._doc=e}}const x4="ng-app-id";let KP=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${x4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(x4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(x4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr),De(Y0),De(Z5,8),De(ls))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const I4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},b4=/%COMP%/g,dte=new Ce("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function QP(t,e){return e.map(n=>n.replace(b4,t))}let XP=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_4(c),this.defaultRenderer=new w4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mi.ShadowDom&&(i={...i,encapsulation:Mi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof ZP?s.applyToHost(r):s instanceof A4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Mi.Emulated:o=new ZP(l,u,i,this.appId,d,a,c,f);break;case Mi.ShadowDom:return new gte(l,u,r,i,a,c,this.nonce,f);default:o=new A4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(De(qP),De(KP),De(Y0),De(dte),De(Gr),De(ls),De(pt),De(Z5))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();class w4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(I4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=I4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=I4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ko.DashCase|ko.Important)?e.style.setProperty(n,r,i&ko.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ko.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Vo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function JP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class gte extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=QP(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class A4 extends w4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?QP(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ZP extends A4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function fte(t){return"_ngcontent-%COMP%".replace(b4,t)}(l),this.hostAttr=function hte(t){return"_nghost-%COMP%".replace(b4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let mte=(()=>{var t;class e extends WP{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const eM=["alt","control","meta","shift"],_te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yte=(()=>{var t;class e extends WP{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),eM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=_te[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),eM.forEach(a=>{a!==s&&(0,vte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const nM=[{provide:ls,useValue:"browser"},{provide:J5,useValue:function Ete(){E4.makeCurrent()},multi:!0},{provide:Gr,useFactory:function xte(){return function uq(t){_v=t}(document),document},deps:[]}],Ite=K7(nZ,"browser",nM),bte=new Ce(""),rM=[{provide:bg,useClass:class ote{addToWindow(e){Rt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Vo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:j7,useClass:$y,deps:[pt,Gy,bg]},{provide:$y,useClass:$y,deps:[pt,Gy,bg]}],iM=[{provide:Av,useValue:"root"},{provide:qs,useFactory:function Cte(){return new qs},deps:[]},{provide:C4,useClass:mte,multi:!0,deps:[Gr,pt,ls]},{provide:C4,useClass:yte,multi:!0,deps:[Gr]},XP,KP,qP,{provide:sT,useExisting:XP},{provide:zP,useClass:ate,deps:[]},[]];let qr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Y0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(De(bte,12))},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({providers:[...iM,...rM],imports:[Pee,rZ]}),e})(),T4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr))},t.\u0275prov=Ee({token:t,factory:function(r){let i=null;return i=r?new r:function Ate(){return new T4(De(Gr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let aM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(r){let i=null;return i=r?new(r||t):De(cM),i},providedIn:"root"}),e})(),cM=(()=>{var t;class e extends aM{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case vi.NONE:return i;case vi.HTML:return cs(i,"HTML")?ti(i):H5(this._doc,String(i)).toString();case vi.STYLE:return cs(i,"Style")?ti(i):i;case vi.SCRIPT:if(cs(i,"Script"))return ti(i);throw new re(5200,!1);case vi.URL:return cs(i,"URL")?ti(i):$0(String(i));case vi.RESOURCE_URL:if(cs(i,"ResourceURL"))return ti(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function _q(t){return new dq(t)}(r)}bypassSecurityTrustStyle(r){return function vq(t){return new fq(t)}(r)}bypassSecurityTrustScript(r){return function yq(t){return new hq(t)}(r)}bypassSecurityTrustUrl(r){return function Eq(t){return new pq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function Cq(t){return new gq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr))},t.\u0275prov=Ee({token:t,factory:function(r){let i=null;return i=r?new r:function Pte(t){return new cM(t.get(Gr))}(De(Tn)),i},providedIn:"root"}),e})();class D4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class uM{constructor(){this._orbit=0,this._ground=0,this._workers=new D4,this._soldiers=new D4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class P4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Mte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new uM,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new P4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class dM{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new D4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var ur=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(ur||{});class Rte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class kte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ft=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ft||{});class fM{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Nte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new dM,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=ur.RESOURCE;break;case 1:s=ur.SURFACE;break;case 2:s=ur.FLEET;break;default:s=ur.UNKNOWN}});let o=new Rte(r,s);if(s!==ur.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new fM(c.split("Owner:")[1].trim(),""):new fM("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===ur.RESOURCE||s===ur.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===ur.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new P4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===ur.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new P4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new kte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ft.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ft.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ft.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ft.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ft.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ft.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ft.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ft.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ft.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ft.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ft.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ft.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ft.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ote=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new uM;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class Rl{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}let Fte=(()=>{var t;class e{constructor(){}cleanAfterExtract(){}extract(){let r=new Map;return document.querySelectorAll(".rankingsList .entry").forEach(i=>{const s=parseInt(i.querySelector(".playerName").attributes.playerId.value.trim());r.has(s)||r.set(s,new Rl);let o=r.get(s);o.name=i.querySelector(".playerName").textContent.trim().toLowerCase(),o.playerId=s,o.score=parseInt(i.querySelector(".score").textContent.trim().replace(/,/g,"")),o.rank=parseInt(i.querySelector(".rank").textContent.trim().replace(/,/g,"")),o.combinedScore=o.combatScore+o.score,o.alliance=i.querySelector(".allianceName")?i.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",i.classList.contains("myRow")?o.relation="self":i.querySelector(".hostile")?o.relation="neutral":i.querySelector(".allied")&&(o.relation="allied"),"sol"===o.alliance&&(o.relation="nap"),("wp"===o.alliance||"skol"===o.alliance)&&(o.relation="hostile")}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var kl;class zi{constructor(){this.planetListExtractor=G(Mte),this.planetScanExtractor=G(Nte),this.navigationSystemPlanetsExtractor=G(Ote),this.playerRankingsService=G(Fte),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}playerRankings(){return this.playerRankingsService.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function Ef(t){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vt(t,e,n){return(e=function Lte(t){var e=function Vte(t,e){if("object"!==Ef(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ef(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ef(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){hM(s,r,i,o,a,"next",c)}function a(c){hM(s,r,i,o,a,"throw",c)}o(void 0)})}}(kl=zi).\u0275fac=function(e){return new(e||kl)},kl.\u0275prov=Ee({token:kl,factory:kl.\u0275fac,providedIn:"platform"}),un([di(0,en())],zi.prototype,"username",null);const pM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},R4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Ute;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ute extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gg=function(t){return function(t){const e=pM(t);return R4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},qg=function(t){try{return R4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wg=()=>{try{return mM().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},_M=t=>{var e,n;return null===(n=null===(e=Wg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},vM=()=>{var t;return null===(t=Wg())||void 0===t?void 0:t.config},yM=t=>{var e;return null===(e=Wg())||void 0===e?void 0:e[`_${t}`]};class Nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Cf(){try{return"object"==typeof indexedDB}catch{return!1}}function N4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function EM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function tne(t,e){return t.replace(nne,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ui(i,`${this.serviceName}: ${o} (${i}).`,r)}}const nne=/\{\$([^}]+)}/g;function xf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xM(s)&&xM(o)){if(!xf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xM(t){return null!==t&&"object"==typeof t}function If(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class sne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function one(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=O4),void 0===i.error&&(i.error=O4),void 0===i.complete&&(i.complete=O4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O4(){}const ane=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},cne=1e3,lne=2,une=144e5,dne=.5;function V4(t,e=cne,n=lne){const r=e*Math.pow(n,t),i=Math.round(dne*r*(Math.random()-.5)*2);return Math.min(une,r+i)}function rn(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ua="[DEFAULT]";class hne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ua?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const L4=[];var lt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(lt||{});const IM={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},_ne=lt.INFO,vne={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},yne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=vne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Af{constructor(e){this.name=e,this._logLevel=_ne,this._logHandler=yne,this._userLogHandler=null,L4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Ene=(t,e)=>e.some(n=>t instanceof n);let bM,wM;const AM=new WeakMap,B4=new WeakMap,TM=new WeakMap,H4=new WeakMap,z4=new WeakMap;let U4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return B4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||TM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Tne(t){return"function"==typeof t?function Ane(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xne(){return wM||(wM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(j4(this),e),Ho(AM.get(this))}:function(...e){return Ho(t.apply(j4(this),e))}:function(e,...n){const r=t.call(j4(this),e,...n);return TM.set(r,e.sort?e.sort():[e]),Ho(r)}}(t):(t instanceof IDBTransaction&&function bne(t){if(B4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});B4.set(t,e)}(t),Ene(t,function Cne(){return bM||(bM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,U4):t)}function Ho(t){if(t instanceof IDBRequest)return function Ine(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AM.set(n,t)}).catch(()=>{}),z4.set(e,t),e}(t);if(H4.has(t))return H4.get(t);const e=Tne(t);return e!==t&&(H4.set(t,e),z4.set(e,t)),e}const j4=t=>z4.get(t),Dne=["get","getKey","getAll","getAllKeys","count"],Pne=["put","add","delete","clear"],$4=new Map;function SM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($4.get(e))return $4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dne.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return $4.set(e,s),s}!function wne(t){U4=t(U4)}(t=>({...t,get:(e,n,r)=>SM(e,n)||t.get(e,n,r),has:(e,n)=>!!SM(e,n)||t.has(e,n)}));class Mne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Rne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const G4="@firebase/app",ja=new Af("@firebase/app"),Yg="[DEFAULT]",ire={[G4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$a=new Map,Qg=new Map;function sre(t,e){try{t.container.addComponent(e)}catch(n){ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wi(t){const e=t.name;if(Qg.has(e))return ja.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of $a.values())sre(n,t);return!0}function _s(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const eo=new Bo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class are{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}const Ol="10.5.2";function PM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Yg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw eo.create("bad-app-name",{appName:String(i)});if(n||(n=vM()),!n)throw eo.create("no-options");const s=$a.get(i);if(s){if(xf(n,s.options)&&xf(r,s.config))return s;throw eo.create("duplicate-app",{appName:i})}const o=new mne(i);for(const c of Qg.values())o.addComponent(c);const a=new are(n,r,o);return $a.set(i,a),a}function Fl(t=Yg){const e=$a.get(t);if(!e&&t===Yg&&vM())return PM();if(!e)throw eo.create("no-app",{appName:t});return e}function MM(){return Array.from($a.values())}function sn(t,e,n){var r;let i=null!==(r=ire[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ja.warn(a.join(" "))}wi(new ii(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cre="firebase-heartbeat-database",lre=1,Tf="firebase-heartbeat-store";let W4=null;function RM(){return W4||(W4=function Sne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ho(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ho(o.result),c.oldVersion,c.newVersion,Ho(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(cre,lre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Tf)}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),W4}function K4(){return(K4=m(function*(t){try{return yield(yield RM()).transaction(Tf).objectStore(Tf).get(NM(t))}catch(e){if(e instanceof Ui)ja.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e?.message});ja.warn(n.message)}}})).apply(this,arguments)}function kM(t,e){return Y4.apply(this,arguments)}function Y4(){return(Y4=m(function*(t,e){try{const r=(yield RM()).transaction(Tf,"readwrite");yield r.objectStore(Tf).put(e,NM(t)),yield r.done}catch(n){if(n instanceof Ui)ja.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n?.message});ja.warn(r.message)}}})).apply(this,arguments)}function NM(t){return`${t.name}!${t.options.appId}`}class hre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=OM(),{heartbeatsToSend:r,unsentEntries:i}=function pre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Gg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function OM(){return(new Date).toISOString().substring(0,10)}class gre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Cf()&&N4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ure(t){return K4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function FM(t){return Gg(JSON.stringify({version:2,heartbeats:t})).length}!function mre(t){wi(new ii("platform-logger",e=>new Mne(e),"PRIVATE")),wi(new ii("heartbeat",e=>new hre(e),"PRIVATE")),sn(G4,"0.9.22",t),sn(G4,"0.9.22","esm2017"),sn("fire-js","")}(""),sn("firebase","10.5.2","app");class yre extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const Xg={setInterval(t,e,...n){const{delegate:r}=Xg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Xg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class VM extends yre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Xg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Xg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const LM={now:()=>(LM.delegate||Date).now(),delegate:void 0};class Sf{constructor(e,n=Sf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Sf.now=LM.now;class BM extends Sf{constructor(e,n=Sf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const xre=new class Cre extends BM{}(class Ere extends VM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Ire=new BM(VM);function Qn(t,e,n){const r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(nt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ve}const zo=new fl("ANGULARFIRE2_VERSION");function Jg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Zg=(t,e)=>{const n=e?[e]:MM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class Q4{constructor(){return Zg(HM)}}const HM="app-check";function Vl(){}class zM{constructor(e,n=xre){vt(this,"zone",void 0),vt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class wre{constructor(e){vt(this,"zone",void 0),vt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vl,{},Vl,Vl)),n.pipe(Qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Df=(()=>{var t;class e{constructor(r){vt(this,"ngZone",void 0),vt(this,"outsideAngular",void 0),vt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new zM(Zone.current)),this.insideAngular=r.run(()=>new zM(Zone.current,Ire)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(De(pt))}),vt(e,"\u0275prov",Ee({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ll(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ga(t){return Ll().ngZone.run(()=>t())}function Tre(t){return function Sre(t){return function(n){return(n=n.lift(new wre(t.ngZone))).pipe(n0(t.outsideAngular),t0(t.insideAngular))}}(Ll())(t)}const Dre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ga(()=>t.apply(void 0,r))},En=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ga(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vl,{},Vl,Vl))),r[s]=Dre(r[s],n));const i=function Are(t){return Ll().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof fe){const s=Ll();return i.pipe(n0(s.outsideAngular),t0(s.insideAngular))}return Ga(()=>i)}return i instanceof fe?i.pipe(Tre):i instanceof Promise?Ga(()=>new Promise((s,o)=>i.then(a=>Ga(()=>s(a)),a=>Ga(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ga(()=>i)};class qa{constructor(e){return e}}class Pf{constructor(){return MM()}}const X4=new Ce("angularfire2._apps"),Mre={provide:qa,useFactory:function Pre(t){return t&&1===t.length?t[0]:new qa(Fl())},deps:[[new en,X4]]},Rre={provide:Pf,deps:[[new en,X4]]};function kre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qa(r)}}let Nre=(()=>{var t;class e{constructor(r){sn("angularfire",zo.full,"core"),sn("angularfire",zo.full,"app"),sn("angular",oT.full,r.toString())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(De(ls))}),vt(e,"\u0275mod",Tt({type:t})),vt(e,"\u0275inj",Ct({providers:[Mre,Rre]})),e})();function to(t,...e){return{ngModule:Nre,providers:[{provide:X4,useFactory:kre(t),multi:!0,deps:[pt,Tn,Df,...e]}]}}const no=En(Fl,!0),ro=En(PM,!0);const Ore=function UM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jM=new Bo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),em=new Af("@firebase/auth");function tm(t,...e){em.logLevel<=lt.ERROR&&em.error(`Auth (${Ol}): ${t}`,...e)}function Wr(t,...e){throw J4(t,...e)}function si(t,...e){return J4(t,...e)}function $M(t,e,n){const r=Object.assign(Object.assign({},Ore()),{[e]:n});return new Bo("auth","Firebase",r).create(e,{appName:t.name})}function J4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jM.create(t,...e)}function ge(t,e,...n){if(!t)throw J4(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}function io(t,e){t||vs(e)}function Mf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function GM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,io(n>e,"Short delay should be less than long delay!"),this.isMobile=function Qte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}()||function Jte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Vre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Z4(){return"http:"===GM()||"https:"===GM()}()||k4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function e6(t,e){io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hre=new Rf(3e4,6e4);function qt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xt(t,e,n,r){return t6.apply(this,arguments)}function t6(){return(t6=m(function*(t,e,n,r,i={}){return WM(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=If(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),qM.fetch()(KM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function WM(t,e,n){return n6.apply(this,arguments)}function n6(){return(n6=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bre),e);try{const i=new Ure(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw kf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw kf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw kf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw kf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $M(t,u,l);Wr(t,u)}}catch(i){if(i instanceof Ui)throw i;Wr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function so(t,e,n,r){return r6.apply(this,arguments)}function r6(){return(r6=m(function*(t,e,n,r,i={}){const s=yield Xt(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function KM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e6(t.config,i):`${t.config.apiScheme}://${i}`}function zre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ure{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Hre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function QM(t){return void 0!==t&&void 0!==t.enterprise}class XM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function JM(t,e){return s6.apply(this,arguments)}function s6(){return(s6=m(function*(t,e){return Xt(t,"GET","/v2/recaptchaConfig",qt(t,e))})).apply(this,arguments)}function o6(){return(o6=m(function*(t,e){return Xt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function c6(){return(c6=m(function*(t,e){return Xt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l6(){return(l6=m(function*(t,e=!1){const n=rn(t),r=yield n.getIdToken(e),i=nm(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Nf(u6(i.auth_time)),issuedAtTime:Nf(u6(i.iat)),expirationTime:Nf(u6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function u6(t){return 1e3*Number(t)}function nm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=qg(n);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oo(t,e){return d6.apply(this,arguments)}function d6(){return(d6=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ui&&function Yre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Qre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class ZM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nf(this.lastLoginAt),this.creationTime=Nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Of(t){return f6.apply(this,arguments)}function f6(){return f6=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield oo(t,function qre(t,e){return c6.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Zre(t){return t.map(e=>{var{providerId:n}=e,r=rr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Jre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ZM(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),f6.apply(this,arguments)}function h6(){return(h6=m(function*(t){const e=rn(t);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function p6(){return(p6=m(function*(t,e){const n=yield WM(t,{},m(function*(){const r=If({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Kre(t){const e=nm(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function eie(t,e){return p6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ff;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ff,this.toJSON())}_performRefresh(){return vs("not implemented")}}function Uo(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Wa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ZM(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield oo(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Wre(t){return l6.apply(this,arguments)}(this,e)}reload(){return function Xre(t){return h6.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Of(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield oo(e,function $re(t,e){return o6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:j,emailVerified:Q,isAnonymous:he,providerData:Re,stsTokenManager:Ke}=n;ge(j&&Ke,e,"internal-error");const Yt=Ff.fromJSON(this.name,Ke);ge("string"==typeof j,e,"internal-error"),Uo(d,e.name),Uo(f,e.name),ge("boolean"==typeof Q,e,"internal-error"),ge("boolean"==typeof he,e,"internal-error"),Uo(h,e.name),Uo(p,e.name),Uo(g,e.name),Uo(y,e.name),Uo(D,e.name),Uo(w,e.name);const Rn=new Wa({uid:j,auth:e,email:f,emailVerified:Q,displayName:d,isAnonymous:he,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Yt,createdAt:D,lastLoginAt:w});return Re&&Array.isArray(Re)&&(Rn.providerData=Re.map(xa=>Object.assign({},xa))),y&&(Rn._redirectEventId=y),Rn}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ff;i.updateFromServerResponse(n);const s=new Wa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(s),s})()}}const eR=new Map;function ao(t){io(t instanceof Function,"Expected a class definition");let e=eR.get(t);return e?(io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eR.set(t,e),e)}const tR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function rm(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rm(this.userKey,i.apiKey,s),this.fullPersistenceKey=rm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Wa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Hl(ao(tR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ao(tR);const o=rm(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Wa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Hl(s,e,r)):new Hl(s,e,r)})()}}function nR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aR(e))return"Blackberry";if(cR(e))return"Webos";if(g6(e))return"Safari";if((e.includes("chrome/")||iR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rR(t=On()){return/firefox\//i.test(t)}function g6(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iR(t=On()){return/crios\//i.test(t)}function sR(t=On()){return/iemobile/i.test(t)}function oR(t=On()){return/android/i.test(t)}function aR(t=On()){return/blackberry/i.test(t)}function cR(t=On()){return/webos/i.test(t)}function im(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lR(t=On()){return im(t)||oR(t)||cR(t)||aR(t)||/windows phone/i.test(t)||sR(t)}function uR(t,e=[]){let n;switch(t){case"Browser":n=nR(On());break;case"Worker":n=`${nR(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ol}/${r}`}class iie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function m6(){return(m6=m(function*(t,e={}){return Xt(t,"GET","/v2/passwordPolicy",qt(t,e))})).apply(this,arguments)}class aie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class cie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dR(this),this.idTokenSubscription=new dR(this),this.beforeStateQueue=new iie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ao(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Hl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Of(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Lre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?rn(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ao(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return m(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return m(function*(){const n=yield function sie(t){return m6.apply(this,arguments)}(e),r=new aie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ao(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Hl.create(n,[ao(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Fre(t,...e){em.logLevel<=lt.WARN&&em.warn(`Auth (${Ol}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cn(t){return rn(t)}class dR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ine(t,e){const n=new sne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function lie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function fR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class hR{constructor(e){this.type="recaptcha-enterprise",this.auth=Cn(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){JM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new XM(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;QM(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&QM(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));_6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function pR(t,e,n){return v6.apply(this,arguments)}function v6(){return(v6=m(function*(t,e,n,r=!1){const i=new hR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function y6(){return y6=m(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield pR(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield pR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),y6.apply(this,arguments)}function gR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class C6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}function vR(t,e){return I6.apply(this,arguments)}function I6(){return(I6=m(function*(t,e){return Xt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Eie(t,e){return w6.apply(this,arguments)}function w6(){return(w6=m(function*(t,e){return so(t,"POST","/v1/accounts:signInWithPassword",qt(t,e))})).apply(this,arguments)}function M6(){return(M6=m(function*(t,e){return so(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}function R6(){return(R6=m(function*(t,e){return so(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}class Vf extends C6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){switch(n.signInMethod){case"password":return function sm(t,e,n,r){return y6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Eie);case"emailLink":return function wie(t,e){return M6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Wr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return vR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Aie(t,e){return R6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Wr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function co(t,e){return k6.apply(this,arguments)}function k6(){return(k6=m(function*(t,e){return so(t,"POST","/v1/accounts:signInWithIdp",qt(t,e))})).apply(this,arguments)}class zl extends C6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return co(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=If(n)}return e}}class Bf{constructor(e){var n,r,i,s,o,a;const c=bf(wf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function kie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ge(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Nie(t){const e=bf(wf(t)).link,n=e?bf(wf(e)).deep_link_id:null,r=bf(wf(t)).deep_link_id;return(r?bf(wf(r)).link:null)||r||n||e||t}(e);try{return new Bf(n)}catch{return null}}}let yR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Bf.parseLink(r);return ge(i,"argument-error"),Vf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class jo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ER extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Oie=(()=>{class t extends ER{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return zl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield Wa._fromIdTokenResponse(e,r,i),o=xR(r);return new Ai({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=xR(r);return new Ai({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function xR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class cm extends Ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cm(e,n,r,i)}}function IR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?cm._fromErrorAndOperation(t,s,e,r):s})}function j6(){return(j6=m(function*(t,e,n=!1){const r=yield oo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ai._forOperation(t,"link",r)})).apply(this,arguments)}function G6(){return(G6=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield oo(t,IR(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=nm(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Ai._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Wr(r,"user-mismatch"),s}})).apply(this,arguments)}function AR(t,e){return q6.apply(this,arguments)}function q6(){return(q6=m(function*(t,e,n=!1){const r="signIn",i=yield IR(t,r,e),s=yield Ai._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function K6(){return(K6=m(function*(t,e){return AR(Cn(t),e)})).apply(this,arguments)}function r3(){return(r3=m(function*(t){const e=Cn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Uie(t,e,n){return function W6(t,e){return K6.apply(this,arguments)}(rn(t),yR.credential(e,n)).catch(function(){var r=m(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function n3(t){return r3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const dm="__sak";class SR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ose=(()=>{class t extends SR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rse(){const t=On();return g6(t)||im(t)}()&&function rie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function nie(){return function Zte(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),DR=(()=>{class t extends SR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let cse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=m(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function ase(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function fm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class lse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=fm("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xn(){return window}function w3(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function A3(){return(A3=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const PR="firebaseLocalStorageDb",hm="firebaseLocalStorage",MR="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function T3(){const t=indexedDB.open(PR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:MR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),yield function gse(){const t=indexedDB.deleteDatabase(PR);return new zf(t).toPromise()}(),e(yield T3()))}))})}function RR(t,e,n){return S3.apply(this,arguments)}function S3(){return(S3=m(function*(t,e,n){const r=pm(t,!0).put({[MR]:e,value:n});return new zf(r).toPromise()})).apply(this,arguments)}function D3(){return(D3=m(function*(t,e){const n=pm(t,!1).get(e),r=yield new zf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kR(t,e){const n=pm(t,!0).delete(e);return new zf(n).toPromise()}const yse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield T3()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return w3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=cse._getInstance(function hse(){return w3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function dse(){return A3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new lse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function fse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield T3();return yield RR(n,dm,"1"),yield kR(n,dm),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>RR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function mse(t,e){return D3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>kR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=pm(o,!1).getAll();return new zf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ya(t,e){return e?ao(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}fR("rcb"),new Rf(3e4,6e4);class L3 extends C6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ose(t){return AR(t.auth,new L3(t),t.bypassAuthState)}function Fse(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function wR(t,e){return G6.apply(this,arguments)}(n,new L3(t),t.bypassAuthState)}function Vse(t){return B3.apply(this,arguments)}function B3(){return(B3=m(function*(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function U6(t,e){return j6.apply(this,arguments)}(n,new L3(t),t.bypassAuthState)})).apply(this,arguments)}class OR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ose;case"linkViaPopup":case"linkViaRedirect":return Vse;case"reauthViaPopup":case"reauthViaRedirect":return Fse;default:Wr(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lse=new Rf(2e3,1e4);function Bse(t,e,n){return H3.apply(this,arguments)}function H3(){return(H3=m(function*(t,e,n){const r=Cn(t);!function Bl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Wr(t,"argument-error"),$M(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,jo);const i=Ya(r,n);return new j3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let j3=(()=>{class t extends OR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return ge(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){io(1===n.filter.length,"Popup operations only handle one event");const r=fm();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(si(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Lse.get())};n()}}return t.currentPopupAction=null,t})();const Hse="pendingRedirect",Uf=new Map;class zse extends OR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Uf.get(n.auth._key());if(!r){try{const s=(yield function Use(t,e){return $3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Uf.set(n.auth._key(),r)}return n.bypassAuthState||Uf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function $3(){return($3=m(function*(t,e){const n=function VR(t){return rm(Hse,t.config.apiKey,t.name)}(e),r=function FR(t){return ao(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function jse(t,e){Uf.set(t._key(),e)}function LR(t,e){return X3.apply(this,arguments)}function X3(){return(X3=m(function*(t,e,n=!1){const r=Cn(t),i=Ya(r,e),o=yield new zse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Kse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Yse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HR(e))}saveEventToCache(e){this.cachedEventUids.add(HR(e)),this.lastProcessedEventTime=Date.now()}}function HR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Z3(){return(Z3=m(function*(t,e={}){return Xt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Xse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jse=/^https?/;function eE(){return eE=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Qse(t){return Z3.apply(this,arguments)}(t);for(const n of e)try{if(eoe(n))return}catch{}Wr(t,"unauthorized-domain")}),eE.apply(this,arguments)}function eoe(t){const e=Mf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Jse.test(n))return!1;if(Xse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const toe=new Rf(3e4,6e4);function UR(){const t=xn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let mm=null;const ioe=new Rf(5e3,15e3),soe="__/auth/iframe",ooe="emulator/auth/iframe",aoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},coe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function loe(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e6(e,ooe):`https://${t.config.authDomain}/${soe}`,r={apiKey:e.apiKey,appName:t.name,v:Ol},i=coe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${If(r).slice(1)}`}function tE(){return tE=m(function*(t){const e=yield function roe(t){return mm=mm||function noe(t){return new Promise((e,n)=>{var r,i,s;function o(){UR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UR(),n(si(t,"network-request-failed"))},timeout:toe.get()})}if(null!==(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=xn().gapi)||void 0===s||!s.load){const a=fR("iframefcb");return xn()[a]=()=>{gapi.load?o():n(si(t,"network-request-failed"))},_6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw mm=null,e})}(t),mm}(t),n=xn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:loe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aoe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=si(t,"network-request-failed"),c=xn().setTimeout(()=>{o(a)},ioe.get());function l(){xn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),tE.apply(this,arguments)}const doe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const voe="__/auth/handler",yoe="emulator/auth/handler",Eoe=encodeURIComponent("fac");function $R(t,e,n,r,i,s){return nE.apply(this,arguments)}function nE(){return(nE=m(function*(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ol,eventId:i};if(e instanceof jo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function rne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof ER){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Eoe}=${encodeURIComponent(c)}`:"";return`${function Coe({config:t}){return t.emulator?e6(t,yoe):`https://${t.authDomain}/${voe}`}(t)}?${If(a).slice(1)}${l}`})).apply(this,arguments)}const rE="webStorageSupport",Ioe=class xoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DR,this._completeRedirectFn=LR,this._overrideRedirectResult=jse}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;io(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield $R(e,n,r,Mf(),i);return function moe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},doe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=On().toLowerCase();n&&(a=iR(l)?"_blank":n),rR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function tie(t=On()){var e;return im(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function _oe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new jR(null);const d=window.open(e||"",a,u);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new jR(d)}(e,a,fm())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function use(t){xn().location.href=t}(yield $R(e,n,r,Mf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(io(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function uoe(t){return tE.apply(this,arguments)}(e),i=new Kse(e);return r.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rE,{type:rE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[rE];void 0!==o&&n(!!o),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Zse(t){return eE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lR()||g6()||im()}};var WR="@firebase/auth";class boe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Soe=yM("authIdTokenMaxAge")||300;let YR=null;const Doe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Soe)return;const s=r?.token;YR!==s&&(YR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Poe(t=Fl()){const e=_s(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function pie(t,e){const n=_s(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(xf(n.getOptions(),e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ioe,persistence:[yse,ose,DR]}),r=yM("authTokenSyncURL");if(r){const s=Doe(r);(function Xie(t,e,n){rn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Qie(t,e,n,r){rn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=_M("auth");return i&&function mie(t,e,n){const r=Cn(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=gR(e),{host:o,port:a}=function _ie(t){const e=gR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:mR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function vie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Moe(t){return new fe(function(e){var n=function Jie(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Aoe(t){wi(new ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(t)},l=new cie(r,i,s,c);return function gie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ao);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wi(new ii("auth-internal",e=>{const n=Cn(e.getProvider("auth").getImmediate());return new boe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(WR,"1.3.2",function woe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),sn(WR,"1.3.2","esm2017")}("Browser");class jf{constructor(e){return e}}class XR{constructor(){return Zg("auth")}}const sE=new Ce("angularfire2.auth-instances");function Noe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jf(r)}}const Ooe={provide:XR,deps:[[new en,sE]]},Foe={provide:jf,useFactory:function koe(t,e){const n=Jg("auth",t,e);return n&&new jf(n)},deps:[[new en,sE],qa]};let Voe=(()=>{var t;class e{constructor(){sn("angularfire",zo.full,"auth")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Tt({type:t})),vt(e,"\u0275inj",Ct({providers:[Foe,Ooe]})),e})();function $o(t,...e){return{ngModule:Voe,providers:[{provide:sE,useFactory:Noe(t),multi:!0,deps:[pt,Tn,Df,Pf,[new en,Q4],...e]}]}}const JR=En(Moe,!0),Go=En(Poe,!0),Loe=En(Uie,!0),Boe=En(Bse,!0);var xe,Hoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={},oE=oE||{},$e=Hoe||self;function vm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var aE="closure_uid_"+(1e9*Math.random()>>>0),Uoe=0;function joe(t,e,n){return t.call.apply(t.bind,arguments)}function $oe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?joe:$oe).apply(null,arguments)}function ym(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function qo(){this.s=this.s,this.o=this.o}qo.prototype.s=!1,qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zoe(t){Object.prototype.hasOwnProperty.call(t,aE)&&t[aE]||(t[aE]=++Uoe)}(this)},qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function e9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var qoe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Gf(t){return/^[\s\xa0]*$/.test(t)}function Em(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function ys(t){return-1!=Em().indexOf(t)}function lE(t){return lE[" "](t),t}lE[" "]=function(){};var dE,t,Koe=ys("Opera"),Ul=ys("Trident")||ys("MSIE"),t9=ys("Edge"),uE=t9||Ul,n9=ys("Gecko")&&!(-1!=Em().toLowerCase().indexOf("webkit")&&!ys("Edge"))&&!(ys("Trident")||ys("MSIE"))&&!ys("Edge"),Yoe=-1!=Em().toLowerCase().indexOf("webkit")&&!ys("Edge");function r9(){var t=$e.document;return t?t.documentMode:void 0}e:{var fE="",hE=(t=Em(),n9?/rv:([^\);]+)(\)|;)/.exec(t):t9?/Edge\/([\d\.]+)/.exec(t):Ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Yoe?/WebKit\/(\S+)/.exec(t):Koe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(hE&&(fE=hE?hE[1]:""),Ul){var pE=r9();if(null!=pE&&pE>parseFloat(fE)){dE=String(pE);break e}}dE=fE}var Qoe=$e.document&&Ul&&(r9()||parseInt(dE,10))||void 0;function qf(t,e){if(fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(n9){e:{try{lE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qf.$.h.call(this)}}Fn(qf,fr);var Xoe={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),Joe=0;function Zoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Joe,this.fa=this.ia=!1}function Cm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s9(t){const e={};for(const n in t)e[n]=t[n];return e}const o9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function a9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<o9.length;s++)n=o9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xm(t){this.src=t,this.g={},this.h=0}function _E(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=ZR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cm(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}xm.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Zoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var yE="closure_lm_"+(1e6*Math.random()|0),EE={};function c9(t,e,n,r,i){if(r&&r.once)return u9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)c9(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Wf]?t.O(e,n,$f(r)?!!r.capture:!!r,i):l9(t,e,n,!1,r,i)}function l9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$f(i)?!!i.capture:!!i,a=xE(t);if(a||(t[yE]=a=new xm(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function tae(){const e=nae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qoe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function u9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)u9(t,e[s],n,r,i);return null}return n=bE(n),t&&t[Wf]?t.P(e,n,$f(r)?!!r.capture:!!r,i):l9(t,e,n,!0,r,i)}function d9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)d9(t,e[s],n,r,i);else r=$f(r)?!!r.capture:!!r,n=bE(n),t&&t[Wf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vE(s=t.g[e],n,r,i))&&(Cm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=xE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vE(e,n,r,i)),(n=-1<t?e[t]:null)&&CE(n))}function CE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wf])_E(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xE(e))?(_E(n,t),0==n.h&&(n.src=null,e[yE]=null)):Cm(t)}}}function f9(t){return t in EE?EE[t]:EE[t]="on"+t}function nae(t,e){if(t.fa)t=!0;else{e=new qf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&CE(t),t=n.call(r,e)}return t}function xE(t){return(t=t[yE])instanceof xm?t:null}var IE="__closure_events_fn_"+(1e9*Math.random()>>>0);function bE(t){return"function"==typeof t?t:(t[IE]||(t[IE]=function(e){return t.handleEvent(e)}),t[IE])}function Vn(){qo.call(this),this.i=new xm(this),this.S=this,this.J=null}function Xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fr(e,t);else if(e instanceof fr)e.target=e.target||t;else{var i=e;a9(e=new fr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Im(o,r,!0,e)&&i}if(i=Im(o=e.g=t,r,!0,e)&&i,i=Im(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Im(o=e.g=n[s],r,!1,e)&&i}function Im(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&_E(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Fn(Vn,qo),Vn.prototype[Wf]=!0,Vn.prototype.removeEventListener=function(t,e,n,r){d9(this,t,e,n,r)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cm(n[r]);delete t.g[e],t.h--}}this.J=null},Vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var wE=$e.JSON.stringify;function iae(){var t=AE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var h9=new class rae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new oae,t=>t.reset());class oae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cae(t){$e.setTimeout(()=>{throw t},0)}let Kf,Yf=!1,AE=new class sae{constructor(){this.h=this.g=null}add(e,n){const r=h9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},p9=()=>{const t=$e.Promise.resolve(void 0);Kf=()=>{t.then(lae)}};var lae=()=>{for(var t;t=iae();){try{t.h.call(t.g)}catch(n){cae(n)}var e=h9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yf=!1};function bm(t,e){Vn.call(this),this.h=t||1,this.g=e||$e,this.j=dr(this.qb,this),this.l=Date.now()}function TE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function SE(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function g9(t){t.g=SE(()=>{t.g=null,t.i&&(t.i=!1,g9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Fn(bm,Vn),(xe=bm.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(TE(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){bm.$.N.call(this),TE(this),delete this.g};class uae extends qo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g9(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(t){qo.call(this),this.h=t,this.g={}}Fn(Qf,qo);var m9=[];function _9(t,e,n,r){Array.isArray(n)||(n&&(m9[0]=n.toString()),n=m9);for(var i=0;i<n.length;i++){var s=c9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function v9(t){mE(t.g,function(e,n){this.g.hasOwnProperty(n)&&CE(e)},t),t.g={}}function wm(){this.g=!0}function jl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qf.prototype.N=function(){Qf.$.N.call(this),v9(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wm.prototype.Ea=function(){this.g=!1},wm.prototype.info=function(){};var Qa={},y9=null;function Am(){return y9=y9||new Vn}function E9(t){fr.call(this,Qa.Ta,t)}function Xf(t){const e=Am();Xn(e,new E9(e))}function C9(t,e){fr.call(this,Qa.STAT_EVENT,t),this.stat=e}function Dr(t){const e=Am();Xn(e,new C9(e,t))}function x9(t,e){fr.call(this,Qa.Ua,t),this.size=e}function Jf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}Qa.Ta="serverreachability",Fn(E9,fr),Qa.STAT_EVENT="statevent",Fn(C9,fr),Qa.Ua="timingevent",Fn(x9,fr);var Tm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},I9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DE(){}function w9(){}DE.prototype.h=null;var RE,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function PE(){fr.call(this,"d")}function ME(){fr.call(this,"c")}function Sm(){}function eh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qf(this),this.P=gae,this.V=new bm(t=uE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A9}function A9(){this.i=null,this.g="",this.h=!1}Fn(PE,fr),Fn(ME,fr),Fn(Sm,DE),Sm.prototype.g=function(){return new XMLHttpRequest},Sm.prototype.i=function(){return{}},RE=new Sm;var gae=45e3,kE={},Dm={};function NE(t,e,n){t.L=1,t.v=km(lo(e)),t.s=n,t.S=!0,T9(t,null)}function T9(t,e){t.G=Date.now(),th(t),t.A=lo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),V9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new A9,t.g=ak(t.l,n?e:null,!t.s),0<t.O&&(t.M=new uae(dr(t.Pa,t,t.g),t.O)),_9(t.U,t.g,"readystatechange",t.nb),e=t.I?s9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xf(),function dae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function S9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function D9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=mae(t,n),i==Dm){4==e&&(t.o=4,Dr(14),r=!1),jl(t.j,t.m,null,"[Incomplete Response]");break}if(i==kE){t.o=4,Dr(15),jl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}jl(t.j,t.m,i,null),OE(t,i)}S9(t)&&i!=Dm&&i!=kE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Dr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),UE(e),e.M=!0,Dr(11))):(jl(t.j,t.m,n,"[Invalid Chunked Response]"),Xa(t),nh(t))}function mae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Dm:(n=Number(e.substring(n,r)),isNaN(n)?kE:(r+=1)+n>e.length?Dm:(e=e.slice(r,r+n),t.C=r+n,e))}function th(t){t.Y=Date.now()+t.P,P9(t,t.P)}function P9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jf(dr(t.lb,t),e)}function Pm(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function nh(t){0==t.l.H||t.J||rk(t.l,t)}function Xa(t){Pm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TE(t.V),v9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function OE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||FE(n.i,t)))if(!t.K&&FE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Bm(n),Vm(n)}zE(n),Dr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jf(dr(n.ib,n),6e3));if(1>=H9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Za(n,11)}else if((t.K||n.g==t)&&Bm(n),!Gf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(VE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Bt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=ok(r,r.J?r.pa:null,r.Y),o.K){z9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Pm(a),th(a)),r.g=o}else tk(r);0<n.j.length&&Lm(n)}else"stop"!=l[0]&&"close"!=l[0]||Za(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Za(n,7):HE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Xf()}catch{}}function M9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(vm(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function vae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vm(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function _ae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(vm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(xe=eh.prototype).setTimeout=function(t){this.P=t},xe.nb=function(t){t=t.target;const e=this.M;e&&3==Es(t)?e.l():this.Pa(t)},xe.Pa=function(t){try{if(t==this.g)e:{const u=Es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||uE||this.g&&(this.h.h||this.g.ja()||Y9(this.g)))){this.J||4!=u||7==e||Xf(),Pm(this);var n=this.g.da();this.ca=n;t:if(S9(this)){var r=Y9(this.g);t="";var i=r.length,s=4==Es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xa(this),nh(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function fae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Dr(12),Xa(this),nh(this);break e}jl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OE(this,n)}this.S?(D9(this,u,o),uE&&this.i&&3==u&&(_9(this.U,this.V,"tick",this.mb),this.V.start())):(jl(this.j,this.m,o,null),OE(this,o)),4==u&&Xa(this),this.i&&!this.J&&(4==u?rk(this.l,this):(this.i=!1,th(this)))}else(function Fae(t){const e={};t=(t.g&&2<=Es(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Gf(t[r]))continue;var n=aae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function eae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),Xa(this),nh(this)}}}catch{}},xe.mb=function(){if(this.g){var t=Es(this.g),e=this.g.ja();this.C<e.length&&(Pm(this),D9(this,t,e),this.i&&4!=t&&th(this))}},xe.cancel=function(){this.J=!0,Xa(this)},xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function hae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xf(),Dr(17)),Xa(this),this.o=2,nh(this)):P9(this,this.Y-t)};var R9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ja){this.h=t.h,Mm(this,t.j),this.s=t.s,this.g=t.g,Rm(this,t.m),this.l=t.l;var e=t.i,n=new sh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),k9(this,n),this.o=t.o}else t&&(e=String(t).match(R9))?(this.h=!1,Mm(this,e[1]||"",!0),this.s=rh(e[2]||""),this.g=rh(e[3]||"",!0),Rm(this,e[4]),this.l=rh(e[5]||"",!0),k9(this,e[6]||"",!0),this.o=rh(e[7]||"")):(this.h=!1,this.i=new sh(null,this.h))}function lo(t){return new Ja(t)}function Mm(t,e,n){t.j=n?rh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function k9(t,e,n){e instanceof sh?(t.i=e,function wae(t,e){e&&!t.j&&(Wo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(O9(this,r),V9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ih(e,Iae)),t.i=new sh(e,t.h))}function Bt(t,e,n){t.i.set(e,n)}function km(t){return Bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ih(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Eae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Eae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ja.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ih(e,N9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ih(e,N9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ih(n,"/"==n.charAt(0)?xae:Cae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ih(n,bae)),t.join("")};var N9=/[#\/\?@]/g,Cae=/[#\?:]/g,xae=/[#\?]/g,Iae=/[#\?@]/g,bae=/#/g;function sh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wo(t){t.g||(t.g=new Map,t.h=0,t.i&&function yae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function O9(t,e){Wo(t),e=$l(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function F9(t,e){return Wo(t),e=$l(t,e),t.g.has(e)}function V9(t,e,n){O9(t,e),0<n.length&&(t.i=null,t.g.set($l(t,e),cE(n)),t.h+=n.length)}function $l(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function L9(t){this.l=t||Tae,t=$e.PerformanceNavigationTiming?0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=sh.prototype).add=function(t,e){Wo(this),this.i=null,t=$l(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},xe.forEach=function(t,e){Wo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},xe.ta=function(){Wo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},xe.Z=function(t){Wo(this);let e=[];if("string"==typeof t)F9(this,t)&&(e=e.concat(this.g.get($l(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},xe.set=function(t,e){return Wo(this),this.i=null,F9(this,t=$l(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Tae=10;function B9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function H9(t){return t.h?1:t.g?t.g.size:0}function FE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function VE(t,e){t.g?t.g.add(e):t.h=e}function z9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function U9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cE(t.i)}L9.prototype.cancel=function(){if(this.i=U9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Sae=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function Dae(){this.g=new Sae}function Pae(t,e,n){const r=n||"";try{M9(t,function(i,s){let o=i;$f(i)&&(o=wE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function oh(t){this.l=t.ec||null,this.j=t.ob||!1}function Om(t,e){Vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(oh,DE),oh.prototype.g=function(){return new Om(this.l,this.j)},oh.prototype.i=function(t){return function(){return t}}({}),Fn(Om,Vn);var LE=0;function j9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ah(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ch(t)}function ch(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=Om.prototype).open=function(t,e){if(this.readyState!=LE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ch(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=LE},xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ch(this)),this.g&&(this.readyState=3,ch(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ah(this):ch(this),3==this.readyState&&j9(this)}},xe.Za=function(t){this.g&&(this.response=this.responseText=t,ah(this))},xe.Ya=function(t){this.g&&(this.response=t,ah(this))},xe.ka=function(){this.g&&ah(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Rae=$e.JSON.parse;function on(t){Vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$9,this.L=this.M=!1}Fn(on,Vn);var $9="",kae=/^https?$/i,Nae=["POST","PUT"];function G9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q9(t),Fm(t)}function q9(t){t.F||(t.F=!0,Xn(t,"complete"),Xn(t,"error"))}function W9(t){if(t.h&&typeof oE<"u"&&(!t.C[1]||4!=Es(t)||2!=t.da()))if(t.v&&4==Es(t))SE(t.La,0,t);else if(Xn(t,"readystatechange"),4==Es(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(R9)[1]||null;!i&&$e.self&&$e.self.location&&(i=$e.self.location.protocol.slice(0,-1)),r=!kae.test(i?i.toLowerCase():"")}n=r}if(n)Xn(t,"complete"),Xn(t,"success");else{t.m=6;try{var s=2<Es(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",q9(t)}}finally{Fm(t)}}}function Fm(t,e){if(t.g){K9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function K9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function Es(t){return t.g?t.g.readyState:0}function Y9(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Q9(t){let e="";return mE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function BE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Q9(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Bt(t,e,n))}function lh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function X9(t){this.Ga=0,this.j=[],this.l=new wm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lh("baseRetryDelayMs",5e3,t),this.hb=lh("retryDelaySeedMs",1e4,t),this.eb=lh("forwardChannelMaxRetries",2,t),this.xa=lh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new L9(t&&t.concurrentRequestLimit),this.Ja=new Dae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HE(t){if(J9(t),3==t.H){var e=t.W++,n=lo(t.I);if(Bt(n,"SID",t.K),Bt(n,"RID",e),Bt(n,"TYPE","terminate"),uh(t,n),(e=new eh(t,t.l,e)).L=2,e.v=km(lo(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=ak(e.l,null),e.g.ha(e.v)),e.G=Date.now(),th(e)}sk(t)}function Vm(t){t.g&&(UE(t),t.g.cancel(),t.g=null)}function J9(t){Vm(t),t.u&&($e.clearTimeout(t.u),t.u=null),Bm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function Lm(t){if(!B9(t.i)&&!t.m){t.m=!0;var e=t.Na;Kf||p9(),Yf||(Kf(),Yf=!0),AE.add(e,t),t.C=0}}function Z9(t,e){var n;n=e?e.m:t.W++;const r=lo(t.I);Bt(r,"SID",t.K),Bt(r,"RID",n),Bt(r,"AID",t.V),uh(t,r),t.o&&t.s&&BE(r,t.o,t.s),n=new eh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ek(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),VE(t.i,n),NE(n,r,e)}function uh(t,e){t.na&&mE(t.na,function(n,r){Bt(e,r,n)}),t.h&&M9({},function(n,r){Bt(e,r,n)})}function ek(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Pae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kf||p9(),Yf||(Kf(),Yf=!0),AE.add(e,t),t.A=0}}function zE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jf(dr(t.Ma,t),ik(t,t.A)),t.A++,0))}function UE(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function nk(t){t.g=new eh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=lo(t.wa);Bt(e,"RID","rpc"),Bt(e,"SID",t.K),Bt(e,"AID",t.V),Bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Bt(e,"TO",t.qa),Bt(e,"TYPE","xmlhttp"),uh(t,e),t.o&&t.s&&BE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=km(lo(e)),n.s=null,n.S=!0,T9(n,t)}function Bm(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function rk(t,e){var n=null;if(t.g==e){Bm(t),UE(t),t.g=null;var r=2}else{if(!FE(t.i,e))return;n=e.F,z9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xn(r=Am(),new x9(r,n)),Lm(t)}else tk(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Vae(t,e){return!(H9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jf(dr(t.Na,t,e),ik(t,t.C)),t.C++,0)))}(t,e)||2==r&&zE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Za(t,5);break;case 4:Za(t,10);break;case 3:Za(t,6);break;default:Za(t,2)}}function ik(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Za(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||Mm(n,"https"),km(n)),function Mae(t,e){const n=new wm;if($e.Image){const r=new Image;r.onload=ym(Nm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ym(Nm,n,r,"TestLoadImage: error",!1,e),r.onabort=ym(Nm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ym(Nm,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dr(2);t.H=0,t.h&&t.h.za(e),sk(t),J9(t)}function sk(t){if(t.H=0,t.ma=[],t.h){const e=U9(t.i);(0!=e.length||0!=t.j.length)&&(e9(t.ma,e),e9(t.ma,t.j),t.i.i.length=0,cE(t.j),t.j.length=0),t.h.ya()}}function ok(t,e,n){var r=n instanceof Ja?lo(n):new Ja(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Rm(r,r.m);else{var i=$e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ja(null);r&&Mm(s,r),e&&(s.g=e),i&&Rm(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Bt(r,n,e),Bt(r,"VER",t.ra),uh(t,r),r}function ak(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new on(n&&t.Ha&&!t.va?new oh({ob:!0}):t.va)).Oa(t.J),e}function ck(){}function Hm(){if(Ul&&!(10<=Number(Qoe)))throw Error("Environmental error: no available transport.")}function oi(t,e){Vn.call(this),this.g=new X9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Gl(this)}function lk(t){PE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uk(){ME.call(this),this.status=1}function Gl(t){this.g=t}function $i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function bt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(xe=on.prototype).Oa=function(t){this.M=t},xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():RE.g(),this.C=function b9(t){return t.h||(t.h=t.i())}(this.u?this.u:RE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void G9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$e.FormData&&t instanceof $e.FormData,!(0<=ZR(Nae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{K9(this),0<this.B&&((this.L=function Oae(t){return Ul&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=SE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){G9(this,s)}},xe.ua=function(){typeof oE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xn(this,"complete"),Xn(this,"abort"),Fm(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),on.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?W9(this):this.kb())},xe.kb=function(){W9(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rae(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=X9.prototype).ra=8,xe.H=1,xe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new eh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=s9(s),a9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ek(this,i,e),Bt(n=lo(this.I),"RID",t),Bt(n,"CVER",22),this.F&&Bt(n,"X-HTTP-Session-Id",this.F),uh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Q9(s)))+"&"+e:this.o&&BE(n,this.o,s)),VE(this.i,i),this.bb&&Bt(n,"TYPE","init"),this.P?(Bt(n,"$req",e),Bt(n,"SID","null"),i.aa=!0,NE(i,n,null)):NE(i,n,e),this.H=2}}else 3==this.H&&(t?Z9(this,t):0==this.j.length||B9(this.i)||Z9(this))},xe.Ma=function(){if(this.u=null,nk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jf(dr(this.jb,this),t)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dr(10),Vm(this),nk(this))},xe.ib=function(){null!=this.v&&(this.v=null,Vm(this),zE(this),Dr(19))},xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dr(2)):(this.l.info("Failed to ping google.com"),Dr(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=ck.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},Hm.prototype.g=function(t,e){return new oi(t,e)},Fn(oi,Vn),oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ok(t,null,t.Y),Lm(t)},oi.prototype.close=function(){HE(this.g)},oi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=wE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Lm(e)},oi.prototype.N=function(){this.g.h=null,delete this.j,HE(this.g),delete this.g,oi.$.N.call(this)},Fn(lk,PE),Fn(uk,ME),Fn(Gl,ck),Gl.prototype.Ba=function(){Xn(this.g,"a")},Gl.prototype.Aa=function(t){Xn(this.g,new lk(t))},Gl.prototype.za=function(t){Xn(this.g,new uk)},Gl.prototype.ya=function(){Xn(this.g,"b")},Fn($i,function Lae(){this.blockSize=-1}),$i.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$i.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)jE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jE(this,r),i=0;break}}this.h=i,this.i+=e},$i.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Bae={};function $E(t){return-128<=t&&128>t?function Woe(t,e){var n=Bae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new bt([0|e],0>e?-1:0)}):new bt([0|t],0>t?-1:0)}function Cs(t){if(isNaN(t)||!isFinite(t))return ql;if(0>t)return Jn(Cs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=GE;return new bt(e,0)}var GE=4294967296,ql=$E(0),qE=$E(1),fk=$E(16777216);function uo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ti(t){return-1==t.h}function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new bt(n,~t.h).add(qE)}function zm(t,e){return t.add(Jn(e))}function Um(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dh(t,e){this.g=t,this.h=e}function jm(t,e){if(uo(e))throw Error("division by zero");if(uo(t))return new dh(ql,ql);if(Ti(t))return e=jm(Jn(t),e),new dh(Jn(e.g),Jn(e.h));if(Ti(e))return e=jm(t,Jn(e)),new dh(Jn(e.g),e.h);if(30<t.g.length){if(Ti(t)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qE,r=e;0>=r.X(t);)n=hk(n),r=hk(r);var i=Wl(n,1),s=Wl(r,1);for(r=Wl(r,2),n=Wl(n,2);!uo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Wl(r,1),n=Wl(n,1)}return e=zm(t,i.R(e)),new dh(i,e)}for(i=ql;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Cs(n)).R(e);Ti(o)||0<o.X(t);)o=(s=Cs(n-=r)).R(e);uo(s)&&(s=qE),i=i.add(s),t=zm(t,o)}return new dh(i,t)}function hk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new bt(n,t.h)}function Wl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new bt(i,t.h)}(xe=bt.prototype).ea=function(){if(Ti(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:GE+r)*e,e*=GE}return t},xe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(uo(this))return"0";if(Ti(this))return"-"+Jn(this).toString(t);for(var e=Cs(Math.pow(t,6)),n=this,r="";;){var i=jm(n,e).g,s=((0<(n=zm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(uo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},xe.X=function(t){return Ti(t=zm(this,t))?-1:uo(t)?0:1},xe.abs=function(){return Ti(this)?Jn(this):this},xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new bt(n,-2147483648&n[n.length-1]?-1:0)},xe.R=function(t){if(uo(this)||uo(t))return ql;if(Ti(this))return Ti(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(Ti(t))return Jn(this.R(Jn(t)));if(0>this.X(fk)&&0>t.X(fk))return Cs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Um(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Um(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Um(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Um(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new bt(n,0)},xe.gb=function(t){return jm(this,t).h},xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new bt(n,this.h&t.h)},xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new bt(n,this.h|t.h)},xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new bt(n,this.h^t.h)},Hm.prototype.createWebChannel=Hm.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,Tm.NO_ERROR=0,Tm.TIMEOUT=8,Tm.HTTP_ERROR=6,I9.COMPLETE="complete",w9.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,on.prototype.listenOnce=on.prototype.P,on.prototype.getLastError=on.prototype.Sa,on.prototype.getLastErrorCode=on.prototype.Ia,on.prototype.getStatus=on.prototype.da,on.prototype.getResponseJson=on.prototype.Wa,on.prototype.getResponseText=on.prototype.ja,on.prototype.send=on.prototype.ha,on.prototype.setWithCredentials=on.prototype.Oa,$i.prototype.digest=$i.prototype.l,$i.prototype.reset=$i.prototype.reset,$i.prototype.update=$i.prototype.j,bt.prototype.add=bt.prototype.add,bt.prototype.multiply=bt.prototype.R,bt.prototype.modulo=bt.prototype.gb,bt.prototype.compare=bt.prototype.X,bt.prototype.toNumber=bt.prototype.ea,bt.prototype.toString=bt.prototype.toString,bt.prototype.getBits=bt.prototype.D,bt.fromNumber=Cs,bt.fromString=function dk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jn(dk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cs(Math.pow(e,8)),r=ql,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Cs(Math.pow(e,s)),r=r.R(s).add(Cs(o))):r=(r=r.R(n)).add(Cs(o))}return r};var Hae=ji.createWebChannelTransport=function(){return new Hm},zae=ji.getStatEventTarget=function(){return Am()},WE=ji.ErrorCode=Tm,Uae=ji.EventType=I9,jae=ji.Event=Qa,pk=ji.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$ae=ji.FetchXmlHttpFactory=oh,$m=ji.WebChannel=w9,Gae=ji.XhrIo=on,qae=ji.Md5=$i,Kl=ji.Integer=bt;const gk="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Yl="10.5.2";const Ko=new Af("@firebase/firestore");function Ql(){return Ko.logLevel}function ie(t,...e){if(Ko.logLevel<=lt.DEBUG){const n=e.map(KE);Ko.debug(`Firestore (${Yl}): ${t}`,...n)}}function gn(t,...e){if(Ko.logLevel<=lt.ERROR){const n=e.map(KE);Ko.error(`Firestore (${Yl}): ${t}`,...n)}}function ai(t,...e){if(Ko.logLevel<=lt.WARN){const n=e.map(KE);Ko.warn(`Firestore (${Yl}): ${t}`,...n)}}function KE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function Pe(t,e){t||Te()}function me(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class Kae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yae{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe("string"==typeof r.accessToken),new mk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Ln(e)}}class Qae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _k{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe("string"==typeof n.token),this.R=n.token,new _k(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Zae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Xl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Jt(0,0))}static max(){return new ke(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===fh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends fh{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const ece=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends fh{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return ece.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}function Ck(t){return new ci(t.readTime,t.key,-1)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(ke.min(),_e.empty(),-1)}static max(){return new ci(ke.max(),_e.empty(),-1)}}function QE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_e.comparator(t.documentKey,e.documentKey),0!==n?n:ze(t.largestBatchId,e.largestBatchId))}const xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yo(t){return XE.apply(this,arguments)}function XE(){return XE=m(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==xk)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),XE.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Qo(t){return"IndexedDbTransactionError"===t.name}let li=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ph(t){return null==t}function gh(t){return 0===t&&1/t==-1/0}function Mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=s??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1,Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kk(this.data.getIterator())}getIteratorFrom(e){return new kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new St(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Nk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nk("Invalid base64 string: "+s):s}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Ace=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(Pe(!!t),"string"==typeof t){let e=0;const n=Ace.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function fo(t){return"string"==typeof t?Pn.fromBase64String(t):Pn.fromUint8Array(t)}function Km(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ym(t){const e=t.mapValue.fields.__previous_value__;return Km(e)?Ym(e):e}function mh(t){const e=Jo(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}class Tce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Km(t)?4:Lk(t)?9007199254740991:10:Te()}function Is(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Jo(i.timestampValue),a=Jo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,fo(t.bytesValue).isEqual(fo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return an(i.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return an(i.integerValue)===an(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=an(i.doubleValue),a=an(s.doubleValue);return o===a?gh(o)===gh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Mk(o)!==Mk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Is(o[c],a[c])))return!1;return!0}(t,e);default:return Te()}var s}function _h(t,e){return void 0!==(t.values||[]).find(n=>Is(n,e))}function ta(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=an(s.integerValue||s.doubleValue),c=an(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ok(t.timestampValue,e.timestampValue);case 4:return Ok(mh(t),mh(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fo(s),c=fo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ze(a[l],c[l]);if(0!==u)return u}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(an(s.latitude),an(o.latitude));return 0!==a?a:ze(an(s.longitude),an(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ta(a[l],c[l]);if(u)return u}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Zo.mapValue&&o===Zo.mapValue)return 0;if(s===Zo.mapValue)return 1;if(o===Zo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=ze(c[d],u[d]);if(0!==f)return f;const h=ta(a[c[d]],l[u[d]]);if(0!==h)return h}return ze(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function Ok(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ze(t,e);const n=Jo(t),r=Jo(e),i=ze(n.seconds,r.seconds);return 0!==i?i:ze(n.nanos,r.nanos)}function tu(t){return e8(t)}function e8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fo(t.bytesValue).toBase64():"referenceValue"in t?_e.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=e8(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${e8(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function ic(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function t8(t){return!!t&&"integerValue"in t}function vh(t){return!!t&&"arrayValue"in t}function Fk(t){return!!t&&"nullValue"in t}function Vk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jm(t){return!!t&&"mapValue"in t}function yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new er(yh(this.value))}}function zk(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new Wt([n]);if(Jm(r)){const s=zk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Kr(e)}class Ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,ke.min(),ke.min(),ke.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,ke.min(),ke.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ke.min(),ke.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class na{constructor(e,n){this.position=e,this.inclusive=n}}function Uk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?_e.comparator(_e.fromName(o.referenceValue),n.key):ta(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $k{}class st extends $k{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Mce(e,n,r):"array-contains"===n?new Nce(e,r):"in"===n?new Qk(e,r):"not-in"===n?new Oce(e,r):"array-contains-any"===n?new Fce(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Rce(e,r):new kce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ta(n,this.value)):null!==n&&ea(this.value)===ea(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wt extends $k{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new wt(e,n)}matches(e){return nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nu(t){return"and"===t.op}function r8(t){return function Gk(t){for(const e of t.filters)if(e instanceof wt)return!1;return!0}(t)&&nu(t)}function i8(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(r8(t))return t.filters.map(e=>i8(e)).join(",");{const e=t.filters.map(n=>i8(n)).join(",");return`${t.op}(${e})`}}function qk(t,e){return t instanceof st?(r=t,(i=e)instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Is(r.value,i.value)):t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&qk(o,i.filters[a]),!0)}(t,e):void Te();var r,i}function Kk(t){return t instanceof st?`${(n=t).field.canonicalString()} ${n.op} ${tu(n.value)}`:t instanceof wt?function(n){return n.op.toString()+" {"+n.getFilters().map(Kk).join(" ,")+"}"}(t):"Filter";var n}class Mce extends st{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rce extends st{constructor(e,n){super(e,"in",n),this.keys=Yk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kce extends st{constructor(e,n){super(e,"not-in",n),this.keys=Yk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Nce extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vh(n)&&_h(n.arrayValue,this.value)}}class Qk extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_h(this.value.arrayValue,n)}}class Oce extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_h(this.value.arrayValue,n)}}class Fce extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}class Vce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function s8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Vce(t,e,n,r,i,s,o)}function sc(t){const e=me(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tu(r)).join(",")),e.ce=n}return e.ce}function Ch(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jk(t.startAt,e.startAt)&&jk(t.endAt,e.endAt)}function Zm(t){return _e.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ho{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function ru(t){return new ho(t)}function eN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function o8(t){return null!==t.collectionGroup}function iu(t){const e=me(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Wt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Eh(s,r))}),n.has(Wt.keyField().canonicalString())||e.le.push(new Eh(Wt.keyField(),r))}return e.le}function Pr(t){const e=me(t);return e.he||(e.he=function tN(t,e){if("F"===t.limitType)return s8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Eh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new na(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new na(t.startAt.position,t.startAt.inclusive):null;return s8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,iu(t))),e.he}function a8(t,e){const n=t.filters.concat([e]);return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t1(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xh(t,e){return Ch(Pr(t),Pr(e))&&t.limitType===e.limitType}function nN(t){return`${sc(Pr(t))}|lt:${t.limitType}`}function su(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Kk(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tu(i)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Ih(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of iu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Uk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,iu(r),i)||r.endAt&&!function(o,a,c){const l=Uk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,iu(r),i)));var r,i}function iN(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const s=Lce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Lce(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?ta(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Rk(this.inner)}size(){return this.innerSize}}const Bce=new Vt(_e.comparator);function Yr(){return Bce}const sN=new Vt(_e.comparator);function bh(...t){let e=sN;for(const n of t)e=e.insert(n.key,n);return e}function oN(t){let e=sN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return wh()}function aN(){return wh()}function wh(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hce=new Vt(_e.comparator),zce=new St(_e.comparator);function Qe(...t){let e=zce;for(const n of t)e=e.add(n);return e}const Uce=new St(ze);function cN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function lN(t){return{integerValue:""+t}}function uN(t,e){return function bk(t){return"number"==typeof t&&Number.isInteger(t)&&!gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lN(e):cN(t,e)}class n1{constructor(){this._=void 0}}function jce(t,e,n){return t instanceof ou?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Km(s)&&(s=Ym(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oc?fN(t,e):t instanceof ac?hN(t,e):function(i,s){const o=dN(i,s),a=pN(o)+pN(i.Ie);return t8(o)&&t8(i.Ie)?lN(a):cN(i.serializer,a)}(t,e)}function $ce(t,e,n){return t instanceof oc?fN(t,e):t instanceof ac?hN(t,e):n}function dN(t,e){return t instanceof au?t8(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class ou extends n1{}class oc extends n1{constructor(e){super(),this.elements=e}}function fN(t,e){const n=gN(e);for(const r of t.elements)n.some(i=>Is(i,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends n1{constructor(e){super(),this.elements=e}}function hN(t,e){let n=gN(e);for(const r of t.elements)n=n.filter(i=>!Is(i,r));return{arrayValue:{values:n}}}class au extends n1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function pN(t){return an(t.integerValue||t.doubleValue)}function gN(t){return vh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qce{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function r1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class i1{}function mN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lu(t.key,Kt.none()):new cu(t.key,t.data,Kt.none());{const n=t.data,r=er.empty();let i=new St(Wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new go(t.key,r,new Kr(i.toArray()),Kt.none())}}function Wce(t,e,n){t instanceof cu?function(i,s,o){const a=i.value.clone(),c=yN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof go?function(i,s,o){if(!r1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(vN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Th(t,e,n,r){return t instanceof cu?function(s,o,a,c){if(!r1(s.precondition,o))return a;const l=s.value.clone(),u=EN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(s,o,a,c){if(!r1(s.precondition,o))return a;const l=EN(s.fieldTransforms,c,o),u=o.data;return u.setAll(vN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,r1(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Kce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dN(r.transform,i||null);null!=s&&(null===n&&(n=er.empty()),n.set(r.field,s))}return n||null}function _N(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Xl(r,i,(s,o)=>function Gce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?Xl(r.elements,i.elements,Is):r instanceof au&&i instanceof au?Is(r.Ie,i.Ie):r instanceof ou&&i instanceof ou);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class cu extends i1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends i1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yN(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$ce(o,a,n[i]))}return r}function EN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jce(s,o,e))}return r}class lu extends i1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l8 extends i1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=mN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(n,r)=>_N(n,r))&&Xl(this.baseMutations,e.baseMutations,(n,r)=>_N(n,r))}}class d8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=Hce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new d8(e,n,r,i)}}class f8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qce{constructor(e,n){this.count=e,this.unchangedNames=n}}var In,ht;function xN(t){if(void 0===t)return gn("GRPC error has no .code"),B.UNKNOWN;switch(t){case In.OK:return B.OK;case In.CANCELLED:return B.CANCELLED;case In.UNKNOWN:return B.UNKNOWN;case In.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case In.INTERNAL:return B.INTERNAL;case In.UNAVAILABLE:return B.UNAVAILABLE;case In.UNAUTHENTICATED:return B.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case In.NOT_FOUND:return B.NOT_FOUND;case In.ALREADY_EXISTS:return B.ALREADY_EXISTS;case In.PERMISSION_DENIED:return B.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case In.ABORTED:return B.ABORTED;case In.OUT_OF_RANGE:return B.OUT_OF_RANGE;case In.UNIMPLEMENTED:return B.UNIMPLEMENTED;case In.DATA_LOSS:return B.DATA_LOSS;default:return Te()}}(ht=In||(In={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";const Xce=new Kl([4294967295,4294967295],0);function bN(t){const e=function IN(){return new TextEncoder}().encode(t),n=new qae;return n.update(e),new Uint8Array(n.digest())}function wN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kl([n,r],0),new Kl([i,s],0)]}class h8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(r<0)throw new Sh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Kl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Kl.fromNumber(r)));return 1===i.compare(Xce)&&(i=new Kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=bN(e),[r,i]=wN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new h8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=bN(e),[r,i]=wN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dh(ke.min(),i,new Vt(ze),Yr(),Qe())}}class Ph{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ph(r,n,Qe(),Qe(),Qe())}}class o1{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class AN{constructor(e,n){this.targetId=e,this.fe=n}}class TN{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SN{constructor(){this.ge=0,this.pe=PN(),this.ye=Pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Ph(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=PN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Jce{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yr(),this.Qe=DN(),this.Ke=new Vt(ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Zm(s))if(0===r){const o=new _e(s.path);this.We(n,o,Ht.newNoDocument(o,ke.min()))}else Pe(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fo(r).toUint8Array()}catch(c){if(c instanceof Nk)return ai("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new h8(o,i,s)}catch(c){return ai(c instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Zm(a.target)){const c=new _e(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Dh(e,n,this.Ke,this.qe,r);return this.qe=Yr(),this.Qe=DN(),this.Ke=new Vt(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new SN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new St(ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new SN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DN(){return new Vt(_e.comparator)}function PN(){return new Vt(_e.comparator)}const Zce={asc:"ASCENDING",desc:"DESCENDING"},ele={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tle={and:"AND",or:"OR"};class nle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p8(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function uu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rle(t,e){return uu(t,e.toTimestamp())}function mn(t){return Pe(!!t),ke.fromTimestamp(function(n){const r=Jo(n);return new Jt(r.seconds,r.nanos)}(t))}function g8(t,e){return(r=t,new ft(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function RN(t){const e=ft.fromString(t);return Pe(zN(e)),e}function Mh(t,e){return g8(t.databaseId,e.path)}function ws(t,e){const n=RN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(NN(n))}function m8(t,e){return g8(t.databaseId,e)}function Rh(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NN(t){return Pe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ON(t,e,n){return{name:Mh(t,e),fields:n.value.mapValue.fields}}function VN(t,e){return{documents:[m8(t,e.path)]}}function v8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=m8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=m8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return HN(wt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:ra((d=l).field),direction:cle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=p8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function LN(t){let e=function kN(t){const e=RN(t);return 4===e.length?ft.emptyPath():NN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=BN(d);return f instanceof wt&&r8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new Eh(du((p=f).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,ph(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new na((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new na(d.values||[],!d.before)}(n.endAt)),function Zk(t,e,n,r,i,s,o,a){return new ho(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function BN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=du(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=du(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=du(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=du(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?st.create(du((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return wt.create(n.compositeFilter.filters.map(r=>BN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function cle(t){return Zce[t]}function lle(t){return ele[t]}function ule(t){return tle[t]}function ra(t){return{fieldPath:t.canonicalString()}}function du(t){return Wt.fromServerFormat(t.fieldPath)}function HN(t){return t instanceof st?function(n){if("=="===n.op){if(Vk(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(Fk(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Vk(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(Fk(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:lle(n.op),value:n.value}}}(t):t instanceof wt?function(n){const r=n.getFilters().map(i=>HN(i));return 1===r.length?r[0]:{compositeFilter:{op:ule(n.op),filters:r}}}(t):Te()}function dle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mo{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UN{constructor(e){this.ut=e}}function y8(t){const e=LN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?t1(e,e.limit,"L"):e}class dc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(an(e.integerValue));else if("doubleValue"in e){const r=an(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),gh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(fo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Lk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),_e.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}dc.St=new dc;class yle{constructor(){this.on=new w8}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(ci.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class w8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(ft.comparator)).toArray()}}new Uint8Array(0);class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class hc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new hc(0)}static Nn(){return new hc(-1)}}class wle{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Th(r.mutation,i,Kr.empty(),Jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yr();const o=wh(),a=wh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof go)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Th(u.mutation,l,u.mutation.getFieldMask(),Jt.now())):o.set(l.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Sle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wh();let i=new Vt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Kr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=aN();u.forEach(f=>{if(!s.has(f)){const h=mN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _e.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):o8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(bs());let a=-1,c=s;return o.next(l=>R.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:oN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=bh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bh();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,c=>{const l=(d=n,f=c.child(s),new ho(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Ht.newInvalidDocument(u)))});let a=bh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Th(u.mutation,l,Kr.empty(),Jt.now()),Ih(n,l)&&(a=a.insert(c,l))}),a})}}class Dle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:mn(i.createTime)}),R.resolve();var i}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:y8(i.bundledQuery),readTime:mn(i.readTime)}),R.resolve();var i}}class Ple{constructor(){this.overlays=new Vt(_e.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=bs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=bs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class A8{constructor(){this.hr=new St(Hn.Pr),this.Ir=new St(Hn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Hn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new _e(new ft([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new ft([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||ze(e.gr,n.gr)}static Tr(e,n){return ze(e.gr,n.gr)||_e.comparator(e.key,n.key)}}class Mle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new St(Hn.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new u8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(ze);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new _e(s),0);let a=new St(ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Pe(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Hn(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Rle{constructor(e){this.Cr=e,this.docs=new Vt(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yr();const o=n.path,a=new _e(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||QE(Ck(u),r)<=0||(i.has(u.key)||Ih(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kle(this)}getSize(e){return R.resolve(this.size)}}class kle extends wle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Nle{constructor(e){this.persistence=e,this.Fr=new po(n=>sc(n),Ch),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new A8,this.targetCount=0,this.Nr=hc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new hc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}class T8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new li(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Nle(this),this.indexManager=new yle,this.remoteDocumentCache=new Rle(r=>this.referenceDelegate.Qr(r)),this.serializer=new UN(n),this.Kr=new Dle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ple,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Mle(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Ole(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Ole extends rce{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.Gr=new A8,this.zr=null}static jr(e){return new p1(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=_e.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class M8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new M8(e,n.fromCache,r,i)}}class Vle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _O{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Vle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ql()<=lt.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Ql()<=lt.DEBUG&&ie("QueryEngine","Query:",su(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ql()<=lt.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):R.resolve())}zi(e,n){if(eN(n))return R.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=t1(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,t1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return eN(n)||i.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Ql()<=lt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),su(n)),this.Xi(e,o,n,function Ek(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new Jt(n+1,0):new Jt(n,r));return new ci(i,_e.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new St(iN(e));return n.forEach((i,s)=>{Ih(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Ql()<=lt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",su(n)),this.Gi.getDocumentsMatchingQuery(e,n,ci.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Lle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Vt(ze),this.ns=new po(s=>sc(s),Ch),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function yO(t,e){return R8.apply(this,arguments)}function R8(){return R8=m(function*(t,e){const n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),R8.apply(this,arguments)}function EO(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function zle(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _u(t,e,n){return k8.apply(this,arguments)}function k8(){return k8=m(function*(t,e,n){const r=me(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Qo(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),k8.apply(this,arguments)}function _1(t,e,n){const r=me(t);let i=ke.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=me(c),f=d.ns.get(u);return void 0!==f?R.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Qe())).next(a=>(function bO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function rN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class L8{constructor(){this.activeTargetIds=function c8(){return Uce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TO{constructor(){this.eo=new L8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new L8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $le{ro(e){}shutdown(){}}class SO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let E1=null;function H8(){return null===E1?E1=268435456+Math.round(2147483648*Math.random()):E1++,"0x"+E1.toString(16)}const Gle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const gr="WebChannelConnection";class Wle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=H8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ai("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Yl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Gle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=H8();return new Promise((o,a)=>{const c=new Gae;c.setWithCredentials(!0),c.listenOnce(Uae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case WE.NO_ERROR:const u=c.getResponseJson();ie(gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case WE.TIMEOUT:ie(gr,`RPC '${e}' ${s} timed out`),a(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const d=c.getStatus();if(ie(gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(y){const D=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(D)>=0?D:B.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(B.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(gr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(gr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=H8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hae(),a=zae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new $ae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(gr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new qle({co:y=>{h?ie(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ie(gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(gr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,D,w)=>{y.listen(D,j=>{try{w(j)}catch(Q){setTimeout(()=>{throw Q},0)}})};return g(d,$m.EventType.OPEN,()=>{h||ie(gr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,$m.EventType.CLOSE,()=>{h||(h=!0,ie(gr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,$m.EventType.ERROR,y=>{h||(h=!0,ai(gr,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new se(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,$m.EventType.MESSAGE,y=>{var D;if(!h){const w=y.data[0];Pe(!!w);const Q=w.error||(null===(D=w[0])||void 0===D?void 0:D.error);if(Q){ie(gr,`RPC '${e}' stream ${i} received error:`,Q);const he=Q.status;let Re=function(Rn){const xa=In[Rn];if(void 0!==xa)return xN(xa)}(he),Ke=Q.message;void 0===Re&&(Re=B.INTERNAL,Ke="Unknown error status: "+he+" with message "+Q.message),h=!0,p.Ro(new se(Re,Ke)),d.close()}else ie(gr,`RPC '${e}' stream ${i} received:`,w),p.Vo(w)}}),g(a,jae.STAT_EVENT,y=>{y.stat===pk.PROXY?ie(gr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===pk.NOPROXY&&ie(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function C1(){return typeof document<"u"?document:null}function zh(t){return new nle(t,!0)}class z8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class PO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new z8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return m(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return m(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return m(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(m(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kle extends PO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function sle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Pe(void 0===u||"string"==typeof u),Pn.fromBase64String(u||"")):(Pe(void 0===u||u instanceof Uint8Array),Pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:xN(l.code);return new se(u,l.message||"")}(o);n=new TN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ws(t,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ke.min(),a=new er({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,o,a);n=new o1(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ws(t,r.document),s=r.readTime?mn(r.readTime):ke.min(),o=Ht.newNoDocument(i,s);n=new o1([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ws(t,r.document);n=new o1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Qce(i,s);n=new AN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?mn(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Rh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Zm(c)?{documents:VN(s,c)}:{query:v8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MN(s,o.resumeToken);const l=p8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=uu(s,o.snapshotVersion.toTimestamp());const l=p8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ale(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Rh(this.serializer),n.removeTarget=e,this.e_(n)}}class Yle extends PO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function ole(t,e){return t&&t.length>0?(Pe(void 0!==e),t.map(n=>function(i,s){let o=mn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=mn(s)),new qce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.I_(r,n)}return Pe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Rh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function kh(t,e){let n;if(e instanceof cu)n={update:ON(t,e.key,e.value)};else if(e instanceof lu)n={delete:Mh(t,e.key)};else if(e instanceof go)n={update:ON(t,e.key,e.data),updateMask:dle(e.fieldMask)};else{if(!(e instanceof l8))return Te();n={verify:Mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof au)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:rle(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Te()),n;var s}(this.serializer,r))};this.e_(n)}}class Qle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Jle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Zle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(m(function*(){var c;aa(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(u){const d=me(u);d.C_.add(4),yield vu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Uh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Jle(r,i)}}function Uh(t){return j8.apply(this,arguments)}function j8(){return j8=m(function*(t){if(aa(t))for(const e of t.v_)yield e(!0)}),j8.apply(this,arguments)}function vu(t){return $8.apply(this,arguments)}function $8(){return $8=m(function*(t){for(const e of t.v_)yield e(!1)}),$8.apply(this,arguments)}function x1(t,e){const n=me(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),W8(n)?q8(n):Eu(n).Ho()&&G8(n,e))}function jh(t,e){const n=me(t),r=Eu(n);n.D_.delete(e),r.Ho()&&MO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():aa(n)&&n.M_.set("Unknown"))}function G8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).u_(e)}function MO(t,e){t.x_.Oe(e),Eu(t).c_(e)}function q8(t){t.x_=new Jce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.M_.g_()}function W8(t){return aa(t)&&!Eu(t).jo()&&t.D_.size>0}function aa(t){return 0===me(t).C_.size}function RO(t){t.x_=void 0}function eue(t){return K8.apply(this,arguments)}function K8(){return K8=m(function*(t){t.D_.forEach((e,n)=>{G8(t,e)})}),K8.apply(this,arguments)}function tue(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=m(function*(t,e){RO(t),W8(t)?(t.M_.w_(e),q8(t)):t.M_.set("Unknown")}),Y8.apply(this,arguments)}function nue(t,e,n){return Q8.apply(this,arguments)}function Q8(){return Q8=m(function*(t,e,n){if(t.M_.set("Online"),e instanceof TN&&2===e.state&&e.cause)try{yield(r=m(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield I1(t,r)}else if(e instanceof o1?t.x_.$e(e):e instanceof AN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield EO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Pn.EMPTY_BYTE_STRING,u.snapshotVersion)),MO(s,c);const d=new mo(u.target,c,l,u.sequenceNumber);G8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield I1(t,r)}var r}),Q8.apply(this,arguments)}function I1(t,e,n){return X8.apply(this,arguments)}function X8(){return X8=m(function*(t,e,n){if(!Qo(e))throw e;t.C_.add(1),yield vu(t),t.M_.set("Offline"),n||(n=()=>EO(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Uh(t)}))}),X8.apply(this,arguments)}function kO(t,e){return e().catch(n=>I1(t,n,e))}function yu(t){return J8.apply(this,arguments)}function J8(){return J8=m(function*(t){const e=me(t),n=ca(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;rue(e);)try{const i=yield zle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,iue(e,i)}catch(i){yield I1(e,i)}NO(e)&&OO(e)}),J8.apply(this,arguments)}function rue(t){return aa(t)&&t.b_.length<10}function iue(t,e){t.b_.push(e);const n=ca(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function NO(t){return aa(t)&&!ca(t).jo()&&t.b_.length>0}function OO(t){ca(t).start()}function sue(t){return Z8.apply(this,arguments)}function Z8(){return Z8=m(function*(t){ca(t).E_()}),Z8.apply(this,arguments)}function oue(t){return eC.apply(this,arguments)}function eC(){return eC=m(function*(t){const e=ca(t);for(const n of t.b_)e.P_(n.mutations)}),eC.apply(this,arguments)}function aue(t,e,n){return tC.apply(this,arguments)}function tC(){return tC=m(function*(t,e,n){const r=t.b_.shift(),i=d8.from(r,e,n);yield kO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yu(t)}),tC.apply(this,arguments)}function cue(t,e){return nC.apply(this,arguments)}function nC(){return nC=m(function*(t,e){var n;e&&ca(t).h_&&(yield(n=m(function*(i,s){if(function CN(t){switch(t){default:return Te();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();ca(i).Yo(),yield kO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield yu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),NO(t)&&OO(t)}),nC.apply(this,arguments)}function FO(t,e){return rC.apply(this,arguments)}function rC(){return rC=m(function*(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.C_.add(3),yield vu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Uh(n)}),rC.apply(this,arguments)}function sC(){return sC=m(function*(t,e){const n=me(t);e?(n.C_.delete(2),yield Uh(n)):e||(n.C_.add(2),yield vu(n),n.M_.set("Unknown"))}),sC.apply(this,arguments)}function Eu(t){return t.O_||(t.O_=function(n,r,i){const s=me(n);return s.A_(),new Kle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:eue.bind(null,t),Io:tue.bind(null,t),a_:nue.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.O_.Yo(),W8(t)?q8(t):t.M_.set("Unknown")):(yield t.O_.stop(),RO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ca(t){return t.N_||(t.N_=function(n,r,i){const s=me(n);return s.A_(),new Yle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:sue.bind(null,t),Io:cue.bind(null,t),T_:oue.bind(null,t),I_:aue.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.N_.Yo(),yield yu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class oC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new oC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Qo(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class VO{constructor(){this.B_=new Vt(_e.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Iu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Iu(e,n,xu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lue{constructor(){this.k_=void 0,this.listeners=[]}}class uue{constructor(){this.queries=new po(e=>nN(e),xh),this.onlineState="Unknown",this.q_=new Set}}function cC(){return cC=m(function*(t,e){const n=me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Cu(o,`Initialization of query '${su(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&dC(n)}),cC.apply(this,arguments)}function uC(){return uC=m(function*(t,e){const n=me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),uC.apply(this,arguments)}function due(t,e){const n=me(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&dC(n)}function fue(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function dC(t){t.q_.forEach(e=>{e.next()})}class fC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class HO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class UO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=iN(e),this.aa=new xu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new VO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Ih(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Iu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new VO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new zO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new HO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Iu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class gue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mue{constructor(e){this.key=e,this.Ra=!1}}class _ue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new po(a=>nN(a),xh),this.fa=new Map,this.ga=new Set,this.pa=new Vt(_e.comparator),this.ya=new Map,this.wa=new A8,this.Sa={},this.ba=new Map,this.Da=hc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function vue(t,e){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t,e){const n=function FC(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cue.bind(null,e),e.Va.a_=due.bind(null,e.eventManager),e.Va.Fa=fue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function mu(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new mo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Pr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function pC(t,e,n,r,i){return gC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&x1(n.remoteStore,o)}return i}),hC.apply(this,arguments)}function gC(){return gC=m(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=m(function*(y,D,w,j){let Q=D.view.ca(w);Q.Zi&&(Q=yield _1(y.localStore,D.query,!1).then(({documents:Ke})=>D.view.ca(Ke,Q)));const he=j&&j.targetChanges.get(D.targetId),Re=D.view.applyChanges(Q,y.isPrimaryClient,he);return wC(y,D.targetId,Re.Ta),Re.snapshot}),function g(y,D,w,j){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield _1(t.localStore,e,!0),o=new UO(e,s.ls),a=o.ca(s.documents),c=Ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);wC(t,n,l.Ta);const u=new gue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),gC.apply(this,arguments)}function yue(t,e){return mC.apply(this,arguments)}function mC(){return mC=m(function*(t,e){const n=me(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!xh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield _u(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jh(n.remoteStore,r.targetId),bu(n,r.targetId)}).catch(Yo))):(bu(n,r.targetId),yield _u(n.localStore,r.targetId,!0))}),mC.apply(this,arguments)}function _C(){return _C=m(function*(t,e,n){const r=function VC(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=me(o),l=Jt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Yr(),g=Qe();return c.ss.getEntries(h,u).next(y=>{p=y,p.forEach((D,w)=>{w.isValidDocument()||(g=g.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const D=[];for(const w of a){const j=Kce(w,d.get(w.key).overlayedDocument);null!=j&&D.push(new go(w.key,j,zk(j.value.mapValue),Kt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,D,a)}).next(y=>{f=y;const D=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,y.batchId,D)})}).then(()=>({batchId:f.batchId,changes:oN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Vt(ze)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield _o(r,i.changes),yield yu(r.remoteStore)}catch(i){const s=Cu(i,"Failed to persist write");n.reject(s)}}),_C.apply(this,arguments)}function jO(t,e){return vC.apply(this,arguments)}function vC(){return vC=m(function*(t,e){const n=me(t);try{const r=yield function Hle(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,y,D;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),y=h,D=u,(0===(g=f).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Yr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function CO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),yield _o(n,r,e)}catch(r){yield Yo(r)}}),vC.apply(this,arguments)}function $O(t,e,n){const r=me(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=me(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&dC(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cue(t,e,n){return yC.apply(this,arguments)}function yC(){return yC=m(function*(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Vt(_e.comparator);o=o.insert(s,Ht.newNoDocument(s,ke.min()));const a=Qe().add(s),c=new Dh(ke.min(),new Map,new Vt(ze),o,a);yield jO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),AC(r)}else yield _u(r.localStore,e,!1).then(()=>bu(r,e,n)).catch(Yo)}),yC.apply(this,arguments)}function xue(t,e){return EC.apply(this,arguments)}function EC(){return EC=m(function*(t,e){const n=me(t),r=e.batch.batchId;try{const i=yield function Ble(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=R.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const y=l.docVersions.get(p);Pe(null!==y),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);bC(n,r,null),IC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _o(n,i)}catch(i){yield Yo(i)}}),EC.apply(this,arguments)}function Iue(t,e,n){return CC.apply(this,arguments)}function CC(){return CC=m(function*(t,e,n){const r=me(t);try{const i=yield function(o,a){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Pe(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);bC(r,e,n),IC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _o(r,i)}catch(i){yield Yo(i)}}),CC.apply(this,arguments)}function IC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function bC(t,e,n){const r=me(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function bu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||GO(t,r)})}function GO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(jh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),AC(t))}function wC(t,e,n){for(const r of n)r instanceof HO?(t.wa.addReference(r.key,e),wue(t,r)):r instanceof zO?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||GO(t,r.key)):Te()}function wue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),AC(t))}function AC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(ft.fromString(e)),r=t.Da.next();t.ya.set(r,new mue(n)),t.pa=t.pa.insert(n,r),x1(t.remoteStore,new mo(Pr(ru(n.path)),r,"TargetPurposeLimboResolution",li._e))}}function _o(t,e,n){return TC.apply(this,arguments)}function TC(){return TC=m(function*(t,e,n){const r=me(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=M8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=m(function*(l,u){const d=me(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(u,h=>R.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>R.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Qo(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,y)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),TC.apply(this,arguments)}function Aue(t,e){return SC.apply(this,arguments)}function SC(){return SC=m(function*(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield yO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _o(n,r._s)}var s}),SC.apply(this,arguments)}function Tue(t,e){const n=me(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class b1{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=zh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function vO(t,e,n,r){return new Lle(t,e,n,r)}(this.persistence,new _O,e.initialUser,this.serializer)}createPersistence(e){return new T8(p1.jr,this.serializer)}createSharedClientState(e){return new TO}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$O(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Aue.bind(null,r.syncEngine),yield function iC(t,e){return sC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uue}createDatastore(e){const n=zh(e.databaseInfo.databaseId),r=new Wle(e.databaseInfo);return new Qle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>$O(this.syncEngine,n,0),a=SO.D()?new SO:new $le,new Zle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new _ue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(r){const i=me(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield vu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class w1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=vk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Cu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function A1(t,e){return LC.apply(this,arguments)}function LC(){return LC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield yO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),LC.apply(this,arguments)}function BC(t,e){return HC.apply(this,arguments)}function HC(){return HC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function zC(t){return UC.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>FO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FO(e.remoteStore,s)),t._onlineComponents=e}),HC.apply(this,arguments)}function UC(){return UC=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield A1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function XO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ai("Error using user provided cache. Falling back to memory cache: "+n),yield A1(t,new b1)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield A1(t,new b1);return t._offlineComponents}),UC.apply(this,arguments)}function T1(t){return jC.apply(this,arguments)}function jC(){return jC=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield BC(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield BC(t,new wu))),t._onlineComponents}),jC.apply(this,arguments)}function Tu(t){return GC.apply(this,arguments)}function GC(){return GC=m(function*(t){const e=yield T1(t),n=e.eventManager;return n.onListen=vue.bind(null,e.syncEngine),n.onUnlisten=yue.bind(null,e.syncEngine),n}),GC.apply(this,arguments)}function rF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const iF=new Map;function qC(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sF(t){if(!_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oF(t){if(_e.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S1(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S1(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xue(t,e,n,r){if(!0===e&&!0===r)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Wae;switch(r.type){case"firstParty":return new Xae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),iF.delete(n),r.terminate())}(this),Promise.resolve()}}class tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class As extends tr{constructor(e,n,r){super(e,n,ru(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Zue(t,e,...n){if(t=rn(t),qC("collection","path",e),t instanceof $h){const r=ft.fromString(e,...n);return oF(r),new As(t,null,r)}{if(!(t instanceof _n||t instanceof As))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return oF(r),new As(t.firestore,null,r)}}function lF(t,e,...n){if(t=rn(t),1===arguments.length&&(e=vk.newId()),qC("doc","path",e),t instanceof $h){const r=ft.fromString(e,...n);return sF(r),new _n(t,null,new _e(r))}{if(!(t instanceof _n||t instanceof As))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return sF(r),new _n(t.firestore,t instanceof As?t.converter:null,new _e(r))}}class ede{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new z8(this,"async_queue_retry"),this.iu=()=>{const n=C1();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=C1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=C1();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Dn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return m(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Qo(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=oC.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return m(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function WC(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Lt extends $h{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ede,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dF(this),this._firestoreClient.terminate()}}function nde(t,e){const r="string"==typeof t?t:e||"(default)",i=_s("object"==typeof t?t:Fl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=_M("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Jue(t,e,n,r={}){var i;const s=(t=ot(t,$h))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ln.MOCK_USER;else{a=function Yte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gg(JSON.stringify({alg:"none",type:"JWT"})),Gg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ln(l)}t._authCredentials=new Kae(new mk(a,c))}}(i,...s)}return i}function vn(t){return t._firestoreClient||dF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Tce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,rF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Hue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Pn.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gc(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Su{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class KC{constructor(e){this._methodName=e}}class YC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const ide=/^__.*__$/;class sde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class pF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class D1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new D1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return M1(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(gF(this.Iu)&&ide.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ode{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zh(e)}pu(e,n,r,i=!1){return new D1({Iu:e,methodName:n,gu:r,path:Wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=zh(t._databaseId);return new ode(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QC(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);JC("Data must be an object, but it was:",o,r);const a=EF(r,o);let c,l;if(s.merge)c=new Kr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Wh(e,d,n);if(!o.contains(f))throw new se(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xF(u,f)||u.push(f)}c=new Kr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new sde(new er(a),c,l)}class qh extends KC{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function mc(t,e){if(CF(t=rn(t)))return JC("Unsupported field value:",e,t),EF(t,e);if(t instanceof KC)return function(r,i){if(!gF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=mc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=rn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return uN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Jt.fromDate(r);return{timestampValue:uu(i.serializer,s)}}if(r instanceof Jt){const s=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uu(i.serializer,s)}}if(r instanceof YC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gc)return{bytesValue:MN(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${S1(r)}`)}(t,e)}function EF(t,e){const n={};return Rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const s=mc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function CF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof YC||t instanceof gc||t instanceof _n||t instanceof KC)}function JC(t,e,n){if(!CF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=S1(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Wh(t,e,n){if((e=rn(e))instanceof Su)return e._internalPath;if("string"==typeof e)return P1(t,e);throw M1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ude=new RegExp("[~\\*/\\[\\]]");function P1(t,e,n){if(e.search(ude)>=0)throw M1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Su(...e.split("."))._internalPath}catch{throw M1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function M1(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(B.INVALID_ARGUMENT,a+t+c)}function xF(t,e){return t.some(n=>n.isEqual(e))}class ZC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class dde extends ZC{data(){return super.data()}}function R1(t,e){return"string"==typeof e?P1(t,e):e instanceof Su?e._internalPath:e._delegate._internalPath}class ex{}class bF extends ex{}function fde(t,e,...n){let r=[];e instanceof ex&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Pu).length,a=s.filter(c=>c instanceof Kh).length;if(o>1||o>0&&a>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kh extends bF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kh(e,n,r)}_apply(e){const n=this._parse(e);return SF(e._query,n),new tr(e.firestore,e.converter,a8(e._query,n))}_parse(e){const n=Du(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){TF(d,u);const h=[];for(const p of d)h.push(AF(c,s,p));f={arrayValue:{values:h}}}else f=AF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||TF(d,u),f=function yF(t,e,n,r=!1){return mc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return st.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function hde(t,e,n){const r=e,i=R1("where",t);return Kh._create(i,r,n)}class Pu extends ex{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:wt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)SF(o,c),o=a8(o,c)}(e._query,n),new tr(e.firestore,e.converter,a8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class k1 extends bF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new k1(e,n,r)}_apply(e){return new tr(e.firestore,e.converter,t1(e._query,this._limit,this._limitType))}}function pde(t){return function aF(t,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),k1._create("limit",t,"F")}function AF(t,e,n){if("string"==typeof(n=rn(n))){if(""===n)throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o8(e)&&-1!==n.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!_e.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ic(t,new _e(r))}if(n instanceof _n)return ic(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${S1(n)}.`)}function TF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gde{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new YC(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ym(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Pe(zN(r));const i=new rc(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends ZC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new F1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class F1 extends Mu{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _c(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new F1(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new F1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _c(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new F1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _c(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:_de(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _de(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class la extends gde{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function vde(t,e,n){t=ot(t,_n);const r=ot(t.firestore,Lt),i=function nx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Yh(r,[QC(Du(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Kt.none())])}function yde(t,e,n,...r){t=ot(t,_n);const i=ot(t.firestore,Lt),s=Du(i);let o;return o="string"==typeof(e=rn(e))||e instanceof Su?function vF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Wh(e,r,n)],c=[i];if(s.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wh(e,s[f])),c.push(s[f+1]);const l=[],u=er.empty();for(let f=a.length-1;f>=0;--f)if(!xF(l,a[f])){const h=a[f];let p=c[f];p=rn(p);const g=o.Ru(h);if(p instanceof qh)l.push(h);else{const y=mc(p,g);null!=y&&(l.push(h),u.set(h,y))}}const d=new Kr(l);return new pF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function _F(t,e,n,r){const i=t.pu(1,e,n);JC("Data must be an object, but it was:",i,r);const s=[],o=er.empty();Xo(r,(c,l)=>{const u=P1(e,c,n);l=rn(l);const d=i.Ru(u);if(l instanceof qh)s.push(u);else{const f=mc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Kr(s);return new pF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Yh(i,[o.toMutation(t._key,Kt.exists(!0))])}function Yh(t,e){return function(r,i){const s=new Dn;return r.asyncQueue.enqueueAndForget(m(function*(){return function Eue(t,e,n){return _C.apply(this,arguments)}(yield function $C(t){return T1(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(vn(t),e)}!function(e,n=!0){Yl=Ol,wi(new ii("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lt(new Yae(r.getProvider("auth-internal")),new Jae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),sn(gk,"4.3.2",e),sn(gk,"4.3.2","esm2017")}();var B1=function(){return B1=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},B1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var kde={includeMetadataChanges:!1};function ox(t,e){return void 0===e&&(e=kde),new fe(function(n){var r=function Ede(t,...e){var n,r,i;t=rn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof _n)l=ot(t.firestore,Lt),u=ru(t._key.path),c={next:d=>{e[o]&&e[o](function rx(t,e,n){const r=n.docs.get(e._key),i=new la(t);return new Mu(t,i,e._key,r,new _c(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ot(t,tr);l=ot(d.firestore,Lt),u=d._query;const f=new la(l);c={next:h=>{e[o]&&e[o](new Ru(l,f,d,h))},error:e[o+1],complete:e[o+2]},function IF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const y=new w1(g),D=new fC(h,y,p);return f.asyncQueue.enqueueAndForget(m(function*(){return function aC(t,e){return cC.apply(this,arguments)}(yield Tu(f),D)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(m(function*(){return function lC(t,e){return uC.apply(this,arguments)}(yield Tu(f),D)}))}}(vn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ode(t,e){return void 0===e&&(e={}),function Nde(t){return ox(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return kF(n,e)}))}function kF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?B1(B1({},r),((n={})[e.idField]=t.id,n)):r}function zde(t,e){return void 0===e&&(e={}),function Hde(t){return ox(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return kF(r,e)})}))}class qi{constructor(e){return e}}const VF="firestore",lx=new Ce("angularfire2.firestore-instances");function Gde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qi(r)}}const qde={provide:class jde{constructor(){return Zg(VF)}},deps:[[new en,lx]]},Wde={provide:qi,useFactory:function $de(t,e){const n=Jg(VF,t,e);return n&&new qi(n)},deps:[[new en,lx],qa]};let Kde=(()=>{var t;class e{constructor(){sn("angularfire",zo.full,"fst")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Tt({type:t})),vt(e,"\u0275inj",Ct({providers:[Wde,qde]})),e})();function vc(t,...e){return{ngModule:Kde,providers:[{provide:lx,useFactory:Gde(t),multi:!0,deps:[pt,Tn,Df,Pf,[new en,XR],[new en,Q4],...e]}]}}const H1=En(zde,!0),Qh=En(Ode,!0),Wi=En(Zue,!0),Mr=En(lF,!0),yc=En(nde,!0),LF=En(pde,!0),z1=En(fde,!0),ku=En(vde,!0),U1=En(yde,!0),ux=En(hde,!0);class j1{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Nu,dx=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(dx||{}),et=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.POST_INSTALL_FETCH_METADATA="post-install-fetch-metadata",t.JS_VERSION="js-version",t}(et||{});class BF{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Rr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new BF(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(BF,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(et.REMOTE_METADATA)}localMetadata(){return this.get(et.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Nu=Rr).\u0275fac=function(e){return new(e||Nu)},Nu.\u0275prov=Ee({token:Nu,factory:Nu.\u0275fac,providedIn:"platform"}),un([di(2,en())],Rr.prototype,"cache",null),un([di(1,en())],Rr.prototype,"get",null);var Ou,fx=V(874);class Ts{constructor(){this.localStorageService=G(Rr),this._authState=new xt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(et.USER))return!1;let n=this.localStorageService.get(et.USER).session.timeToken,r=this.localStorageService.get(et.USER).session.refreshToken,i=Date.parse(fx.AES.decrypt(n,r).toString(fx.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new j1(s,this.localStorageService.get(et.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(et.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=JR(e).subscribe(r=>{if(null!=r){let i=H1(z1(Wi(n,"valid-users"),ux("email","==",r.email),LF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:dx.USER},s[0]);o.enabled?(this.localStorageService.cache(et.USER,{session:{timeToken:fx.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new j1(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(et.USER),this._authState.emit(new j1(!1,null))})}}signInWithEmailAndPassword(e,n,r){Loe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Boe(e,new Oie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(et.USER),this._refreshInProgress=!0,this._authState.emit(new j1(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Ss(t,e){return Fe((n,r)=>{let i=0;n.subscribe(nt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function hx(...t){return function Qde(){return e0(1)}()($n(t,fd(t)))}function HF(...t){const e=fd(t);return Fe((n,r)=>{(e?hx(t,n,e):hx(t,n)).subscribe(r)})}(Ou=Ts).\u0275fac=function(e){return new(e||Ou)},Ou.\u0275prov=Ee({token:Ou,factory:Ou.\u0275fac,providedIn:"platform"}),un([di(0,en())],Ts.prototype,"checkLoginValidity",null);const Jde=(t,e)=>e.some(n=>t instanceof n);let zF,UF;const jF=new WeakMap,px=new WeakMap,$F=new WeakMap,gx=new WeakMap,mx=new WeakMap;let _x={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return px.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$F.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function sfe(t){return"function"==typeof t?function ife(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function efe(){return UF||(UF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vx(this),e),ua(jF.get(this))}:function(...e){return ua(t.apply(vx(this),e))}:function(e,...n){const r=t.call(vx(this),e,...n);return $F.set(r,e.sort?e.sort():[e]),ua(r)}}(t):(t instanceof IDBTransaction&&function nfe(t){if(px.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});px.set(t,e)}(t),Jde(t,function Zde(){return zF||(zF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_x):t)}function ua(t){if(t instanceof IDBRequest)return function tfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ua(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jF.set(n,t)}).catch(()=>{}),mx.set(e,t),e}(t);if(gx.has(t))return gx.get(t);const e=sfe(t);return e!==t&&(gx.set(t,e),mx.set(e,t)),e}const vx=t=>mx.get(t),afe=["get","getKey","getAll","getAllKeys","count"],cfe=["put","add","delete","clear"],yx=new Map;function GF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yx.get(e))return yx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!afe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return yx.set(e,s),s}!function rfe(t){_x=t(_x)}(t=>({...t,get:(e,n,r)=>GF(e,n)||t.get(e,n,r),has:(e,n)=>!!GF(e,n)||t.has(e,n)}));const qF="@firebase/installations",Ex="0.6.4",WF=1e4,KF=`w:${Ex}`,YF="FIS_v2",lfe="https://firebaseinstallations.googleapis.com/v1",ufe=36e5,vo=new Bo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function QF(t){return t instanceof Ui&&t.code.includes("request-failed")}function Cx({projectId:t}){return`${lfe}/projects/${t}/installations`}function XF(t){return{token:t.token,requestStatus:2,expiresIn:pfe(t.expiresIn),creationTime:Date.now()}}function xx(t,e){return Ix.apply(this,arguments)}function Ix(){return Ix=m(function*(t,e){const r=(yield e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Ix.apply(this,arguments)}function JF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bx(t){return wx.apply(this,arguments)}function wx(){return wx=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),wx.apply(this,arguments)}function pfe(t){return Number(t.replace("s","000"))}function Ax(){return Ax=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Cx(t),i=JF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:YF,appId:t.appId,sdkVersion:KF})},c=yield bx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:XF(l.authToken)}}throw yield xx("Create Installation",c)}),Ax.apply(this,arguments)}function eV(t){return new Promise(e=>{setTimeout(e,t)})}const vfe=/^[cdef][\w-]{21}$/,Tx="";function yfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Efe(t){return function _fe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return vfe.test(n)?n:Tx}catch{return Tx}}function Fu(t){return`${t.appName}!${t.appId}`}const Vu=new Map;function tV(t,e){const n=Fu(t);nV(n,e),function Ife(t,e){const n=function rV(){return!Ec&&"BroadcastChannel"in self&&(Ec=new BroadcastChannel("[Firebase] FID Change"),Ec.onmessage=t=>{nV(t.data.key,t.data.fid)}),Ec}();n&&n.postMessage({key:t,fid:e}),function iV(){0===Vu.size&&Ec&&(Ec.close(),Ec=null)}()}(n,e)}function nV(t,e){const n=Vu.get(t);if(n)for(const r of n)r(e)}let Ec=null;const bfe="firebase-installations-database",wfe=1,Cc="firebase-installations-store";let Sx=null;function Dx(){return Sx||(Sx=function ofe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ua(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ua(o.result),c.oldVersion,c.newVersion,ua(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(bfe,wfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cc)}})),Sx}function $1(t,e){return Px.apply(this,arguments)}function Px(){return Px=m(function*(t,e){const n=Fu(t),i=(yield Dx()).transaction(Cc,"readwrite"),s=i.objectStore(Cc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&tV(t,e.fid),e}),Px.apply(this,arguments)}function Mx(t){return Rx.apply(this,arguments)}function Rx(){return Rx=m(function*(t){const e=Fu(t),r=(yield Dx()).transaction(Cc,"readwrite");yield r.objectStore(Cc).delete(e),yield r.done}),Rx.apply(this,arguments)}function Xh(t,e){return kx.apply(this,arguments)}function kx(){return kx=m(function*(t,e){const n=Fu(t),i=(yield Dx()).transaction(Cc,"readwrite"),s=i.objectStore(Cc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&tV(t,a.fid),a}),kx.apply(this,arguments)}function Nx(t){return Ox.apply(this,arguments)}function Ox(){return Ox=m(function*(t){let e;const n=yield Xh(t.appConfig,r=>{const i=function Afe(t){return oV(t||{fid:yfe(),registrationStatus:0})}(r),s=function Tfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(vo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Sfe(t,e){return Fx.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Dfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Tx?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Ox.apply(this,arguments)}function Fx(){return Fx=m(function*(t,e){try{const n=yield function mfe(t,e){return Ax.apply(this,arguments)}(t,e);return $1(t.appConfig,n)}catch(n){throw QF(n)&&409===n.customData.serverCode?yield Mx(t.appConfig):yield $1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Fx.apply(this,arguments)}function Dfe(t){return Vx.apply(this,arguments)}function Vx(){return Vx=m(function*(t){let e=yield sV(t.appConfig);for(;1===e.registrationStatus;)yield eV(100),e=yield sV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Nx(t);return r||n}return e}),Vx.apply(this,arguments)}function sV(t){return Xh(t,e=>{if(!e)throw vo.create("installation-not-found");return oV(e)})}function oV(t){return function Pfe(t){return 1===t.registrationStatus&&t.registrationTime+WF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Lx(){return Lx=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Rfe(t,{fid:e}){return`${Cx(t)}/${e}/authTokens:generate`}(t,n),i=function ZF(t,{refreshToken:e}){const n=JF(t);return n.append("Authorization",function gfe(t){return`${YF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:KF,appId:t.appId}})},c=yield bx(()=>fetch(r,a));if(c.ok)return XF(yield c.json());throw yield xx("Generate Auth Token",c)}),Lx.apply(this,arguments)}function Bx(t){return Hx.apply(this,arguments)}function Hx(){return Hx=m(function*(t,e=!1){let n;const r=yield Xh(t.appConfig,s=>{if(!cV(s))throw vo.create("not-registered");const o=s.authToken;if(!e&&function Ofe(t){return 2===t.requestStatus&&!function Ffe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ufe}(t)}(o))return s;if(1===o.requestStatus)return n=function kfe(t,e){return zx.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");const a=function Vfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Nfe(t,e){return Ux.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Hx.apply(this,arguments)}function zx(){return zx=m(function*(t,e){let n=yield aV(t.appConfig);for(;1===n.authToken.requestStatus;)yield eV(100),n=yield aV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Bx(t,e):r}),zx.apply(this,arguments)}function aV(t){return Xh(t,e=>{if(!cV(e))throw vo.create("not-registered");return function Lfe(t){return 1===t.requestStatus&&t.requestTime+WF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Ux(){return Ux=m(function*(t,e){try{const n=yield function Mfe(t,e){return Lx.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield $1(t.appConfig,r),n}catch(n){if(!QF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield $1(t.appConfig,r)}else yield Mx(t.appConfig);throw n}}),Ux.apply(this,arguments)}function cV(t){return void 0!==t&&2===t.registrationStatus}function jx(){return jx=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Nx(e);return r?r.catch(console.error):Bx(e).catch(console.error),n.fid}),jx.apply(this,arguments)}function $x(){return $x=m(function*(t,e=!1){const n=t;return yield function zfe(t){return Gx.apply(this,arguments)}(n),(yield Bx(n,e)).token}),$x.apply(this,arguments)}function Gx(){return Gx=m(function*(t){const{registrationPromise:e}=yield Nx(t);e&&(yield e)}),Gx.apply(this,arguments)}function Kx(t){return vo.create("missing-app-config-values",{valueName:t})}const lV="installations",qfe=t=>{const e=t.getProvider("app").getImmediate(),n=function $fe(t){if(!t||!t.options)throw Kx("App Configuration");if(!t.name)throw Kx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:_s(e,"heartbeat"),_delete:()=>Promise.resolve()}},Wfe=t=>{const n=_s(t.getProvider("app").getImmediate(),lV).getImmediate();return{getId:()=>function Bfe(t){return jx.apply(this,arguments)}(n),getToken:i=>function Hfe(t){return $x.apply(this,arguments)}(n,i)}};(function Kfe(){wi(new ii(lV,qfe,"PUBLIC")),wi(new ii("installations-internal",Wfe,"PRIVATE"))})(),sn(qF,Ex),sn(qF,Ex,"esm2017");const G1="analytics",Yfe="firebase_id",Qfe="origin",Xfe=6e4,Jfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yx="https://www.googletagmanager.com/gtag/js",zn=new Af("@firebase/analytics"),kr=new Bo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ehe(t){if(!t.startsWith(Yx)){const e=kr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function uV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Qx(){return Qx=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield uV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zn.error(a)}t("config",i,s)}),Qx.apply(this,arguments)}function Xx(){return Xx=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield uV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){zn.error(s)}}),Xx.apply(this,arguments)}const lhe=30,dV=new class dhe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Jx(){return Jx=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fhe(r)},s=Jfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),Jx.apply(this,arguments)}function Zx(){return Zx=m(function*(t,e=dV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _he;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Xfe),fV({appId:r,apiKey:i,measurementId:s},o,a,e)}),Zx.apply(this,arguments)}function fV(t,e,n){return eI.apply(this,arguments)}function eI(){return eI=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dV){var s;const{appId:o,measurementId:a}=t;try{yield function ghe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function hhe(t){return Jx.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function mhe(t){if(!(t instanceof Ui&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?V4(n,i.intervalMillis,lhe):V4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),zn.debug(`Calling attemptFetch again in ${u} millis`),fV(t,d,r,i)}}),eI.apply(this,arguments)}class _he{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let tI,cI;function nI(){return nI=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),nI.apply(this,arguments)}function iI(){return iI=m(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),iI.apply(this,arguments)}function lI(){return lI=m(function*(){if(!Cf())return zn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield N4()}catch(t){return zn.warn(kr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),lI.apply(this,arguments)}function uI(){return uI=m(function*(t,e,n,r,i,s,o){var a;const c=function phe(t){return Zx.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>zn.error(h)),e.push(c);const l=function bhe(){return lI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function che(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yx)&&n.src.includes(t))return n;return null})(s)||function nhe(t,e){const n=function the(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ehe}),r=document.createElement("script"),i=`${Yx}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),cI&&(i("consent","default",cI),function hV(t){cI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Qfe]="firebase",f.update=!0,null!=d&&(f[Yfe]=d),i("config",u.measurementId,f),tI&&(i("set",tI),function pV(t){tI=t}(void 0)),u.measurementId}),uI.apply(this,arguments)}class Ahe{constructor(e){this.app=e}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},gV=[];const mV={};let vV,Ps,q1="dataLayer",dI=!1;function She(t,e,n){!function The(){const t=[];if(k4()&&t.push("This is a browser extension environment."),EM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}();const r=t.options.appId;if(!r)throw kr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw kr.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[r])throw kr.create("already-exists",{id:r});if(!dI){!function rhe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(q1);const{wrappedGtag:s,gtagCore:o}=function ahe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ohe(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function she(t,e,n,r,i){return Xx.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function ihe(t,e,n,r,i,s){return Qx.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){zn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ds,gV,mV,q1,"gtag");Ps=s,vV=o,dI=!0}return Ds[r]=function whe(t,e,n,r,i,s,o){return uI.apply(this,arguments)}(t,gV,mV,e,vV,q1,n),new Ahe(t)}function Dhe(t=Fl()){const e=_s(t=rn(t),G1);return e.isInitialized()?e.getImmediate():function Phe(t,e={}){const n=_s(t,G1);if(n.isInitialized()){const i=n.getImmediate();if(xf(e,n.getOptions()))return i;throw kr.create("already-initialized")}return n.initialize({options:e})}(t)}function Mhe(){return fI.apply(this,arguments)}function fI(){return(fI=m(function*(){if(k4()||!EM()||!Cf())return!1;try{return yield N4()}catch{return!1}})).apply(this,arguments)}function Rhe(t,e,n){t=rn(t),function Ehe(t,e,n,r){return iI.apply(this,arguments)}(Ps,Ds[t.app.options.appId],e,n).catch(r=>zn.error(r))}function yV(t,e,n,r){t=rn(t),function vhe(t,e,n,r,i){return nI.apply(this,arguments)}(Ps,Ds[t.app.options.appId],e,n,r).catch(i=>zn.error(i))}const EV="@firebase/analytics";!function khe(){wi(new ii(G1,(e,{options:n})=>She(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wi(new ii("analytics-internal",function t(e){try{const n=e.getProvider(G1).getImmediate();return{logEvent:(r,i,s)=>yV(n,r,i,s)}}catch(n){throw kr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),sn(EV,"0.10.0"),sn(EV,"0.10.0","esm2017")}();const Jh=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Ohe}=Array,{getPrototypeOf:Fhe,prototype:Vhe,keys:Lhe}=Object;function xV(t){if(1===t.length){const e=t[0];if(Ohe(e))return{args:e,keys:null};if(function Bhe(t){return t&&"object"==typeof t&&Fhe(t)===Vhe}(e)){const n=Lhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Hhe}=Array;function IV(t){return Ye(e=>function zhe(t,e){return Hhe(e)?t(...e):t(e)}(t,e))}function bV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function wV(...t){const e=fd(t),n=Ew(t),{args:r,keys:i}=xV(t);if(0===r.length)return $n([],e);const s=new fe(function Uhe(t,e,n=ve){return r=>{AV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)AV(e,()=>{const l=$n(t[c],e);let u=!1;l.subscribe(nt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>bV(i,o):ve));return n?s.pipe(IV(n)):s}function AV(t,e,n){t?Bs(n,t,e):e()}function TV(t){return new fe(e=>{sr(t()).subscribe(e)})}function Zh(t,e){const n=P(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function pI(){return Fe((t,e)=>{let n=null;t._refCount++;const r=nt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class SV extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(nt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return pI()(this)}}function Lu(t){return t<=0?()=>Zi:Fe((e,n)=>{let r=0;e.subscribe(nt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function W1(t){return Fe((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DV(t=jhe){return Fe((e,n)=>{let r=!1;e.subscribe(nt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jhe(){return new Jh}function xc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,s)=>t(i,s,r)):ve,Lu(1),n?W1(e):DV(()=>new Jh))}function ep(t,e){return P(e)?jn(t,e,1):jn(t,1)}function Ic(t){return Fe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(nt(n,void 0,void 0,o=>{s=sr(t(o,Ic(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function gI(t){return t<=0?()=>Zi:Fe((e,n)=>{let r=[];e.subscribe(nt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function tp(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",np=Symbol("RouteTitle");class Yhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Bu(t){return new Yhe(t)}function Qhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ms(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!PV(t[i],e[i]))return!1;return!0}function PV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function MV(t){return t.length>0?t[t.length-1]:null}function da(t){return function Nhe(t){return!!t&&(t instanceof fe||P(t.lift)&&P(t.subscribe))}(t)?t:Zd(t)?$n(Promise.resolve(t)):Ve(t)}const Jhe={exact:function NV(t,e,n){if(!bc(t.segments,e.segments)||!K1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!NV(t.children[r],e.children[r],n))return!1;return!0},subset:OV},RV={exact:function Zhe(t,e){return Ms(t,e)},subset:function epe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PV(t[n],e[n]))},ignored:()=>!0};function kV(t,e,n){return Jhe[n.paths](t.root,e.root,n.matrixParams)&&RV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function OV(t,e,n){return FV(t,e,e.segments,n)}function FV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bc(i,n)||e.hasChildren()||!K1(i,n,r))}if(t.segments.length===n.length){if(!bc(t.segments,n)||!K1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!OV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(bc(t.segments,i)&&K1(t.segments,i,r)&&t.children[Xe])&&FV(t.children[Xe],e,s,r)}}function K1(t,e,n){return e.every((r,i)=>RV[n](t[i].parameters,r.parameters))}class Hu{constructor(e=new At([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return rpe.serialize(this)}}class At{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Y1(this)}}class rp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Bu(this.parameters)),this._parameterMap}toString(){return BV(this)}}function bc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ip=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return new mI},providedIn:"root"}),e})();class mI{parse(e){const n=new ppe(e);return new Hu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${sp(e.root,!0)}`,r=function ope(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Q1(n)}=${Q1(i)}`).join("&"):`${Q1(n)}=${Q1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function ipe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const rpe=new mI;function Y1(t){return t.segments.map(e=>BV(e)).join("/")}function sp(t,e){if(!t.hasChildren())return Y1(t);if(e){const n=t.children[Xe]?sp(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${sp(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function npe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[sp(t.children[Xe],!1)]:[`${i}:${sp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${Y1(t)}/${n[0]}`:`${Y1(t)}/(${n.join("//")})`}}function VV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q1(t){return VV(t).replace(/%3B/gi,";")}function _I(t){return VV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X1(t){return decodeURIComponent(t)}function LV(t){return X1(t.replace(/\+/g,"%20"))}function BV(t){return`${_I(t.path)}${function spe(t){return Object.keys(t).map(e=>`;${_I(e)}=${_I(t[e])}`).join("")}(t.parameters)}`}const ape=/^[^\/()?;#]+/;function vI(t){const e=t.match(ape);return e?e[0]:""}const cpe=/^[^\/()?;=#]+/,upe=/^[^=?&#]+/,fpe=/^[^&#]+/;class ppe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new At(e,n)),r}parseSegment(){const e=vI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new rp(X1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lpe(t){const e=t.match(cpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vI(this.remaining);i&&(r=i,this.capture(r))}e[X1(n)]=X1(r)}parseQueryParam(e){const n=function dpe(t){const e=t.match(upe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function hpe(t){const e=t.match(fpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=LV(n),s=LV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new At([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function HV(t){return t.segments.length>0?new At([],{[Xe]:t}):t}function zV(t){const e={};for(const r of Object.keys(t.children)){const s=zV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function gpe(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new At(t.segments.concat(e.segments),e.children)}return t}(new At(t.segments,e))}function wc(t){return t instanceof Hu}function UV(t){let e;const i=HV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new At(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function jV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return yI(i,i,i,n,r);const s=function _pe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new GV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new GV(n,e,r)}(e);if(s.toRoot())return yI(i,i,new At([],{}),n,r);const o=function vpe(t,e,n){if(t.isAbsolute)return new Z1(e,!0,0);if(!n)return new Z1(e,!1,NaN);if(null===n.parent)return new Z1(n,!0,0);const r=J1(t.commands[0])?0:1;return function ype(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new Z1(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?ap(o.segmentGroup,o.index,s.commands):qV(o.segmentGroup,o.index,s.commands);return yI(i,o.segmentGroup,a,n,r)}function J1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function op(t){return"object"==typeof t&&null!=t&&t.outlets}function yI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:$V(t,e,n);const a=HV(zV(o));return new Hu(a,s,i)}function $V(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:$V(s,e,n)}),new At(t.segments,r)}class GV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&J1(r[0]))throw new re(4003,!1);const i=r.find(op);if(i&&i!==MV(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Z1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function qV(t,e,n){if(t||(t=new At([],{})),0===t.segments.length&&t.hasChildren())return ap(t,e,n);const r=function Cpe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(op(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!KV(c,l,o))return s;r+=2}else{if(!KV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new At(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new At(t.segments.slice(r.pathIndex),t.children),ap(s,0,i)}return r.match&&0===i.length?new At(t.segments,{}):r.match&&!t.hasChildren()?EI(t,e,n):r.match?ap(t,0,i):EI(t,e,n)}function ap(t,e,n){if(0===n.length)return new At(t.segments,{});{const r=function Epe(t){return op(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=ap(t.children[Xe],e,n);return new At(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=qV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new At(t.segments,i)}}function EI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(op(s)){const c=xpe(s.outlets);return new At(r,c)}if(0===i&&J1(n[0])){r.push(new rp(t.segments[e].path,WV(n[0]))),i++;continue}const o=op(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&J1(a)?(r.push(new rp(o,WV(a))),i+=2):(r.push(new rp(o,{})),i++)}return new At(r,{})}function xpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=EI(new At([],{}),0,r))}),e}function WV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KV(t,e,n){return t==n.path&&Ms(e,n.parameters)}const cp="imperative";class Rs{constructor(e,n){this.id=e,this.url=n}}class CI extends Rs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zu extends Rs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lp extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class up extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class e2 extends Rs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YV extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ipe extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bpe extends Rs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wpe extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ape extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tpe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Spe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ppe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xI{}class II{constructor(e){this.url=e}}class Rpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dp,this.attachRef=null}}let dp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Rpe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class XV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=bI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=bI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=wI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wI(e,this._root).map(n=>n.value)}}function bI(t,e){if(t===e.value)return e;for(const n of e.children){const r=bI(t,n);if(r)return r}return null}function wI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wI(t,n);if(r.length)return r.unshift(e),r}return[]}class yo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Uu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class JV extends XV{constructor(e,n){super(e),this.snapshot=n,AI(this,e)}toString(){return this.snapshot.toString()}}function ZV(t,e){const n=function kpe(t,e){const o=new t2([],{},{},"",{},Xe,e,null,{});return new tL("",new yo(o,[]))}(0,e),r=new hi([new rp("",{})]),i=new hi({}),s=new hi({}),o=new hi({}),a=new hi(""),c=new ju(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new JV(new yo(c,[]),n)}class ju{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[np]))??Ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Bu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Bu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Npe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class t2{get title(){return this.data?.[np]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tL extends XV{constructor(e,n){super(n),this.url=e,AI(this,n)}toString(){return nL(this._root)}}function AI(t,e){e.value._routerState=t,e.children.forEach(n=>AI(t,n))}function nL(t){const e=t.children.length>0?` { ${t.children.map(nL).join(", ")} } `:"";return`${t.value}${e}`}function TI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ms(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ms(e.params,n.params)||t.paramsSubject.next(n.params),function Xhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ms(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ms(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SI(t,e){const n=Ms(t.params,e.params)&&function tpe(t,e){return bc(t,e)&&t.every((n,r)=>Ms(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||SI(t.parent,e.parent))}let rL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=G(dp),this.location=G(Li),this.changeDetector=G(Xs),this.environmentInjector=G(yi),this.inputBinder=G(n2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Ope(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]}),e})();class Ope{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ju?this.route:e===dp?this.childContexts:this.parent.get(e,n)}}const n2=new Ce("");function fp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Vpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fp(t,r,i);return fp(t,r)})}(t,e,n);return new yo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fp(t,a)),o}}const r=function Lpe(t){return new ju(new hi(t.url),new hi(t.params),new hi(t.queryParams),new hi(t.fragment),new hi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>fp(t,s));return new yo(r,i)}}const DI="ngNavigationCancelingError";function sL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=wc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function oL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[DI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function aL(t){return t&&t[DI]}let PI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["ng-component"]],standalone:!0,features:[qD],decls:1,vars:0,template:function(r,i){1&r&&it(0,"router-outlet")},dependencies:[rL],encapsulation:2}),e})();function MI(t){const e=t.children&&t.children.map(MI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=PI),n}function Ki(t){return t.outlet||Xe}function hp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class qpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),TI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Uu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Uu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new QV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ppe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(TI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),TI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=hp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class cL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class r2{constructor(e,n){this.component=e,this.route=n}}function Wpe(t,e,n){const r=t._root;return pp(r,e?e._root:null,n,[r.value])}function $u(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Aj(t){return null!==o0(t)}(t)?e.get(t):t:r}function pp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uu(e);return t.children.forEach(o=>{(function Ype(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Qpe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bc(t.url,e.url)||!Ms(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SI(t,e)||!Ms(t.queryParams,e.queryParams);default:return!SI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new cL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),pp(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new r2(a.outlet.component,o))}else o&&gp(e,a,i),i.canActivateChecks.push(new cL(r)),pp(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>gp(a,n.getContext(o),i)),i}function gp(t,e,n){const r=Uu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{gp(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new r2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function mp(t){return"function"==typeof t}function lL(t){return t instanceof Jh||"EmptyError"===t?.name}const s2=Symbol("INITIAL_VALUE");function Gu(){return pi(t=>wV(t.map(e=>e.pipe(Lu(1),HF(s2)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===s2)return s2;if(!1===n||n instanceof Hu)return n}return!0}),Ss(e=>e!==s2),Lu(1)))}function uL(t){return function ce(...t){return Ne(t)}(Qn(e=>{if(wc(e))throw sL(0,e)}),Ye(e=>!0===e))}class o2{constructor(e){this.segmentGroup=e||null}}class dL{constructor(e){this.urlTree=e}}function qu(t){return Zh(new o2(t))}function fL(t){return Zh(new dL(t))}class m0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ve(r);if(i.numberOfChildren>1||!i.children[Xe])return Zh(new re(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Hu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new At(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const RI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _0e(t,e,n,r,i){const s=kI(t,e,n);return s.matched?(r=function Hpe(t,e){return t.providers&&!t._injector&&(t._injector=GD(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function h0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ve(i.map(o=>{const a=$u(o,t);return da(function n0e(t){return t&&mp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Gu(),uL()):Ve(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...RI}))):Ve(s)}function kI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...RI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qhe)(n,t,e);if(!i)return{...RI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function hL(t,e,n,r){return n.length>0&&function E0e(t,e,n){return n.some(r=>a2(t,e,r)&&Ki(r)!==Xe)}(t,n,r)?{segmentGroup:new At(e,y0e(r,new At(n,t.children))),slicedSegments:[]}:0===n.length&&function C0e(t,e,n){return n.some(r=>a2(t,e,r))}(t,n,r)?{segmentGroup:new At(t.segments,v0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new At(t.segments,t.children),slicedSegments:n}}function v0e(t,e,n,r,i){const s={};for(const o of r)if(a2(t,n,o)&&!i[Ki(o)]){const a=new At([],{});s[Ki(o)]=a}return{...i,...s}}function y0e(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&Ki(r)!==Xe){const i=new At([],{});n[Ki(r)]=i}return n}function a2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class w0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new m0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=hL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(Ic(n=>{if(n instanceof dL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof o2?this.noMatchError(n):n}),Ye(n=>{const r=new t2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new yo(r,n),s=new tL("",i),o=function mpe(t,e,n=null,r=null){return jV(UV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(Ic(r=>{throw r instanceof o2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=eL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $n(i).pipe(ep(s=>{const o=r.children[s],a=function $pe(t,e){const n=t.filter(r=>Ki(r)===e);return n.push(...t.filter(r=>Ki(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Ghe(t,e){return Fe(function $he(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(nt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),W1(null),function qhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,s)=>t(i,s,r)):ve,gI(1),n?W1(e):DV(()=>new Jh))}(),jn(s=>{if(null===s)return qu(r);const o=pL(s);return function A0e(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ve(o)}))}processSegment(e,n,r,i,s,o){return $n(n).pipe(ep(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ic(c=>{if(c instanceof o2)return Ve(null);throw c}))),xc(a=>!!a),Ic(a=>{if(lL(a))return function I0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ve([]):qu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function x0e(t,e,n,r){return!!(Ki(t)===r||r!==Xe&&a2(e,n,t))&&("**"===t.path||kI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):qu(i):qu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(jn(o=>{const a=new At(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=kI(n,i,s);if(!a)return qu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?fL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(jn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?MV(i).parameters:{};a=Ve({snapshot:new t2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gL(r),Ki(r),r.component??r._loadedComponent??null,r,mL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=_0e(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new t2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gL(r),Ki(r),r.component??r._loadedComponent??null,r,mL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(pi(c=>null===c?qu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(pi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=hL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(D=>null===D?null:[new yo(d,D)]));if(0===l.length&&0===g.length)return Ve([new yo(d,[])]);const y=Ki(r)===s;return this.processSegment(u,l,p,g,y?Xe:s,!0).pipe(Ye(D=>[new yo(d,D)]))}))))}getChildConfig(e,n,r){return n.children?Ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function f0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ve(!0):Ve(i.map(o=>{const a=$u(o,t);return da(function Jpe(t){return t&&mp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Gu(),uL())}(e,n,r).pipe(jn(i=>i?this.configLoader.loadChildren(e,n).pipe(Qn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function g0e(t){return Zh(oL(!1,3))}())):Ve({routes:[],injector:e})}}function T0e(t){const e=t.value.routeConfig;return e&&""===e.path}function pL(t){const e=[],n=new Set;for(const r of t){if(!T0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=pL(r.children);e.push(new yo(r.value,i))}return e.filter(r=>!n.has(r))}function gL(t){return t.data||{}}function mL(t){return t.resolve||{}}function _L(t){return"string"==typeof t.title||null===t.title}function NI(t){return pi(e=>{const n=t(e);return n?$n(n).pipe(Ye(()=>e)):Ve(e)})}const c2=new Ce("ROUTES");let vL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(lJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=da(r.loadComponent()).pipe(Ye(yL),Qn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),tp(()=>{this.componentLoaders.delete(r)})),s=new SV(i,()=>new ne).pipe(pI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function N0e(t,e,n,r){return da(t.loadChildren()).pipe(Ye(yL),jn(i=>i instanceof jD||Array.isArray(i)?Ve(i):$n(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(c2,[],{optional:!0,self:!0}).flat()),{routes:o.map(MI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(tp(()=>{this.childrenLoaders.delete(i)})),a=new SV(o,()=>new ne).pipe(pI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function yL(t){return function O0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let l2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=G(vL),this.environmentInjector=G(yi),this.urlSerializer=G(ip),this.rootContexts=G(dp),this.inputBindingEnabled=null!==G(n2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Spe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Tpe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new hi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ss(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),pi(o=>{this.currentTransition=o;let a=!1,c=!1;return Ve(o).pipe(Qn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new up(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Zi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ve(l).pipe(pi(h=>{const p=this.transitions?.getValue();return this.events.next(new CI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Zi:Promise.resolve(h)}),function S0e(t,e,n,r,i,s){return jn(o=>function b0e(t,e,n,r,i,s,o="emptyOnly"){return new w0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Qn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new YV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:y,extras:D}=l,w=new CI(h,this.urlSerializer.serialize(p),g,y);this.events.next(w);const j=ZV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:j,urlAfterRedirects:p,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},Ve(o)}{const h="";return this.events.next(new up(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Zi}}),Qn(l=>{const u=new Ipe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:Wpe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function i0e(t,e){return jn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ve({...n,guardsResult:!0}):function s0e(t,e,n,r){return $n(t).pipe(jn(i=>function d0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const c=hp(e)??i,l=$u(a,c);return da(function t0e(t){return t&&mp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(xc())})).pipe(Gu()):Ve(!0)}(i.component,i.route,n,e,r)),xc(i=>!0!==i,!0))}(o,r,i,t).pipe(jn(a=>a&&function Xpe(t){return"boolean"==typeof t}(a)?function o0e(t,e,n,r){return $n(e).pipe(ep(i=>hx(function c0e(t,e){return null!==t&&e&&e(new Dpe(t)),Ve(!0)}(i.route.parent,r),function a0e(t,e){return null!==t&&e&&e(new Mpe(t)),Ve(!0)}(i.route,r),function u0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Kpe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>TV(()=>Ve(o.guards.map(c=>{const l=hp(o.node)??n,u=$u(c,l);return da(function e0e(t){return t&&mp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(xc())})).pipe(Gu())));return Ve(s).pipe(Gu())}(t,i.path,n),function l0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const i=r.map(s=>TV(()=>{const o=hp(e)??n,a=$u(s,o);return da(function Zpe(t){return t&&mp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(xc())}));return Ve(i).pipe(Gu())}(t,i.route,n))),xc(i=>!0!==i,!0))}(r,s,t,e):Ve(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Qn(l=>{if(o.guardsResult=l.guardsResult,wc(l.guardsResult))throw sL(0,l.guardsResult);const u=new bpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ss(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),NI(l=>{if(l.guards.canActivateChecks.length)return Ve(l).pipe(Qn(u=>{const d=new wpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pi(u=>{let d=!1;return Ve(u).pipe(function D0e(t,e){return jn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ve(n);let s=0;return $n(i).pipe(ep(o=>function P0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!_L(i)&&(s[np]=i.title),function M0e(t,e,n,r){const i=function R0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ve({});const s={};return $n(i).pipe(jn(o=>function k0e(t,e,n,r){const i=hp(e)??r,s=$u(t,i);return da(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(xc(),Qn(a=>{s[o]=a}))),gI(1),function Whe(t){return Ye(()=>t)}(s),Ic(o=>lL(o)?Zi:Zh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=eL(t,n).resolve,i&&_L(i)&&(t.data[np]=i.title),null)))}(o.route,r,t,e)),Qn(()=>s++),gI(1),jn(o=>s===i.length?Ve(n):Zi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Qn(u=>{const d=new Ape(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),NI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return wV(u(l.targetSnapshot.root)).pipe(W1(),Lu(1))}),NI(()=>this.afterPreactivation()),Ye(l=>{const u=function Fpe(t,e,n){const r=fp(t,e._root,n?n._root:void 0);return new JV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Qn(()=>{this.events.next(new xI)}),((t,e,n,r)=>Ye(i=>(new qpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Lu(1),Qn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Khe(t){return Fe((e,n)=>{sr(t).subscribe(nt(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Qn(l=>{throw l}))),tp(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ic(l=>{if(c=!0,aL(l))this.events.next(new lp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Bpe(t){return aL(t)&&wc(t.url)}(l)?this.events.next(new II(l.url)):o.resolve(!1);else{this.events.next(new e2(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Zi}))}))}cancelNavigationTransition(r,i,s){const o=new lp(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EL(t){return t!==cp}let CL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[np]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return G(F0e)},providedIn:"root"}),e})(),F0e=(()=>{var t;class e extends CL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(T4))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),V0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return G(B0e)},providedIn:"root"}),e})();class L0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let B0e=(()=>{var t;class e extends L0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const OI=new Ce("",{providedIn:"root",factory:()=>({})});let H0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:function(){return G(z0e)},providedIn:"root"}),e})(),z0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var _p=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_p||{});function U0e(t){throw t}function j0e(t,e,n){return e.parse("/")}const $0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=G(B7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=G(OI,{optional:!0})||{},this.pendingTasks=G(xg),this.errorHandler=this.options.errorHandler||U0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||j0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=G(H0e),this.routeReuseStrategy=G(V0e),this.titleStrategy=G(CL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=G(c2,{optional:!0})?.flat()??[],this.navigationTransitions=G(l2),this.urlSerializer=G(ip),this.location=G(t4),this.componentInputBindingEnabled=!!G(n2,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=G(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(IL(i)&&this._events.next(i));if(i instanceof CI)EL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof up)this.rawUrlTree=s.rawUrl;else if(i instanceof YV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof xI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof lp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof II){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EL(s.source)};this.scheduleNavigation(o,cp,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof e2&&this.restoreHistory(s,!0),i instanceof zu&&(this.navigated=!0),IL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cp,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(MI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=UV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return jV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=wc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cp,null,i)}navigate(r,i={skipLocationChange:!1}){return function q0e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...$0e}:!1===i?{...G0e}:i,wc(r))return kV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return kV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function xL(t,e){t.events.pipe(Ss(n=>n instanceof zu||n instanceof lp||n instanceof e2||n instanceof up),Ye(n=>n instanceof zu||n instanceof up?_p.COMPLETE:n instanceof lp&&(0===n.code||1===n.code)?_p.REDIRECTING:_p.FAILED),Ss(n=>n!==_p.REDIRECTING),Lu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function IL(t){return!(t instanceof xI||t instanceof II)}class Wu{constructor(e){return e}}const PL="analytics",BI="__angularfire_symbol__analyticsIsSupportedValue",ML="__angularfire_symbol__analyticsIsSupported";globalThis[ML]||=Mhe().then(t=>globalThis[BI]=t).catch(()=>globalThis[BI]=!1);const u2={async:()=>globalThis[ML],sync:()=>{const t=globalThis[BI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},RL=u2.async,tge=En(Dhe,!0),vp=En(yV,!0),nge=En(Rhe,!0);let kL=(()=>{var t;class e{constructor(r,i,s){let o;vt(this,"initialized",void 0),vt(this,"disposables",[]),sn("angularfire",zo.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),RL().then(()=>{const a=s.get(Wu);a?this.disposables=[JR(r).subscribe(c=>{nge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(De(jf),De(pt),De(Tn))}),vt(e,"\u0275prov",Ee({token:t,factory:t.\u0275fac})),e})();const NL="firebase_screen_id",HI="outlet",yp="screen_class",OL="screen_name";let pge=Math.floor(Math.random()*(2**32-1))-2**31;const zI={},gge=t=>{const e=[t[yp],t[HI]].join("#");if(zI.hasOwnProperty(e))return zI[e];{const n=pge++;return zI[e]=n,n}},mge=(t,e,n)=>t.events.pipe(Ss(i=>i instanceof QV)).pipe(pi(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Ve(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[OL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[HI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===PI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Ve({...u,[yp]:d});if(d){const f=n.resolveComponentFactory(d);return Ve({...u,[yp]:f.selector})}return Ve(null)}),Ss(i=>!!i),Ye(i=>({firebase_screen_class:i[yp],[NL]:gge(i),...i})),function Yde(t,e,n,r){return Fe((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let y=a.get(g);if(!y){a.set(g,y=r?r():new ne);const D=function h(p,g){const y=new fe(D=>{u++;const w=g.subscribe(D);return()=>{w.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return y.key=p,y}(g,y);if(s.next(D),n){const w=nt(y,()=>{y.complete(),w?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(sr(n(D)).subscribe(w))}}y.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[HI]),jn(i=>i.pipe(Iw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),HF(void 0),function Xde(){return Fe((t,e)=>{let n,r=!1;t.subscribe(nt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[yp],firebase_previous_screen:s[OL],firebase_previous_id:s[NL],...o}:o))));let _ge=(()=>{var t;class e{constructor(r,i,s,o,a,c){vt(this,"disposable",void 0),sn("angularfire",zo.full,"screen-tracking"),RL().then(()=>{const l=c.get(Wu);!r||!l||o.runOutsideAngular(()=>{this.disposable=mge(r,i,s).pipe(pi(function(){var u=m(function*(d){return a&&(yield a.initialized),vp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(De(Yi,8),De(T4,8),De(Ud),De(pt),De(kL,8),De(Tn))}),vt(e,"\u0275prov",Ee({token:t,factory:t.\u0275fac})),e})();const UI=new Ce("angularfire2.analytics-instances");function yge(t){return(e,n)=>{if(!u2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Wu(r)}}const Ege={provide:class ege{constructor(){return Zg(PL)}},deps:[[new en,UI]]},Cge={provide:Wu,useFactory:function vge(t,e){if(!u2.sync())return null;const n=Jg(PL,t,e);return n&&new Wu(n)},deps:[[new en,UI],qa]};let xge=(()=>{var t;class e{constructor(r,i){sn("angularfire",zo.full,"analytics")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(De(_ge,8),De(kL,8))}),vt(e,"\u0275mod",Tt({type:t})),vt(e,"\u0275inj",Ct({providers:[Cge,Ege,{provide:L7,useValue:u2.async,multi:!0}]})),e})();function Ige(t,...e){return{ngModule:xge,providers:[{provide:UI,useFactory:yge(t),multi:!0,deps:[pt,Tn,Df,Pf,...e]}]}}let FL=(()=>{var t;class e{constructor(){this.localStorageService=G(Rr),this.delay=function(){var r=m(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(5e3).then(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(et.USER);this.localStorageService.clearAll(),this.localStorageService.cache(et.USER,s),this.localStorageService.cache(et.JS_VERSION,i.dgtVersion),this.localStorageService.cache(et.LOCAL_METADATA,i),this.localStorageService.cache(et.POST_INSTALL_FETCH_METADATA,!0),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),bge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&ef("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const wge=["updateNotification"];function Age(t,e){1&t&&it(0,"span",25,26)}let Tge=(()=>{var t;class e{constructor(){this.dgAPI=G(zi),this.changeDetector=G(Xs),this.authService=G(Ts),this.changelogService=G(FL),this.analytics=G(Wu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");vp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),vp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new fe(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&jr(wge,5),2&r){let s;wr(s=Ar())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(H(0,"div",0)(1,"ul",1)(2,"li",2),lr(3,Age,2,0,"span",3),Gt(4,"async"),H(5,"a",4),it(6,"img",5),H(7,"span",6),Y(8,"home"),W()()(),H(9,"li",7)(10,"a",8),it(11,"img",9),H(12,"span",6),Y(13,"planets"),W()()(),H(14,"li",10)(15,"a",11),it(16,"img",12),H(17,"span",6),Y(18,"radar"),W()()(),H(19,"li",13)(20,"a",14),it(21,"img",15),H(22,"span",6),Y(23,"fleets"),W()()(),H(24,"li",16)(25,"a",17),it(26,"img",18),H(27,"span",6),Y(28,"navigation"),W()()(),H(29,"li",19)(30,"a",20),it(31,"img",21),H(32,"span",6),Y(33,"research"),W()()(),H(34,"li",22)(35,"a",23),it(36,"img",24),H(37,"span",6),Y(38,"alliances"),W()()()()()),2&r&&(we(2),Ze("tabName","home"),we(1),Ze("ngIf",Ci(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),we(6),Ze("tabName","planets"),we(5),Ze("tabName","radar"),we(5),Ze("tabName","fleets"),we(5),Ze("tabName","navigation"),we(5),Ze("tabName","research"),we(5),Ze("tabName","alliances"))},dependencies:[gs,bge,_f],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const Un_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},jI=new Map,VL={activated:!1,tokenObservers:[]},Sge={initialized:!1,enabled:!1};function cn(t){return jI.get(t)||Object.assign({},VL)}function d2(){return Sge}const $I="https://content-firebaseappcheck.googleapis.com/v1",Rge="exchangeDebugToken",LL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Nl,yield function Oge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Nl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const nr=new Bo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function f2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function GI(t){if(!cn(t).activated)throw nr.create("use-before-activation",{appName:t.name})}function qI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=h2(n)+"d:"),r&&(o+=h2(r)+"h:"),o+=h2(i)+"m:"+h2(s)+"s",o}function h2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function p2(t,e){return WI.apply(this,arguments)}function WI(){return WI=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw nr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw nr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw nr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),WI.apply(this,arguments)}function BL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$I}/projects/${n}/apps/${r}:${Rge}?key=${i}`,body:{debug_token:e}}}const Bge="firebase-app-check-database",Hge=1,Ep="firebase-app-check-store",HL="debug-token";let g2=null;function zL(){return g2||(g2=new Promise((t,e)=>{try{const n=indexedDB.open(Bge,Hge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(nr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ep,{keyPath:"compositeKey"})}}catch(n){e(nr.create("storage-open",{originalErrorMessage:n?.message}))}}),g2)}function UL(t,e){return KI.apply(this,arguments)}function KI(){return KI=m(function*(t,e){const r=(yield zL()).transaction(Ep,"readwrite"),s=r.objectStore(Ep).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(nr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),KI.apply(this,arguments)}function jL(t){return YI.apply(this,arguments)}function YI(){return YI=m(function*(t){const n=(yield zL()).transaction(Ep,"readonly"),i=n.objectStore(Ep).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(nr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),YI.apply(this,arguments)}function $L(t){return`${t.options.appId}-${t.name}`}const Cp=new Af("@firebase/app-check");function QI(){return QI=m(function*(t){if(Cf()){let e;try{e=yield function zge(t){return jL($L(t))}(t)}catch(n){Cp.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),QI.apply(this,arguments)}function XI(t,e){return Cf()?function Uge(t,e){return UL($L(t),e)}(t,e).catch(n=>{Cp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function JI(){return JI=m(function*(){let t;try{t=yield function $ge(){return jL(HL)}()}catch{}if(t)return t;{const e=ane();return function jge(t){return UL(HL,t)}(e).catch(n=>Cp.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),JI.apply(this,arguments)}function ZI(){return d2().enabled}function eb(){return tb.apply(this,arguments)}function tb(){return tb=m(function*(){const t=d2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tb.apply(this,arguments)}const Kge={error:"UNKNOWN_ERROR"};function Yge(t){return R4.encodeString(JSON.stringify(t),!1)}function m2(t){return nb.apply(this,arguments)}function nb(){return nb=m(function*(t,e=!1){const n=t.app;GI(n);const r=cn(n);let s,i=r.token;if(i&&!Ku(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Ku(c)?i=c:yield XI(n,void 0))}if(!e&&i&&Ku(i))return{token:i.token};let a,o=!1;if(ZI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=p2(BL(n,yield eb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield XI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield cn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Cp.warn(c.message):Cp.error(c),s=c}return i?s?a=Ku(i)?{token:i.token,internalError:s}:KL(s):(a={token:i.token},r.token=i,yield XI(n,i)):a=KL(s),o&&WL(n,a),a}),nb.apply(this,arguments)}function rb(){return rb=m(function*(t){const e=t.app;GI(e);const{provider:n}=cn(e);if(ZI()){const r=yield eb(),{token:i}=yield p2(BL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),rb.apply(this,arguments)}function ib(t,e,n,r){const{app:i}=t,s=cn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ku(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),qL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>qL(t))}function sb(t,e){const n=cn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function qL(t){const{app:e}=t,n=cn(e);let r=n.tokenRefresher;r||(r=function Qge(t){const{app:e}=t;return new Nge(m(function*(){let r;if(r=cn(e).token?yield m2(t,!0):yield m2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=cn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LL.RETRIAL_MIN_WAIT,LL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function WL(t,e){const n=cn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ku(t){return t.expireTimeMillis-Date.now()>0}function KL(t){return{token:Yge(Kge),error:t}}class Xge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=cn(this.app);for(const n of e)sb(this.app,n.next);return Promise.resolve()}}function ime(t,e){const n=new Nl;cn(t).reCAPTCHAState={initialized:n};const i=function YL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=f2(!1);return s?_2(t,e,s,i,n):function ame(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=f2(!1);if(!o)throw new Error("no recaptcha");_2(t,e,o,i,n)}),n.promise}function _2(t,e,n,r,i){n.ready(()=>{(function ome(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{cn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{cn(t).reCAPTCHAState.succeeded=!1}}),s=cn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function ob(){return ob=m(function*(t){GI(t);const n=yield cn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=cn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),ob.apply(this,arguments)}class Qi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function eB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw nr.create("throttled",{time:qI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function QL(t){return ob.apply(this,arguments)}(e._app).catch(a=>{throw nr.create("recaptcha-error")});if(null===(n=cn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw nr.create("recaptcha-error");let o;try{o=yield p2(function Vge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$I}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function ZL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=V4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),nr.create("throttled",{time:qI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=_s(e,"heartbeat"),ime(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Qi&&this._siteKey===e._siteKey}}function lme(t=Fl(),e){const n=_s(t=rn(t),"app-check");if(d2().initialized||function Wge(){const t=mM(),e=d2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Nl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function qge(){return JI.apply(this,arguments)}())}(),ZI()&&eb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw nr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function ume(t,e,n){const r=function Dge(t,e){return jI.set(t,e),jI.get(t)}(t,Object.assign({},VL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Gge(t){return QI.apply(this,arguments)}(t).then(i=>(i&&Ku(i)&&(r.token=i,WL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),cn(t).isTokenAutoRefreshEnabled&&ib(r,"INTERNAL",()=>{}),r}const tB="app-check-internal";!function fme(){wi(new ii("app-check",t=>function Jge(t,e){return new Xge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tB).initialize()})),wi(new ii(tB,t=>function Zge(t){return{getToken:e=>m2(t,e),getLimitedUseToken:()=>function GL(t){return rb.apply(this,arguments)}(t),addTokenListener:e=>ib(t,"INTERNAL",e),removeTokenListener:e=>sb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),sn("@firebase/app-check","0.8.0")}();class cb{constructor(e){return e}}const lb=new Ce("angularfire2.app-check-instances"),pme=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function gme(t){return(e,n,r)=>{!_4(r)&&pme&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new cb(i)}}const mme={provide:Q4,deps:[[new en,lb]]},_me={provide:cb,useFactory:function hme(t,e){const n=Jg(HM,t,e);return n&&new cb(n)},deps:[[new en,lb],qa,ls]};let vme=(()=>{var t;class e{constructor(){sn("angularfire",zo.full,"app-check")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",Tt({type:t})),vt(e,"\u0275inj",Ct({providers:[_me,mme]})),e})();function Co(t,...e){return{ngModule:vme,providers:[{provide:lb,useFactory:gme(t),multi:!0,deps:[pt,Tn,ls,Df,Pf,...e]}]}}const xo=En(lme,!0);let yme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[Tge]}),t.\u0275inj=Ct({imports:[qr,to(()=>ro(Un_firebase)),$o(()=>Go()),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Ige(()=>tge())]}),e})();class Eme{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class Cme{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class nB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class rB{constructor(){this._resources=new Cme,this._workers=new nB,this._soldiers=new nB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var bn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(bn||{});let iB=(()=>{var t;class e{constructor(){this.dgAPI=G(zi)}extractStats(){let r=new Eme;return r.stats.set(bn.ALL,new rB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new rB),r.stats.get(bn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(bn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(bn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(bn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(bn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(bn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case bn.METAL:r.stats.get(bn.ALL).resources.metalStored+=s.stored,r.stats.get(bn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case bn.MINERAL:r.stats.get(bn.ALL).resources.mineralStored+=s.stored,r.stats.get(bn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case bn.FOOD:r.stats.get(bn.ALL).resources.foodStored+=s.stored,r.stats.get(bn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case bn.ENERGY:r.stats.get(bn.ALL).resources.energyStored+=s.stored,r.stats.get(bn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xme=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ub=(()=>{var t;class e{constructor(){this.decimalPipe=G(ms)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const Ime=function(t){return{"dgt-stats-totals-last-row":t}},Si=function(t){return{"dgt-padding-bottom-xs":t}};function bme(t,e){if(1&t&&(H(0,"tr",4)(1,"th",5)(2,"span",6),Y(3),Gt(4,"galaxyNameFormatter"),W(),H(5,"span",7),Y(6),W()(),H(7,"td",8)(8,"div",9),it(9,"img",10),H(10,"span",11),Y(11),Gt(12,"number"),W()()(),H(13,"td",12)(14,"div",9)(15,"span",11),Y(16),Gt(17,"resourceProductionFormatter"),W()()(),H(18,"td",13)(19,"div",14),it(20,"img",15),H(21,"span",11),Y(22),Gt(23,"number"),W()()(),H(24,"td",12)(25,"div",14)(26,"span",11),Y(27),Gt(28,"resourceProductionFormatter"),W()()(),H(29,"td",13)(30,"div",16),it(31,"img",17),H(32,"span",11),Y(33),Gt(34,"number"),W()()(),H(35,"td",12)(36,"div",16)(37,"span",11),Y(38),Gt(39,"resourceProductionFormatter"),W()()(),H(40,"td",13)(41,"div",18),it(42,"img",19),H(43,"span",11),Y(44),Gt(45,"number"),W()()(),H(46,"td",20)(47,"div",18)(48,"span",11),Y(49),Gt(50,"resourceProductionFormatter"),W()()(),H(51,"td",21)(52,"div",22),it(53,"img",23),H(54,"span",11),Y(55),Gt(56,"number"),W()()(),H(57,"td",24)(58,"div",25),it(59,"img",26),H(60,"span",11),Y(61),Gt(62,"number"),W()()(),H(63,"td",27)(64,"div",28),it(65,"img",29),H(66,"span",11),Y(67),Gt(68,"number"),W()()()()),2&t){const n=e.$implicit,r=e.index,i=hn();Ze("ngClass",Ur(64,Ime,r==i.panel.stats.size-1)),we(1),Ze("ngClass",Ur(66,Si,r==i.panel.stats.size-2)),we(2),ct(Ci(4,26,n.key)),we(3),Oo("[",n.value.count,"]"),we(1),Ze("ngClass",Ur(68,Si,r==i.panel.stats.size-2)),we(4),ct(xi(12,28,n.value.resources.metalStored,"1.0","en-US")),we(2),Ze("ngClass",Ur(70,Si,r==i.panel.stats.size-2)),we(3),ct(Ci(17,32,n.value.resources.metalProduction)),we(2),Ze("ngClass",Ur(72,Si,r==i.panel.stats.size-2)),we(4),ct(xi(23,34,n.value.resources.mineralStored,"1.0","en-US")),we(2),Ze("ngClass",Ur(74,Si,r==i.panel.stats.size-2)),we(3),ct(Ci(28,38,n.value.resources.mineralProduction)),we(2),Ze("ngClass",Ur(76,Si,r==i.panel.stats.size-2)),we(4),ct(xi(34,40,n.value.resources.foodStored,"1.0","en-US")),we(2),Ze("ngClass",Ur(78,Si,r==i.panel.stats.size-2)),we(3),ct(Ci(39,44,n.value.resources.foodProduction)),we(2),Ze("ngClass",Ur(80,Si,r==i.panel.stats.size-2)),we(4),ct(xi(45,46,n.value.resources.energyStored,"1.0","en-US")),we(2),Ze("ngClass",Ur(82,Si,r==i.panel.stats.size-2)),we(3),ct(Ci(50,50,n.value.resources.energyProduction)),we(2),Ze("ngClass",Ur(84,Si,r==i.panel.stats.size-2)),we(4),ct(xi(56,52,n.value.resources.ground,"1.0","en-US")),we(2),Ze("ngClass",Ur(86,Si,r==i.panel.stats.size-2)),we(4),ct(xi(62,56,n.value.resources.orbit,"1.0","en-US")),we(2),Ze("ngClass",Ur(88,Si,r==i.panel.stats.size-2)),we(4),ct(xi(68,60,n.value.soldiers.total,"1.0","en-US"))}}let wme=(()=>{var t;class e{constructor(){this.statsPanelService=G(iB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(H(0,"div",0)(1,"div",1)(2,"table",2),lr(3,bme,69,90,"tr",3),Gt(4,"keyvalue"),W()()()),2&r&&(we(3),Ze("ngForOf",Ci(4,1,i.panel.stats)))},dependencies:[f4,zg,ms,LP,xme,ub],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){Mn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v2(t){return(v2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function db(t,e){return function Pme(t){if(Array.isArray(t))return t}(t)||function Rme(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||aB(t,e)||function Nme(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(t){return function Dme(t){if(Array.isArray(t))return fb(t)}(t)||function Mme(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||aB(t)||function kme(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aB(t,e){if(t){if("string"==typeof t)return fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(t,e)}}function fb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cB=function(){},hb={},lB={},uB=null,dB={mark:cB,measure:cB};try{typeof window<"u"&&(hb=window),typeof document<"u"&&(lB=document),typeof MutationObserver<"u"&&(uB=MutationObserver),typeof performance<"u"&&(dB=performance)}catch{}var C2,x2,I2,b2,w2,fB=(hb.navigator||{}).userAgent,hB=void 0===fB?"":fB,fa=hb,zt=lB,pB=uB,E2=dB,Io=!!zt.documentElement&&!!zt.head&&"function"==typeof zt.addEventListener&&"function"==typeof zt.createElement,gB=~hB.indexOf("MSIE")||~hB.indexOf("Trident/"),bo="___FONT_AWESOME___",mB="fa",_B="svg-inline--fa",Ac="data-fa-i2svg",gb="data-fa-pseudo-element",Fme="data-fa-pseudo-element-pending",mb="data-prefix",_b="data-icon",vB="fontawesome-i2svg",Vme="async",Lme=["HTML","HEAD","STYLE","SCRIPT"],yB=function(){try{return!0}catch{return!1}}(),Ut="classic",ln="sharp",vb=[Ut,ln];function bp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ut]}})}var wp=bp((Mn(C2={},Ut,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Mn(C2,ln,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),C2)),Ap=bp((Mn(x2={},Ut,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Mn(x2,ln,{solid:"fass",regular:"fasr",light:"fasl"}),x2)),Tp=bp((Mn(I2={},Ut,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Mn(I2,ln,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),I2)),Bme=bp((Mn(b2={},Ut,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Mn(b2,ln,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),b2)),Hme=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,EB="fa-layers-text",zme=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Ume=bp((Mn(w2={},Ut,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Mn(w2,ln,{900:"fass",400:"fasr",300:"fasl"}),w2)),CB=[1,2,3,4,5,6,7,8,9,10],jme=CB.concat([11,12,13,14,15,16,17,18,19,20]),$me=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Tc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Sp=new Set;Object.keys(Ap[Ut]).map(Sp.add.bind(Sp)),Object.keys(Ap[ln]).map(Sp.add.bind(Sp));var Gme=[].concat(vb,Ip(Sp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Tc.GROUP,Tc.SWAP_OPACITY,Tc.PRIMARY,Tc.SECONDARY]).concat(CB.map(function(t){return"".concat(t,"x")})).concat(jme.map(function(t){return"w-".concat(t)})),Dp=fa.FontAwesomeConfig||{};zt&&"function"==typeof zt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=db(t,2),r=e[1],i=function Wme(t){return""===t||"false"!==t&&("true"===t||t)}(function qme(t){var e=zt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Dp[r]=i)});var xB={styleDefault:"solid",familyDefault:"classic",cssPrefix:mB,replacementClass:_B,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Dp.familyPrefix&&(Dp.cssPrefix=Dp.familyPrefix);var Yu=Se(Se({},xB),Dp);Yu.autoReplaceSvg||(Yu.observeMutations=!1);var Me={};Object.keys(xB).forEach(function(t){Object.defineProperty(Me,t,{enumerable:!0,set:function(n){Yu[t]=n,Pp.forEach(function(r){return r(Me)})},get:function(){return Yu[t]}})}),Object.defineProperty(Me,"familyPrefix",{enumerable:!0,set:function(e){Yu.cssPrefix=e,Pp.forEach(function(n){return n(Me)})},get:function(){return Yu.cssPrefix}}),fa.FontAwesomeConfig=Me;var Pp=[],ks={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Xme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Mp(){for(var t=12,e="";t-- >0;)e+=Xme[62*Math.random()|0];return e}function Qu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function yb(t){return t.classList?Qu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function IB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Eb(t){return t.size!==ks.size||t.x!==ks.x||t.y!==ks.y||t.rotate!==ks.rotate||t.flipX||t.flipY}var t1e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function bB(){var t=mB,e=_B,n=Me.cssPrefix,r=Me.replacementClass,i=t1e;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var wB=!1;function Cb(){Me.autoAddCss&&!wB&&(function Qme(t){if(t&&Io){var e=zt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=zt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}zt.head.insertBefore(e,r)}}(bB()),wB=!0)}var n1e={mixout:function(){return{dom:{css:bB,insertCss:Cb}}},hooks:function(){return{beforeDOMElementCreation:function(){Cb()},beforeI2svg:function(){Cb()}}}},wo=fa||{};wo[bo]||(wo[bo]={}),wo[bo].styles||(wo[bo].styles={}),wo[bo].hooks||(wo[bo].hooks={}),wo[bo].shims||(wo[bo].shims=[]);var Xi=wo[bo],AB=[],T2=!1;function Rp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?IB(t):"<".concat(e," ").concat(function Jme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(IB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Rp).join(""),"</").concat(e,">")}function TB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Io&&((T2=(zt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(zt.readyState))||zt.addEventListener("DOMContentLoaded",function t(){zt.removeEventListener("DOMContentLoaded",t),T2=1,AB.map(function(e){return e()})}));var xb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Ib(t){var e=function o1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function SB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function bb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=SB(e);"function"!=typeof Xi.hooks.addPack||i?Xi.styles[t]=Se(Se({},Xi.styles[t]||{}),s):Xi.hooks.addPack(t,SB(e)),"fas"===t&&bb("fa",e)}var S2,D2,P2,Xu=Xi.styles,c1e=Xi.shims,l1e=(Mn(S2={},Ut,Object.values(Tp[Ut])),Mn(S2,ln,Object.values(Tp[ln])),S2),wb=null,DB={},PB={},MB={},RB={},kB={},u1e=(Mn(D2={},Ut,Object.keys(wp[Ut])),Mn(D2,ln,Object.keys(wp[ln])),D2);var NB=function(){var e=function(s){return xb(Xu,function(o,a,c){return o[c]=xb(a,s,{}),o},{})};DB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),PB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),kB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Xu||Me.autoFetchSvg,r=xb(c1e,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});MB=r.names,RB=r.unicodes,wb=M2(Me.styleDefault,{family:Me.familyDefault})};function Ab(t,e){return(DB[t]||{})[e]}function Sc(t,e){return(kB[t]||{})[e]}function OB(t){return MB[t]||{prefix:null,iconName:null}}function pa(){return wb}(function Yme(t){Pp.push(t)})(function(t){wb=M2(t.styleDefault,{family:Me.familyDefault})}),NB();var Tb=function(){return{prefix:null,iconName:null,rest:[]}};function M2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ut:n;return Ap[r][t]||Ap[r][wp[r][t]]||(t in Xi.styles?t:null)||null}var FB=(Mn(P2={},Ut,Object.keys(Tp[Ut])),Mn(P2,ln,Object.keys(Tp[ln])),P2);function R2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Mn(e={},Ut,"".concat(Me.cssPrefix,"-").concat(Ut)),Mn(e,ln,"".concat(Me.cssPrefix,"-").concat(ln)),e),o=null,a=Ut;(t.includes(s[Ut])||t.some(function(l){return FB[Ut].includes(l)}))&&(a=Ut),(t.includes(s[ln])||t.some(function(l){return FB[ln].includes(l)}))&&(a=ln);var c=t.reduce(function(l,u){var d=function f1e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function d1e(t){return~Gme.indexOf(t)}(i)?null:i}(Me.cssPrefix,u);if(Xu[u]?(u=l1e[a].includes(u)?Bme[a][u]:u,o=u,l.prefix=u):u1e[a].indexOf(u)>-1?(o=u,l.prefix=M2(u,{family:a})):d?l.iconName=d:u!==Me.replacementClass&&u!==s[Ut]&&u!==s[ln]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?OB(l.iconName):{},h=Sc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Xu.far&&Xu.fas&&!Me.autoFetchSvg&&(l.prefix="fas")}return l},Tb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===ln&&(Xu.fass||Me.autoFetchSvg)&&(c.prefix="fass",c.iconName=Sc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=pa()||"fas"),c}var g1e=function(){function t(){(function Ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Tme(t,e,n){e&&oB(t.prototype,e),n&&oB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Se(Se({},n.definitions[a]||{}),o[a]),bb(a,o[a]);var c=Tp[Ut][a];c&&bb(c,o[a]),NB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),VB=[],Ju={},Zu={},m1e=Object.keys(Zu);function Sb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ju[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Dc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ju[t]||[]).forEach(function(s){s.apply(null,n)})}function Ao(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Zu[t]?Zu[t].apply(null,e):void 0}function Db(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||pa();if(e)return e=Sc(n,e)||e,TB(LB.definitions,n,e)||TB(Xi.styles,n,e)}var LB=new g1e,y1e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Io?(Dc("beforeI2svg",e),Ao("pseudoElements2svg",e),Ao("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Me.autoReplaceSvg&&(Me.autoReplaceSvg=!0),Me.observeMutations=!0,function i1e(t){Io&&(T2?setTimeout(t,0):AB.push(t))}(function(){C1e({autoReplaceSvgRoot:n}),Dc("watch",e)})}},ui={noAuto:function(){Me.autoReplaceSvg=!1,Me.observeMutations=!1,Dc("noAuto")},config:Me,dom:y1e,parse:{icon:function(e){if(null===e)return null;if("object"===v2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Sc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=M2(e[0]);return{prefix:r,iconName:Sc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Me.cssPrefix,"-"))>-1||e.match(Hme))){var i=R2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||pa(),iconName:Sc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=pa();return{prefix:s,iconName:Sc(s,e)||e}}}},library:LB,findIconDefinition:Db,toHtml:Rp},C1e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?zt:n;(Object.keys(Xi.styles).length>0||Me.autoFetchSvg)&&Io&&Me.autoReplaceSvg&&ui.dom.i2svg({node:r})};function k2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Rp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Io){var r=zt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Pb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,y=p.height,D="fak"===i,w=[Me.replacementClass,s?"".concat(Me.cssPrefix,"-").concat(s):""].filter(function(Rn){return-1===d.classes.indexOf(Rn)}).filter(function(Rn){return""!==Rn||!!Rn}).concat(d.classes).join(" "),j={children:[],attributes:Se(Se({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},Q=D&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};h&&(j.attributes[Ac]=""),c&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(u||Mp())},children:[c]}),delete j.attributes.title);var he=Se(Se({},j),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Se(Se({},Q),d.styles)}),Re=r.found&&n.found?Ao("generateAbstractMask",he)||{children:[],attributes:{}}:Ao("generateAbstractIcon",he)||{children:[],attributes:{}},Yt=Re.attributes;return he.children=Re.children,he.attributes=Yt,a?function I1e(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Me.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Se(Se({},i),{},{id:o}),children:r}]}]}(he):function x1e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Eb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=A2(Se(Se({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(he)}function BB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Se(Se(Se({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Ac]="");var u=Se({},o.styles);Eb(i)&&(u.transform=function e1e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&gB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=A2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Mb=Xi.styles;function Rb(t){var e=t[0],n=t[1],s=db(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Tc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Tc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Tc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var w1e={found:!1,width:512,height:512};function kb(t,e){var n=e;return"fa"===e&&null!==Me.styleDefault&&(e=pa()),new Promise(function(r,i){if(Ao("missingIconAbstract"),"fa"===n){var o=OB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Mb[e]&&Mb[e][t])return r(Rb(Mb[e][t]));(function A1e(t,e){!yB&&!Me.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Se(Se({},w1e),{},{icon:Me.showMissingIcons&&t&&Ao("missingIconAbstract")||{}}))})}var HB=function(){},Nb=Me.measurePerformance&&E2&&E2.mark&&E2.measure?E2:{mark:HB,measure:HB},kp='FA "6.4.2"',zB=function(e){Nb.mark("".concat(kp," ").concat(e," ends")),Nb.measure("".concat(kp," ").concat(e),"".concat(kp," ").concat(e," begins"),"".concat(kp," ").concat(e," ends"))},Ob={begin:function(e){return Nb.mark("".concat(kp," ").concat(e," begins")),function(){return zB(e)}},end:zB},N2=function(){};function UB(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ac):null)}function M1e(t){return zt.createElementNS("http://www.w3.org/2000/svg",t)}function R1e(t){return zt.createElement(t)}function jB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?M1e:R1e:n;if("string"==typeof t)return zt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(jB(o,{ceFn:r}))}),i}var O2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(jB(i),n)}),null===n.getAttribute(Ac)&&Me.keepOriginalSource){var r=zt.createComment(function k1e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~yb(n).indexOf(Me.replacementClass))return O2.replace(e);var i=new RegExp("".concat(Me.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Me.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Rp(a)}).join("\n");n.setAttribute(Ac,""),n.innerHTML=o}};function $B(t){t()}function GB(t,e){var n="function"==typeof e?e:N2;if(0===t.length)n();else{var r=$B;Me.mutateApproach===Vme&&(r=fa.requestAnimationFrame||$B),r(function(){var i=function P1e(){return!0===Me.autoReplaceSvg?O2.replace:O2[Me.autoReplaceSvg]||O2.replace}(),s=Ob.begin("mutate");t.map(i),s(),n()})}}var Fb=!1;function qB(){Fb=!0}function Vb(){Fb=!1}var F2=null;function WB(t){if(pB&&Me.observeMutations){var e=t.treeCallback,n=void 0===e?N2:e,r=t.nodeCallback,i=void 0===r?N2:r,s=t.pseudoElementsCallback,o=void 0===s?N2:s,a=t.observeMutationsRoot,c=void 0===a?zt:a;F2=new pB(function(l){if(!Fb){var u=pa();Qu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!UB(d.addedNodes[0])&&(Me.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Me.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&UB(d.target)&&~$me.indexOf(d.attributeName))if("class"===d.attributeName&&function S1e(t){var e=t.getAttribute?t.getAttribute(mb):null,n=t.getAttribute?t.getAttribute(_b):null;return e&&n}(d.target)){var f=R2(yb(d.target)),p=f.iconName;d.target.setAttribute(mb,f.prefix||u),p&&d.target.setAttribute(_b,p)}else(function D1e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Me.replacementClass)})(d.target)&&i(d.target)})}}),Io&&F2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function KB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function F1e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=R2(yb(t));return i.prefix||(i.prefix=pa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function h1e(t,e){return(PB[t]||{})[e]}(i.prefix,t.innerText)||Ab(i.prefix,Ib(t.innerText))),!i.iconName&&Me.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function V1e(t){var e=Qu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Me.autoA11y&&(n?e["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(r||Mp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Sb("parseNodeAttributes",{},t),c=e.styleParser?function O1e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Se({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ks,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var B1e=Xi.styles;function YB(t){var e="nest"===Me.autoReplaceSvg?KB(t,{styleParser:!1}):KB(t);return~e.extra.classes.indexOf(EB)?Ao("generateLayersText",t,e):Ao("generateSvgReplacementMutation",t,e)}var ga=new Set;function QB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Io)return Promise.resolve();var n=zt.documentElement.classList,r=function(d){return n.add("".concat(vB,"-").concat(d))},i=function(d){return n.remove("".concat(vB,"-").concat(d))},s=Me.autoFetchSvg?ga:vb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(B1e));s.includes("fa")||s.push("fa");var o=[".".concat(EB,":not([").concat(Ac,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ac,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Qu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Ob.begin("onTree"),l=a.reduce(function(u,d){try{var f=YB(d);f&&u.push(f)}catch(h){yB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){GB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function H1e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;YB(t).then(function(n){n&&GB([n],e)})}function z1e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Db(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Db(i||{})),t(r,Se(Se({},n),{},{mask:i}))}}vb.map(function(t){ga.add("fa-".concat(t))}),Object.keys(wp[Ut]).map(ga.add.bind(ga)),Object.keys(wp[ln]).map(ga.add.bind(ga)),ga=Ip(ga);var U1e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?ks:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,y=void 0===g?[]:g,D=n.attributes,w=void 0===D?{}:D,j=n.styles,Q=void 0===j?{}:j;if(e){var he=e.prefix,Re=e.iconName,Ke=e.icon;return k2(Se({type:"icon"},e),function(){return Dc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Me.autoA11y&&(f?w["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(p||Mp()):(w["aria-hidden"]="true",w.focusable="false")),Pb({icons:{main:Rb(Ke),mask:c?Rb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:he,iconName:Re,transform:Se(Se({},ks),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:w,styles:Q,classes:y}})})}},j1e={mixout:function(){return{icon:z1e(U1e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=QB,n.nodeCallback=H1e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return QB(void 0===r?zt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([kb(i,a),u.iconName?kb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=db(g,2);h([n,Pb({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=A2(n.styles);return c.length>0&&(i.style=c),Eb(o)&&(l=Ao("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},$1e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return k2({type:"layer"},function(){Dc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Me.cssPrefix,"-layers")].concat(Ip(s)).join(" ")},children:o}]})}}}},G1e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return k2({type:"counter",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),function b1e(t){var e=t.content,n=t.title,r=t.extra,i=Se(Se(Se({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=A2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Me.cssPrefix,"-layers-counter")].concat(Ip(a))}})})}}}},q1e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?ks:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return k2({type:"text",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),BB({content:n,transform:Se(Se({},ks),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Me.cssPrefix,"-layers-text")].concat(Ip(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(gB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Me.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,BB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},W1e=new RegExp('"',"ug"),XB=[1105920,1112319];function JB(t,e){var n="".concat(Fme).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Qu(t.children).filter(function(Ke){return Ke.getAttribute(gb)===e})[0],a=fa.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(zme),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?ln:Ut,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?Ap[f][c[2].toLowerCase()]:Ume[f][l],p=function K1e(t){var e=t.replace(W1e,""),n=function a1e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=XB[0]&&n<=XB[1],i=2===e.length&&e[0]===e[1];return{value:Ib(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,y=p.isSecondary,D=c[0].startsWith("FontAwesome"),w=Ab(h,g),j=w;if(D){var Q=function p1e(t){var e=RB[t],n=Ab("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Q.iconName&&Q.prefix&&(w=Q.iconName,h=Q.prefix)}if(!w||y||o&&o.getAttribute(mb)===h&&o.getAttribute(_b)===j)r();else{t.setAttribute(n,j),o&&t.removeChild(o);var he=function L1e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ks,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Re=he.extra;Re.attributes[gb]=e,kb(w,h).then(function(Ke){var Yt=Pb(Se(Se({},he),{},{icons:{main:Ke,mask:Tb()},prefix:h,iconName:j,extra:Re,watchable:!0})),Rn=zt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Rn,t.firstChild):t.appendChild(Rn),Rn.outerHTML=Yt.map(function(xa){return Rp(xa)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Y1e(t){return Promise.all([JB(t,"::before"),JB(t,"::after")])}function Q1e(t){return!(t.parentNode===document.head||~Lme.indexOf(t.tagName.toUpperCase())||t.getAttribute(gb)||t.parentNode&&"svg"===t.parentNode.tagName)}function ZB(t){if(Io)return new Promise(function(e,n){var r=Qu(t.querySelectorAll("*")).filter(Q1e).map(Y1e),i=Ob.begin("searchPseudoElements");qB(),Promise.all(r).then(function(){i(),Vb(),e()}).catch(function(){i(),Vb(),n()})})}var eH=!1,tH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Lb={x:0,y:0,width:"100%",height:"100%"};function nH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function e2e(t){return"g"===t.tag?t.children:[t]}var t2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?R2(i.split(" ").map(function(o){return o.trim()})):Tb();return s.prefix||(s.prefix=pa()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function Zme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Se(Se({},Lb),{},{fill:"white"})},g=u.children?{children:u.children.map(nH)}:{},y={tag:"g",attributes:Se({},h.inner),children:[nH(Se({tag:u.tag,attributes:Se(Se({},u.attributes),h.path)},g))]},D={tag:"g",attributes:Se({},h.outer),children:[y]},w="mask-".concat(a||Mp()),j="clip-".concat(a||Mp()),Q={tag:"mask",attributes:Se(Se({},Lb),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,D]},he={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:e2e(f)},Q]};return r.push(he,{tag:"rect",attributes:Se({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(w,")")},Lb)}),{children:r,attributes:i}}}};!function _1e(t,e){var n=e.mixoutsTo;VB=t,Ju={},Object.keys(Zu).forEach(function(r){-1===m1e.indexOf(r)&&delete Zu[r]}),VB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===v2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ju[o]||(Ju[o]=[]),Ju[o].push(s[o])})}r.provides&&r.provides(Zu)})}([n1e,j1e,$1e,G1e,q1e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=ZB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Me.searchPseudoElements&&ZB(void 0===r?zt:r)}}},{mixout:function(){return{dom:{unwatch:function(){qB(),eH=!0}}}},hooks:function(){return{bootstrap:function(){WB(Sb("mutationObserverCallbacks",{}))},noAuto:function(){!function N1e(){F2&&F2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;eH?Vb():WB(Sb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return tH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=tH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Se({},h.outer),children:[{tag:"g",attributes:Se({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Se(Se({},r.icon.attributes),h.path)}]}]}}}},t2e,{provides:function(e){var n=!1;fa.matchMedia&&(n=fa.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Se(Se({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Se(Se({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Se(Se({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Se(Se({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Se(Se({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Se(Se({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Se(Se({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Se(Se({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Se(Se({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ui});var s2e=ui.parse,o2e=ui.icon;const a2e=["*"],u2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let h2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),p2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[yr]}),e})(),g2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(us),te(Ir))},t.\u0275cmp=kn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[yr],ngContentSelectors:a2e,decls:1,vars:0,template:function(r,i){1&r&&(function AS(t){const e=ee()[fn][or];if(!e.projection){const r=e.projection=Md(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?sY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function TS(t,e=0,n){const r=ee(),i=dt(),s=gl(i,rt+t,16,null,n||null);null===s.projection&&(s.projection=e),L_(),(!r[Us]||qc())&&32!=(32&s.flags)&&function rq(t,e,n){S5(e[je],0,e,n,fv(t,n,e),x5(n.parent||e[or],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),m2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?s2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...u2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=o2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(aM),te(h2e),te(rH),te(p2e,8),te(g2e,8))},t.\u0275cmp=kn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(yy("innerHTML",i.renderedIconHTML,z5),Oi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[yr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Bb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({}),e})(),_2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[wme]}),t.\u0275inj=Ct({providers:[ms,iB],imports:[qr,Bb]}),e})(),iH=(()=>{var t;class e{constructor(){this.firestore=G(qi),this.dgAPI=G(zi)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=Wi(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=H1(z1(i,ux("location","==",r.planetScan.location),LF(1))).subscribe(s=>{let o=Object.assign(new dM,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==ur.RESOURCE||r.type==ur.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==ur.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==ur.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==ur.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?ku(Mr(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):U1(Mr(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function v2e(t,e){1&t&&(H(0,"p",3),Y(1,"Each scan will be cached and shared with your alliance members "),it(2,"img",4),W())}let y2e=(()=>{var t;class e{constructor(){this.scanService=G(iH),this.authService=G(Ts),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(H(0,"div",0),it(1,"span",1),W(),lr(2,v2e,3,0,"p",2)),2&r&&(we(2),Ze("ngIf",i.active))},dependencies:[gs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),E2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[y2e]}),t.\u0275inj=Ct({providers:[iH],imports:[qr,to(()=>ro(Un_firebase)),$o(()=>Go()),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),sH=(()=>{var t;class e{constructor(){this.firestore=G(qi),this.dgAPI=G(zi),this.resourceProductionFormatterPipe=G(ub),this.decimalPipe=G(ms)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=H1(z1(Wi(this.firestore,"scans-g"+i[0].split(/\./)[0]),ux("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ft.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ft.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ft.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Ft.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ft.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ft.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ft.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ft.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ft.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ft.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ft.LEISURE_CENTRE)&&(f+=.4),d.includes(Ft.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function C2e(t,e){1&t&&(H(0,"p",3),Y(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),W())}let x2e=(()=>{var t;class e{constructor(){this.scanService=G(sH),this.authService=G(Ts),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(H(0,"div",0),it(1,"span",1),W(),lr(2,C2e,2,0,"p",2)),2&r&&(we(2),Ze("ngIf",i.active))},dependencies:[gs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),I2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[x2e]}),t.\u0275inj=Ct({providers:[ms,ub,sH],imports:[qr,to(()=>ro(Un_firebase)),$o(()=>Go()),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function b2e(t,e){if(1&t){const n=Jd();H(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Y(6,"DGT Login"),W()()(),H(7,"tr",3)(8,"td"),it(9,"input",4,5),W(),H(11,"td"),it(12,"input",6,7),W()(),H(14,"tr",8)(15,"td",2)(16,"button",9),tn("click",function(){is(n);const i=dy(10),s=dy(13);return ss(hn().signInWithEmailAndPassword(i.value,s.value))}),Y(17,"Login"),W(),H(18,"button",10),tn("click",function(){return is(n),ss(hn().signInWithGoogle())}),it(19,"img",11),W()()()()()()}}let w2e=(()=>{var t;class e{constructor(){this.authService=G(Ts),this.auth=G(jf),this.firestore=G(qi),this.localStorageService=G(Rr),this.changeDetection=G(Xs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new fe(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(et.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(lr(0,b2e,20,0,"div",0),Gt(1,"async")),2&r&&Ze("ngIf",Ci(1,1,i.displayLogin))},dependencies:[gs,_f],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),A2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[w2e]}),t.\u0275inj=Ct({imports:[qr,to(()=>ro(Un_firebase)),$o(()=>Go()),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var L2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Fye=(()=>{var t;class e{constructor(){this.localStorageService=G(Rr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(et.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Mz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(us),te(Ir))},t.\u0275dir=Oe({type:t}),e})(),Pc=(()=>{var t;class e extends Mz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Yn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[It]}),e})();const Ns=new Ce("NgValueAccessor"),Bye={provide:Ns,useExisting:Mt(()=>B2),multi:!0},zye=new Ce("CompositionEventMode");let B2=(()=>{var t;class e extends Mz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hye(){const t=Vo()?Vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(us),te(Ir),te(zye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&tn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$t([Bye]),It]}),e})();const mr=new Ce("NgValidators"),_a=new Ce("NgAsyncValidators");function Uz(t){return null!=t}function jz(t){return Zd(t)?$n(t):t}function $z(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Gz(t,e){return e.map(n=>n(t))}function qz(t){return t.map(e=>function jye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Gb(t){return null!=t?function Wz(t){if(!t)return null;const e=t.filter(Uz);return 0==e.length?null:function(n){return $z(Gz(n,e))}}(qz(t)):null}function qb(t){return null!=t?function Kz(t){if(!t)return null;const e=t.filter(Uz);return 0==e.length?null:function(n){return function Vye(...t){const e=Ew(t),{args:n,keys:r}=xV(t),i=new fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;sr(n[u]).subscribe(nt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?bV(r,a):a),s.complete())}))}});return e?i.pipe(IV(e)):i}(Gz(n,e).map(jz)).pipe(Ye($z))}}(qz(t)):null}function Yz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wb(t){return t?Array.isArray(t)?t:[t]:[]}function z2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Jz(t,e){const n=Wb(e);return Wb(t).forEach(i=>{z2(n,i)||n.push(i)}),n}function Zz(t,e){return Wb(e).filter(n=>!z2(t,n))}class eU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Nr extends eU{get formDirective(){return null}get path(){return null}}class va extends eU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nU=(()=>{var t;class e extends tU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(va,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[It]}),e})(),Kb=(()=>{var t;class e extends tU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Nr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[It]}),e})();const Np="VALID",j2="INVALID",ed="PENDING",Op="DISABLED";function Xb(t){return($2(t)?t.validators:t)||null}function Jb(t,e){return($2(e)?e.asyncValidators:t)||null}function $2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class oU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Np}get invalid(){return this.status===j2}get pending(){return this.status==ed}get disabled(){return this.status===Op}get enabled(){return this.status!==Op}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Zz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Zz(e,this._rawAsyncValidators))}hasValidator(e){return z2(this._rawValidators,e)}hasAsyncValidator(e){return z2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ed,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Op,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Np,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Np||this.status===ed)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Op:Np}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ed,this._hasOwnPendingAsyncValidator=!0;const n=jz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?Op:this.errors?j2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ed)?ed:this._anyControlsHaveStatus(j2)?j2:Np}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Wye(t){return Array.isArray(t)?Gb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kye(t){return Array.isArray(t)?qb(t):t||null}(this._rawAsyncValidators)}}class Zb extends oU{constructor(e,n,r){super(Xb(n),Jb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function sU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function iU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const td=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>G2}),G2="always";function Fp(t,e,n=G2){ew(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Xye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&aU(t,e)})}(t,e),function Zye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Jye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&aU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Qye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function K2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ew(t,e){const n=function Qz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Yz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Xz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Yz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();K2(e._rawValidators,i),K2(e._rawAsyncValidators,i)}function aU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const i4e={provide:Nr,useExisting:Mt(()=>Lp)},Vp=(()=>Promise.resolve())();let Lp=(()=>{var t;class e extends Nr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new xt,this.form=new Zb({},Gb(r),qb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Vp.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Fp(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Vp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Vp.then(()=>{const i=this._findContainer(r.path),s=new Zb({});(function cU(t,e){ew(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Vp.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Vp.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function lU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(mr,10),te(_a,10),te(td,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&tn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([i4e]),It]}),e})();function uU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function dU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const fU=class extends oU{constructor(e=null,n,r){super(Xb(n),Jb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=dU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){dU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},a4e={provide:va,useExisting:Mt(()=>iw)},gU=(()=>Promise.resolve())();let iw=(()=>{var t;class e extends va{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new fU,this._registered=!1,this.name="",this.update=new xt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function rw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===B2?n=s:function n4e(t){return Object.getPrototypeOf(t.constructor)===Pc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function nw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){gU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Pl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);gU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function q2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Nr,9),te(mr,10),te(_a,10),te(Ns,10),te(Xs,8),te(td,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([a4e]),It,yr]}),e})(),sw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),_U=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({}),e})(),M4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({imports:[_U]}),e})(),fw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:td,useValue:r.callSetDisabledState??G2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({imports:[M4e]}),e})(),k4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const N4e=["dgtSpinner"],O4e=["dgtMainContainer"];function F4e(t,e){if(1&t&&(H(0,"span",18),Y(1),W()),2&t){const n=hn().$implicit;we(1),Oo("[",n.kickEta,"]")}}const V4e=function(){return["far","circle-xmark"]};function L4e(t,e){if(1&t){const n=Jd();H(0,"div",19)(1,"form",20,21),tn("ngSubmit",function(i){return is(n),ss(hn(4).onSubmitKickMember(i))}),it(3,"input",22),Gt(4,"kickMemberFormatter"),H(5,"button",23),it(6,"fa-icon",24),W()()()}if(2&t){const n=hn().$implicit;we(3),hy("name",Ci(4,2,n.dgId)),we(3),Ze("icon",function ZD(t,e,n){const r=Er()+t,i=ee();return i[r]===Ge?fs(i,r,n?e.call(n):e()):Kd(i,r)}(4,V4e))}}function B4e(t,e){if(1&t&&(H(0,"div",8)(1,"div",9)(2,"span",10),Y(3),W(),H(4,"span",11),Y(5,"Rank: "),H(6,"span",12),Y(7),Gt(8,"number"),W()(),lr(9,F4e,2,1,"span",13),H(10,"span",14),Y(11,"Score: "),H(12,"span",12),Y(13),Gt(14,"number"),W()(),H(15,"span",15),Y(16,"Combat: "),H(17,"span",12),Y(18),Gt(19,"number"),W()(),H(20,"span",16),Y(21,"Planets: "),H(22,"span",12),Y(23),W()(),lr(24,L4e,7,5,"div",17),W()()),2&t){const n=e.$implicit,r=hn(2).ngIf,i=hn();we(3),ct(n.name),we(4),ct(xi(8,7,n.stats.rank,"1.0","en-US")),we(2),Ze("ngIf",null!=n.kickEta),we(4),ct(xi(14,11,n.stats.score,"1.0","en-US")),we(5),ct(xi(19,15,n.stats.combatScore,"1.0","en-US")),we(5),ct(n.stats.planets),we(1),Ze("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function H4e(t,e){if(1&t&&(H(0,"div",5,6),lr(2,B4e,25,19,"div",7),W()),2&t){const n=hn(2);we(2),Ze("ngForOf",n.allianceMembers)}}function z4e(t,e){if(1&t&&(Oa(0),lr(1,H4e,3,1,"div",4),Fa()),2&t){const n=hn();we(1),Ze("ngIf",n.active)}}let U4e=(()=>{var t;class e{constructor(r){this.authService=G(Ts),this.localStorageService=G(Rr),this.membersPanelService=G(Fye),this.active=!1,this.initialized=!1,this.UserRole=dx,r.addIcons(L2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new fe(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(et.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(rH))},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(jr(N4e,5),jr(O4e,5)),2&r){let s;wr(s=Ar())&&(i.loadSpinner=s.first),wr(s=Ar())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(H(0,"div",0,1),it(2,"span",2),W(),lr(3,z4e,2,1,"ng-container",3),Gt(4,"async")),2&r&&(we(3),Ze("ngIf",Ci(4,1,i.role)))},dependencies:[zg,gs,sw,Kb,Lp,m2e,_f,ms,k4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),j4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[U4e]}),t.\u0275inj=Ct({imports:[qr,fw,Bb,to(()=>ro(Un_firebase)),$o(()=>Go()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),$4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),G4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[$4e]}),t.\u0275inj=Ct({imports:[qr]}),e})(),q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),W4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[q4e]}),t.\u0275inj=Ct({imports:[qr]}),e})();const K4e=["dgtSpinner"],Y4e=["dgtUpdatingModel"];function Q4e(t,e){if(1&t){const n=Jd();H(0,"div",11)(1,"span"),Y(2,"There is a new update: "),H(3,"i")(4,"b"),Y(5),W(),Y(6," - "),W(),H(7,"a",12),tn("click",function(){return is(n),ss(hn().installUpdate())}),Y(8,"click here"),W(),Y(9," to update your data"),W()()}if(2&t){const n=hn();we(5),ct(n.newVersion)}}let X4e=(()=>{var t;class e{constructor(){this.changeLogService=G(FL),this.changeDetector=G(Xs),this.localStorageService=G(Rr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new fe(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(jr(K4e,5),jr(Y4e,5)),2&r){let s;wr(s=Ar())&&(i.loadSpinner=s.first),wr(s=Ar())&&(i.dgtUpdatingModel=s.first)}},decls:87,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(H(0,"div",0)(1,"h2"),Y(2,"DarkGalaxy Tools "),H(3,"span"),Y(4),W()(),H(5,"div",1,2),it(7,"span",3),W(),lr(8,Q4e,10,1,"div",4),Gt(9,"async"),H(10,"div",5)(11,"div")(12,"span"),Y(13,"Changelog:"),W()(),H(14,"ul")(15,"li"),Y(16,"fix - starting with 2.0.0 most of the updates will be silent, without opening github/tampermonkey"),W(),H(17,"li"),Y(18,"fix - added images for all ships (including holoships)"),W(),H(19,"li"),Y(20,"fix - revamped "),H(21,"b"),Y(22,"Research"),W(),Y(23," screen and added required research points for queued items - finished researches are now highlighted"),W(),H(24,"li"),Y(25,"new - "),H(26,"b"),Y(27,"Player Rankings"),W(),Y(28," screen - added planets stats & details"),W(),H(29,"li"),Y(30,"new - enabled Admin Panel for TL/Admin roles"),W(),H(31,"li"),Y(32,"new - reworked caching module - you will see a short "),H(33,"b"),Y(34,"syncing"),W(),Y(35," modal everytime stats metadata gets updated on Firebase"),W()(),H(36,"div")(37,"span"),Y(38,"Upcoming:"),W()(),H(39,"ul")(40,"li")(41,"b"),Y(42,"Alliance Rankings"),W(),Y(43," screen - added planets stats"),W(),H(44,"li"),Y(45,"Notification for "),H(46,"b"),Y(47,"Radar"),W(),Y(48," when at least one allied planet (including yours) is attacked"),W(),H(49,"li")(50,"b"),Y(51,"Research"),W(),Y(52," queue cancel confirmation popup"),W(),H(53,"li")(54,"b"),Y(55,"Navigation"),W(),Y(56," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),W(),H(57,"li"),Y(58,"Integration with Google Sheets"),W(),H(59,"li"),Y(60,"Copy to clipboard various stats"),W(),H(61,"li"),Y(62,"Fleet Scan statistics, including a fight simulation"),W()()(),H(63,"div",6)(64,"div")(65,"span"),Y(66,"Important:"),W()(),H(67,"ul")(68,"li"),Y(69,"please report any bug on "),H(70,"b"),Y(71,"Whatsapp#Toolbox"),W(),Y(72," channel"),W(),H(73,"li")(74,"b"),Y(75,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),W(),Y(76," - some of them are interfering with Firebase communication"),W()()()(),H(77,"div",7,8)(79,"div",9)(80,"span"),Y(81,"Installing "),H(82,"i")(83,"b"),Y(84),W()(),Y(85,"..."),W(),it(86,"img",10),W()()),2&r&&(we(4),ct(i.version),we(4),Ze("ngIf",Ci(9,3,i.updateAvailable)),we(76),ct(i.newVersion))},dependencies:[gs,_f],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function ya(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new de({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Jh)}});t.subscribe(s)})}class Q2{}class X2{}class Os{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Os?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Os;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Os?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class J4e{encodeKey(e){return OU(e)}encodeValue(e){return OU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e6e=/%(\d[a-f0-9])/gi,t6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OU(t){return encodeURIComponent(t).replace(e6e,(e,n)=>t6e[n]??e)}function J2(t){return`${t}`}class Ea{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new J4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(J2):[J2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ea({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(J2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(J2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function FU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function VU(t){return typeof Blob<"u"&&t instanceof Blob}function LU(t){return typeof FormData<"u"&&t instanceof FormData}class Bp{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function r6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Os),this.context||(this.context=new n6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ea,this.urlWithParams=n}serializeBody(){return null===this.body?null:FU(this.body)||VU(this.body)||LU(this.body)||function i6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ea?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LU(this.body)?null:VU(this.body)?this.body.type||null:FU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ea?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Bp(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var nd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(nd||{});class hw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Os,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pw extends hw{constructor(e={}){super(e),this.type=nd.ResponseHeader}clone(e={}){return new pw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rd extends hw{constructor(e={}){super(e),this.type=nd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new rd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class BU extends hw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Hp=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Bp)o=r;else{let l,u;l=s.headers instanceof Os?s.headers:new Os(s.headers),s.params&&(u=s.params instanceof Ea?s.params:new Ea({fromObject:s.params})),o=new Bp(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ve(o).pipe(ep(l=>this.handler.handle(l)));if(r instanceof Bp||"events"===s.observe)return a;const c=a.pipe(Ss(l=>l instanceof rd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Ea).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,gw(s,i))}post(r,i,s={}){return this.request("POST",r,gw(s,i))}put(r,i,s={}){return this.request("PUT",r,gw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Q2))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();function UU(t,e){return e(t)}function o6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const c6e=new Ce(""),zp=new Ce(""),jU=new Ce("");function l6e(){let t=null;return(e,n)=>{null===t&&(t=(G(c6e,{optional:!0})??[]).reduceRight(o6e,UU));const r=G(xg),i=r.add();return t(e,n).pipe(tp(()=>r.remove(i)))}}let $U=(()=>{var t;class e extends Q2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=G(xg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(zp),...this.injector.get(jU,[])]));this.chain=s.reduceRight((o,a)=>function a6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),UU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(tp(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(X2),De(yi))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const h6e=/^\)\]\}',?\n/;let qU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?$n(i.\u0275loadImpl()):Ve(null)).pipe(pi(()=>new fe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,D)=>a.setRequestHeader(y,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const y=r.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(r.responseType){const y=r.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const y=a.statusText||"OK",D=new Os(a.getAllResponseHeaders()),w=function p6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new pw({headers:D,status:a.status,statusText:y,url:w}),l},d=()=>{let{headers:y,status:D,statusText:w,url:j}=u(),Q=null;204!==D&&(Q=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=Q?200:0);let he=D>=200&&D<300;if("json"===r.responseType&&"string"==typeof Q){const Re=Q;Q=Q.replace(h6e,"");try{Q=""!==Q?JSON.parse(Q):null}catch(Ke){Q=Re,he&&(he=!1,Q={error:Ke,text:Q})}}he?(o.next(new rd({body:Q,headers:y,status:D,statusText:w,url:j||void 0})),o.complete()):o.error(new BU({error:Q,headers:y,status:D,statusText:w,url:j||void 0}))},f=y=>{const{url:D}=u(),w=new BU({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(w)};let h=!1;const p=y=>{h||(o.next(u()),h=!0);let D={type:nd.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),"text"===r.responseType&&a.responseText&&(D.partialText=a.responseText),o.next(D)},g=y=>{let D={type:nd.UploadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:nd.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(zP))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();const mw=new Ce("XSRF_ENABLED"),WU=new Ce("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),KU=new Ce("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class YU{}let _6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=RP(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Gr),De(ls),De(WU))},t.\u0275prov=Ee({token:t,factory:t.\u0275fac}),e})();function v6e(t,e){const n=t.url.toLowerCase();if(!G(mw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=G(YU).getToken(),i=G(KU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ca=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ca||{});function Rc(t,e){return{\u0275kind:t,\u0275providers:e}}function y6e(...t){const e=[Hp,qU,$U,{provide:Q2,useExisting:$U},{provide:X2,useExisting:qU},{provide:zp,useValue:v6e,multi:!0},{provide:mw,useValue:!0},{provide:YU,useClass:_6e}];for(const n of t)e.push(...n.\u0275providers);return function Iv(t){return{\u0275providers:t}}(e)}const QU=new Ce("LEGACY_INTERCEPTOR_FN");let XU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Ct({providers:[y6e(Rc(Ca.LegacyInterceptors,[{provide:QU,useFactory:l6e},{provide:zp,useExisting:QU,multi:!0}]))]}),e})();class A6e{constructor(){this._stats=new Rl}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class T6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}class e_{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class id{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class t_{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let Up=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};Up=un([di(2,en())],Up);let JU=(()=>{var t;class e{constructor(){this.httpClient=G(Hp),this.firestore=G(qi),this.localStorageService=G(Rr),this.dgAPI=G(zi),this.PLAYER_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=m(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r,i){var s=this;return m(function*(){console.log("BINGO!");const o=100+Math.floor(100*Math.random()),a=Wi(s.firestore,"players-planets");let c=new t_(0),l=new Map,u=yield s.getNumberOfPages();for(let d=1;d<=u;d++)yield s.scanRankingsPage(l,i,c,o,d,u),yield s.scanCombatRankingsPage(l,i,c,o,d,u);yield s.cacheRankings(l,a,r,new t_(0))})()}getNumberOfPages(){var r=this;return m(function*(){let i=yield ya(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a,c){var l=this;return m(function*(){let u=yield ya(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Rl);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="allied":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),("wp"===p.alliance||"skol"===p.alliance)&&(p.relation="hostile")}),s.number+=(yield l.atomicIncrement()),i.emit(new id(s.number,2*c,"load")),yield l.delay(o)})()}scanCombatRankingsPage(r,i,s,o,a,c){var l=this;return m(function*(){let u=yield ya(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new Rl);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),s.number+=(yield l.atomicIncrement()),i.emit(new id(s.number,2*c,"load")),yield l.delay(o)})()}cacheRankings(r,i,s,o){var a=this;return m(function*(){let c=[];r.forEach((l,u)=>{setTimeout(()=>{let d=Qh(Mr(i,u.toString())).subscribe(f=>{if(f){const h=Object.assign(new e_,f);l.planets=h.total,l.g1Total=h.g1Total,l.g213Total=h.g213Total,l.g1449Total=h.g1449Total}else l.planets=1;c.push(l),d.unsubscribe()})},50*o.number)}),yield a.delay(50*r.size).then(()=>{a.localStorageService.cache(et.PLAYERS_STATS,c),a.localStorageService.localMetadata().playersRankingsTurn=new Up(a.dgAPI.gameTurn(),0),s.emit(-1)})})()}atomicIncrement(){return m(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ZU=(()=>{var t;class e{constructor(){this.httpClient=G(Hp),this.firestore=G(qi),this.localStorageService=G(Rr),this.playersRankingsLoaderService=G(JU),this._updatesEmitter=new xt,this.ALLIANCES_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new xt,this.delay=function(){var r=m(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}updateMetadata(r){const i=Wi(this.firestore,"metadata");let s=H1(z1(i)).subscribe(o=>{const a=Object.assign([],o);let c=new T6e;c.dgtVersion=a[0].version,c.planetsTurn=a[1],c.playersRankingsTurn=a[2],this.localStorageService.cache(et.REMOTE_METADATA,c),r.next(!0),r.complete(),s.unsubscribe()})}loadTurnBasedUpdates(){let r=this.localStorageService.localMetadata();const i=this.localStorageService.get(et.REMOTE_METADATA),s=this.localStorageService.get(et.POST_INSTALL_FETCH_METADATA);if(s||0===r.planetsTurn.turn||i.planetsTurn.turn>r.planetsTurn.turn||i.planetsTurn.turn==r.planetsTurn.turn&&i.planetsTurn.version>r.planetsTurn.version){s||this._updatesEmitter.emit(1);let l=this.localStorageService.localMetadata(),u=this.localStorageService.remoteMetadata();l.planetsTurn.turn=u.planetsTurn.turn,l.planetsTurn.version=u.planetsTurn.version,s&&(l.dgtVersion=u.dgtVersion),this.localStorageService.cache(et.LOCAL_METADATA,l),s||this._updatesEmitter.emit(-1)}}loadRankings(r){const i=this.localStorageService.localMetadata(),s=this.localStorageService.get(et.POST_INSTALL_FETCH_METADATA),o=this.localStorageService.get(et.PLAYERS_STATS);(s||!o||0===i.playersRankingsTurn.turn||r>i.playersRankingsTurn.turn)&&this.loadPlayersRankings(this._playersRankingsEmitter);const l=this.localStorageService.get(et.ALLIANCE_MEMBERS);!s&&o&&(!l||0===i.allianceMembersTurn.turn||r>i.allianceMembersTurn.turn)&&this.loadAllianceMembers(r).catch(f=>console.log(f)),this.localStorageService.remove(et.POST_INSTALL_FETCH_METADATA)}loadPlayersRankings(r){this._updatesEmitter.emit(1),this.playersRankingsLoaderService.scanPlayersRankingsScreens(this._updatesEmitter,r).then(()=>{this._updatesEmitter.emit(-1)})}loadAllianceMembers(r){var i=this;return m(function*(){const s=yield ya(i.httpClient.get(i.ALLIANCES_URL,{responseType:"text"})),o=(new DOMParser).parseFromString(s,"text/html"),a=i.localStorageService.get(et.PLAYERS_STATS);if(!o.querySelector('[action="/alliances/join/"]')){let c=[];o.querySelectorAll(".allianceBox").forEach(u=>{u.querySelector(".plainHeader")&&"member list"===u.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&u.querySelectorAll(".player").forEach(d=>{let f=new A6e;if(null!=d.querySelector('[action^="/alliances/note/"]')){let h=d.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);f.dgId=h[h.length-2]}null==d.querySelector('[action="/alliances/kick/"] input')&&null!=d.querySelector(".right>b")&&(f.kickEta=d.querySelector(".right>b").textContent.trim().toLowerCase()),null!=d.querySelector("div.name")&&(f.name=d.querySelector("div.name").childNodes[0].textContent.trim(),f.stats=a.find(h=>h.name.toLowerCase()===f.name.toLowerCase()),c.push(f))})});let l=i.localStorageService.localMetadata();l.allianceMembersTurn.turn=r,i.localStorageService.cache(et.ALLIANCE_MEMBERS,c),i.localStorageService.cache(et.LOCAL_METADATA,l)}})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[X4e]}),t.\u0275inj=Ct({providers:[ZU],imports:[qr,to(()=>ro(Un_firebase)),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class D6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class ej{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}let n_=(()=>{var t;class e{constructor(){this.firestore=G(qi),this.dgAPI=G(zi),this.metadataPath=Wi(this.firestore,"metadata")}updateMetadataTurns(r){let i=Qh(Mr(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new Up(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,U1(Mr(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else ku(Mr(this.metadataPath,r),JSON.parse(JSON.stringify(new Up(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class tj{constructor(){this._planets=[]}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total}}}var sd;class _w{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=G(Hp),this.firestore=G(qi),this.dgAPI=G(zi),this.metadataService=G(n_),this.localStorageService=G(Rr),this._systemScanEmitter=new xt,this._planetScanEmitter=new xt,this.NAVIGATION_BASE_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=m(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return m(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=Wi(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let y=1;y<=r.SYSTEMS;y++)a&&(yield r.parseAndSave(s[u],g,y,d,f,h),r._systemScanEmitter.emit(new id(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe()})()}mergeAlliancePlanets(e){const n=Wi(this.firestore,"alliances-planets");e.forEach((r,i)=>{let s=Qh(Mr(n,i)).subscribe(o=>{o?(Object.assign(new tj,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.planets.length}),U1(Mr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.planets.length}),ku(Mr(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=Wi(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Qh(Mr(n,i.toString())).subscribe(o=>{o&&Object.assign(new e_,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?U1(Mr(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):ku(Mr(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return m(function*(){const c=yield ya(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new D6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new e_);let g=i.get(f.playerId).planets;if(g.some(D=>D.galaxy===e)?g.filter(w=>w.galaxy===e&&!w.planets.includes(f.location)).forEach(w=>w.planets.push(f.location)):i.get(f.playerId).planets.push(new ej(e,[f.location])),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new tj);let D=s.get(f.alliance).planets;D.some(j=>j.galaxy===e)?D.filter(Q=>Q.galaxy===e&&!Q.planets.includes(f.location)).forEach(Q=>Q.planets.push(f.location)):s.get(f.alliance).planets.push(new ej(e,[f.location])),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}ku(Mr(o,f.location),JSON.parse(JSON.stringify(f))).catch(D=>console.log(D))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(sd=_w).\u0275fac=function(e){return new(e||sd)},sd.\u0275prov=Ee({token:sd,factory:sd.\u0275fac,providedIn:"root"}),un([di(1,en())],_w.prototype,"scanPlanets",null);let P6e=(()=>{var t;class e{constructor(){this.httpClient=G(Hp),this.firestore=G(qi),this.metadataService=G(n_),this.localStorageService=G(Rr),this._playersRankingsEmitter=new xt,this.PLAYER_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(et.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=m(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return m(function*(){const s=100+Math.floor(100*Math.random()),o=Wi(i.firestore,"players-rankings"),a=Wi(i.firestore,"players-planets");let c=!0,l=r.subscribe(h=>{c=!h}),u=new t_(0),d=new Map,f=yield i.getNumberOfPages();for(let h=1;h<=f;h++)c&&(yield i.scanRankingsPage(d,u,s,h,f),yield i.scanCombatRankingsPage(d,u,s,h,f)),l.unsubscribe();yield i.saveRankings(d,c,o,a,new t_(0)),i.metadataService.updateMetadataTurns("players-rankings-turn")})()}getNumberOfPages(){var r=this;return m(function*(){let i=yield ya(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a){var c=this;return m(function*(){let l=yield ya(c.httpClient.get(c.PLAYER_RANKINGS_URL+o,{responseType:"text"}));(new DOMParser).parseFromString(l,"text/html").querySelectorAll(".rankingsList .entry").forEach(d=>{const f=parseInt(d.querySelector(".playerName").attributes.playerId.value.trim());r.has(f)||r.set(f,new Rl);let h=r.get(f);h.playerId=f,h.name=d.querySelector(".playerName").textContent.trim().toLowerCase(),h.rank=parseInt(d.querySelector(".rank").textContent.trim().replace(/,/g,"")),h.score=parseInt(d.querySelector(".score").textContent.trim().replace(/,/g,"")),h.combinedScore=h.combatScore+h.score,h.alliance=d.querySelector(".allianceName")?d.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",d.classList.contains("myRow")?h.relation="allied":d.querySelector(".hostile")?h.relation="neutral":d.querySelector(".allied")&&(h.relation="allied"),"sol"===h.alliance&&(h.relation="nap"),("wp"===h.alliance||"skol"===h.alliance)&&(h.relation="hostile")}),i.number+=(yield c.atomicIncrement()),c._playersRankingsEmitter.emit(new id(i.number,2*a,"load")),yield c.delay(s)})()}scanCombatRankingsPage(r,i,s,o,a){var c=this;return m(function*(){let l=yield ya(c.httpClient.get(c.PLAYER_COMBAT_RANKINGS_URL+o,{responseType:"text"}));(new DOMParser).parseFromString(l,"text/html").querySelectorAll(".rankingsList .entry").forEach(d=>{const f=parseInt(d.querySelector(".playerName").attributes.playerId.value.trim());r.has(f)||r.set(f,new Rl);let h=r.get(f);h.combatScore=parseInt(d.querySelector(".score").textContent.trim().replace(/,/g,"")),h.combinedScore=h.combatScore+h.score}),i.number+=(yield c.atomicIncrement()),c._playersRankingsEmitter.emit(new id(i.number,2*a,"load")),yield c.delay(s)})()}saveRankings(r,i,s,o,a){var c=this;return m(function*(){r.forEach((l,u)=>{i&&setTimeout(()=>{let d=Qh(Mr(o,u.toString())).subscribe(f=>{if(f){const h=Object.assign(new e_,f);l.planets=h.total,l.g1Total=h.g1Total,l.g213Total=h.g213Total,l.g1449Total=h.g1449Total}else l.planets=1;ku(Mr(s,u.toString()),JSON.parse(JSON.stringify(l))).then(()=>{c._playersRankingsEmitter.emit(new id(++a.number,r.size,"save"))}).catch(h=>console.log(h)),d.unsubscribe()})},50*a.number)}),yield c.delay(50*r.size)})()}atomicIncrement(){return m(function*(){return 1})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),M6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Ir))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&tn("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const R6e=["planetsLoadModal"],k6e=["rankingsLoadModal"],N6e=["planetProgressBar"],O6e=["playersProgressBar"],F6e=["planetCounter"];function V6e(t,e){if(1&t){const n=Jd();Oa(0),H(1,"div",1)(2,"div",2)(3,"b",3),Y(4,"DGT Admin Panel"),W()(),H(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),Y(10,"Universe Scan"),W()(),H(11,"span",8),Y(12,"Use this with caution. It's a very expensive operation for both DG server and DGT database!"),W(),H(13,"span",8),Y(14,"Usage examples:"),W(),H(15,"ul")(16,"li"),Y(17,"1,2 - G01 and G02"),W(),H(18,"li"),Y(19,"34 - G34"),W(),H(20,"li"),Y(21,"special: 213 - first ring (G02-G13)"),W(),H(22,"li"),Y(23,"special: 1449 - second ring (G14-G49)"),W(),H(24,"li"),Y(25,"special: 149 - everything (G01-G49)"),W()()(),H(26,"form")(27,"input",9),tn("ngModelChange",function(i){return is(n),ss(hn().controls.galaxies=i)}),W(),H(28,"button",10),tn("click",function(){return is(n),ss(hn().scanNavigationScreen())}),Y(29,"Fetch"),W()()(),it(30,"span",11),H(31,"div",12)(32,"div",6)(33,"span",7)(34,"b"),Y(35,"Players Rankings"),W()(),H(36,"span",8),Y(37,"Light operation. Can be triggered every turn and should always be triggered after a "),H(38,"b"),Y(39,"Universe Scan"),W()()(),H(40,"form")(41,"button",10),tn("click",function(){return is(n),ss(hn().scanPlayersRankingScreens())}),Y(42,"Fetch"),W()()()()(),H(43,"div",13,14)(45,"div",15)(46,"div",16)(47,"span",17),Y(48),W(),H(49,"span",18,19),Y(51),W()(),H(52,"div",20)(53,"span",21),Y(54),W(),it(55,"span",22,23),W(),H(57,"div",24)(58,"button",25),tn("click",function(){return is(n),ss(hn().cancelScan())}),Y(59,"Cancel"),W()()()(),H(60,"div",26,27)(62,"div",15)(63,"div",16)(64,"span",28),Y(65),W()(),H(66,"div",20)(67,"span",21),Y(68),W(),it(69,"span",22,29),W(),H(71,"div",24)(72,"button",25),tn("click",function(){return is(n),ss(hn().cancelScan())}),Y(73,"Cancel"),W()()()(),Fa()}if(2&t){const n=hn();we(27),Ze("ngModel",n.controls.galaxies),we(21),ct(n.loadedSystem),we(3),ct(n.loadedPlanet),we(3),Oo("",n.planetPercentage,"%"),we(11),ct(n.loadedRankings),we(3),Oo("",n.playersPercentage,"%")}}let L6e=(()=>{var t;class e{constructor(){this.planetsLoaderService=G(_w),this.playersRankingsLoaderService=G(P6e),this.changeDetection=G(Xs),this.authService=G(Ts),this.cancelScanEmitter=new xt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return m(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}scanPlayersRankingScreens(){var r=this;return m(function*(){r.authenticated&&(r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.playersRankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" players",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.playersRankingsLoaderService.scanPlayersRankingsScreens(r.cancelScanEmitter),r.cancelScan())})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(jr(R6e,5),jr(k6e,5),jr(N6e,5),jr(O6e,5),jr(F6e,5)),2&r){let s;wr(s=Ar())&&(i.planetsLoadModal=s.first),wr(s=Ar())&&(i.rankingsLoadModal=s.first),wr(s=Ar())&&(i.planetProgressBar=s.first),wr(s=Ar())&&(i.playersProgressBar=s.first),wr(s=Ar())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","admin-load-separator"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&lr(0,V6e,74,6,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[gs,sw,B2,nU,Kb,iw,Lp,M6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], .load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-rankings[_ngcontent-%COMP%]{margin-top:5px!important}#admin-load-rankings[_ngcontent-%COMP%], #admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, #admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-rankings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:left!important;width:100%!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),B6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[L6e]}),t.\u0275inj=Ct({providers:[n_],imports:[qr,fw,XU,to(()=>ro(Un_firebase)),$o(()=>Go()),vc(()=>yc()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),H6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-alliance-rankings"]],decls:0,vars:0,template:function(r,i){}}),e})(),z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[H6e]}),t.\u0275inj=Ct({imports:[qr]}),e})();const U6e=["dgtUpdatingModel"],j6e=["rankingsLoadModal"],$6e=["playersProgressBar"];function G6e(t,e){if(1&t&&(Oa(0),H(1,"div",1,2)(3,"div",3)(4,"span"),Y(5,"Downloading DGT metadata updates..."),W(),it(6,"img",4),W()(),H(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),Y(12),W()(),H(13,"div",10)(14,"span",11),Y(15),W(),it(16,"span",12,13),W()()(),Fa()),2&t){const n=hn();we(12),ct(n.loadedRankings),we(3),Oo("",n.playersPercentage,"%")}}let q6e=(()=>{var t;class e{constructor(){this.localStorageService=G(Rr),this.synchronizerService=G(ZU),this.dgAPI=G(zi),this.authService=G(Ts),this.changeDetection=G(Xs),this.authenticated=!1,this.playersPercentage=0,this.delay=function(){var r=m(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.delay(this.localStorageService.get(et.POST_INSTALL_FETCH_METADATA)?0:1e3).then(()=>{let r=0;this.synchronizerService.updatesEmitter.subscribe(s=>{r+=s,0==r?this.delay(2500).then(()=>{this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.loadRankings(),window.location.reload()}):(this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(2500).then(()=>{}))});let i=new fe(s=>{this.synchronizerService.updateMetadata(s)}).subscribe(s=>{s&&(this.synchronizerService.loadTurnBasedUpdates(),i.unsubscribe())})})}loadRankings(){this.playersProgressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.rankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%";break;case"save":this.loadedRankings="Saving "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%"}}),this.synchronizerService.loadRankings(this.dgAPI.gameTurn())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(jr(U6e,5),jr(j6e,5),jr($6e,5)),2&r){let s;wr(s=Ar())&&(i.dgtUpdatingModel=s.first),wr(s=Ar())&&(i.rankingsLoadModal=s.first),wr(s=Ar())&&(i.playersProgressBar=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["playersProgressBar",""]],template:function(r,i){1&r&&lr(0,G6e,18,2,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[gs],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),W6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[q6e]}),t.\u0275inj=Ct({providers:[JU,n_],imports:[qr,XU,to(()=>ro(Un_firebase)),vc(()=>yc()),$o(()=>Go()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),K6e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),Y6e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=K6e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Q6e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=G(Y6e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),X6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[Q6e]}),t.\u0275inj=Ct({imports:[qr]}),e})(),J6e=(()=>{var t;class e{constructor(){this.dgApi=G(zi),this.localStorageService=G(Rr)}fetchAndClear(){let r=this.dgApi.playerRankings();const i=this.localStorageService.get(et.PLAYERS_STATS);for(const s of i){const o=r.get(s.playerId);o&&(o.planets=s.planets,o.g1449Total=s.g1449Total,o.g213Total=s.g213Total,o.g1Total=s.g1Total)}return document.querySelector(".playerRankingsList").remove(),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ee({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Z6e=(()=>{var t;class e{constructor(){this.decimalPipe=G(ms)}transform(r,i){return this.decimalPipe.transform(Math.round(r/i),"1.0","en_US")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"scorePerPlanetFormatter",type:t,pure:!0}),e})();const e3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}};function t3e(t,e){if(1&t&&(H(0,"tr",16)(1,"td",3),Y(2),W(),H(3,"td",4),Y(4),W(),H(5,"td",5),Y(6),W(),H(7,"td",6)(8,"a",17),Y(9),W()(),H(10,"td",7)(11,"a",17),Y(12),W()(),H(13,"td",8)(14,"a",17),Y(15),W()(),H(16,"td",9)(17,"a",17),Y(18),W()(),it(19,"td",10),H(20,"td",11),Y(21),Gt(22,"scorePerPlanetFormatter"),W(),H(23,"td",12),Y(24),Gt(25,"number"),W()()),2&t){const n=e.$implicit;Ze("ngClass",e7(17,e3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),we(2),ct(n.rank),we(2),ct(n.alliance),we(2),ct(n.name),we(3),ct(n.planets),we(3),ct(n.g1Total),we(3),ct(n.g213Total),we(3),ct(n.g1449Total),we(3),ct(o7(22,10,n.score,n.planets)),we(3),ct(xi(25,13,n.score,"1.0","en-US"))}}function n3e(t,e){if(1&t&&(Oa(0),H(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),Y(6,"#"),W(),H(7,"th",4),Y(8,"Tag"),W(),H(9,"th",5),Y(10,"Player"),W(),H(11,"th",6),Y(12,"Planets"),W(),H(13,"th",7),Y(14,"G1"),W(),H(15,"th",8),Y(16,"Inner"),W(),H(17,"th",9),Y(18,"Outer"),W(),it(19,"th",10),H(20,"th",11),Y(21,"Score/Planet"),W(),H(22,"th",12),Y(23,"Score"),W()()(),H(24,"tbody"),lr(25,t3e,26,23,"tr",13),W()()(),H(26,"div",14)(27,"div",15)(28,"h2"),Y(29,"Riddick"),W(),H(30,"table")(31,"tr")(32,"th"),Y(33,"G7"),W(),H(34,"td"),Y(35,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),W()(),H(36,"tr")(37,"th"),Y(38,"G8"),W(),H(39,"td"),Y(40,"8.4.3.5"),W()(),H(41,"tr")(42,"th"),Y(43,"G9"),W(),H(44,"td"),Y(45,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),W()()()()(),Fa()),2&t){const n=hn();we(25),Ze("ngForOf",n.rankings.values())}}let r3e=(()=>{var t;class e{constructor(){this.playerRankingsService=G(J6e),this.rankings=new Map,this.authService=G(Ts),this.authenticated=!1,this.Math=Math,this.authService.authState.subscribe(r=>{this.authenticated=r.status,this.authenticated&&(this.rankings=this.playerRankingsService.fetchAndClear())}),this.authService.checkLoginValidity()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kn({type:t,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"empty"],[1,"score-per-planet"],[1,"score"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(r,i){1&r&&lr(0,n3e,46,1,"ng-container",0),2&r&&Ze("ngIf",i.authenticated)},dependencies:[f4,zg,gs,ms,Z6e],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:50px}.empty[_ngcontent-%COMP%]{width:100px}.score[_ngcontent-%COMP%]{width:75px}.score-per-planet[_ngcontent-%COMP%]{width:50px;text-align:center}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;padding:5px!important;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}"]}),e})(),i3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t,bootstrap:[r3e]}),t.\u0275inj=Ct({providers:[ms],imports:[qr,fw,Bb,to(()=>ro(Un_firebase)),$o(()=>Go()),Co(()=>xo(no(),{provider:new Qi(Un_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Qr=Ite();let s3e=window.location.pathname.split(/\//g);Qr.bootstrapModule(W4e).then(()=>{Qr.bootstrapModule(G4e).then(()=>{Qr.bootstrapModule(A2e).then(()=>{Qr.bootstrapModule(W6e).then(()=>{Qr.bootstrapModule(yme).then(()=>{!function o3e(t){2===t.length&&0===t[1].trim().length&&(Qr.bootstrapModule(S6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),Qr.bootstrapModule(B6e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&Qr.bootstrapModule(_2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&Qr.bootstrapModule(E2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&Qr.bootstrapModule(I2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&Qr.bootstrapModule(j4e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&Qr.bootstrapModule(z6e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&Qr.bootstrapModule(i3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&Qr.bootstrapModule(X6e).catch(e=>console.error("Error loading ResearchModule: "+e))}(s3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,U=I.lib.BlockCipher,J=I.algo,N=[],K=[],v=[],b=[],M=[],E=[],T=[],C=[],S=[],A=[];!function(){for(var _=[],x=0;x<256;x++)_[x]=x<128?x<<1:x<<1^283;var L=0,O=0;for(x=0;x<256;x++){var z=O^O<<1^O<<2^O<<3^O<<4;N[L]=z=z>>>8^255&z^99,K[z]=L;var pe,$=_[L],de=_[$],le=_[de];v[L]=(pe=257*_[z]^16843008*z)<<24|pe>>>8,b[L]=pe<<16|pe>>>16,M[L]=pe<<8|pe>>>24,E[L]=pe,T[z]=(pe=16843009*le^65537*de^257*$^16843008*L)<<24|pe>>>8,C[z]=pe<<16|pe>>>16,S[z]=pe<<8|pe>>>24,A[z]=pe,L?(L=$^_[_[_[le^$]]],O^=_[_[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=J.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,L=x.words,O=x.sigBytes/4,$=4*((this._nRounds=O+6)+1),de=this._keySchedule=[],le=0;le<$;le++)le<O?de[le]=L[le]:(_=de[le-1],le%O?O>6&&le%O==4&&(_=N[_>>>24]<<24|N[_>>>16&255]<<16|N[_>>>8&255]<<8|N[255&_]):(_=N[(_=_<<8|_>>>24)>>>24]<<24|N[_>>>16&255]<<16|N[_>>>8&255]<<8|N[255&_],_^=F[le/O|0]<<24),de[le]=de[le-O]^_);for(var pe=this._invKeySchedule=[],Ae=0;Ae<$;Ae++){if(le=$-Ae,Ae%4)var _=de[le];else _=de[le-4];pe[Ae]=Ae<4||le<=4?_:T[N[_>>>24]]^C[N[_>>>16&255]]^S[N[_>>>8&255]]^A[N[255&_]]}}},encryptBlock:function(_,x){this._doCryptBlock(_,x,this._keySchedule,v,b,M,E,N)},decryptBlock:function(_,x){var L=_[x+1];_[x+1]=_[x+3],_[x+3]=L,this._doCryptBlock(_,x,this._invKeySchedule,T,C,S,A,K),L=_[x+1],_[x+1]=_[x+3],_[x+3]=L},_doCryptBlock:function(_,x,L,O,z,$,de,le){for(var pe=this._nRounds,Ae=_[x]^L[0],X=_[x+1]^L[1],ue=_[x+2]^L[2],ve=_[x+3]^L[3],ce=4,Ne=1;Ne<pe;Ne++){var fe=O[Ae>>>24]^z[X>>>16&255]^$[ue>>>8&255]^de[255&ve]^L[ce++],qe=O[X>>>24]^z[ue>>>16&255]^$[ve>>>8&255]^de[255&Ae]^L[ce++],tt=O[ue>>>24]^z[ve>>>16&255]^$[Ae>>>8&255]^de[255&X]^L[ce++],Z=O[ve>>>24]^z[Ae>>>16&255]^$[X>>>8&255]^de[255&ue]^L[ce++];Ae=fe,X=qe,ue=tt,ve=Z}fe=(le[Ae>>>24]<<24|le[X>>>16&255]<<16|le[ue>>>8&255]<<8|le[255&ve])^L[ce++],qe=(le[X>>>24]<<24|le[ue>>>16&255]<<16|le[ve>>>8&255]<<8|le[255&Ae])^L[ce++],tt=(le[ue>>>24]<<24|le[ve>>>16&255]<<16|le[Ae>>>8&255]<<8|le[255&X])^L[ce++],Z=(le[ve>>>24]<<24|le[Ae>>>16&255]<<16|le[X>>>8&255]<<8|le[255&ue])^L[ce++],_[x]=fe,_[x+1]=qe,_[x+2]=tt,_[x+3]=Z},keySize:8});I.AES=U._createHelper(k)}(),P.AES)},172:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,U=I.lib.BlockCipher;const N=16,K=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function M(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let L,_=F,x=k;for(let O=0;O<N;++O)_^=A.pbox[O],x=M(A,_)^x,L=_,_=x,x=L;return L=_,_=x,x=L,x^=A.pbox[N],_^=A.pbox[N+1],{left:_,right:x}}var S=I.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function C(A,F,k){for(let z=0;z<4;z++){A.sbox[z]=[];for(let $=0;$<256;$++)A.sbox[z][$]=v[z][$]}let _=0;for(let z=0;z<N+2;z++)A.pbox[z]=K[z]^F[_],_++,_>=k&&(_=0);let x=0,L=0,O=0;for(let z=0;z<N+2;z+=2)O=E(A,x,L),x=O.left,L=O.right,A.pbox[z]=x,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let $=0;$<256;$+=2)O=E(A,x,L),x=O.left,L=O.right,A.sbox[z][$]=x,A.sbox[z][$+1]=L;return!0}(b,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function T(A,F,k){let L,_=F,x=k;for(let O=N+1;O>1;--O)_^=A.pbox[O],x=M(A,_)^x,L=_,_=x,x=L;return L=_,_=x,x=L,x^=A.pbox[1],_^=A.pbox[0],{left:_,right:x}}(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=U._createHelper(S)}(),P.Blowfish)},270:function(ye,Ie,V){var q,U,J,N,K,v,M,T,C,A,F,k,x,O,$,de,pe,Ae,P;ye.exports=(P=V(12),V(66),void(P.lib.Cipher||(q=P,U=q.lib,J=U.Base,N=U.WordArray,K=U.BufferedBlockAlgorithm,v=q.enc,M=v.Base64,T=q.algo.EvpKDF,C=U.Cipher=K.extend({cfg:J.extend(),createEncryptor:function(X,ue){return this.create(this._ENC_XFORM_MODE,X,ue)},createDecryptor:function(X,ue){return this.create(this._DEC_XFORM_MODE,X,ue)},init:function(X,ue,ve){this.cfg=this.cfg.extend(ve),this._xformMode=X,this._key=ue,this.reset()},reset:function(){K.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(ue){return"string"==typeof ue?Ae:de}return function(ue){return{encrypt:function(ve,ce,Ne){return X(ce).encrypt(ue,ve,ce,Ne)},decrypt:function(ve,ce,Ne){return X(ce).decrypt(ue,ve,ce,Ne)}}}}()}),U.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=q.mode={},F=U.BlockCipherMode=J.extend({createEncryptor:function(X,ue){return this.Encryptor.create(X,ue)},createDecryptor:function(X,ue){return this.Decryptor.create(X,ue)},init:function(X,ue){this._cipher=X,this._iv=ue}}),k=A.CBC=function(){var X=F.extend();function ue(ve,ce,Ne){var fe,qe=this._iv;qe?(fe=qe,this._iv=undefined):fe=this._prevBlock;for(var tt=0;tt<Ne;tt++)ve[ce+tt]^=fe[tt]}return X.Encryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize;ue.call(this,ve,ce,fe),Ne.encryptBlock(ve,ce),this._prevBlock=ve.slice(ce,ce+fe)}}),X.Decryptor=X.extend({processBlock:function(ve,ce){var Ne=this._cipher,fe=Ne.blockSize,qe=ve.slice(ce,ce+fe);Ne.decryptBlock(ve,ce),ue.call(this,ve,ce,fe),this._prevBlock=qe}}),X}(),x=(q.pad={}).Pkcs7={pad:function(X,ue){for(var ve=4*ue,ce=ve-X.sigBytes%ve,Ne=ce<<24|ce<<16|ce<<8|ce,fe=[],qe=0;qe<ce;qe+=4)fe.push(Ne);var tt=N.create(fe,ce);X.concat(tt)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},U.BlockCipher=C.extend({cfg:C.cfg.extend({mode:k,padding:x}),reset:function(){var X;C.reset.call(this);var ue=this.cfg,ve=ue.iv,ce=ue.mode;this._xformMode==this._ENC_XFORM_MODE?X=ce.createEncryptor:(X=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,ve&&ve.words):(this._mode=X.call(ce,this,ve&&ve.words),this._mode.__creator=X)},_doProcessBlock:function(X,ue){this._mode.processBlock(X,ue)},_doFinalize:function(){var X,ue=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ue.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),ue.unpad(X)),X},blockSize:4}),O=U.CipherParams=J.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),$=(q.format={}).OpenSSL={stringify:function(X){var ve=X.ciphertext,ce=X.salt;return(ce?N.create([1398893684,1701076831]).concat(ce).concat(ve):ve).toString(M)},parse:function(X){var ue,ve=M.parse(X),ce=ve.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(ue=N.create(ce.slice(2,4)),ce.splice(0,4),ve.sigBytes-=16),O.create({ciphertext:ve,salt:ue})}},de=U.SerializableCipher=J.extend({cfg:J.extend({format:$}),encrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce);var Ne=X.createEncryptor(ve,ce),fe=Ne.finalize(ue),qe=Ne.cfg;return O.create({ciphertext:fe,key:ve,iv:qe.iv,algorithm:X,mode:qe.mode,padding:qe.padding,blockSize:X.blockSize,formatter:ce.format})},decrypt:function(X,ue,ve,ce){return ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format),X.createDecryptor(ve,ce).finalize(ue.ciphertext)},_parse:function(X,ue){return"string"==typeof X?ue.parse(X,this):X}}),pe=(q.kdf={}).OpenSSL={execute:function(X,ue,ve,ce,Ne){if(ce||(ce=N.random(8)),Ne)var fe=T.create({keySize:ue+ve,hasher:Ne}).compute(X,ce);else fe=T.create({keySize:ue+ve}).compute(X,ce);var qe=N.create(fe.words.slice(ue),4*ve);return fe.sigBytes=4*ue,O.create({key:fe,iv:qe,salt:ce})}},Ae=U.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:pe}),encrypt:function(X,ue,ve,ce){var Ne=(ce=this.cfg.extend(ce)).kdf.execute(ve,X.keySize,X.ivSize,ce.salt,ce.hasher);ce.iv=Ne.iv;var fe=de.encrypt.call(this,X,ue,Ne.key,ce);return fe.mixIn(Ne),fe},decrypt:function(X,ue,ve,ce){ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format);var Ne=ce.kdf.execute(ve,X.keySize,X.ivSize,ue.salt,ce.hasher);return ce.iv=Ne.iv,de.decrypt.call(this,X,ue,Ne.key,ce)}}))))},12:function(ye,Ie,V){var P;ye.exports=(P=P||function(I,q){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var J=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function _(){}return function(x){var L;return _.prototype=x,L=new _,_.prototype=null,L}}(),K={},v=K.lib={},b=v.Base={extend:function(_){var x=N(this);return _&&x.mixIn(_),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},M=v.WordArray=b.extend({init:function(_,x){_=this.words=_||[],this.sigBytes=null!=x?x:4*_.length},toString:function(_){return(_||T).stringify(this)},concat:function(_){var x=this.words,L=_.words,O=this.sigBytes,z=_.sigBytes;if(this.clamp(),O%4)for(var $=0;$<z;$++)x[O+$>>>2]|=(L[$>>>2]>>>24-$%4*8&255)<<24-(O+$)%4*8;else for(var le=0;le<z;le+=4)x[O+le>>>2]=L[le>>>2];return this.sigBytes+=z,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=I.ceil(x/4)},clone:function(){var _=b.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],L=0;L<_;L+=4)x.push(J());return new M.init(x,_)}}),E=K.enc={},T=E.Hex={stringify:function(_){for(var x=_.words,L=_.sigBytes,O=[],z=0;z<L;z++){var $=x[z>>>2]>>>24-z%4*8&255;O.push(($>>>4).toString(16)),O.push((15&$).toString(16))}return O.join("")},parse:function(_){for(var x=_.length,L=[],O=0;O<x;O+=2)L[O>>>3]|=parseInt(_.substr(O,2),16)<<24-O%8*4;return new M.init(L,x/2)}},C=E.Latin1={stringify:function(_){for(var x=_.words,L=_.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(x[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(_){for(var x=_.length,L=[],O=0;O<x;O++)L[O>>>2]|=(255&_.charCodeAt(O))<<24-O%4*8;return new M.init(L,x)}},S=E.Utf8={stringify:function(_){try{return decodeURIComponent(escape(C.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return C.parse(unescape(encodeURIComponent(_)))}},A=v.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(_){"string"==typeof _&&(_=S.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,L=this._data,O=L.words,z=L.sigBytes,$=this.blockSize,le=z/(4*$),pe=(le=_?I.ceil(le):I.max((0|le)-this._minBufferSize,0))*$,Ae=I.min(4*pe,z);if(pe){for(var X=0;X<pe;X+=$)this._doProcessBlock(O,X);x=O.splice(0,pe),L.sigBytes-=Ae}return new M.init(x,Ae)},clone:function(){var _=b.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),k=(v.Hasher=A.extend({cfg:b.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(x,L){return new _.init(L).finalize(x)}},_createHmacHelper:function(_){return function(x,L){return new k.HMAC.init(_,L).finalize(x)}}}),K.algo={});return K}(Math),P)},506:function(ye,Ie,V){var P,U;ye.exports=(P=V(12),U=P.lib.WordArray,P.enc.Base64={stringify:function(v){var b=v.words,M=v.sigBytes,E=this._map;v.clamp();for(var T=[],C=0;C<M;C+=3)for(var k=(b[C>>>2]>>>24-C%4*8&255)<<16|(b[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|b[C+2>>>2]>>>24-(C+2)%4*8&255,_=0;_<4&&C+.75*_<M;_++)T.push(E.charAt(k>>>6*(3-_)&63));var x=E.charAt(64);if(x)for(;T.length%4;)T.push(x);return T.join("")},parse:function(v){var b=v.length,M=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<M.length;T++)E[M.charCodeAt(T)]=T}var C=M.charAt(64);if(C){var S=v.indexOf(C);-1!==S&&(b=S)}return function K(v,b,M){for(var E=[],T=0,C=0;C<b;C++)if(C%4){var S=M[v.charCodeAt(C-1)]<<C%4*2,A=M[v.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return U.create(E,T)}(v,b,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},P.enc.Base64)},523:function(ye,Ie,V){var P,U;ye.exports=(P=V(12),U=P.lib.WordArray,P.enc.Base64url={stringify:function(v,b){void 0===b&&(b=!0);var M=v.words,E=v.sigBytes,T=b?this._safe_map:this._map;v.clamp();for(var C=[],S=0;S<E;S+=3)for(var _=(M[S>>>2]>>>24-S%4*8&255)<<16|(M[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|M[S+2>>>2]>>>24-(S+2)%4*8&255,x=0;x<4&&S+.75*x<E;x++)C.push(T.charAt(_>>>6*(3-x)&63));var L=T.charAt(64);if(L)for(;C.length%4;)C.push(L);return C.join("")},parse:function(v,b){void 0===b&&(b=!0);var M=v.length,E=b?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var C=0;C<E.length;C++)T[E.charCodeAt(C)]=C}var S=E.charAt(64);if(S){var A=v.indexOf(S);-1!==A&&(M=A)}return function K(v,b,M){for(var E=[],T=0,C=0;C<b;C++)if(C%4){var S=M[v.charCodeAt(C-1)]<<C%4*2,A=M[v.charCodeAt(C)]>>>6-C%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return U.create(E,T)}(v,M,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},P.enc.Base64url)},454:function(ye,Ie,V){var P;ye.exports=(P=V(12),function(){var U=P.lib.WordArray,J=P.enc;function K(v){return v<<8&4278255360|v>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(v){for(var b=v.words,M=v.sigBytes,E=[],T=0;T<M;T+=2)E.push(String.fromCharCode(b[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(v){for(var b=v.length,M=[],E=0;E<b;E++)M[E>>>1]|=v.charCodeAt(E)<<16-E%2*16;return U.create(M,2*b)}},J.Utf16LE={stringify:function(v){for(var b=v.words,M=v.sigBytes,E=[],T=0;T<M;T+=2){var C=K(b[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(C))}return E.join("")},parse:function(v){for(var b=v.length,M=[],E=0;E<b;E++)M[E>>>1]|=K(v.charCodeAt(E)<<16-E%2*16);return U.create(M,2*b)}}}(),P.enc.Utf16)},66:function(ye,Ie,V){var I,q,U,J,N,v,P;ye.exports=(P=V(12),V(446),V(990),J=(q=(I=P).lib).WordArray,v=(N=I.algo).EvpKDF=(U=q.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,M){for(var E,T=this.cfg,C=T.hasher.create(),S=J.create(),A=S.words,F=T.keySize,k=T.iterations;A.length<F;){E&&C.update(E),E=C.update(b).finalize(M),C.reset();for(var _=1;_<k;_++)E=C.finalize(E),C.reset();S.concat(E)}return S.sigBytes=4*F,S}}),I.EvpKDF=function(b,M,E){return v.create(E).compute(b,M)},P.EvpKDF)},826:function(ye,Ie,V){var P,J,K;ye.exports=(P=V(12),V(270),J=P.lib.CipherParams,K=P.enc.Hex,P.format.Hex={stringify:function(M){return M.ciphertext.toString(K)},parse:function(M){var E=K.parse(M);return J.create({ciphertext:E})}},P.format.Hex)},990:function(ye,Ie,V){var P,N;ye.exports=(P=V(12),N=P.enc.Utf8,void(P.algo.HMAC=P.lib.Base.extend({init:function(b,M){b=this._hasher=new b.init,"string"==typeof M&&(M=N.parse(M));var E=b.blockSize,T=4*E;M.sigBytes>T&&(M=b.finalize(M)),M.clamp();for(var C=this._oKey=M.clone(),S=this._iKey=M.clone(),A=C.words,F=S.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;C.sigBytes=S.sigBytes=T,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var M=this._hasher,E=M.finalize(b);return M.reset(),M.finalize(this._oKey.clone().concat(E))}})))},874:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),P)},37:function(ye,Ie,V){var P;ye.exports=(P=V(12),function(){if("function"==typeof ArrayBuffer){var U=P.lib.WordArray,J=U.init,N=U.init=function(K){if(K instanceof ArrayBuffer&&(K=new Uint8Array(K)),(K instanceof Int8Array||typeof Uint8ClampedArray<"u"&&K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array)&&(K=new Uint8Array(K.buffer,K.byteOffset,K.byteLength)),K instanceof Uint8Array){for(var v=K.byteLength,b=[],M=0;M<v;M++)b[M>>>2]|=K[M]<<24-M%4*8;J.call(this,b,v)}else J.apply(this,arguments)};N.prototype=U}}(),P.lib.WordArray)},873:function(ye,Ie,V){var P;ye.exports=(P=V(12),function(I){var q=P,U=q.lib,J=U.WordArray,N=U.Hasher,K=q.algo,v=[];!function(){for(var S=0;S<64;S++)v[S]=4294967296*I.abs(I.sin(S+1))|0}();var b=K.MD5=N.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var F=0;F<16;F++){var k=A+F,_=S[k];S[k]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8)}var x=this._hash.words,L=S[A+0],O=S[A+1],z=S[A+2],$=S[A+3],de=S[A+4],le=S[A+5],pe=S[A+6],Ae=S[A+7],X=S[A+8],ue=S[A+9],ve=S[A+10],ce=S[A+11],Ne=S[A+12],fe=S[A+13],qe=S[A+14],tt=S[A+15],Z=x[0],ae=x[1],ne=x[2],oe=x[3];Z=M(Z,ae,ne,oe,L,7,v[0]),oe=M(oe,Z,ae,ne,O,12,v[1]),ne=M(ne,oe,Z,ae,z,17,v[2]),ae=M(ae,ne,oe,Z,$,22,v[3]),Z=M(Z,ae,ne,oe,de,7,v[4]),oe=M(oe,Z,ae,ne,le,12,v[5]),ne=M(ne,oe,Z,ae,pe,17,v[6]),ae=M(ae,ne,oe,Z,Ae,22,v[7]),Z=M(Z,ae,ne,oe,X,7,v[8]),oe=M(oe,Z,ae,ne,ue,12,v[9]),ne=M(ne,oe,Z,ae,ve,17,v[10]),ae=M(ae,ne,oe,Z,ce,22,v[11]),Z=M(Z,ae,ne,oe,Ne,7,v[12]),oe=M(oe,Z,ae,ne,fe,12,v[13]),ne=M(ne,oe,Z,ae,qe,17,v[14]),Z=E(Z,ae=M(ae,ne,oe,Z,tt,22,v[15]),ne,oe,O,5,v[16]),oe=E(oe,Z,ae,ne,pe,9,v[17]),ne=E(ne,oe,Z,ae,ce,14,v[18]),ae=E(ae,ne,oe,Z,L,20,v[19]),Z=E(Z,ae,ne,oe,le,5,v[20]),oe=E(oe,Z,ae,ne,ve,9,v[21]),ne=E(ne,oe,Z,ae,tt,14,v[22]),ae=E(ae,ne,oe,Z,de,20,v[23]),Z=E(Z,ae,ne,oe,ue,5,v[24]),oe=E(oe,Z,ae,ne,qe,9,v[25]),ne=E(ne,oe,Z,ae,$,14,v[26]),ae=E(ae,ne,oe,Z,X,20,v[27]),Z=E(Z,ae,ne,oe,fe,5,v[28]),oe=E(oe,Z,ae,ne,z,9,v[29]),ne=E(ne,oe,Z,ae,Ae,14,v[30]),Z=T(Z,ae=E(ae,ne,oe,Z,Ne,20,v[31]),ne,oe,le,4,v[32]),oe=T(oe,Z,ae,ne,X,11,v[33]),ne=T(ne,oe,Z,ae,ce,16,v[34]),ae=T(ae,ne,oe,Z,qe,23,v[35]),Z=T(Z,ae,ne,oe,O,4,v[36]),oe=T(oe,Z,ae,ne,de,11,v[37]),ne=T(ne,oe,Z,ae,Ae,16,v[38]),ae=T(ae,ne,oe,Z,ve,23,v[39]),Z=T(Z,ae,ne,oe,fe,4,v[40]),oe=T(oe,Z,ae,ne,L,11,v[41]),ne=T(ne,oe,Z,ae,$,16,v[42]),ae=T(ae,ne,oe,Z,pe,23,v[43]),Z=T(Z,ae,ne,oe,ue,4,v[44]),oe=T(oe,Z,ae,ne,Ne,11,v[45]),ne=T(ne,oe,Z,ae,tt,16,v[46]),Z=C(Z,ae=T(ae,ne,oe,Z,z,23,v[47]),ne,oe,L,6,v[48]),oe=C(oe,Z,ae,ne,Ae,10,v[49]),ne=C(ne,oe,Z,ae,qe,15,v[50]),ae=C(ae,ne,oe,Z,le,21,v[51]),Z=C(Z,ae,ne,oe,Ne,6,v[52]),oe=C(oe,Z,ae,ne,$,10,v[53]),ne=C(ne,oe,Z,ae,ve,15,v[54]),ae=C(ae,ne,oe,Z,O,21,v[55]),Z=C(Z,ae,ne,oe,X,6,v[56]),oe=C(oe,Z,ae,ne,tt,10,v[57]),ne=C(ne,oe,Z,ae,pe,15,v[58]),ae=C(ae,ne,oe,Z,fe,21,v[59]),Z=C(Z,ae,ne,oe,de,6,v[60]),oe=C(oe,Z,ae,ne,ce,10,v[61]),ne=C(ne,oe,Z,ae,z,15,v[62]),ae=C(ae,ne,oe,Z,ue,21,v[63]),x[0]=x[0]+Z|0,x[1]=x[1]+ae|0,x[2]=x[2]+ne|0,x[3]=x[3]+oe|0},_doFinalize:function(){var S=this._data,A=S.words,F=8*this._nDataBytes,k=8*S.sigBytes;A[k>>>5]|=128<<24-k%32;var _=I.floor(F/4294967296),x=F;A[15+(k+64>>>9<<4)]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),A[14+(k+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),S.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var $=O[z];O[z]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8)}return L},clone:function(){var S=N.clone.call(this);return S._hash=this._hash.clone(),S}});function M(S,A,F,k,_,x,L){var O=S+(A&F|~A&k)+_+L;return(O<<x|O>>>32-x)+A}function E(S,A,F,k,_,x,L){var O=S+(A&k|F&~k)+_+L;return(O<<x|O>>>32-x)+A}function T(S,A,F,k,_,x,L){var O=S+(A^F^k)+_+L;return(O<<x|O>>>32-x)+A}function C(S,A,F,k,_,x,L){var O=S+(F^(A|~k))+_+L;return(O<<x|O>>>32-x)+A}q.MD5=N._createHelper(b),q.HmacMD5=N._createHmacHelper(b)}(Math),P.MD5)},228:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.mode.CFB=function(){var I=P.lib.BlockCipherMode.extend();function q(U,J,N,K){var v,b=this._iv;b?(v=b.slice(0),this._iv=void 0):v=this._prevBlock,K.encryptBlock(v,0);for(var M=0;M<N;M++)U[J+M]^=v[M]}return I.Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,K=N.blockSize;q.call(this,U,J,K,N),this._prevBlock=U.slice(J,J+K)}}),I.Decryptor=I.extend({processBlock:function(U,J){var N=this._cipher,K=N.blockSize,v=U.slice(J,J+K);q.call(this,U,J,K,N),this._prevBlock=v}}),I}(),P.mode.CFB)},584:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.mode.CTRGladman=function(){var I=P.lib.BlockCipherMode.extend();function q(N){if(255==(N>>24&255)){var K=N>>16&255,v=N>>8&255,b=255&N;255===K?(K=0,255===v?(v=0,255===b?b=0:++b):++v):++K,N=0,N+=K<<16,N+=v<<8,N+=b}else N+=1<<24;return N}var J=I.Encryptor=I.extend({processBlock:function(N,K){var v=this._cipher,b=v.blockSize,M=this._iv,E=this._counter;M&&(E=this._counter=M.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=q(N[0]))&&(N[1]=q(N[1])),N}(E);var T=E.slice(0);v.encryptBlock(T,0);for(var C=0;C<b;C++)N[K+C]^=T[C]}});return I.Decryptor=J,I}(),P.mode.CTRGladman)},392:function(ye,Ie,V){var I,q,P;ye.exports=(P=V(12),V(270),P.mode.CTR=(q=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,K=N.blockSize,v=this._iv,b=this._counter;v&&(b=this._counter=v.slice(0),this._iv=void 0);var M=b.slice(0);N.encryptBlock(M,0),b[K-1]=b[K-1]+1|0;for(var E=0;E<K;E++)U[J+E]^=M[E]}}),I.Decryptor=q,I),P.mode.CTR)},594:function(ye,Ie,V){var I,P;ye.exports=(P=V(12),V(270),P.mode.ECB=((I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(q,U){this._cipher.encryptBlock(q,U)}}),I.Decryptor=I.extend({processBlock:function(q,U){this._cipher.decryptBlock(q,U)}}),I),P.mode.ECB)},15:function(ye,Ie,V){var I,q,P;ye.exports=(P=V(12),V(270),P.mode.OFB=(q=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(U,J){var N=this._cipher,K=N.blockSize,v=this._iv,b=this._keystream;v&&(b=this._keystream=v.slice(0),this._iv=void 0),N.encryptBlock(b,0);for(var M=0;M<K;M++)U[J+M]^=b[M]}}),I.Decryptor=q,I),P.mode.OFB)},237:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.pad.AnsiX923={pad:function(I,q){var U=I.sigBytes,J=4*q,N=J-U%J,K=U+N-1;I.clamp(),I.words[K>>>2]|=N<<24-K%4*8,I.sigBytes+=N},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Ansix923)},501:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.pad.Iso10126={pad:function(I,q){var U=4*q,J=U-I.sigBytes%U;I.concat(P.lib.WordArray.random(J-1)).concat(P.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Iso10126)},4:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.pad.Iso97971={pad:function(I,q){I.concat(P.lib.WordArray.create([2147483648],1)),P.pad.ZeroPadding.pad(I,q)},unpad:function(I){P.pad.ZeroPadding.unpad(I),I.sigBytes--}},P.pad.Iso97971)},738:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.pad.NoPadding={pad:function(){},unpad:function(){}},P.pad.NoPadding)},297:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(270),P.pad.ZeroPadding={pad:function(I,q){var U=4*q;I.clamp(),I.sigBytes+=U-(I.sigBytes%U||U)},unpad:function(I){var q=I.words,U=I.sigBytes-1;for(U=I.sigBytes-1;U>=0;U--)if(q[U>>>2]>>>24-U%4*8&255){I.sigBytes=U+1;break}}},P.pad.ZeroPadding)},538:function(ye,Ie,V){var I,q,U,J,N,v,b,P;ye.exports=(P=V(12),V(78),V(990),J=(q=(I=P).lib).WordArray,v=(N=I.algo).HMAC,b=N.PBKDF2=(U=q.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(M){this.cfg=this.cfg.extend(M)},compute:function(M,E){for(var T=this.cfg,C=v.create(T.hasher,M),S=J.create(),A=J.create([1]),F=S.words,k=A.words,_=T.keySize,x=T.iterations;F.length<_;){var L=C.update(E).finalize(A);C.reset();for(var O=L.words,z=O.length,$=L,de=1;de<x;de++){$=C.finalize($),C.reset();for(var le=$.words,pe=0;pe<z;pe++)O[pe]^=le[pe]}S.concat(L),k[0]++}return S.sigBytes=4*_,S}}),I.PBKDF2=function(M,E,T){return b.create(T).compute(M,E)},P.PBKDF2)},848:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,U=I.lib.StreamCipher,N=[],K=[],v=[],b=I.algo.RabbitLegacy=U.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,C=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)M.call(this);for(A=0;A<8;A++)S[A]^=C[A+4&7];if(T){var F=T.words,k=F[0],_=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),O=x>>>16|4294901760&L,z=L<<16|65535&x;for(S[0]^=x,S[1]^=O,S[2]^=L,S[3]^=z,S[4]^=x,S[5]^=O,S[6]^=L,S[7]^=z,A=0;A<4;A++)M.call(this)}},_doProcessBlock:function(E,T){var C=this._X;M.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[T+S]^=N[S]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,C=0;C<8;C++)K[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<K[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<K[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<K[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<K[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<K[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<K[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<K[6]>>>0?1:0)|0,this._b=T[7]>>>0<K[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,F=S>>>16;v[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.RabbitLegacy=U._createHelper(b)}(),P.RabbitLegacy)},969:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,U=I.lib.StreamCipher,N=[],K=[],v=[],b=I.algo.Rabbit=U.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,C=0;C<4;C++)E[C]=16711935&(E[C]<<8|E[C]>>>24)|4278255360&(E[C]<<24|E[C]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,C=0;C<4;C++)M.call(this);for(C=0;C<8;C++)A[C]^=S[C+4&7];if(T){var F=T.words,k=F[0],_=F[1],x=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),O=x>>>16|4294901760&L,z=L<<16|65535&x;for(A[0]^=x,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=x,A[5]^=O,A[6]^=L,A[7]^=z,C=0;C<4;C++)M.call(this)}},_doProcessBlock:function(E,T){var C=this._X;M.call(this),N[0]=C[0]^C[5]>>>16^C[3]<<16,N[1]=C[2]^C[7]>>>16^C[5]<<16,N[2]=C[4]^C[1]>>>16^C[7]<<16,N[3]=C[6]^C[3]>>>16^C[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[T+S]^=N[S]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,C=0;C<8;C++)K[C]=T[C];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<K[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<K[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<K[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<K[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<K[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<K[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<K[6]>>>0?1:0)|0,this._b=T[7]>>>0<K[7]>>>0?1:0,C=0;C<8;C++){var S=E[C]+T[C],A=65535&S,F=S>>>16;v[C]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}I.Rabbit=U._createHelper(b)}(),P.Rabbit)},195:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,U=I.lib.StreamCipher,J=I.algo,N=J.RC4=U.extend({_doReset:function(){for(var b=this._key,M=b.words,E=b.sigBytes,T=this._S=[],C=0;C<256;C++)T[C]=C;C=0;for(var S=0;C<256;C++){var A=C%E,k=T[C];T[C]=T[S=(S+T[C]+(M[A>>>2]>>>24-A%4*8&255))%256],T[S]=k}this._i=this._j=0},_doProcessBlock:function(b,M){b[M]^=K.call(this)},keySize:8,ivSize:0});function K(){for(var b=this._S,M=this._i,E=this._j,T=0,C=0;C<4;C++){var S=b[M=(M+1)%256];b[M]=b[E=(E+b[M])%256],b[E]=S,T|=b[(b[M]+b[E])%256]<<24-8*C}return this._i=M,this._j=E,T}I.RC4=U._createHelper(N);var v=J.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)K.call(this)}});I.RC4Drop=U._createHelper(v)}(),P.RC4)},558:function(ye,Ie,V){var P;ye.exports=(P=V(12),function(I){var q=P,U=q.lib,J=U.WordArray,N=U.Hasher,K=q.algo,v=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),M=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=J.create([0,1518500249,1859775393,2400959708,2840853838]),C=J.create([1352829926,1548603684,1836072691,2053994217,0]),S=K.RIPEMD160=N.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var $=0;$<16;$++){var de=z+$,le=O[de];O[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}var fe,qe,tt,Z,ae,ne,oe,Dt,Fe,nt,Je,pe=this._hash.words,Ae=T.words,X=C.words,ue=v.words,ve=b.words,ce=M.words,Ne=E.words;for(ne=fe=pe[0],oe=qe=pe[1],Dt=tt=pe[2],Fe=Z=pe[3],nt=ae=pe[4],$=0;$<80;$+=1)Je=fe+O[z+ue[$]]|0,Je+=$<16?A(qe,tt,Z)+Ae[0]:$<32?F(qe,tt,Z)+Ae[1]:$<48?k(qe,tt,Z)+Ae[2]:$<64?_(qe,tt,Z)+Ae[3]:x(qe,tt,Z)+Ae[4],Je=(Je=L(Je|=0,ce[$]))+ae|0,fe=ae,ae=Z,Z=L(tt,10),tt=qe,qe=Je,Je=ne+O[z+ve[$]]|0,Je+=$<16?x(oe,Dt,Fe)+X[0]:$<32?_(oe,Dt,Fe)+X[1]:$<48?k(oe,Dt,Fe)+X[2]:$<64?F(oe,Dt,Fe)+X[3]:A(oe,Dt,Fe)+X[4],Je=(Je=L(Je|=0,Ne[$]))+nt|0,ne=nt,nt=Fe,Fe=L(Dt,10),Dt=oe,oe=Je;Je=pe[1]+tt+Fe|0,pe[1]=pe[2]+Z+nt|0,pe[2]=pe[3]+ae+ne|0,pe[3]=pe[4]+fe+oe|0,pe[4]=pe[0]+qe+Dt|0,pe[0]=Je},_doFinalize:function(){var O=this._data,z=O.words,$=8*this._nDataBytes,de=8*O.sigBytes;z[de>>>5]|=128<<24-de%32,z[14+(de+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),O.sigBytes=4*(z.length+1),this._process();for(var le=this._hash,pe=le.words,Ae=0;Ae<5;Ae++){var X=pe[Ae];pe[Ae]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return le},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,$){return O^z^$}function F(O,z,$){return O&z|~O&$}function k(O,z,$){return(O|~z)^$}function _(O,z,$){return O&$|z&~$}function x(O,z,$){return O^(z|~$)}function L(O,z){return O<<z|O>>>32-z}q.RIPEMD160=N._createHelper(S),q.HmacRIPEMD160=N._createHmacHelper(S)}(Math),P.RIPEMD160)},446:function(ye,Ie,V){var I,q,U,J,K,v,P;ye.exports=(P=V(12),U=(q=(I=P).lib).WordArray,K=[],v=I.algo.SHA1=(J=q.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,M){for(var E=this._hash.words,T=E[0],C=E[1],S=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)K[k]=0|b[M+k];else{var _=K[k-3]^K[k-8]^K[k-14]^K[k-16];K[k]=_<<1|_>>>31}var x=(T<<5|T>>>27)+F+K[k];x+=k<20?1518500249+(C&S|~C&A):k<40?1859775393+(C^S^A):k<60?(C&S|C&A|S&A)-1894007588:(C^S^A)-899497514,F=A,A=S,S=C<<30|C>>>2,C=T,T=x}E[0]=E[0]+T|0,E[1]=E[1]+C|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var b=this._data,M=b.words,E=8*this._nDataBytes,T=8*b.sigBytes;return M[T>>>5]|=128<<24-T%32,M[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),M[15+(T+64>>>9<<4)]=E,b.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var b=J.clone.call(this);return b._hash=this._hash.clone(),b}}),I.SHA1=J._createHelper(v),I.HmacSHA1=J._createHmacHelper(v),P.SHA1)},811:function(ye,Ie,V){var I,U,J,N,K,P;ye.exports=(P=V(12),V(78),U=(I=P).lib.WordArray,K=(J=I.algo).SHA224=(N=J.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=N._doFinalize.call(this);return v.sigBytes-=4,v}}),I.SHA224=N._createHelper(K),I.HmacSHA224=N._createHmacHelper(K),P.SHA224)},78:function(ye,Ie,V){var P;ye.exports=(P=V(12),function(I){var q=P,U=q.lib,J=U.WordArray,N=U.Hasher,K=q.algo,v=[],b=[];!function(){function T(F){for(var k=I.sqrt(F),_=2;_<=k;_++)if(!(F%_))return!1;return!0}function C(F){return 4294967296*(F-(0|F))|0}for(var S=2,A=0;A<64;)T(S)&&(A<8&&(v[A]=C(I.pow(S,.5))),b[A]=C(I.pow(S,1/3)),A++),S++}();var M=[],E=K.SHA256=N.extend({_doReset:function(){this._hash=new J.init(v.slice(0))},_doProcessBlock:function(T,C){for(var S=this._hash.words,A=S[0],F=S[1],k=S[2],_=S[3],x=S[4],L=S[5],O=S[6],z=S[7],$=0;$<64;$++){if($<16)M[$]=0|T[C+$];else{var de=M[$-15],pe=M[$-2];M[$]=((de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3)+M[$-7]+((pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10)+M[$-16]}var ue=A&F^A&k^F&k,Ne=z+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&L^~x&O)+b[$]+M[$];z=O,O=L,L=x,x=_+Ne|0,_=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ue)|0}S[0]=S[0]+A|0,S[1]=S[1]+F|0,S[2]=S[2]+k|0,S[3]=S[3]+_|0,S[4]=S[4]+x|0,S[5]=S[5]+L|0,S[6]=S[6]+O|0,S[7]=S[7]+z|0},_doFinalize:function(){var T=this._data,C=T.words,S=8*this._nDataBytes,A=8*T.sigBytes;return C[A>>>5]|=128<<24-A%32,C[14+(A+64>>>9<<4)]=I.floor(S/4294967296),C[15+(A+64>>>9<<4)]=S,T.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});q.SHA256=N._createHelper(E),q.HmacSHA256=N._createHmacHelper(E)}(Math),P.SHA256)},545:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(802),function(I){var q=P,U=q.lib,J=U.WordArray,N=U.Hasher,v=q.x64.Word,b=q.algo,M=[],E=[],T=[];!function(){for(var A=1,F=0,k=0;k<24;k++){M[A+5*F]=(k+1)*(k+2)/2%64;var x=(2*A+3*F)%5;A=F%5,F=x}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,$=0,de=0;de<7;de++){if(1&L){var le=(1<<de)-1;le<32?$^=1<<le:z^=1<<le-32}128&L?L=L<<1^113:L<<=1}T[O]=v.create(z,$)}}();var C=[];!function(){for(var A=0;A<25;A++)C[A]=v.create()}();var S=b.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,_=this.blockSize/2,x=0;x<_;x++){var L=A[F+2*x],O=A[F+2*x+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=k[x]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var $=0;$<24;$++){for(var de=0;de<5;de++){for(var le=0,pe=0,Ae=0;Ae<5;Ae++)le^=(z=k[de+5*Ae]).high,pe^=z.low;var X=C[de];X.high=le,X.low=pe}for(de=0;de<5;de++){var ue=C[(de+4)%5],ve=C[(de+1)%5],ce=ve.high,Ne=ve.low;for(le=ue.high^(ce<<1|Ne>>>31),pe=ue.low^(Ne<<1|ce>>>31),Ae=0;Ae<5;Ae++)(z=k[de+5*Ae]).high^=le,z.low^=pe}for(var fe=1;fe<25;fe++){var qe=(z=k[fe]).high,tt=z.low,Z=M[fe];Z<32?(le=qe<<Z|tt>>>32-Z,pe=tt<<Z|qe>>>32-Z):(le=tt<<Z-32|qe>>>64-Z,pe=qe<<Z-32|tt>>>64-Z);var ae=C[E[fe]];ae.high=le,ae.low=pe}var ne=C[0],oe=k[0];for(ne.high=oe.high,ne.low=oe.low,de=0;de<5;de++)for(Ae=0;Ae<5;Ae++){var Dt=C[fe=de+5*Ae],Fe=C[(de+1)%5+5*Ae],nt=C[(de+2)%5+5*Ae];(z=k[fe]).high=Dt.high^~Fe.high&nt.high,z.low=Dt.low^~Fe.low&nt.low}var z,Je=T[$];(z=k[0]).high^=Je.high,z.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,_=8*A.sigBytes,x=32*this.blockSize;F[_>>>5]|=1<<24-_%32,F[(I.ceil((_+1)/x)*x>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,$=[],de=0;de<z;de++){var le=L[de],pe=le.high,Ae=le.low;pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),$.push(Ae=16711935&(Ae<<8|Ae>>>24)|4278255360&(Ae<<24|Ae>>>8)),$.push(pe)}return new J.init($,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});q.SHA3=N._createHelper(S),q.HmacSHA3=N._createHmacHelper(S)}(Math),P.SHA3)},913:function(ye,Ie,V){var I,q,U,J,N,K,v,P;ye.exports=(P=V(12),V(802),V(870),U=(q=(I=P).x64).Word,J=q.WordArray,v=(N=I.algo).SHA384=(K=N.SHA512).extend({_doReset:function(){this._hash=new J.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var b=K._doFinalize.call(this);return b.sigBytes-=16,b}}),I.SHA384=K._createHelper(v),I.HmacSHA384=K._createHmacHelper(v),P.SHA384)},870:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(802),function(){var I=P,U=I.lib.Hasher,J=I.x64,N=J.Word,K=J.WordArray,v=I.algo;function b(){return N.create.apply(N,arguments)}var M=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],E=[];!function(){for(var C=0;C<80;C++)E[C]=b()}();var T=v.SHA512=U.extend({_doReset:function(){this._hash=new K.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(C,S){for(var A=this._hash.words,F=A[0],k=A[1],_=A[2],x=A[3],L=A[4],O=A[5],z=A[6],$=A[7],de=F.high,le=F.low,pe=k.high,Ae=k.low,X=_.high,ue=_.low,ve=x.high,ce=x.low,Ne=L.high,fe=L.low,qe=O.high,tt=O.low,Z=z.high,ae=z.low,ne=$.high,oe=$.low,Dt=de,Fe=le,nt=pe,Je=Ae,Ye=X,Ji=ue,od=ve,Fs=ce,rr=Ne,un=fe,di=qe,kc=tt,ad=Z,Nc=ae,jp=ne,Ia=oe,Or=0;Or<80;Or++){var Fr,fi,Oc=E[Or];if(Or<16)fi=Oc.high=0|C[S+2*Or],Fr=Oc.low=0|C[S+2*Or+1];else{var Fc=E[Or-15],Vs=Fc.high,ba=Fc.low,$p=(ba>>>1|Vs<<31)^(ba>>>8|Vs<<24)^(ba>>>7|Vs<<25),Di=E[Or-2],Ls=Di.high,wa=Di.low,qp=(wa>>>19|Ls<<13)^(wa<<3|Ls>>>29)^(wa>>>6|Ls<<26),Wp=E[Or-7],Kp=E[Or-16],Yp=Kp.low;Oc.high=fi=(fi=(fi=((Vs>>>1|ba<<31)^(Vs>>>8|ba<<24)^Vs>>>7)+Wp.high+((Fr=$p+Wp.low)>>>0<$p>>>0?1:0))+((Ls>>>19|wa<<13)^(Ls<<3|wa>>>29)^Ls>>>6)+((Fr+=qp)>>>0<qp>>>0?1:0))+Kp.high+((Fr+=Yp)>>>0<Yp>>>0?1:0),Oc.low=Fr}var ir,a_=rr&di^~rr&ad,Qp=un&kc^~un&Nc,c_=Dt&nt^Dt&Ye^nt&Ye,cd=(Fe>>>28|Dt<<4)^(Fe<<30|Dt>>>2)^(Fe<<25|Dt>>>7),ld=M[Or],ud=ld.low,Pi=jp+((rr>>>14|un<<18)^(rr>>>18|un<<14)^(rr<<23|un>>>9))+((ir=Ia+((un>>>14|rr<<18)^(un>>>18|rr<<14)^(un<<23|rr>>>9)))>>>0<Ia>>>0?1:0),dd=cd+(Fe&Je^Fe&Ji^Je&Ji);jp=ad,Ia=Nc,ad=di,Nc=kc,di=rr,kc=un,rr=od+(Pi=(Pi=(Pi=Pi+a_+((ir+=Qp)>>>0<Qp>>>0?1:0))+ld.high+((ir+=ud)>>>0<ud>>>0?1:0))+fi+((ir+=Fr)>>>0<Fr>>>0?1:0))+((un=Fs+ir|0)>>>0<Fs>>>0?1:0)|0,od=Ye,Fs=Ji,Ye=nt,Ji=Je,nt=Dt,Je=Fe,Dt=Pi+(((Dt>>>28|Fe<<4)^(Dt<<30|Fe>>>2)^(Dt<<25|Fe>>>7))+c_+(dd>>>0<cd>>>0?1:0))+((Fe=ir+dd|0)>>>0<ir>>>0?1:0)|0}le=F.low=le+Fe,F.high=de+Dt+(le>>>0<Fe>>>0?1:0),Ae=k.low=Ae+Je,k.high=pe+nt+(Ae>>>0<Je>>>0?1:0),ue=_.low=ue+Ji,_.high=X+Ye+(ue>>>0<Ji>>>0?1:0),ce=x.low=ce+Fs,x.high=ve+od+(ce>>>0<Fs>>>0?1:0),fe=L.low=fe+un,L.high=Ne+rr+(fe>>>0<un>>>0?1:0),tt=O.low=tt+kc,O.high=qe+di+(tt>>>0<kc>>>0?1:0),ae=z.low=ae+Nc,z.high=Z+ad+(ae>>>0<Nc>>>0?1:0),oe=$.low=oe+Ia,$.high=ne+jp+(oe>>>0<Ia>>>0?1:0)},_doFinalize:function(){var C=this._data,S=C.words,A=8*this._nDataBytes,F=8*C.sigBytes;return S[F>>>5]|=128<<24-F%32,S[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(F+128>>>10<<5)]=A,C.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var C=U.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});I.SHA512=U._createHelper(T),I.HmacSHA512=U._createHmacHelper(T)}(),P.SHA512)},769:function(ye,Ie,V){var P;ye.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,q=I.lib,U=q.WordArray,J=q.BlockCipher,N=I.algo,K=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=N.DES=J.extend({_doReset:function(){for(var k=this._key.words,_=[],x=0;x<56;x++){var L=K[x]-1;_[x]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var $=O[z]=[],de=b[z];for(x=0;x<24;x++)$[x/6|0]|=_[(v[x]-1+de)%28]<<31-x%6,$[4+(x/6|0)]|=_[28+(v[x+24]-1+de)%28]<<31-x%6;for($[0]=$[0]<<1|$[0]>>>31,x=1;x<7;x++)$[x]=$[x]>>>4*(x-1)+3;$[7]=$[7]<<5|$[7]>>>27}var le=this._invSubKeys=[];for(x=0;x<16;x++)le[x]=O[15-x]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,_){this._lBlock=F[k],this._rBlock=F[k+1],C.call(this,4,252645135),C.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),C.call(this,1,1431655765);for(var x=0;x<16;x++){for(var L=_[x],O=this._lBlock,z=this._rBlock,$=0,de=0;de<8;de++)$|=M[de][((z^L[de])&E[de])>>>0];this._lBlock=z,this._rBlock=O^$}var le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=le,C.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(F,k){var _=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=_,this._lBlock^=_<<F}function S(F,k){var _=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=_,this._rBlock^=_<<F}I.DES=J._createHelper(T);var A=N.TripleDES=J.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=k.slice(0,2),x=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=T.createEncryptor(U.create(_)),this._des2=T.createEncryptor(U.create(x)),this._des3=T.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),P.TripleDES)},802:function(ye,Ie,V){var U,J,N,K,P;ye.exports=(P=V(12),J=(U=P.lib).Base,N=U.WordArray,(K=P.x64={}).Word=J.extend({init:function(M,E){this.high=M,this.low=E}}),K.WordArray=J.extend({init:function(M,E){M=this.words=M||[],this.sigBytes=null!=E?E:8*M.length},toX32:function(){for(var M=this.words,E=M.length,T=[],C=0;C<E;C++){var S=M[C];T.push(S.high),T.push(S.low)}return N.create(T,this.sigBytes)},clone:function(){for(var M=J.clone.call(this),E=M.words=this.words.slice(0),T=E.length,C=0;C<T;C++)E[C]=E[C].clone();return M}}),P)},480:()=>{}},ye=>{ye(ye.s=692)}]);