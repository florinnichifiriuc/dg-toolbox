(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{820:(_e,Ee,V)=>{"use strict";function R(t){return"function"==typeof t}function b(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=b(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class K{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{v(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof K){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof K&&e._removeParent(this)}}K.EMPTY=(()=>{const t=new K;return t.closed=!0,t})();const k=K.EMPTY;function G(t){return t instanceof K||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function v(t){R(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function T(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let N=null;function _(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!N;if(e&&(N={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else t()}class L extends K{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,G(e)&&e.add(this)):this.destination=q}static create(e,n,r){return new ce(e,n,r)}next(e){this.isStopped?Ce(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ce(function S(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ce(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oe(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oe(r)}else oe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oe(n)}}}class ce extends L{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new j(i)}}function oe(t){w.useDeprecatedSynchronousErrorHandling?function C(t){w.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=t)}(t):E(t)}function Ce(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const q={closed:!0,next:T,error:function de(t){throw t},complete:T},ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(t){return t}function ke(t){return 0===t.length?me:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Y(t){return t&&t instanceof L||function Ze(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&G(t)}(n)?n:new ce(n,r,i);return _(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qe(r))((i,s)=>{const o=new ce({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ae](){return this}pipe(...n){return ke(n)(this)}toPromise(n){return new(n=qe(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qe(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ie=b(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?k:(this.currentObservers=null,s.push(n),new K(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ue;return n.source=this,n}}return t.create=(e,n)=>new re(e,n),t})();class re extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:k}}function wt(t){return R(t?.lift)}function Fe(t){return e=>{if(wt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Fe((n,r)=>{let i=0;n.subscribe(et(r,s=>{r.next(t.call(e,s,i++))}))})}function er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function gn(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Ei(t,e){return function(n,r){e(n,r,t)}}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function B0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function bc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const G0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rd(t){return R(t?.then)}function q0(t){return R(t[ae])}function W0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function id(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sd=function J2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tr(t){return R(t?.[sd])}function Ci(t){return function Ds(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof xi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function od(t){return R(t?.getReader)}function nr(t){if(t instanceof ue)return t;if(null!=t){if(q0(t))return function KU(t){return new ue(e=>{const n=t[ae]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(G0(t))return function YU(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rd(t))return function QU(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(W0(t))return pw(t);if(tr(t))return function XU(t){return new ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(od(t))return function JU(t){return pw(Ci(t))}(t)}throw id(t)}function pw(t){return new ue(e=>{(function ZU(t,e){var n,r,i,s;return function Dr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=B0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ts(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ln(t,e,n=1/0){return R(e)?Ln((r,i)=>Ye((s,o)=>e(r,s,i,o))(nr(t(r,i))),n):("number"==typeof e&&(n=e),Fe((r,i)=>function ej(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let m=!1;nr(n(g,u++)).subscribe(et(e,D=>{i?.(D),s?h(D):e.next(D)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const D=c.shift();o?Ts(e,o,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(et(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function K0(t=1/0){return Ln(me,t)}const ji=new ue(t=>t.complete());function Z2(t){return t[t.length-1]}function gw(t){return R(Z2(t))?t.pop():void 0}function ad(t){return function nj(t){return t&&R(t.schedule)}(Z2(t))?t.pop():void 0}function Y0(t,e=0){return Fe((n,r)=>{n.subscribe(et(r,i=>Ts(r,t,()=>r.next(i),e),()=>Ts(r,t,()=>r.complete(),e),i=>Ts(r,t,()=>r.error(i),e)))})}function Q0(t,e=0){return Fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function mw(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Ts(n,e,()=>{const r=t[Symbol.asyncIterator]();Ts(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Bn(t,e){return e?function lj(t,e){if(null!=t){if(q0(t))return function ij(t,e){return nr(t).pipe(Q0(e),Y0(e))}(t,e);if(G0(t))return function oj(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rd(t))return function sj(t,e){return nr(t).pipe(Q0(e),Y0(e))}(t,e);if(W0(t))return mw(t,e);if(tr(t))return function aj(t,e){return new ue(n=>{let r;return Ts(n,e,()=>{r=t[sd](),Ts(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(od(t))return function cj(t,e){return mw(Ci(t),e)}(t,e)}throw id(t)}(t,e):nr(t)}class ii extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ve(...t){return Bn(t,ad(t))}function _w(t={}){const{connector:e=(()=>new Z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,m)=>{l++,!d&&!u&&f();const D=c=c??e();m.add(()=>{l--,0===l&&!d&&!u&&(a=e_(p,i))}),D.subscribe(m),!o&&l>0&&(o=new ce({next:I=>D.next(I),error:I=>{d=!0,f(),a=e_(h,n,I),D.error(I)},complete:()=>{u=!0,f(),a=e_(h,r),D.complete()}}),nr(g).subscribe(o))})(s)}}function e_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),t()}});return nr(e(...n)).subscribe(r)}function si(t,e){return Fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let l=0;const u=s++;nr(t(c,u)).subscribe(i=et(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function vw(t,e=me){return t=t??dj,Fe((n,r)=>{let i,s=!0;n.subscribe(et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function dj(t,e){return t===e}function _t(t){for(let e in t)if(t[e]===_t)return e;throw Error("Could not find renamed property on target object.")}function X0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Cn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Cn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function t_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fj=_t({__forward_ref__:_t});function Dt(t){return t.__forward_ref__=Dt,t.toString=function(){return Cn(this())},t}function He(t){return n_(t)?t():t}function n_(t){return"function"==typeof t&&t.hasOwnProperty(fj)&&t.__forward_ref__===Dt}function r_(t){return t&&!!t.\u0275providers}const yw="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function J0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function i_(t,e){throw new ee(-201,!1)}function oi(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function Z0(t){return Ew(t,tp)||Ew(t,xw)}function Ew(t,e){return t.hasOwnProperty(e)?t[e]:null}function ep(t){return t&&(t.hasOwnProperty(s_)||t.hasOwnProperty(Ej))?t[s_]:null}const tp=_t({\u0275prov:_t}),s_=_t({\u0275inj:_t}),xw=_t({ngInjectableDef:_t}),Ej=_t({ngInjectorDef:_t});var it=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(it||{});let o_;function Sr(t){const e=o_;return o_=t,e}function Iw(t,e,n){const r=Z0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&it.Optional?null:void 0!==e?e:void i_(Cn(t))}const Tt=globalThis;class ve{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cd={},d_="__NG_DI_FLAG__",np="ngTempTokenPath",Ij=/\n/gm,ww="__source";let wc;function po(t){const e=wc;return wc=t,e}function Aj(t,e=it.Default){if(void 0===wc)throw new ee(-203,!1);return null===wc?Iw(t,void 0,e):wc.get(t,e&it.Optional?null:void 0,e)}function De(t,e=it.Default){return(function Cw(){return o_}()||Aj)(He(t),e)}function X(t,e=it.Default){return De(t,rp(e))}function rp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function f_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=it.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Dj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(De(i,s))}else e.push(De(r))}return e}function ld(t,e){return t[d_]=e,t.prototype[d_]=e,t}function Dj(t){return t[d_]}function Ss(t){return{toString:t}.toString()}var ip=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ip||{}),Ii=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ii||{});const $i={},ft=[],sp=_t({\u0275cmp:_t}),h_=_t({\u0275dir:_t}),p_=_t({\u0275pipe:_t}),Dw=_t({\u0275mod:_t}),Rs=_t({\u0275fac:_t}),ud=_t({__NG_ELEMENT_ID__:_t}),Tw=_t({__NG_ENV_ID__:_t});function Sw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function g_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Pw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Rw(t){return 3===t||4===t||6===t}function Pw(t){return 64===t.charCodeAt(0)}function dd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Mw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Mw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Nw="ng-template";function Rj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Sw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function kw(t){return 4===t.type&&t.value!==Nw}function Pj(t,e,n){return e===(4!==t.type||n?t.value:Nw)}function Mj(t,e,n){let r=4;const i=t.attrs||[],s=function Oj(t){for(let e=0;e<t.length;e++)if(Rw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Pj(t,c,n)||""===c&&1===e.length){if(bi(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Rj(t.attrs,l,n)){if(bi(r))return!1;o=!0}continue}const d=Nj(8&r?"class":c,i,kw(t),n);if(-1===d){if(bi(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Sw(h,l,0)||2&r&&l!==f){if(bi(r))return!1;o=!0}}}}else{if(!o&&!bi(r)&&!bi(c))return!1;if(o&&bi(c))continue;o=!1,r=c|1&r}}return bi(r)||o}function bi(t){return 0==(1&t)}function Nj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Fj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ow(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mj(t,e[r],n))return!0;return!1}function Vj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Fw(t,e){return t?":not("+e.trim()+")":e}function Lj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!bi(o)&&(e+=Fw(s,i),i=""),r=o,s=s||!bi(r);n++}return""!==i&&(e+=Fw(s,i)),e}function Rr(t){return Ss(()=>{const e=Lw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ip.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ii.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};Bw(n);const r=t.dependencies;return n.directiveDefs=op(r,!1),n.pipeDefs=op(r,!0),n.id=function qj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Uj(t){return at(t)||zn(t)}function jj(t){return null!==t}function Ht(t){return Ss(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vw(t,e){if(null==t)return $i;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Ss(()=>{const e=Lw(t);return Bw(e),e})}function Hn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[sp]||null}function zn(t){return t[h_]||null}function hr(t){return t[p_]||null}function $r(t,e){const n=t[Dw]||null;if(!n&&!0===e)throw new Error(`Type ${Cn(t)} does not have '\u0275mod' property.`);return n}function Lw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$i,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vw(t.inputs,e),outputs:Vw(t.outputs)}}function Bw(t){t.features?.forEach(e=>e(t))}function op(t,e){if(!t)return null;const n=e?hr:Uj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(jj)}const Qt=0,xe=1,We=2,zt=3,wi=4,fd=5,rr=6,Dc=7,on=8,go=9,Tc=10,je=11,hd=12,Hw=13,Sc=14,an=15,pd=16,Rc=17,Gi=18,gd=19,zw=20,mo=21,Ps=22,md=23,_d=24,tt=25,m_=1,Uw=2,qi=7,Pc=9,Un=11;function Pr(t){return Array.isArray(t)&&"object"==typeof t[m_]}function pr(t){return Array.isArray(t)&&!0===t[m_]}function __(t){return 0!=(4&t.flags)}function ga(t){return t.componentOffset>-1}function cp(t){return 1==(1&t.flags)}function Ai(t){return!!t.template}function v_(t){return 0!=(512&t[We])}function ma(t,e){return t.hasOwnProperty(Rs)?t[Rs]:null}let jn=null,lp=!1;function ai(t){const e=jn;return jn=t,e}const Gw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ww(t){if(!yd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Qw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Yw(t){t.dirty=!0,function Kw(t){if(void 0===t.liveConsumerNode)return;const e=lp;lp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Yw(n)}finally{lp=e}}(t),t.consumerMarkedDirty?.(t)}function E_(t){return t&&(t.nextProducerIndex=0),ai(t)}function x_(t,e){if(ai(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(yd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)up(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qw(t){Mc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ww(n),r!==n.version))return!0}return!1}function Xw(t){if(Mc(t),yd(t))for(let e=0;e<t.producerNode.length;e++)up(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function up(t,e){if(function Zw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Mc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)up(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Mc(i),i.producerIndexOfThis[r]=e}}function yd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let eA=null;function rA(t){const e=ai(null);try{return t()}finally{ai(e)}}const iA=()=>{},s$=(()=>({...Gw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:iA}))();class o${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function gr(){return sA}function sA(t){return t.type.prototype.ngOnChanges&&(t.setInput=c$),a$}function a$(){const t=aA(this),e=t?.current;if(e){const n=t.previous;if(n===$i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function c$(t,e,n,r){const i=this.declaredInputs[n],s=aA(t)||function l$(t,e){return t[oA]=e}(t,{previous:$i,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new o$(c&&c.currentValue,e,a===$i),t[r]=e}gr.ngInherit=!0;const oA="__ngSimpleChanges__";function aA(t){return t[oA]||null}const Wi=function(t,e,n){};function St(t){for(;Array.isArray(t);)t=t[Qt];return t}function dp(t,e){return St(e[t])}function Mr(t,e){return St(e[t.index])}function uA(t,e){return t.data[e]}function Nc(t,e){return t[e]}function Gr(t,e){const n=e[t];return Pr(n)?n:n[Qt]}function vo(t,e){return null==e?null:t[e]}function dA(t){t[Rc]=0}function g$(t){1024&t[We]||(t[We]|=1024,hA(t,1))}function fA(t){1024&t[We]&&(t[We]&=-1025,hA(t,-1))}function hA(t,e){let n=t[zt];if(null===n)return;n[fd]+=e;let r=n;for(n=n[zt];null!==n&&(1===e&&1===r[fd]||-1===e&&0===r[fd]);)n[fd]+=e,r=n,n=n[zt]}const Be={lFrame:bA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mA(){return Be.bindingsEnabled}function kc(){return null!==Be.skipHydrationRootTNode}function Q(){return Be.lFrame.lView}function ct(){return Be.lFrame.tView}function Ms(t){return Be.lFrame.contextLView=t,t[on]}function Ns(t){return Be.lFrame.contextLView=null,t}function $n(){let t=_A();for(;null!==t&&64===t.type;)t=t.parent;return t}function _A(){return Be.lFrame.currentTNode}function Ki(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function A_(){return Be.lFrame.isParent}function D_(){Be.lFrame.isParent=!1}function mr(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oc(){return Be.lFrame.bindingIndex++}function D$(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,T_(e)}function T_(t){Be.lFrame.currentDirectiveIndex=t}function xA(){return Be.lFrame.currentQueryIndex}function R_(t){Be.lFrame.currentQueryIndex=t}function S$(t){const e=t[xe];return 2===e.type?e.declTNode:1===e.type?t[rr]:null}function CA(t,e,n){if(n&it.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&it.Host||(i=S$(s),null===i||(s=s[Sc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=IA();return r.currentTNode=e,r.lView=t,!0}function P_(t){const e=IA(),n=t[xe];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function IA(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?bA(t):e}function bA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function wA(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const AA=wA;function M_(){const t=wA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _r(){return Be.lFrame.selectedIndex}function _a(t){Be.lFrame.selectedIndex=t}function Wt(){const t=Be.lFrame;return uA(t.tView,t.selectedIndex)}let TA=!0;function fp(){return TA}function yo(t){TA=t}function hp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function pp(t,e,n){SA(t,e,3,n)}function gp(t,e,n,r){(3&t[We])===n&&SA(t,e,n,r)}function N_(t,e){let n=t[We];(3&n)===e&&(n&=8191,n+=1,t[We]=n)}function SA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Rc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Rc]+=65536),(a<s||-1==s)&&(V$(t,n,e,c),t[Rc]=(4294901760&t[Rc])+c+2),c++}function RA(t,e){Wi(4,t,e);const n=ai(null);try{e.call(t)}finally{ai(n),Wi(5,t,e)}}function V$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[We]>>13<t[Rc]>>16&&(3&t[We])===e&&(t[We]+=8192,RA(a,s)):RA(a,s)}const Fc=-1;class xd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function O_(t){return t!==Fc}function Cd(t){return 32767&t}function Id(t,e){let n=function z$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Sc],n--;return r}let F_=!0;function mp(t){const e=F_;return F_=t,e}const PA=255,MA=5;let U$=0;const Yi={};function _p(t,e){const n=NA(t,e);if(-1!==n)return n;const r=e[xe];r.firstCreatePass&&(t.injectorIndex=e.length,V_(r.data,t),V_(e,null),V_(r.blueprint,null));const i=vp(t,e),s=t.injectorIndex;if(O_(i)){const o=Cd(i),a=Id(i,e),c=a[xe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function V_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function vp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=HA(i),null===r)return Fc;if(n++,i=i[Sc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Fc}function L_(t,e,n){!function j$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ud)&&(r=n[ud]),null==r&&(r=n[ud]=U$++);const i=r&PA;e.data[t+(i>>MA)]|=1<<i}(t,e,n)}function kA(t,e,n){if(n&it.Optional||void 0!==t)return t;i_()}function OA(t,e,n,r){if(n&it.Optional&&void 0===r&&(r=null),!(n&(it.Self|it.Host))){const i=t[go],s=Sr(void 0);try{return i?i.get(e,r,n&it.Optional):Iw(e,r,n&it.Optional)}finally{Sr(s)}}return kA(r,0,n)}function FA(t,e,n,r=it.Default,i){if(null!==t){if(2048&e[We]&&!(r&it.Self)){const o=function Y$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=VA(s,o,n,r|it.Self,Yi);if(a!==Yi)return a;let c=s.parent;if(!c){const l=o[zw];if(l){const u=l.get(n,Yi,r);if(u!==Yi)return u}c=HA(o),o=o[Sc]}s=c}return i}(t,e,n,r,Yi);if(o!==Yi)return o}const s=VA(t,e,n,r,Yi);if(s!==Yi)return s}return OA(e,n,r,i)}function VA(t,e,n,r,i){const s=function q$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ud)?t[ud]:void 0;return"number"==typeof e?e>=0?e&PA:K$:e}(n);if("function"==typeof s){if(!CA(e,t,r))return r&it.Host?kA(i,0,r):OA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&it.Optional)return o;i_()}finally{AA()}}else if("number"==typeof s){let o=null,a=NA(t,e),c=Fc,l=r&it.Host?e[an][rr]:null;for((-1===a||r&it.SkipSelf)&&(c=-1===a?vp(t,e):e[a+8],c!==Fc&&BA(r,!1)?(o=e[xe],a=Cd(c),e=Id(c,e)):a=-1);-1!==a;){const u=e[xe];if(LA(s,a,u.data)){const d=G$(a,e,n,o,r,l);if(d!==Yi)return d}c=e[a+8],c!==Fc&&BA(r,e[xe].data[a+8]===l)&&LA(s,a,e)?(o=u,a=Cd(c),e=Id(c,e)):a=-1}}return i}function G$(t,e,n,r,i,s){const o=e[xe],a=o.data[t+8],u=yp(a,o,n,null==r?ga(a)&&F_:r!=o&&0!=(3&a.type),i&it.Host&&s===a);return null!==u?va(e,o,u,a):Yi}function yp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Ai(h)&&h.type===n)return c}return null}function va(t,e,n,r){let i=t[n];const s=e.data;if(function L$(t){return t instanceof xd}(i)){const o=i;o.resolving&&function hj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(s[n]));const a=mp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Sr(o.injectImpl):null;CA(t,r,it.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function F$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=sA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Sr(l),mp(a),o.resolving=!1,AA()}}return i}function LA(t,e,n){return!!(n[e+(t>>MA)]&1<<t)}function BA(t,e){return!(t&it.Self||t&it.Host&&e)}class vr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FA(this._tNode,this._lView,e,rp(r),n)}}function K$(){return new vr($n(),Q())}function Gn(t){return Ss(()=>{const e=t.prototype.constructor,n=e[Rs]||B_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Rs]||B_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function B_(t){return n_(t)?()=>{const e=B_(He(t));return e&&e()}:ma(t)}function HA(t){const e=t[xe],n=e.type;return 2===n?e.declTNode:1===n?t[rr]:null}const Lc="__parameters__";function Hc(t,e,n){return Ss(()=>{const r=function H_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Lc)?c[Lc]:Object.defineProperty(c,Lc,{value:[]})[Lc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Uc(t,e){t.forEach(n=>Array.isArray(n)?Uc(n,e):e(n))}function UA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ad(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function qr(t,e,n){let r=jc(t,e);return r>=0?t[1|r]=n:(r=~r,function nG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function z_(t,e){const n=jc(t,e);if(n>=0)return t[1|n]}function jc(t,e){return function jA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const cn=ld(Hc("Optional"),8),j_=ld(Hc("SkipSelf"),4);function Dp(t){return 128==(128&t.flags)}var Eo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Eo||{});const IG=/^>|^->|<!--|-->|--!>|<!-$/g,bG=/(<|>)/g,wG="\u200b$1\u200b";const W_=new Map;let AG=0;const Y_="__ngContext__";function ir(t,e){Pr(e)?(t[Y_]=e[gd],function TG(t){W_.set(t[gd],t)}(e)):t[Y_]=e}let Q_;function X_(t,e){return Q_(t,e)}function Sd(t){const e=t[zt];return pr(e)?e[zt]:e}function l5(t){return d5(t[hd])}function u5(t){return d5(t[wi])}function d5(t){for(;null!==t&&!pr(t);)t=t[wi];return t}function qc(t,e,n,r,i){if(null!=r){let s,o=!1;pr(r)?s=r:Pr(r)&&(o=!0,r=r[Qt]);const a=St(r);0===t&&null!==n?null==i?g5(e,n,a):ya(e,n,a,i||null,!0):1===t&&null!==n?ya(e,n,a,i||null,!0):2===t?function kp(t,e,n){const r=Mp(t,e);r&&function WG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function QG(t,e,n,r,i){const s=n[qi];s!==St(n)&&qc(e,t,r,s,i);for(let a=Un;a<n.length;a++){const c=n[a];Pd(c[xe],c,t,e,r,s)}}(e,t,s,n,i)}}function J_(t,e){return t.createComment(function t5(t){return t.replace(IG,e=>e.replace(bG,wG))}(e))}function Rp(t,e,n){return t.createElement(e,n)}function h5(t,e){const n=t[Pc],r=n.indexOf(e);fA(e),n.splice(r,1)}function Pp(t,e){if(t.length<=Un)return;const n=Un+e,r=t[n];if(r){const i=r[pd];null!==i&&i!==t&&h5(i,r),e>0&&(t[n-1][wi]=r[wi]);const s=xp(t,Un+e);!function BG(t,e){Pd(t,e,e[je],2,null,null),e[Qt]=null,e[rr]=null}(r[xe],r);const o=s[Gi];null!==o&&o.detachView(s[xe]),r[zt]=null,r[wi]=null,r[We]&=-129}return r}function Z_(t,e){if(!(256&e[We])){const n=e[je];e[md]&&Xw(e[md]),e[_d]&&Xw(e[_d]),n.destroyNode&&Pd(t,e,n,3,null,null),function UG(t){let e=t[hd];if(!e)return ev(t[xe],t);for(;e;){let n=null;if(Pr(e))n=e[hd];else{const r=e[Un];r&&(n=r)}if(!n){for(;e&&!e[wi]&&e!==t;)Pr(e)&&ev(e[xe],e),e=e[zt];null===e&&(e=t),Pr(e)&&ev(e[xe],e),n=e&&e[wi]}e=n}}(e)}}function ev(t,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function qG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Wi(4,a,c);try{c.call(a)}finally{Wi(5,a,c)}}else{Wi(4,i,s);try{s.call(i)}finally{Wi(5,i,s)}}}}}(t,e),function GG(t,e){const n=t.cleanup,r=e[Dc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Dc]=null);const i=e[mo];if(null!==i){e[mo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[xe].type&&e[je].destroy();const n=e[pd];if(null!==n&&pr(e[zt])){n!==e[zt]&&h5(n,e);const r=e[Gi];null!==r&&r.detachView(t)}!function SG(t){W_.delete(t[gd])}(e)}}function tv(t,e,n){return function p5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Qt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ii.None||s===Ii.Emulated)return null}return Mr(r,n)}}(t,e.parent,n)}function ya(t,e,n,r,i){t.insertBefore(e,n,r,i)}function g5(t,e,n){t.appendChild(e,n)}function m5(t,e,n,r,i){null!==r?ya(t,e,n,r,i):g5(t,e,n)}function Mp(t,e){return t.parentNode(e)}function _5(t,e,n){return y5(t,e,n)}let nv,Op,ov,Fp,y5=function v5(t,e,n){return 40&t.type?Mr(t,n):null};function Np(t,e,n,r){const i=tv(t,r,e),s=e[je],a=_5(r.parent||e[rr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)m5(s,i,n[c],a,!1);else m5(s,i,n,a,!1);void 0!==nv&&nv(s,r,e,n,i)}function Rd(t,e){if(null!==e){const n=e.type;if(3&n)return Mr(e,t);if(4&n)return rv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Rd(t,r);{const i=t[e.index];return pr(i)?rv(-1,i):St(i)}}if(32&n)return X_(e,t)()||St(t[e.index]);{const r=x5(t,e);return null!==r?Array.isArray(r)?r[0]:Rd(Sd(t[an]),r):Rd(t,e.next)}}return null}function x5(t,e){return null!==e?t[an][rr].projection[e.projection]:null}function rv(t,e){const n=Un+t+1;if(n<e.length){const r=e[n],i=r[xe].firstChild;if(null!==i)return Rd(r,i)}return e[qi]}function iv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&ir(St(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)iv(t,e,n.child,r,i,s,!1),qc(e,t,i,a,s);else if(32&c){const l=X_(n,r);let u;for(;u=l();)qc(e,t,i,u,s);qc(e,t,i,a,s)}else 16&c?I5(t,e,r,n,i,s):qc(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Pd(t,e,n,r,i,s){iv(n,r,t.firstChild,e,i,s,!1)}function I5(t,e,n,r,i,s){const o=n[an],c=o[rr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)qc(e,t,i,c[l],s);else{let l=c;const u=o[zt];Dp(r)&&(l.flags|=128),iv(t,e,l,u,i,s,!0)}}function b5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function w5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&g_(t,e,r),null!==i&&b5(t,e,i),null!==s&&function JG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Wc(t){return function sv(){if(void 0===Op&&(Op=null,Tt.trustedTypes))try{Op=Tt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Op}()?.createHTML(t)||t}function Kc(){if(void 0!==ov)return ov;if(typeof document<"u")return document;throw new ee(210,!1)}function A5(t){return function av(){if(void 0===Fp&&(Fp=null,Tt.trustedTypes))try{Fp=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fp}()?.createHTML(t)||t}class Ea{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yw})`}}class rq extends Ea{getTypeName(){return"HTML"}}class iq extends Ea{getTypeName(){return"Style"}}class sq extends Ea{getTypeName(){return"Script"}}class oq extends Ea{getTypeName(){return"URL"}}class aq extends Ea{getTypeName(){return"ResourceURL"}}function Wr(t){return t instanceof Ea?t.changingThisBreaksApplicationSecurity:t}function Qi(t,e){const n=function cq(t){return t instanceof Ea&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yw})`)}return n===e}class pq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Wc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class gq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Wc(e),n}}const _q=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vp(t){return(t=String(t)).match(_q)?t:"unsafe:"+t}function Fs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Md(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const R5=Fs("area,br,col,hr,img,wbr"),P5=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),M5=Fs("rp,rt"),cv=Md(R5,Md(P5,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Md(M5,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Md(M5,P5)),lv=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),N5=Md(lv,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vq=Fs("script,style,template");class yq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!cv.hasOwnProperty(n))return this.sanitizedSomething=!0,!vq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!N5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;lv[a]&&(c=Vp(c)),this.buf.push(" ",o,'="',k5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();cv.hasOwnProperty(n)&&!R5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(k5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Eq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xq=/([^\#-~ |!])/g;function k5(t){return t.replace(/&/g,"&amp;").replace(Eq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lp;function O5(t,e){let n=null;try{Lp=Lp||function S5(t){const e=new gq(t);return function mq(){try{return!!(new window.DOMParser).parseFromString(Wc(""),"text/html")}catch{return!1}}()?new pq(e):e}(t);let r=e?String(e):"";n=Lp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Lp.getInertBodyElement(r)}while(r!==s);return Wc((new yq).sanitizeChildren(uv(n)||n))}finally{if(n){const r=uv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function uv(t){return"content"in t&&function Cq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var li=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(li||{});function F5(t){const e=function Nd(){const t=Q();return t&&t[Tc].sanitizer}();return e?A5(e.sanitize(li.HTML,t)||""):Qi(t,"HTML")?A5(Wr(t)):O5(Kc(),Ue(t))}const kd=new ve("ENVIRONMENT_INITIALIZER"),H5=new ve("INJECTOR",-1),z5=new ve("INJECTOR_DEF_TYPES");class dv{get(e,n=cd){if(n===cd){const r=new Error(`NullInjectorError: No provider for ${Cn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Tq(...t){return{\u0275providers:U5(0,t),\u0275fromNgModule:!0}}function U5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Uc(e,o=>{const a=o;Bp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&j5(i,s),n}function j5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];hv(i,s=>{e(s,r)})}}function Bp(t,e,n,r){if(!(t=He(t)))return!1;let i=null,s=ep(t);const o=!s&&at(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=ep(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Bp(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Uc(s.imports,u=>{Bp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&j5(l,e)}if(!a){const l=ma(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:z5,useValue:i,multi:!0},i),e({provide:kd,useValue:()=>De(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;hv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function hv(t,e){for(let n of t)r_(n)&&(n=n.\u0275providers),Array.isArray(n)?hv(n,e):e(n)}const Sq=_t({provide:String,useValue:_t});function pv(t){return null!==t&&"object"==typeof t&&Sq in t}function xa(t){return"function"==typeof t}const gv=new ve("Set Injector scope."),Hp={},Pq={};let mv;function zp(){return void 0===mv&&(mv=new dv),mv}class ui{}class Yc extends ui{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vv(e,o=>this.processProvider(o)),this.records.set(H5,Qc(void 0,this)),i.has("environment")&&this.records.set(ui,Qc(void 0,this));const s=this.records.get(gv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(z5.multi,ft,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=po(this),r=Sr(void 0);try{return e()}finally{po(n),Sr(r)}}get(e,n=cd,r=it.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tw))return e[Tw](this);r=rp(r);const s=po(this),o=Sr(void 0);try{if(!(r&it.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Fq(t){return"function"==typeof t||"object"==typeof t&&t instanceof ve}(e)&&Z0(e);c=l&&this.injectableDefInScope(l)?Qc(_v(e),Hp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&it.Self?zp():this.parent).get(e,n=r&it.Optional&&n===cd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[np]=a[np]||[]).unshift(Cn(e)),s)throw a;return function Tj(t,e,n,r){const i=t[np];throw e[ww]&&i.unshift(e[ww]),t.message=function Sj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Cn(e);if(Array.isArray(e))i=e.map(Cn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Cn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ij,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[np]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Sr(o),po(s)}}resolveInjectorInitializers(){const e=po(this),n=Sr(void 0);try{const i=this.get(kd.multi,ft,it.Self);for(const s of i)s()}finally{po(e),Sr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=xa(e=He(e))?e:He(e&&e.provide);const r=function Nq(t){return pv(t)?Qc(void 0,t.useValue):Qc(q5(t),Hp)}(e);if(xa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Qc(void 0,Hp,!0),i.factory=()=>f_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Hp&&(n.value=Pq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Oq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function _v(t){const e=Z0(t),n=null!==e?e.factory:ma(t);if(null!==n)return n;if(t instanceof ve)throw new ee(204,!1);if(t instanceof Function)return function Mq(t){const e=t.length;if(e>0)throw Ad(e,"?"),new ee(204,!1);const n=function yj(t){return t&&(t[tp]||t[xw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function q5(t,e,n){let r;if(xa(t)){const i=He(t);return ma(i)||_v(i)}if(pv(t))r=()=>He(t.useValue);else if(function G5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...f_(t.deps||[]));else if(function $5(t){return!(!t||!t.useExisting)}(t))r=()=>De(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function kq(t){return!!t.deps}(t))return ma(i)||_v(i);r=()=>new i(...f_(t.deps))}return r}function Qc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vv(t,e){for(const n of t)Array.isArray(n)?vv(n,e):n&&r_(n)?vv(n.\u0275providers,e):e(n)}const Up=new ve("AppId",{providedIn:"root",factory:()=>Vq}),Vq="ng",W5=new ve("Platform Initializer"),Xi=new ve("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K5=new ve("CSP nonce",{providedIn:"root",factory:()=>Kc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Y5=(t,e,n)=>null;function Av(t,e,n=!1){return Y5(t,e,n)}class Wq{}class J5{}class Yq{resolveComponentFactory(e){throw function Kq(t){const e=Error(`No component factory found for ${Cn(t)}.`);return e.ngComponent=t,e}(e)}}let Vd=(()=>{class e{}return e.NULL=new Yq,e})();function Qq(){return Zc($n(),Q())}function Zc(t,e){return new yr(Mr(t,e))}let yr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Qq,e})();function Xq(t){return t instanceof yr?t.nativeElement:t}class eD{}let Ji=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Jq(){const t=Q(),n=Gr($n().index,t);return(Pr(n)?n:t)[je]}(),e})(),Zq=(()=>{var t;class e{}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>null}),e})();class el{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tD=new el("16.2.12"),Sv={};function sD(t,e=null,n=null,r){const i=oD(t,e,n,r);return i.resolveInjectorInitializers(),i}function oD(t,e=null,n=null,r,i=new Set){const s=[n||ft,Tq(t)];return r=r||("object"==typeof t?void 0:Cn(t)),new Yc(s,e||zp(),r||null,i)}let bn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return sD({name:""},i,r,"");{const s=r.name??"";return sD({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=cd,t.NULL=new dv,t.\u0275prov=Ie({token:t,providedIn:"any",factory:()=>De(H5)}),t.__NG_ELEMENT_ID__=-1,e})();function Pv(t){return t.ngOriginalError}class Vs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pv(e);for(;n&&Pv(n);)n=Pv(n);return n||null}}function Nv(t){return e=>{setTimeout(t,void 0,e)}}const Ct=class oW extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Nv(s),i&&(i=Nv(i)),o&&(o=Nv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof K&&e.add(a),a}};function cD(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aW(){const t="function"==typeof Tt.requestAnimationFrame;let e=Tt[t?"requestAnimationFrame":"setTimeout"],n=Tt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uW(t){const e=()=>{!function lW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ov(t),t.isCheckStableRunning=!0,kv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ov(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function fW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return lD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),uD(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return lD(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),uD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ov(t),kv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cW,cD,cD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const cW={};function kv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ov(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uD(t){t._nesting--,kv(t)}class dW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const dD=new ve("",{providedIn:"root",factory:fD});function fD(){const t=X(dt);let e=!0;return function uj(...t){const e=ad(t),n=function rj(t,e){return"number"==typeof Z2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?nr(r[0]):K0(n)(Bn(r,e)):ji}(new ue(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ue(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(_w()))}function Ls(t){return t instanceof Function?t():t}let Fv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function Ld(t){for(;t;){t[We]|=64;const e=Sd(t);if(v_(t)&&!e)return t;t=e}return null}const _D=new ve("",{providedIn:"root",factory:()=>!1});let Yp=null;function xD(t,e){return t[e]??bD()}function CD(t,e){const n=bD();n.producerNode?.length&&(t[e]=Yp,n.lView=t,Yp=ID())}const CW={...Gw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ld(t.lView)},lView:null};function ID(){return Object.create(CW)}function bD(){return Yp??=ID(),Yp}const Ge={};function Me(t){wD(ct(),Q(),_r()+t,!1)}function wD(t,e,n,r){if(!r)if(3==(3&e[We])){const s=t.preOrderCheckHooks;null!==s&&pp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&gp(e,s,0,n)}_a(n)}function J(t,e=it.Default){const n=Q();return null===n?De(t,e):FA($n(),n,He(t),e)}function Qp(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Qt]=i,d[We]=140|r,(null!==l||t&&2048&t[We])&&(d[We]|=2048),dA(d),d[zt]=d[Sc]=t,d[on]=n,d[Tc]=o||t&&t[Tc],d[je]=a||t&&t[je],d[go]=c||t&&t[go]||null,d[rr]=s,d[gd]=function DG(){return AG++}(),d[Ps]=u,d[zw]=l,d[an]=2==e.type?t[an]:d,d}function rl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Vv(t,e,n,r,i){const s=_A(),o=A_(),c=t.data[e]=function PW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return kc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function A$(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ed(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ki(s,!0),s}function Bd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function AD(t,e,n,r,i){const s=xD(e,md),o=_r(),a=2&r;try{_a(-1),a&&e.length>tt&&wD(t,e,tt,!1),Wi(a?2:0,i);const l=a?s:null,u=E_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{x_(l,u)}}finally{a&&null===e[md]&&CD(e,md),_a(o),Wi(a?3:1,i)}}function Lv(t,e,n){if(__(e)){const r=ai(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ai(r)}}}function Bv(t,e,n){mA()&&(function LW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ga(n)&&function GW(t,e,n){const r=Mr(e,t),i=DD(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Xp(t,Qp(t,i,null,o,r,e,null,t[Tc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||_p(n,e),ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=va(e,t,a,n);ir(l,e),null!==o&&qW(0,a-i,l,c,0,o),Ai(c)&&(Gr(n.index,e)[on]=va(e,t,a,n))}}(t,e,n,Mr(n,e)),64==(64&n.flags)&&MD(t,e,n))}function Hv(t,e,n=Mr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function DD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zv(t,e,n,r,i,s,o,a,c,l,u){const d=tt+r,f=d+i,h=function wW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ge);return n}(d,f),p="function"==typeof l?l():l;return h[xe]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let TD=t=>null;function SD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?RD(n,e,i,s):r.hasOwnProperty(i)&&RD(n,e,r[i],s)}return n}function RD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kr(t,e,n,r,i,s,o,a){const c=Mr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(qv(t,n,u,r,i),ga(e)&&function kW(t,e){const n=Gr(e,t);16&n[We]||(n[We]|=64)}(n,e.index)):3&e.type&&(r=function NW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Uv(t,e,n,r){if(mA()){const i=null===r?null:{"":-1},s=function HW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Ow(e,o.selectors,!1))if(r||(r=[]),Ai(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),jv(t,e,a.length)}else r.unshift(o),jv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&PD(t,e,n,o,i,a),i&&function zW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ee(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=dd(n.mergedAttrs,n.attrs)}function PD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)L_(_p(n,e),t,r[l].type);!function jW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Bd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=dd(n.mergedAttrs,u.hostAttrs),$W(t,n,e,c,u),UW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function MW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=SD(d.inputs,u,c,f?f.inputs:null),l=SD(d.outputs,u,l,p);const g=null===c||null===o||kw(e)?null:WW(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function MD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function T$(){return Be.lFrame.currentDirectiveIndex}();try{_a(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];T_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&BW(c,l)}}finally{_a(-1),T_(o)}}function BW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function jv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ai(e)&&(n[""]=t)}}function $W(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ma(i.type)),o=new xd(s,Ai(i),J);t.blueprint[r]=o,n[r]=o,function FW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function VW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Bd(t,n,i.hostVars,Ge),i)}function Zi(t,e,n,r,i,s){const o=Mr(t,e);!function $v(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ue(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],o,s,t.value,n,r,i)}function qW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)ND(r,n,o[a++],o[a++],o[a++])}function ND(t,e,n,r,i){const s=ai(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ai(s)}}function WW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function kD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function OD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];R_(n[r]),o.contentQueries(2,e[s],s)}}}function Xp(t,e){return t[hd]?t[Hw][wi]=e:t[hd]=e,t[Hw]=e,e}function Gv(t,e,n){R_(0);const r=ai(null);try{e(t,n)}finally{ai(r)}}function FD(t){return t[Dc]||(t[Dc]=[])}function VD(t){return t.cleanup||(t.cleanup=[])}function BD(t,e){const n=t[go],r=n?n.get(Vs,null):null;r&&r.handleError(e)}function qv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];ND(t.data[o],e[o],r,a,i)}}function KW(t,e){const n=Gr(e,t),r=n[xe];!function YW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Qt];null!==i&&null===n[Ps]&&(n[Ps]=Av(i,n[go])),Wv(r,n,n[on])}function Wv(t,e,n){P_(e);try{const r=t.viewQuery;null!==r&&Gv(1,r,n);const i=t.template;null!==i&&AD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&OD(t,e),t.staticViewQueries&&Gv(2,t.viewQuery,n);const s=t.components;null!==s&&function QW(t,e){for(let n=0;n<e.length;n++)KW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[We]&=-5,M_()}}let HD=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function i$(t,e,n){const r=Object.create(s$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Yw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Qw(r))return;r.hasRun=!0;const o=E_(r);try{r.cleanupFn(),r.cleanupFn=iA,r.fn(i)}finally{x_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:()=>new t}),e})();function Jp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=t_(i,a):2==s&&(r=t_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Hd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(St(s)),pr(s)&&zD(s,r);const o=n.type;if(8&o)Hd(t,e,n.child,r);else if(32&o){const a=X_(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=x5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Sd(e[an]);Hd(c[xe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function zD(t,e){for(let n=Un;n<t.length;n++){const r=t[n],i=r[xe].firstChild;null!==i&&Hd(r[xe],r,i,e)}t[qi]!==t[Qt]&&e.push(t[qi])}function Zp(t,e,n,r=!0){const i=e[Tc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{UD(t,e,t.template,n)}catch(c){throw r&&BD(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function UD(t,e,n,r){const i=e[We];if(256!=(256&i)){e[Tc].effectManager?.flush(),P_(e);try{dA(e),function yA(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AD(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&pp(e,l,null)}else{const l=t.preOrderHooks;null!==l&&gp(e,l,0,null),N_(e,0)}if(function ZW(t){for(let e=l5(t);null!==e;e=u5(e)){if(!e[Uw])continue;const n=e[Pc];for(let r=0;r<n.length;r++){g$(n[r])}}}(e),jD(e,2),null!==t.contentQueries&&OD(t,e),o){const l=t.contentCheckHooks;null!==l&&pp(e,l)}else{const l=t.contentHooks;null!==l&&gp(e,l,1),N_(e,1)}!function bW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=xD(e,_d);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)_a(~s);else{const o=s,a=n[++i],c=n[++i];D$(a,o),r.dirty=!1;const l=E_(r);try{c(2,e[o])}finally{x_(r,l)}}}}finally{null===e[_d]&&CD(e,_d),_a(-1)}}(t,e);const a=t.components;null!==a&&GD(e,a,0);const c=t.viewQuery;if(null!==c&&Gv(2,c,r),o){const l=t.viewCheckHooks;null!==l&&pp(e,l)}else{const l=t.viewHooks;null!==l&&gp(e,l,2),N_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[We]&=-73,fA(e)}finally{M_()}}}function jD(t,e){for(let n=l5(t);null!==n;n=u5(n))for(let r=Un;r<n.length;r++)$D(n[r],e)}function eK(t,e,n){$D(Gr(e,t),n)}function $D(t,e){if(!function h$(t){return 128==(128&t[We])}(t))return;const n=t[xe],r=t[We];if(80&r&&0===e||1024&r||2===e)UD(n,t,n.template,t[on]);else if(t[fd]>0){jD(t,1);const i=n.components;null!==i&&GD(t,i,1)}}function GD(t,e,n){for(let r=0;r<e.length;r++)eK(t,e[r],n)}class zd{get rootNodes(){const e=this._lView,n=e[xe];return Hd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[zt];if(pr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Pp(e,r),xp(n,r))}this._attachedToViewContainer=!1}Z_(this._lView[xe],this._lView)}onDestroy(e){!function pA(t,e){if(256==(256&t[We]))throw new ee(911,!1);null===t[mo]&&(t[mo]=[]),t[mo].push(e)}(this._lView,e)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){Zp(this._lView[xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zG(t,e){Pd(t,e,e[je],2,null,null)}(this._lView[xe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class tK extends zd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Zp(e[xe],e,e[on],!1)}checkNoChanges(){}get context(){return null}}class qD extends Vd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=at(e);return new Ud(n,this.ngModule)}}function WD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class rK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rp(r);const i=this.injector.get(e,Sv,r);return i!==Sv||n===Sv?i:this.parentInjector.get(e,n,r)}}class Ud extends J5{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=WD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return WD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Bj(t){return t.map(Lj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ui?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new rK(e,s):e,a=o.get(eD,null);if(null===a)throw new ee(407,!1);const d={rendererFactory:a,sanitizer:o.get(Zq,null),effectManager:o.get(HD,null),afterRenderEventManager:o.get(Fv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function AW(t,e,n,r){const s=r.get(_D,!1)||n===Ii.ShadowDom,o=t.selectRootElement(e,s);return function DW(t){TD(t)}(o),o}(f,r,this.componentDef.encapsulation,o):Rp(f,h,function nK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==p&&(I=Av(p,o,!0));const B=zv(0,null,null,1,0,null,null,null,null,null,null),W=Qp(null,B,null,D,null,null,d,f,o,null,I);let le,Re;P_(W);try{const Ke=this.componentDef;let qt,Sn=null;Ke.findHostDirectiveDefs?(qt=[],Sn=new Map,Ke.findHostDirectiveDefs(Ke,qt,Sn),qt.push(Ke)):qt=[Ke];const ua=function sK(t,e){const n=t[xe],r=tt;return t[r]=e,rl(n,r,2,"#host",null)}(W,p),P6e=function oK(t,e,n,r,i,s,o){const a=i[xe];!function aK(t,e,n,r){for(const i of t)e.mergedAttrs=dd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Jp(e,e.mergedAttrs,!0),null!==n&&w5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Av(e,i[go]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Qp(i,DD(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&jv(a,t,r.length-1),Xp(i,d),i[t.index]=d}(ua,p,Ke,qt,W,d,f);Re=uA(B,tt),p&&function lK(t,e,n,r){if(r)g_(t,n,["ng-version",tD.full]);else{const{attrs:i,classes:s}=function Hj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!bi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&g_(t,n,i),s&&s.length>0&&b5(t,n,s.join(" "))}}(f,Ke,p,r),void 0!==n&&function uK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Re,this.ngContentSelectors,n),le=function cK(t,e,n,r,i,s){const o=$n(),a=i[xe],c=Mr(o,i);PD(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ir(va(i,a,o.directiveStart+u,o),i);MD(a,i,o),c&&ir(c,i);const l=va(i,a,o.directiveStart+o.componentOffset,o);if(t[on]=i[on]=l,null!==s)for(const u of s)u(l,e);return Lv(a,o,t),l}(P6e,Ke,qt,Sn,W,[dK]),Wv(B,W,null)}finally{M_()}return new iK(this.componentType,le,Zc(Re,W),W,Re)}}class iK extends Wq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new tK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;qv(s[xe],s,i,e,n),this.previousInputValues.set(e,n),Ld(Gr(this._tNode.index,s))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function dK(){const t=$n();hp(Q()[xe],t)}function vt(t){let e=function KD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ai(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=eg(t.inputs),o.inputTransforms=eg(t.inputTransforms),o.declaredInputs=eg(t.declaredInputs),o.outputs=eg(t.outputs);const a=i.hostBindings;a&&gK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&hK(t,c),l&&pK(t,l),X0(t.inputs,i.inputs),X0(t.declaredInputs,i.declaredInputs),X0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),X0(o.inputTransforms,i.inputTransforms)),Ai(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===vt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function fK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dd(i.hostAttrs,n=dd(n,i.hostAttrs))}}(r)}function eg(t){return t===$i?{}:t===ft?[]:t}function hK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function pK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function gK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function tg(t){return!!Kv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function es(t,e,n){return t[e]=n}function sr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ng(t,e,n,r,i){const s=function Ca(t,e,n,r){const i=sr(t,e,n);return sr(t,e+1,r)||i}(t,e,n,r);return sr(t,e+2,i)||s}function Di(t,e,n,r){const i=Q();return sr(i,Oc(),e)&&(ct(),Zi(Wt(),i,t,e,n,r)),Di}function sl(t,e,n,r){return sr(t,Oc(),n)?e+Ue(n)+r:Ge}function fi(t,e,n,r,i,s,o,a){const c=Q(),l=ct(),u=t+tt,d=l.firstCreatePass?function HK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=rl(e,t,4,o||null,vo(l,a));Uv(e,n,u,vo(l,c)),hp(e,u);const d=u.tView=zv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Ki(d,!1);const f=dT(l,c,d,t);fp()&&Np(l,c,f,d),ir(f,c),Xp(c,c[u]=kD(f,c,f,d)),cp(d)&&Bv(l,c,d),null!=o&&Hv(c,d,a)}let dT=function fT(t,e,n,r){return yo(!0),e[je].createComment("")};function ey(t){return Nc(function w$(){return Be.lFrame.contextLView}(),tt+t)}function st(t,e,n){const r=Q();return sr(r,Oc(),e)&&Kr(ct(),Wt(),r,t,e,r[je],n,!1),st}function ty(t,e,n,r,i){const o=i?"class":"style";qv(t,n,e.inputs[o],o,r)}function he(t,e,n,r){const i=Q(),s=ct(),o=tt+t,a=i[je],c=s.firstCreatePass?function $K(t,e,n,r,i,s){const o=e.consts,c=rl(e,t,2,r,vo(o,i));return Uv(e,n,c,vo(o,s)),null!==c.attrs&&Jp(c,c.attrs,!1),null!==c.mergedAttrs&&Jp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=hT(s,i,c,a,e,t);i[o]=l;const u=cp(c);return Ki(c,!0),w5(a,l,c),32!=(32&c.flags)&&fp()&&Np(s,i,l,c),0===function _$(){return Be.lFrame.elementDepthCount}()&&ir(l,i),function v$(){Be.lFrame.elementDepthCount++}(),u&&(Bv(s,i,c),Lv(s,c,i)),null!==r&&Hv(i,c),he}function Ae(){let t=$n();A_()?D_():(t=t.parent,Ki(t,!1));const e=t;(function E$(t){return Be.skipHydrationRootTNode===t})(e)&&function b$(){Be.skipHydrationRootTNode=null}(),function y$(){Be.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(hp(n,t),__(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function B$(t){return 0!=(8&t.flags)}(e)&&ty(n,e,Q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function H$(t){return 0!=(16&t.flags)}(e)&&ty(n,e,Q(),e.stylesWithoutHost,!1),Ae}function It(t,e,n,r){return he(t,e,n,r),Ae(),It}let hT=(t,e,n,r,i,s)=>(yo(!0),Rp(r,i,function DA(){return Be.lFrame.currentNamespace}()));function Wd(t,e,n){const r=Q(),i=ct(),s=t+tt,o=i.firstCreatePass?function WK(t,e,n,r,i){const s=e.consts,o=vo(s,r),a=rl(e,t,8,"ng-container",o);return null!==o&&Jp(a,o,!0),Uv(e,n,a,vo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Ki(o,!0);const a=gT(i,r,o,t);return r[s]=a,fp()&&Np(i,r,a,o),ir(a,r),cp(o)&&(Bv(i,r,o),Lv(i,o,r)),null!=n&&Hv(r,o),Wd}function Kd(){let t=$n();const e=ct();return A_()?D_():(t=t.parent,Ki(t,!1)),e.firstCreatePass&&(hp(e,t),__(t)&&e.queries.elementEnd(t)),Kd}let gT=(t,e,n,r)=>(yo(!0),J_(e[je],""));function og(){return Q()}function Yd(t){return!!t&&"function"==typeof t.then}function mT(t){return!!t&&"function"==typeof t.subscribe}function ln(t,e,n,r){const i=Q(),s=ct(),o=$n();return function vT(t,e,n,r,i,s,o){const a=cp(r),l=t.firstCreatePass&&VD(t),u=e[on],d=FD(e);let f=!0;if(3&r.type||o){const g=Mr(r,e),m=o?o(g):g,D=d.length,I=o?W=>o(St(W[r.index])):r.index;let B=null;if(!o&&a&&(B=function QK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Dc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,f=!1;else{s=ET(r,e,u,s,!1);const W=n.listen(m,i,s);d.push(s,W),l&&l.push(i,I,D,D+1)}}else s=ET(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const le=e[p[m]][p[m+1]].subscribe(s),Re=d.length;d.push(s,le),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[je],o,t,e,r),ln}function yT(t,e,n,r){try{return Wi(6,e,n),!1!==n(r)}catch(i){return BD(t,i),!1}finally{Wi(7,e,n)}}function ET(t,e,n,r,i){return function s(o){if(o===Function)return r;Ld(t.componentOffset>-1?Gr(t.index,e):e);let c=yT(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=yT(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function qn(t=1){return function R$(t){return(Be.lFrame.contextLView=function P$(t,e){for(;t>0;)e=e[Sc],t--;return e}(t,Be.lFrame.contextLView))[on]}(t)}function XK(t,e){let n=null;const r=function kj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ow(t,s,!0):Vj(r,s))return i}else n=i}return n}function ny(t,e,n){return ry(t,"",e,"",n),ny}function ry(t,e,n,r,i){const s=Q(),o=sl(s,e,n,r);return o!==Ge&&Kr(ct(),Wt(),s,t,o,s[je],i,!1),ry}function ag(t,e){return t<<17|e<<2}function xo(t){return t>>17&32767}function iy(t){return 2|t}function Ia(t){return(131068&t)>>2}function sy(t,e){return-131069&t|e<<2}function oy(t){return 1|t}function PT(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xo(s):Ia(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];rY(t[a],e)&&(c=!0,t[a+1]=r?oy(u):iy(u)),a=r?xo(u):Ia(u)}c&&(t[n+1]=r?iy(s):oy(s))}function rY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&jc(t,e)>=0}function Qd(t,e){return function Ti(t,e,n,r){const i=Q(),s=ct(),o=function Os(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function HT(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_r()],o=function BT(t,e){return e>=t.expandoStartIndex}(t,n);(function $T(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function fY(t,e,n,r){const i=function S_(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Xd(n=ay(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ay(i,t,e,n,r),null===s){let c=function hY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ia(r))return t[xo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=ay(null,t,e,c[1],r),c=Xd(c,e.attrs,r),function pY(t,e,n,r){t[xo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function gY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xd(r,t[s].hostAttrs,n);return Xd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function tY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xo(o),c=Ia(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||jc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=xo(t[a+1]);t[r+1]=ag(f,a),0!==f&&(t[f+1]=sy(t[f+1],r)),t[a+1]=function ZK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ag(a,0),0!==a&&(t[a+1]=sy(t[a+1],r)),a=r;else t[r+1]=ag(c,0),0===a?a=r:t[c+1]=sy(t[c+1],r),c=r;l&&(t[r+1]=iy(t[r+1])),PT(t,u,r,!0),PT(t,u,r,!1),function nY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&jc(s,e)>=0&&(n[r+1]=oy(n[r+1]))}(e,u,t,r,s),o=ag(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ge&&sr(i,o,e)&&function UT(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function eY(t){return 1==(1&t)}(l)?jT(c,e,n,i,Ia(l),o):void 0;cg(u)||(cg(s)||function JK(t){return 2==(2&t)}(l)&&(s=jT(c,null,n,i,a,o)),function XG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Eo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Eo.Important),t.setStyle(n,r,i,s))}}(r,o,dp(_r(),n),i,s))}(s,s.data[_r()],i,i[je],t,i[o+1]=function yY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Cn(Wr(t)))),t}(e,n),r,o)}(t,e,null,!0),Qd}function ay(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qr(t,o,!!n||e[++s]))}return void 0===t?null:t}function jT(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ge&&(f=d?ft:void 0);let h=d?z_(f,r):u===r?f:void 0;if(l&&!cg(h)&&(h=z_(c,r)),cg(h)&&(a=h,o))return a;const p=t[i+1];i=o?xo(p):Ia(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=z_(c,r))}return a}function cg(t){return void 0!==t}function Ne(t,e=""){const n=Q(),r=ct(),i=t+tt,s=r.firstCreatePass?rl(r,i,1,e,null):r.data[i],o=GT(r,n,s,e,t);n[i]=o,fp()&&Np(r,n,o,s),Ki(s,!1)}let GT=(t,e,n,r,i)=>(yo(!0),function Sp(t,e){return t.createText(e)}(e[je],r));function Xt(t){return ba("",t,""),Xt}function ba(t,e,n){const r=Q(),i=sl(r,t,e,n);return i!==Ge&&function Bs(t,e,n){const r=dp(e,t);!function f5(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,_r(),i),ba}function cy(t,e,n){const r=Q();return sr(r,Oc(),e)&&Kr(ct(),Wt(),r,t,e,r[je],n,!0),cy}const wa=void 0;var zY=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let pl={};function Er(t){const e=function UY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=dS(e);if(n)return n;const r=e.split("-")[0];if(n=dS(r),n)return n;if("en"===r)return zY;throw new ee(701,!1)}function dS(t){return t in pl||(pl[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),pl[t]}var Rt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Rt||{});const gl="en-US";let fS=gl;function dy(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)dy(t[s],e,n,r,i);else{const s=ct(),o=Q(),a=$n();let c=xa(t)?t:He(t.provide);const l=q5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(xa(t)||!t.multi){const h=new xd(l,i,J),p=hy(c,e,i?u:u+f,d);-1===p?(L_(_p(a,o),s,c),fy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=hy(c,e,u+f,d),p=hy(c,e,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){L_(_p(a,o),s,c);const D=function HQ(t,e,n,r,i){const s=new xd(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,VS(s,i,r&&!n),s}(i?BQ:LQ,n.length,i,r,l);!i&&m&&(n[p].providerFactory=D),fy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else fy(s,t,h>-1?h:p,VS(n[i?p:h],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function fy(t,e,n,r){const i=xa(e),s=function Rq(t){return!!t.useClass}(e);if(i||s){const c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function VS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LQ(t,e,n,r){return py(this.multi,[])}function BQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=va(n,n[xe],this.providerFactory.index,r);s=a.slice(0,o),py(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],py(i,s);return s}function py(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ut(t,e=[]){return n=>{n.providersResolver=(r,i)=>function VQ(t,e,n){const r=ct();if(r.firstCreatePass){const i=Ai(t);dy(n,r.data,r.blueprint,i,!0),dy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Aa{}class LS{}class gy extends Aa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qD(this);const i=$r(e);this._bootstrapComponents=Ls(i.bootstrap),this._r3Injector=oD(e,n,[{provide:Aa,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver},...r],Cn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class my extends LS{constructor(e){super(),this.moduleType=e}create(e){return new gy(this.moduleType,e,[])}}class BS extends Aa{constructor(e){super(),this.componentFactoryResolver=new qD(this),this.instance=null;const n=new Yc([...e.providers,{provide:Aa,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],e.parent||zp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function HS(t,e,n=null){return new BS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let jQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=U5(0,r.type),s=i.length>0?HS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ie({token:t,providedIn:"environment",factory:()=>new t(De(ui))}),e})();function zS(t){t.getStandaloneInjector=e=>e.get(jQ).getOrCreateStandaloneInjector(t)}function Or(t,e,n,r){return YS(Q(),mr(),t,e,n,r)}function rf(t,e){const n=t[e];return n===Ge?void 0:n}function YS(t,e,n,r,i,s){const o=e+n;return sr(t,o,i)?es(t,o+1,s?r.call(s,i):r(i)):rf(t,o+1)}function Rn(t,e){const n=ct();let r;const i=t+tt;n.firstCreatePass?(r=function oX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ma(r.type)),a=Sr(J);try{const c=mp(!1),l=s();return mp(c),function jK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Q(),i,l),l}finally{Sr(a)}}function Ri(t,e,n){const r=t+tt,i=Q(),s=Nc(i,r);return sf(i,r)?YS(i,mr(),e,s.transform,n,s):s.transform(n)}function Co(t,e,n,r,i){const s=t+tt,o=Q(),a=Nc(o,s);return sf(o,s)?function XS(t,e,n,r,i,s,o,a){const c=e+n;return ng(t,c,i,s,o)?es(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):rf(t,c+3)}(o,mr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function sf(t,e){return t[xe].data[e].pure}function uX(){return this._results[Symbol.iterator]()}class vy{get changes(){return this._changes||(this._changes=new Ct)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=vy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=uX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ci(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function eG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fX(t,e,n,r=!0){const i=e[xe];if(function jG(t,e,n,r){const i=Un+r,s=n.length;r>0&&(n[i-1][wi]=e),r<s-Un?(e[wi]=n[i],UA(n,Un+r,e)):(n.push(e),e[wi]=null),e[zt]=n;const o=e[pd];null!==o&&n!==o&&function $G(t,e){const n=t[Pc];e[an]!==e[zt][zt][an]&&(t[Uw]=!0),null===n?t[Pc]=[e]:n.push(e)}(o,e);const a=e[Gi];null!==a&&a.insertView(t),e[We]|=128}(i,e,t,n),r){const s=rv(n,t),o=e[je],a=Mp(o,t[qi]);null!==a&&function HG(t,e,n,r,i,s){r[Qt]=i,r[rr]=e,Pd(t,r,n,1,i,s)}(i,t[rr],o,e,a,s)}}let Hs=(()=>{class e{}return e.__NG_ELEMENT_ID__=gX,e})();const hX=Hs,pX=class extends hX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function dX(t,e,n,r){const i=e.tView,a=Qp(t,i,n,4096&t[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[pd]=t[e.index];const l=t[Gi];return null!==l&&(a[Gi]=l.createEmbeddedView(i)),Wv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new zd(i)}};function gX(){return hg($n(),Q())}function hg(t,e){return 4&t.type?new pX(e,t,Zc(t,e)):null}let Pi=(()=>{class e{}return e.__NG_ELEMENT_ID__=xX,e})();function xX(){return o7($n(),Q())}const CX=Pi,i7=class extends CX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zc(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const e=vp(this._hostTNode,this._hostLView);if(O_(e)){const n=Id(e,this._hostLView),r=Cd(e);return new vr(n[xe].data[r+8],n)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=s7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function wd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Ud(at(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?l:this.parentInjector).get(ui,null);m&&(s=m)}at(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function p$(t){return pr(t[zt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[zt],u=new i7(l,l[rr],l[zt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return fX(a,i,o,!r),e.attachToViewContainerRef(),UA(yy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=s7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Pp(this._lContainer,n);r&&(xp(yy(this._lContainer),n),Z_(r[xe],r))}detach(e){const n=this._adjustIndex(e,-1),r=Pp(this._lContainer,n);return r&&null!=xp(yy(this._lContainer),n)?new zd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function s7(t){return t[8]}function yy(t){return t[8]||(t[8]=[])}function o7(t,e){let n;const r=e[t.index];return pr(r)?n=r:(n=kD(r,e,null,t),e[t.index]=n,Xp(e,n)),a7(n,e,t,r),new i7(n,t,e)}let a7=function c7(t,e,n,r){if(t[qi])return;let i;i=8&n.type?St(r):function IX(t,e){const n=t[je],r=n.createComment(""),i=Mr(e,t);return ya(n,Mp(n,i),r,function KG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[qi]=i};class Ey{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class xy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new xy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==p7(e,n).matches&&this.queries[n].setDirty()}}class l7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Cy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Cy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Iy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Iy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,AX(n,s)),this.matchTNodeWithReadOption(e,n,yp(n,e,s,!1,!1))}else r===Hs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,yp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===yr||i===Pi||i===Hs&&4&n.type)this.addMatch(n.index,-2);else{const s=yp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function AX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function TX(t,e,n,r){return-1===n?function DX(t,e){return 11&t.type?Zc(t,e):4&t.type?hg(t,e):null}(e,t):-2===n?function SX(t,e,n){return n===yr?Zc(e,t):n===Hs?hg(e,t):n===Pi?o7(e,t):void 0}(t,e,r):va(t,t[xe],n,e)}function u7(t,e,n,r){const i=e[Gi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:TX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function by(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=u7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Un;d<u.length;d++){const f=u[d];f[pd]===f[zt]&&by(f[xe],f,l,r)}if(null!==u[Pc]){const d=u[Pc];for(let f=0;f<d.length;f++){const h=d[f];by(h[xe],h,l,r)}}}}}return r}function rs(t){const e=Q(),n=ct(),r=xA();R_(r+1);const i=p7(n,r);if(t.dirty&&function f$(t){return 4==(4&t[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?by(n,e,r,[]):u7(n,e,i,r);t.reset(s,Xq),t.notifyOnChanges()}return!0}return!1}function zs(t,e,n){const r=ct();r.firstCreatePass&&(function h7(t,e,n){null===t.queries&&(t.queries=new Cy),t.queries.track(new Iy(e,n))}(r,new l7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function f7(t,e,n){const r=new vy(4==(4&n));(function RW(t,e,n,r){const i=FD(e);i.push(n),t.firstCreatePass&&VD(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Gi]&&(e[Gi]=new xy),e[Gi].queries.push(new Ey(r))}(r,Q(),e)}function is(){return function RX(t,e){return t[Gi].queries[e].queryList}(Q(),xA())}function p7(t,e){return t.queries.getByIndex(e)}const P7=new ve("Application Initializer");let Ry=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=X(P7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Yd(o))r.push(o);else if(mT(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),M7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Us=new ve("LocaleId",{providedIn:"root",factory:()=>X(Us,it.Optional|it.SkipSelf)||function ZX(){return typeof $localize<"u"&&$localize.locale||gl}()});let mg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ii(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class nJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let rJ=(()=>{var t;class e{compileModuleSync(r){return new my(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ls($r(r).declarations).reduce((a,c)=>{const l=at(c);return l&&a.push(new Ud(l)),a},[]);return new nJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const F7=new ve(""),vg=new ve("");let Oy,Ny=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oy||(function wJ(t){Oy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(De(dt),De(ky),De(vg))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})(),ky=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Oy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Io=null;const V7=new ve("AllowMultipleToken"),Fy=new ve("PlatformDestroyListeners"),L7=new ve("appBootstrapListener");function z7(t,e,n=[]){const r=`Platform: ${e}`,i=new ve(r);return(s=[])=>{let o=Vy();if(!o||o.injector.get(V7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function TJ(t){if(Io&&!Io.get(V7,!1))throw new ee(400,!1);(function B7(){!function Zj(t){eA=t}(()=>{throw new ee(600,!1)})})(),Io=t;const e=t.get(j7);(function H7(t){t.get(W5,null)?.forEach(n=>n())})(t)}(function U7(t=[],e){return bn.create({name:e,providers:[{provide:gv,useValue:"platform"},{provide:Fy,useValue:new Set([()=>Io=null])},...t]})}(a,r))}return function RJ(t){const e=Vy();if(!e)throw new ee(401,!1);return e}()}}function Vy(){return Io?.get(j7)??null}let j7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function PJ(t="zone.js",e){return"noop"===t?new dW:"zone.js"===t?new dt(e):t}(i?.ngZone,function $7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function UQ(t,e,n){return new gy(t,e,n)}(r.moduleType,this.injector,function Y7(t){return[{provide:dt,useFactory:t},{provide:kd,multi:!0,useFactory:()=>{const e=X(NJ,{optional:!0});return()=>e.initialize()}},{provide:K7,useFactory:MJ},{provide:dD,useFactory:fD}]}(()=>s)),a=o.injector.get(Vs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{yg(this._modules,o),c.unsubscribe()})}),function G7(t,e,n){try{const r=n();return Yd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Ry);return c.runInitializers(),c.donePromise.then(()=>(function hS(t){oi(t,"Expected localeId to be defined"),"string"==typeof t&&(fS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Us,gl)||gl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=q7({},i);return function AJ(t,e,n){const r=new my(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(lf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Fy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(De(bn))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function q7(t,e){return Array.isArray(e)?e.reduce(q7,t):{...t,...e}}let lf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(K7),this.zoneIsStable=X(dD),this.componentTypes=[],this.components=[],this.isStable=X(mg).hasPendingTasks.pipe(si(r=>r?Ve(!1):this.zoneIsStable),vw(),_w()),this._injector=X(ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof J5;if(!this._injector.get(Ry).done)throw!s&&function Ac(t){const e=at(t)||zn(t)||hr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=s?r:this._injector.get(Vd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function DJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Aa),u=a.create(bn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(F7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),yg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;yg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(L7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>yg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function yg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const K7=new ve("",{providedIn:"root",factory:()=>X(Vs).handleError.bind(void 0)});function MJ(){const t=X(dt),e=X(Vs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let NJ=(()=>{var t;class e{constructor(){this.zone=X(dt),this.applicationRef=X(lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Da=(()=>{class e{}return e.__NG_ELEMENT_ID__=FJ,e})();function FJ(t){return function VJ(t,e,n){if(ga(t)&&!n){const r=Gr(t.index,e);return new zd(r,r)}return 47&t.type?new zd(e[an],e):null}($n(),Q(),16==(16&t))}class Z7{constructor(){}supports(e){return tg(e)}create(e){return new jJ(e)}}const UJ=(t,e)=>e;class jJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<tR(r,i,s)?n:r,a=tR(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!tg(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function CK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $J(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new eR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $J{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class eR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new GJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class nR{constructor(){}supports(e){return e instanceof Map||Kv(e)}create(){return new qJ}}class qJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Kv(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new WJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class WJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rR(){return new Cg([new Z7])}let Cg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||rR()),deps:[[e,new j_,new cn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:rR}),e})();function iR(){return new uf([new nR])}let uf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iR()),deps:[[e,new j_,new cn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ie({token:t,providedIn:"root",factory:iR}),e})();const QJ=z7(null,"core",[]);let XJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(De(lf))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})();let jy=null;function bo(){return jy}class uZ{}const Vr=new ve("DocumentToken");let hR=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return X(dZ)},providedIn:"platform"}),e})(),dZ=(()=>{var t;class e extends hR{constructor(){super(),this._doc=X(Vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bo().getBaseHref(this._doc)}onPopState(r){const i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function pR(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function gR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Sa(t){return t&&"?"!==t[0]?"?"+t:t}let bg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return X(hZ)},providedIn:"root"}),e})();const fZ=new ve("appBaseHref");let hZ=(()=>{var t;class e extends bg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??X(Vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pR(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Sa(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Sa(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Sa(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(hR),De(fZ,8))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$y=(()=>{var t;class e{constructor(r){this._subject=new Ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function mZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(gR(mR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Sa(i))}normalize(r){return e.stripTrailingSlash(function gZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,mR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Sa(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Sa(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Sa,t.joinWithSlash=pR,t.stripTrailingSlash=gR,t.\u0275fac=function(r){return new(r||t)(De(bg))},t.\u0275prov=Ie({token:t,factory:function(){return function pZ(){return new $y(De(bg))}()},providedIn:"root"}),e})();function mR(t){return t.replace(/\/index.html$/,"")}var wg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(wg||{}),un=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(un||{});function hi(t,e){const n=Er(t),r=n[Rt.NumberSymbols][e];if(typeof r>"u"){if(e===un.CurrencyDecimal)return n[Rt.NumberSymbols][un.Decimal];if(e===un.CurrencyGroup)return n[Rt.NumberSymbols][un.Group]}return r}const jZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Jy(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function wR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const e4=/\s+/,AR=[];let DR=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=AR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(e4):AR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(e4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(e4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Cg),J(uf),J(yr),J(Ji))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class tee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let t4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new tee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),SR(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{SR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Pi),J(Hs),J(Cg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function SR(t,e){t.context.$implicit=e.item}let Ra=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new nee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){RR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){RR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Pi),J(Hs))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class nee{constructor(){this.$implicit=null,this.ngIf=null}}function RR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Cn(e)}'.`)}function Ni(t,e){return new ee(2100,!1)}class see{createSubscription(e,n){return rA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){rA(()=>e.unsubscribe())}}class oee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const aee=new oee,cee=new see;let Og=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Yd(r))return aee;if(mT(r))return cee;throw Ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Da,16))},t.\u0275pipe=Hn({name:"async",type:t,pure:!1,standalone:!0}),e})(),MR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=NR}transform(r,i=NR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function xee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(J(uf,16))},t.\u0275pipe=Hn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function NR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let El=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function i4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function YZ(t,e,n){return function Qy(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function XZ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function QZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const I=s.match(jZ);if(null===I)throw new Error(`${s} is not a valid digit info`);const B=I[1],W=I[3],le=I[5];null!=B&&(u=Jy(B)),null!=W&&(d=Jy(W)),null!=le?f=Jy(le):null!=W&&d>f&&(f=d)}!function JZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=h.every(I=>!I);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?m=h.splice(p,h.length):(m=h,h=[0]);const D=[];for(h.length>=e.lgSize&&D.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)D.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&D.unshift(h.join("")),a=D.join(hi(n,r)),m.length&&(a+=hi(n,i)+m.join("")),g&&(a+=hi(n,un.Exponential)+"+"+g)}else a=hi(n,un.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function Xy(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Gy(t,e){return Er(t)[Rt.NumberFormats][e]}(e,wg.Decimal),hi(e,un.MinusSign)),e,un.Group,un.Decimal,n)}(function s4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Ni()}}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Us,16))},t.\u0275pipe=Hn({name:"number",type:t,pure:!0,standalone:!0}),e})();let bee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})();const wee="server";function o4(t){return t===wee}class OR{}class Xee extends uZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class l4 extends Xee{static makeCurrent(){!function lZ(t){jy||(jy=t)}(new l4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Jee(){return pf=pf||document.querySelector("base"),pf?pf.getAttribute("href"):null}();return null==n?null:function Zee(t){Lg=Lg||document.createElement("a"),Lg.setAttribute("href",t);const e=Lg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wR(document.cookie,e)}}let Lg,pf=null,tte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const u4=new ve("EventManagerPlugins");let HR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(De(u4),De(dt))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class zR{constructor(e){this._doc=e}}const d4="ng-app-id";let UR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=o4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${d4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(d4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(d4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr),De(Up),De(K5,8),De(Xi))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const f4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},h4=/%COMP%/g,ste=new ve("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $R(t,e){return e.map(n=>n.replace(h4,t))}let GR=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=o4(c),this.defaultRenderer=new p4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ii.ShadowDom&&(i={...i,encapsulation:Ii.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof WR?s.applyToHost(r):s instanceof g4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ii.Emulated:o=new WR(l,u,i,this.appId,d,a,c,f);break;case Ii.ShadowDom:return new lte(l,u,r,i,a,c,this.nonce,f);default:o=new g4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(De(HR),De(UR),De(Up),De(ste),De(Vr),De(Xi),De(dt),De(K5))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();class p4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(f4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=f4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=f4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Eo.DashCase|Eo.Important)?e.style.setProperty(n,r,i&Eo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Eo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=bo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function qR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class lte extends p4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$R(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g4 extends p4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?$R(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WR extends g4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function ote(t){return"_ngcontent-%COMP%".replace(h4,t)}(l),this.hostAttr=function ate(t){return"_nghost-%COMP%".replace(h4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ute=(()=>{var t;class e extends zR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const KR=["alt","control","meta","shift"],dte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hte=(()=>{var t;class e extends zR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),KR.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=dte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),KR.forEach(a=>{a!==s&&(0,fte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const QR=[{provide:Xi,useValue:"browser"},{provide:W5,useValue:function pte(){l4.makeCurrent()},multi:!0},{provide:Vr,useFactory:function mte(){return function nq(t){ov=t}(document),document},deps:[]}],_te=z7(QJ,"browser",QR),vte=new ve(""),XR=[{provide:vg,useClass:class ete{addToWindow(e){Tt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ee(5103,!1);return s},Tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Tt.getAllAngularRootElements=()=>e.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(r=>{const i=Tt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?bo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:F7,useClass:Ny,deps:[dt,ky,vg]},{provide:Ny,useClass:Ny,deps:[dt,ky,vg]}],JR=[{provide:gv,useValue:"root"},{provide:Vs,useFactory:function gte(){return new Vs},deps:[]},{provide:u4,useClass:ute,multi:!0,deps:[Vr,dt,Xi]},{provide:u4,useClass:hte,multi:!0,deps:[Vr]},GR,UR,HR,{provide:eD,useExisting:GR},{provide:OR,useClass:tte,deps:[]},[]];let ss=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Up,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(De(vte,12))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({providers:[...JR,...XR],imports:[bee,XJ]}),e})(),m4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function Ete(){return new m4(De(Vr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let t9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new(r||t):De(n9),i},providedIn:"root"}),e})(),n9=(()=>{var t;class e extends t9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case li.NONE:return i;case li.HTML:return Qi(i,"HTML")?Wr(i):O5(this._doc,String(i)).toString();case li.STYLE:return Qi(i,"Style")?Wr(i):i;case li.SCRIPT:if(Qi(i,"Script"))return Wr(i);throw new ee(5200,!1);case li.URL:return Qi(i,"URL")?Wr(i):Vp(String(i));case li.RESOURCE_URL:if(Qi(i,"ResourceURL"))return Wr(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(r){return function lq(t){return new rq(t)}(r)}bypassSecurityTrustStyle(r){return function uq(t){return new iq(t)}(r)}bypassSecurityTrustScript(r){return function dq(t){return new sq(t)}(r)}bypassSecurityTrustUrl(r){return function fq(t){return new oq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function hq(t){return new aq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr))},t.\u0275prov=Ie({token:t,factory:function(r){let i=null;return i=r?new r:function bte(t){return new n9(t.get(Vr))}(De(bn)),i},providedIn:"root"}),e})();class v4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class i9{constructor(){this._orbit=0,this._ground=0,this._workers=new v4,this._soldiers=new v4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class y4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let wte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new i9,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new y4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class s9{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new v4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var or=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(or||{});class Ate{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Dte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Mt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Mt||{});class o9{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Tte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new s9,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=or.RESOURCE;break;case 1:s=or.SURFACE;break;case 2:s=or.FLEET;break;default:s=or.UNKNOWN}});let o=new Ate(r,s);if(s!==or.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new o9(c.split("Owner:")[1].trim(),""):new o9("Uninhabited Planet",a.substring(1,a.length-1))}if((s===or.RESOURCE||s===or.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===or.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new y4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===or.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new y4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Dte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Mt.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Mt.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Mt.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Mt.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Mt.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Mt.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Mt.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Mt.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Mt.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Mt.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Mt.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Mt.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Mt.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ste=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new i9;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var xl;class Ao{constructor(){this.planetListExtractor=X(wte),this.planetScanExtractor=X(Tte),this.navigationSystemPlanetsExtractor=X(Ste),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gt(t,e,n){return(e=function Pte(t){var e=function Rte(t,e){if("object"!==gf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){a9(s,r,i,o,a,"next",c)}function a(c){a9(s,r,i,o,a,"throw",c)}o(void 0)})}}(xl=Ao).\u0275fac=function(e){return new(e||xl)},xl.\u0275prov=Ie({token:xl,factory:xl.\u0275fac,providedIn:"platform"}),gn([Ei(0,cn())],Ao.prototype,"username",null);const c9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},x4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Ote;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ote extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bg=function(t){return function(t){const e=c9(t);return x4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Hg=function(t){try{return x4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zg=()=>{try{return u9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},d9=t=>{var e,n;return null===(n=null===(e=zg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},f9=()=>{var t;return null===(t=zg())||void 0===t?void 0:t.config},h9=t=>{var e;return null===(e=zg())||void 0===e?void 0:e[`_${t}`]};class Cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Pn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function C4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function mf(){try{return"object"==typeof indexedDB}catch{return!1}}function I4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function p9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Kte(t,e){return t.replace(Yte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ki(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Yte=/\{\$([^}]+)}/g;function _f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(m9(s)&&m9(o)){if(!_f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m9(t){return null!==t&&"object"==typeof t}function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ef(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Jte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Zte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=b4),void 0===i.error&&(i.error=b4),void 0===i.complete&&(i.complete=b4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b4(){}const ene=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},tne=1e3,nne=2,rne=144e5,ine=.5;function A4(t,e=tne,n=nne){const r=e*Math.pow(n,t),i=Math.round(ine*r*(Math.random()-.5)*2);return Math.min(rne,r+i)}function Zt(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pa="[DEFAULT]";class one{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Pa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new one(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const D4=[];var ot=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ot||{});const _9={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},une=ot.INFO,dne={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},fne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=dne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class xf{constructor(e){this.name=e,this._logLevel=une,this._logHandler=fne,this._userLogHandler=null,D4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const hne=(t,e)=>e.some(n=>t instanceof n);let v9,y9;const E9=new WeakMap,T4=new WeakMap,x9=new WeakMap,S4=new WeakMap,R4=new WeakMap;let P4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return T4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||x9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ene(t){return"function"==typeof t?function yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gne(){return y9||(y9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(M4(this),e),To(E9.get(this))}:function(...e){return To(t.apply(M4(this),e))}:function(e,...n){const r=t.call(M4(this),e,...n);return x9.set(r,e.sort?e.sort():[e]),To(r)}}(t):(t instanceof IDBTransaction&&function _ne(t){if(T4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});T4.set(t,e)}(t),hne(t,function pne(){return v9||(v9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,P4):t)}function To(t){if(t instanceof IDBRequest)return function mne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(To(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E9.set(n,t)}).catch(()=>{}),R4.set(e,t),e}(t);if(S4.has(t))return S4.get(t);const e=Ene(t);return e!==t&&(S4.set(t,e),R4.set(e,t)),e}const M4=t=>R4.get(t),Cne=["get","getKey","getAll","getAllKeys","count"],Ine=["put","add","delete","clear"],N4=new Map;function C9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(N4.get(e))return N4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ine.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cne.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return N4.set(e,s),s}!function vne(t){P4=t(P4)}(t=>({...t,get:(e,n,r)=>C9(e,n)||t.get(e,n,r),has:(e,n)=>!!C9(e,n)||t.has(e,n)}));class bne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const k4="@firebase/app",Ma=new xf("@firebase/app"),jg="[DEFAULT]",Xne={[k4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Na=new Map,$g=new Map;function Jne(t,e){try{t.container.addComponent(e)}catch(n){Ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if($g.has(e))return Ma.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of Na.values())Jne(n,t);return!0}function os(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Gs=new Do("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ere{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const Il="10.5.2";function b9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=f9()),!n)throw Gs.create("no-options");const s=Na.get(i);if(s){if(_f(n,s.options)&&_f(r,s.config))return s;throw Gs.create("duplicate-app",{appName:i})}const o=new lne(i);for(const c of $g.values())o.addComponent(c);const a=new ere(n,r,o);return Na.set(i,a),a}function bl(t=jg){const e=Na.get(t);if(!e&&t===jg&&f9())return b9();if(!e)throw Gs.create("no-app",{appName:t});return e}function w9(){return Array.from(Na.values())}function en(t,e,n){var r;let i=null!==(r=Xne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ma.warn(a.join(" "))}gi(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tre="firebase-heartbeat-database",nre=1,Cf="firebase-heartbeat-store";let F4=null;function A9(){return F4||(F4=function xne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=To(o);return r&&o.addEventListener("upgradeneeded",c=>{r(To(o.result),c.oldVersion,c.newVersion,To(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(tre,nre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Cf)}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),F4}function V4(){return(V4=y(function*(t){try{return yield(yield A9()).transaction(Cf).objectStore(Cf).get(T9(t))}catch(e){if(e instanceof ki)Ma.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e?.message});Ma.warn(n.message)}}})).apply(this,arguments)}function D9(t,e){return L4.apply(this,arguments)}function L4(){return(L4=y(function*(t,e){try{const r=(yield A9()).transaction(Cf,"readwrite");yield r.objectStore(Cf).put(e,T9(t)),yield r.done}catch(n){if(n instanceof ki)Ma.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n?.message});Ma.warn(r.message)}}})).apply(this,arguments)}function T9(t){return`${t.name}!${t.options.appId}`}class ore{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=S9(),{heartbeatsToSend:r,unsentEntries:i}=function are(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),R9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Bg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function S9(){return(new Date).toISOString().substring(0,10)}class cre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!mf()&&I4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rre(t){return V4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return D9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return D9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function R9(t){return Bg(JSON.stringify({version:2,heartbeats:t})).length}!function lre(t){gi(new Qr("platform-logger",e=>new bne(e),"PRIVATE")),gi(new Qr("heartbeat",e=>new ore(e),"PRIVATE")),en(k4,"0.9.22",t),en(k4,"0.9.22","esm2017"),en("fire-js","")}(""),en("firebase","10.5.2","app");class fre extends K{constructor(e,n){super()}schedule(e,n=0){return this}}const Gg={setInterval(t,e,...n){const{delegate:r}=Gg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class P9 extends fre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Gg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const M9={now:()=>(M9.delegate||Date).now(),delegate:void 0};class If{constructor(e,n=If.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}If.now=M9.now;class N9 extends If{constructor(e,n=If.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const gre=new class pre extends N9{}(class hre extends P9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),mre=new N9(P9);function Wn(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(et(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):me}const So=new el("ANGULARFIRE2_VERSION");function qg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Wg=(t,e)=>{const n=e?[e]:w9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class B4{constructor(){return Wg(k9)}}const k9="app-check";function wl(){}class O9{constructor(e,n=gre){gt(this,"zone",void 0),gt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class vre{constructor(e){gt(this,"zone",void 0),gt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wl,{},wl,wl)),n.pipe(Wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bf=(()=>{var t;class e{constructor(r){gt(this,"ngZone",void 0),gt(this,"outsideAngular",void 0),gt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new O9(Zone.current)),this.insideAngular=r.run(()=>new O9(Zone.current,mre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(dt))}),gt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Al(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ka(t){return Al().ngZone.run(()=>t())}function Ere(t){return function xre(t){return function(n){return(n=n.lift(new vre(t.ngZone))).pipe(Q0(t.outsideAngular),Y0(t.insideAngular))}}(Al())(t)}const Cre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ka(()=>t.apply(void 0,r))},_n=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=ka(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wl,{},wl,wl))),r[s]=Cre(r[s],n));const i=function yre(t){return Al().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ue){const s=Al();return i.pipe(Q0(s.outsideAngular),Y0(s.insideAngular))}return ka(()=>i)}return i instanceof ue?i.pipe(Ere):i instanceof Promise?ka(()=>new Promise((s,o)=>i.then(a=>ka(()=>s(a)),a=>ka(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ka(()=>i)};class Oa{constructor(e){return e}}class wf{constructor(){return w9()}}const H4=new ve("angularfire2._apps"),bre={provide:Oa,useFactory:function Ire(t){return t&&1===t.length?t[0]:new Oa(bl())},deps:[[new cn,H4]]},wre={provide:wf,deps:[[new cn,H4]]};function Are(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Oa(r)}}let Dre=(()=>{var t;class e{constructor(r){en("angularfire",So.full,"core"),en("angularfire",So.full,"app"),en("angular",tD.full,r.toString())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(Xi))}),gt(e,"\u0275mod",Ht({type:t})),gt(e,"\u0275inj",Ot({providers:[bre,wre]})),e})();function Dl(t,...e){return{ngModule:Dre,providers:[{provide:H4,useFactory:Are(t),multi:!0,deps:[dt,bn,bf,...e]}]}}const Tl=_n(bl,!0),Sl=_n(b9,!0);const Tre=function F9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V9=new Do("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kg=new xf("@firebase/auth");function Yg(t,...e){Kg.logLevel<=ot.ERROR&&Kg.error(`Auth (${Il}): ${t}`,...e)}function Lr(t,...e){throw z4(t,...e)}function Xr(t,...e){return z4(t,...e)}function L9(t,e,n){const r=Object.assign(Object.assign({},Tre()),{[e]:n});return new Do("auth","Firebase",r).create(e,{appName:t.name})}function z4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return V9.create(t,...e)}function fe(t,e,...n){if(!t)throw z4(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yg(e),new Error(e)}function qs(t,e){t||as(e)}function Af(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function B9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,qs(n>e,"Short delay should be less than long delay!"),this.isMobile=function jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}()||function Gte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Rre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function U4(){return"http:"===B9()||"https:"===B9()}()||C4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function j4(t,e){qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class H9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nre=new Df(3e4,6e4);function jt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Kt(t,e,n,r){return $4.apply(this,arguments)}function $4(){return($4=y(function*(t,e,n,r,i={}){return z9(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),H9.fetch()(U9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function z9(t,e,n){return G4.apply(this,arguments)}function G4(){return(G4=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mre),e);try{const i=new Ore(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Tf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Tf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Tf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Tf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw L9(t,u,l);Lr(t,u)}}catch(i){if(i instanceof ki)throw i;Lr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ws(t,e,n,r){return q4.apply(this,arguments)}function q4(){return(q4=y(function*(t,e,n,r,i={}){const s=yield Kt(t,e,n,r,i);return"mfaPendingCredential"in s&&Lr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j4(t.config,i):`${t.config.apiScheme}://${i}`}function kre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ore{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),Nre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function $9(t){return void 0!==t&&void 0!==t.enterprise}class G9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function q9(t,e){return K4.apply(this,arguments)}function K4(){return(K4=y(function*(t,e){return Kt(t,"GET","/v2/recaptchaConfig",jt(t,e))})).apply(this,arguments)}function Y4(){return(Y4=y(function*(t,e){return Kt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function X4(){return(X4=y(function*(t,e){return Kt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function J4(){return(J4=y(function*(t,e=!1){const n=Zt(t),r=yield n.getIdToken(e),i=Qg(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sf(Z4(i.auth_time)),issuedAtTime:Sf(Z4(i.iat)),expirationTime:Sf(Z4(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Z4(t){return 1e3*Number(t)}function Qg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hg(n);return i?JSON.parse(i):(Yg("Failed to decode base64 JWT payload"),null)}catch(i){return Yg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ks(t,e){return e6.apply(this,arguments)}function e6(){return(e6=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ki&&function Ure({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class W9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sf(this.lastLoginAt),this.creationTime=Sf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rf(t){return t6.apply(this,arguments)}function t6(){return t6=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ks(t,function Bre(t,e){return X4.apply(this,arguments)}(n,{idToken:r}));fe(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function qre(t){return t.map(e=>{var{providerId:n}=e,r=er(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Gre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new W9(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),t6.apply(this,arguments)}function n6(){return(n6=y(function*(t){const e=Zt(t);yield Rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function r6(){return(r6=y(function*(t,e){const n=yield z9(t,{},y(function*(){const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=U9(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",H9.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function zre(t){const e=Qg(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return fe(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Wre(t,e){return r6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pf;return r&&(fe("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(fe("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(fe("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return as("not implemented")}}function Ro(t,e){fe("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Fa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new W9(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Ks(n,n.stsTokenManager.getToken(n.auth,e));return fe(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Hre(t){return J4.apply(this,arguments)}(this,e)}reload(){return function $re(t){return n6.apply(this,arguments)}(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Rf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Ks(e,function Vre(t,e){return Y4.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(l=n.createdAt)&&void 0!==l?l:void 0,I=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:W,isAnonymous:le,providerData:Re,stsTokenManager:Ke}=n;fe(B&&Ke,e,"internal-error");const qt=Pf.fromJSON(this.name,Ke);fe("string"==typeof B,e,"internal-error"),Ro(d,e.name),Ro(f,e.name),fe("boolean"==typeof W,e,"internal-error"),fe("boolean"==typeof le,e,"internal-error"),Ro(h,e.name),Ro(p,e.name),Ro(g,e.name),Ro(m,e.name),Ro(D,e.name),Ro(I,e.name);const Sn=new Fa({uid:B,auth:e,email:f,emailVerified:W,displayName:d,isAnonymous:le,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:qt,createdAt:D,lastLoginAt:I});return Re&&Array.isArray(Re)&&(Sn.providerData=Re.map(ua=>Object.assign({},ua))),m&&(Sn._redirectEventId=m),Sn}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Pf;i.updateFromServerResponse(n);const s=new Fa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rf(s),s})()}}const K9=new Map;function Ys(t){qs(t instanceof Function,"Expected a class definition");let e=K9.get(t);return e?(qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K9.set(t,e),e)}const Y9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xg(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Fa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Pl(Ys(Y9),e,r);const i=(yield Promise.all(n.map(function(){var l=y(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ys(Y9);const o=Xg(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Fa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Pl(s,e,r)):new Pl(s,e,r)})()}}function Q9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tP(e))return"Blackberry";if(nP(e))return"Webos";if(i6(e))return"Safari";if((e.includes("chrome/")||J9(e))&&!e.includes("edge/"))return"Chrome";if(eP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function X9(t=Pn()){return/firefox\//i.test(t)}function i6(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J9(t=Pn()){return/crios\//i.test(t)}function Z9(t=Pn()){return/iemobile/i.test(t)}function eP(t=Pn()){return/android/i.test(t)}function tP(t=Pn()){return/blackberry/i.test(t)}function nP(t=Pn()){return/webos/i.test(t)}function Jg(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rP(t=Pn()){return Jg(t)||eP(t)||nP(t)||tP(t)||/windows phone/i.test(t)||Z9(t)}function iP(t,e=[]){let n;switch(t){case"Browser":n=Q9(Pn());break;case"Worker":n=`${Q9(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}class Xre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function s6(){return(s6=y(function*(t,e={}){return Kt(t,"GET","/v2/passwordPolicy",jt(t,e))})).apply(this,arguments)}class eie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class tie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sP(this),this.idTokenSubscription=new sP(this),this.beforeStateQueue=new Xre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Pl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return fe(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Rf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?Zt(e):null;return r&&fe(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&fe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Ys(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return y(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return y(function*(){const n=yield function Jre(t){return s6.apply(this,arguments)}(e),r=new eie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Ys(e)||n._popupRedirectResolver;fe(r,n,"argument-error"),n.redirectPersistenceManager=yield Pl.create(n,[Ys(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Sre(t,...e){Kg.logLevel<=ot.WARN&&Kg.warn(`Auth (${Il}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function vn(t){return Zt(t)}class sP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xte(t,e){const n=new Jte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function o6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function nie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function oP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class aP{constructor(e){this.type="recaptcha-enterprise",this.auth=vn(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(l,u){q9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new G9(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;$9(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&$9(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));o6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function cP(t,e,n){return a6.apply(this,arguments)}function a6(){return(a6=y(function*(t,e,n,r=!1){const i=new aP(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function c6(){return c6=y(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield cP(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=y(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield cP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),c6.apply(this,arguments)}function lP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class u6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}function fP(t,e){return f6.apply(this,arguments)}function f6(){return(f6=y(function*(t,e){return Kt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function hie(t,e){return p6.apply(this,arguments)}function p6(){return(p6=y(function*(t,e){return Ws(t,"POST","/v1/accounts:signInWithPassword",jt(t,e))})).apply(this,arguments)}function E6(){return(E6=y(function*(t,e){return Ws(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))})).apply(this,arguments)}function x6(){return(x6=y(function*(t,e){return Ws(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))})).apply(this,arguments)}class Mf extends u6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return function Zg(t,e,n,r){return c6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hie);case"emailLink":return function vie(t,e){return E6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Lr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return fP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function yie(t,e){return x6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Lr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qs(t,e){return C6.apply(this,arguments)}function C6(){return(C6=y(function*(t,e){return Ws(t,"POST","/v1/accounts:signInWithIdp",jt(t,e))})).apply(this,arguments)}class Ml extends u6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=er(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ml(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Qs(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qs(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vf(n)}return e}}class kf{constructor(e){var n,r,i,s,o,a;const c=yf(Ef(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Aie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);fe(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Die(t){const e=yf(Ef(t)).link,n=e?yf(Ef(e)).deep_link_id:null,r=yf(Ef(t)).deep_link_id;return(r?yf(Ef(r)).link:null)||r||n||e||t}(e);try{return new kf(n)}catch{return null}}}let hP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Mf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=kf.parseLink(r);return fe(i,"argument-error"),Mf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Po{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pP extends Po{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Tie=(()=>{class t extends pP{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ml._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield Fa._fromIdTokenResponse(e,r,i),o=mP(r);return new mi({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=mP(r);return new mi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function mP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class n1 extends ki{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new n1(e,n,r,i)}}function _P(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?n1._fromErrorAndOperation(t,s,e,r):s})}function M6(){return(M6=y(function*(t,e,n=!1){const r=yield Ks(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mi._forOperation(t,"link",r)})).apply(this,arguments)}function k6(){return(k6=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ks(t,_P(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=Qg(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),mi._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Lr(r,"user-mismatch"),s}})).apply(this,arguments)}function EP(t,e){return O6.apply(this,arguments)}function O6(){return(O6=y(function*(t,e,n=!1){const r="signIn",i=yield _P(t,r,e),s=yield mi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function V6(){return(V6=y(function*(t,e){return EP(vn(t),e)})).apply(this,arguments)}function q6(){return(q6=y(function*(t){const e=vn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Oie(t,e,n){return function F6(t,e){return V6.apply(this,arguments)}(Zt(t),hP.credential(e,n)).catch(function(){var r=y(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function G6(t){return q6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const s1="__sak";class CP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(s1,"1"),this.storage.removeItem(s1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zie=(()=>{class t extends CP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qie(){const t=Pn();return i6(t)||Jg(t)}()&&function Qre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Yre(){return function qte(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),IP=(()=>{class t extends CP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let tse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=y(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function ese(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function o1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class nse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=o1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function yn(){return window}function p3(){return typeof yn().WorkerGlobalScope<"u"&&"function"==typeof yn().importScripts}function g3(){return(g3=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bP="firebaseLocalStorageDb",a1="firebaseLocalStorage",wP="fbase_key";class Ff{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function c1(t,e){return t.transaction([a1],e?"readwrite":"readonly").objectStore(a1)}function m3(){const t=indexedDB.open(bP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a1,{keyPath:wP})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(a1)?e(r):(r.close(),yield function cse(){const t=indexedDB.deleteDatabase(bP);return new Ff(t).toPromise()}(),e(yield m3()))}))})}function AP(t,e,n){return _3.apply(this,arguments)}function _3(){return(_3=y(function*(t,e,n){const r=c1(t,!0).put({[wP]:e,value:n});return new Ff(r).toPromise()})).apply(this,arguments)}function v3(){return(v3=y(function*(t,e){const n=c1(t,!1).get(e),r=yield new Ff(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function DP(t,e){const n=c1(t,!0).delete(e);return new Ff(n).toPromise()}const fse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield m3()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return p3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=tse._getInstance(function ose(){return p3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function ise(){return g3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new nse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function sse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield m3();return yield AP(n,s1,"1"),yield DP(n,s1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>AP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function lse(t,e){return v3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>DP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=c1(o,!1).getAll();return new Ff(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function La(t,e){return e?Ys(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}oP("rcb"),new Df(3e4,6e4);class D3 extends u6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tse(t){return EP(t.auth,new D3(t),t.bypassAuthState)}function Sse(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),function yP(t,e){return k6.apply(this,arguments)}(n,new D3(t),t.bypassAuthState)}function Rse(t){return T3.apply(this,arguments)}function T3(){return(T3=y(function*(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),function P6(t,e){return M6.apply(this,arguments)}(n,new D3(t),t.bypassAuthState)})).apply(this,arguments)}class SP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tse;case"linkViaPopup":case"linkViaRedirect":return Rse;case"reauthViaPopup":case"reauthViaRedirect":return Sse;default:Lr(this.auth,"internal-error")}}resolve(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pse=new Df(2e3,1e4);function Mse(t,e,n){return S3.apply(this,arguments)}function S3(){return(S3=y(function*(t,e,n){const r=vn(t);!function Rl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Lr(t,"argument-error"),L9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Po);const i=La(r,n);return new M3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let M3=(()=>{class t extends SP{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return y(function*(){const r=yield n.execute();return fe(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return y(function*(){qs(1===n.filter.length,"Popup operations only handle one event");const r=o1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Xr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Pse.get())};n()}}return t.currentPopupAction=null,t})();const Nse="pendingRedirect",Vf=new Map;class kse extends SP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Vf.get(n.auth._key());if(!r){try{const s=(yield function Ose(t,e){return N3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Vf.set(n.auth._key(),r)}return n.bypassAuthState||Vf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function N3(){return(N3=y(function*(t,e){const n=function PP(t){return Xg(Nse,t.config.apiKey,t.name)}(e),r=function RP(t){return Ys(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Fse(t,e){Vf.set(t._key(),e)}function MP(t,e){return H3.apply(this,arguments)}function H3(){return(H3=y(function*(t,e,n=!1){const r=vn(t),i=La(r,e),o=yield new kse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class zse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Use(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kP(e))}saveEventToCache(e){this.cachedEventUids.add(kP(e)),this.lastProcessedEventTime=Date.now()}}function kP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function U3(){return(U3=y(function*(t,e={}){return Kt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const $se=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gse=/^https?/;function j3(){return j3=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function jse(t){return U3.apply(this,arguments)}(t);for(const n of e)try{if(Wse(n))return}catch{}Lr(t,"unauthorized-domain")}),j3.apply(this,arguments)}function Wse(t){const e=Af(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Gse.test(n))return!1;if($se.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kse=new Df(3e4,6e4);function FP(){const t=yn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let u1=null;const Xse=new Df(5e3,15e3),Jse="__/auth/iframe",Zse="emulator/auth/iframe",eoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},toe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function noe(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j4(e,Zse):`https://${t.config.authDomain}/${Jse}`,r={apiKey:e.apiKey,appName:t.name,v:Il},i=toe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vf(r).slice(1)}`}function $3(){return $3=y(function*(t){const e=yield function Qse(t){return u1=u1||function Yse(t){return new Promise((e,n)=>{var r,i,s;function o(){FP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FP(),n(Xr(t,"network-request-failed"))},timeout:Kse.get()})}if(null!==(i=null===(r=yn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=yn().gapi)||void 0===s||!s.load){const a=oP("iframefcb");return yn()[a]=()=>{gapi.load?o():n(Xr(t,"network-request-failed"))},o6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw u1=null,e})}(t),u1}(t),n=yn().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:noe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eoe,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Xr(t,"network-request-failed"),c=yn().setTimeout(()=>{o(a)},Xse.get());function l(){yn().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),$3.apply(this,arguments)}const ioe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class VP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const doe="__/auth/handler",foe="emulator/auth/handler",hoe=encodeURIComponent("fac");function LP(t,e,n,r,i,s){return G3.apply(this,arguments)}function G3(){return(G3=y(function*(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Il,eventId:i};if(e instanceof Po){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof pP){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${hoe}=${encodeURIComponent(c)}`:"";return`${function poe({config:t}){return t.emulator?j4(t,foe):`https://${t.authDomain}/${doe}`}(t)}?${vf(a).slice(1)}${l}`})).apply(this,arguments)}const q3="webStorageSupport",moe=class goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IP,this._completeRedirectFn=MP,this._overrideRedirectResult=Fse}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;qs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield LP(e,n,r,Af(),i);return function loe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ioe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Pn().toLowerCase();n&&(a=J9(l)?"_blank":n),X9(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Kre(t=Pn()){var e;return Jg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function uoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new VP(null);const d=window.open(e||"",a,u);fe(d,t,"popup-blocked");try{d.focus()}catch{}return new VP(d)}(e,a,o1())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function rse(t){yn().location.href=t}(yield LP(e,n,r,Af(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function roe(t){return $3.apply(this,arguments)}(e),i=new zse(e);return r.register("authEvent",s=>(fe(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(q3,{type:q3},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[q3];void 0!==o&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function qse(t){return j3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rP()||i6()||Jg()}};var zP="@firebase/auth";class _oe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xoe=h9("authIdTokenMaxAge")||300;let jP=null;const Coe=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xoe)return;const s=r?.token;jP!==s&&(jP=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ioe(t=bl()){const e=os(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function aie(t,e){const n=os(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(_f(n.getOptions(),e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:moe,persistence:[fse,Zie,IP]}),r=h9("authTokenSyncURL");if(r){const s=Coe(r);(function $ie(t,e,n){Zt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function jie(t,e,n,r){Zt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=d9("auth");return i&&function lie(t,e,n){const r=vn(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=lP(e),{host:o,port:a}=function uie(t){const e=lP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:uP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function die(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function boe(t){return new ue(function(e){var n=function Gie(t,e,n,r){return Zt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function yoe(t){gi(new Qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iP(t)},l=new tie(r,i,s,c);return function cie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new Qr("auth-internal",e=>{const n=vn(e.getProvider("auth").getImmediate());return new _oe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(zP,"1.3.2",function voe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),en(zP,"1.3.2","esm2017")}("Browser");class Lf{constructor(e){return e}}class GP{constructor(){return Wg("auth")}}const K3=new ve("angularfire2.auth-instances");function Doe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Lf(r)}}const Toe={provide:GP,deps:[[new cn,K3]]},Soe={provide:Lf,useFactory:function Aoe(t,e){const n=qg("auth",t,e);return n&&new Lf(n)},deps:[[new cn,K3],Oa]};let Roe=(()=>{var t;class e{constructor(){en("angularfire",So.full,"auth")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ht({type:t})),gt(e,"\u0275inj",Ot({providers:[Soe,Toe]})),e})();function Nl(t,...e){return{ngModule:Roe,providers:[{provide:K3,useFactory:Doe(t),multi:!0,deps:[dt,bn,bf,wf,[new cn,B4],...e]}]}}const qP=_n(boe,!0),kl=_n(Ioe,!0),Poe=_n(Oie,!0),Moe=_n(Mse,!0);var ye,Noe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oi={},Y3=Y3||{},$e=Noe||self;function f1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Q3="closure_uid_"+(1e9*Math.random()>>>0),Ooe=0;function Foe(t,e,n){return t.call.apply(t.bind,arguments)}function Voe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ar(t,e,n){return(ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Foe:Voe).apply(null,arguments)}function h1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mo(){this.s=this.s,this.o=this.o}Mo.prototype.s=!1,Mo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function koe(t){Object.prototype.hasOwnProperty.call(t,Q3)&&t[Q3]||(t[Q3]=++Ooe)}(this)},Mo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function X3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function KP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(f1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function cr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cr.prototype.h=function(){this.defaultPrevented=!0};var Boe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Hf(t){return/^[\s\xa0]*$/.test(t)}function p1(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function cs(t){return-1!=p1().indexOf(t)}function J3(t){return J3[" "](t),t}J3[" "]=function(){};var eE,t,zoe=cs("Opera"),Ol=cs("Trident")||cs("MSIE"),YP=cs("Edge"),Z3=YP||Ol,QP=cs("Gecko")&&!(-1!=p1().toLowerCase().indexOf("webkit")&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),Uoe=-1!=p1().toLowerCase().indexOf("webkit")&&!cs("Edge");function XP(){var t=$e.document;return t?t.documentMode:void 0}e:{var tE="",nE=(t=p1(),QP?/rv:([^\);]+)(\)|;)/.exec(t):YP?/Edge\/([\d\.]+)/.exec(t):Ol?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Uoe?/WebKit\/(\S+)/.exec(t):zoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nE&&(tE=nE?nE[1]:""),Ol){var rE=XP();if(null!=rE&&rE>parseFloat(tE)){eE=String(rE);break e}}eE=tE}var joe=$e.document&&Ol&&(XP()||parseInt(eE,10))||void 0;function zf(t,e){if(cr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QP){e:{try{J3(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$oe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zf.$.h.call(this)}}Mn(zf,cr);var $oe={2:"touch",3:"pen",4:"mouse"};zf.prototype.h=function(){zf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),Goe=0;function qoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Goe,this.fa=this.ia=!1}function g1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ZP(t){const e={};for(const n in t)e[n]=t[n];return e}const eM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<eM.length;s++)n=eM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function m1(t){this.src=t,this.g={},this.h=0}function oE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=WP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(g1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}m1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=aE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new qoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var cE="closure_lm_"+(1e6*Math.random()|0),lE={};function nM(t,e,n,r,i){if(r&&r.once)return iM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nM(t,e[s],n,r,i);return null}return n=hE(n),t&&t[Uf]?t.O(e,n,Bf(r)?!!r.capture:!!r,i):rM(t,e,n,!1,r,i)}function rM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bf(i)?!!i.capture:!!i,a=dE(t);if(a||(t[cE]=a=new m1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Koe(){const e=Yoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Boe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function iM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)iM(t,e[s],n,r,i);return null}return n=hE(n),t&&t[Uf]?t.P(e,n,Bf(r)?!!r.capture:!!r,i):rM(t,e,n,!0,r,i)}function sM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sM(t,e[s],n,r,i);else r=Bf(r)?!!r.capture:!!r,n=hE(n),t&&t[Uf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aE(s=t.g[e],n,r,i))&&(g1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=dE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aE(e,n,r,i)),(n=-1<t?e[t]:null)&&uE(n))}function uE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Uf])oE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dE(e))?(oE(n,t),0==n.h&&(n.src=null,e[cE]=null)):g1(t)}}}function oM(t){return t in lE?lE[t]:lE[t]="on"+t}function Yoe(t,e){if(t.fa)t=!0;else{e=new zf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&uE(t),t=n.call(r,e)}return t}function dE(t){return(t=t[cE])instanceof m1?t:null}var fE="__closure_events_fn_"+(1e9*Math.random()>>>0);function hE(t){return"function"==typeof t?t:(t[fE]||(t[fE]=function(e){return t.handleEvent(e)}),t[fE])}function Nn(){Mo.call(this),this.i=new m1(this),this.S=this,this.J=null}function Kn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new cr(e,t);else if(e instanceof cr)e.target=e.target||t;else{var i=e;tM(e=new cr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_1(o,r,!0,e)&&i}if(i=_1(o=e.g=t,r,!0,e)&&i,i=_1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_1(o=e.g=n[s],r,!1,e)&&i}function _1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&oE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Mn(Nn,Mo),Nn.prototype[Uf]=!0,Nn.prototype.removeEventListener=function(t,e,n,r){sM(this,t,e,n,r)},Nn.prototype.N=function(){if(Nn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)g1(n[r]);delete t.g[e],t.h--}}this.J=null},Nn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var pE=$e.JSON.stringify;function Xoe(){var t=gE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var aM=new class Qoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zoe,t=>t.reset());class Zoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tae(t){$e.setTimeout(()=>{throw t},0)}let jf,$f=!1,gE=new class Joe{constructor(){this.h=this.g=null}add(e,n){const r=aM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},cM=()=>{const t=$e.Promise.resolve(void 0);jf=()=>{t.then(nae)}};var nae=()=>{for(var t;t=Xoe();){try{t.h.call(t.g)}catch(n){tae(n)}var e=aM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$f=!1};function v1(t,e){Nn.call(this),this.h=t||1,this.g=e||$e,this.j=ar(this.qb,this),this.l=Date.now()}function mE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function _E(t,e,n){if("function"==typeof t)n&&(t=ar(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ar(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function lM(t){t.g=_E(()=>{t.g=null,t.i&&(t.i=!1,lM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mn(v1,Nn),(ye=v1.prototype).ga=!1,ye.T=null,ye.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kn(this,"tick"),this.ga&&(mE(this),this.start()))}},ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.N=function(){v1.$.N.call(this),mE(this),delete this.g};class rae extends Mo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lM(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gf(t){Mo.call(this),this.h=t,this.g={}}Mn(Gf,Mo);var uM=[];function dM(t,e,n,r){Array.isArray(n)||(n&&(uM[0]=n.toString()),n=uM);for(var i=0;i<n.length;i++){var s=nM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function fM(t){sE(t.g,function(e,n){this.g.hasOwnProperty(n)&&uE(e)},t),t.g={}}function y1(){this.g=!0}function Fl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return pE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Gf.prototype.N=function(){Gf.$.N.call(this),fM(this)},Gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y1.prototype.Ea=function(){this.g=!1},y1.prototype.info=function(){};var Ba={},hM=null;function E1(){return hM=hM||new Nn}function pM(t){cr.call(this,Ba.Ta,t)}function qf(t){const e=E1();Kn(e,new pM(e))}function gM(t,e){cr.call(this,Ba.STAT_EVENT,t),this.stat=e}function Ir(t){const e=E1();Kn(e,new gM(e,t))}function mM(t,e){cr.call(this,Ba.Ua,t),this.size=e}function Wf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}Ba.Ta="serverreachability",Mn(pM,cr),Ba.STAT_EVENT="statevent",Mn(gM,cr),Ba.Ua="timingevent",Mn(mM,cr);var x1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_M={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vE(){}function yM(){}vE.prototype.h=null;var xE,Kf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yE(){cr.call(this,"d")}function EE(){cr.call(this,"c")}function C1(){}function Yf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gf(this),this.P=cae,this.V=new v1(t=Z3?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EM}function EM(){this.i=null,this.g="",this.h=!1}Mn(yE,cr),Mn(EE,cr),Mn(C1,vE),C1.prototype.g=function(){return new XMLHttpRequest},C1.prototype.i=function(){return{}},xE=new C1;var cae=45e3,CE={},I1={};function IE(t,e,n){t.L=1,t.v=D1(Xs(e)),t.s=n,t.S=!0,xM(t,null)}function xM(t,e){t.G=Date.now(),Qf(t),t.A=Xs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),PM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new EM,t.g=tN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new rae(ar(t.Pa,t,t.g),t.O)),dM(t.U,t.g,"readystatechange",t.nb),e=t.I?ZP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qf(),function iae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function CM(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function IM(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=lae(t,n),i==I1){4==e&&(t.o=4,Ir(14),r=!1),Fl(t.j,t.m,null,"[Incomplete Response]");break}if(i==CE){t.o=4,Ir(15),Fl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fl(t.j,t.m,i,null),bE(t,i)}CM(t)&&i!=I1&&i!=CE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ir(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),PE(e),e.M=!0,Ir(11))):(Fl(t.j,t.m,n,"[Invalid Chunked Response]"),Ha(t),Xf(t))}function lae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?I1:(n=Number(e.substring(n,r)),isNaN(n)?CE:(r+=1)+n>e.length?I1:(e=e.slice(r,r+n),t.C=r+n,e))}function Qf(t){t.Y=Date.now()+t.P,bM(t,t.P)}function bM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wf(ar(t.lb,t),e)}function b1(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function Xf(t){0==t.l.H||t.J||XM(t.l,t)}function Ha(t){b1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,mE(t.V),fM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||wE(n.i,t)))if(!t.K&&wE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;N1(n),P1(n)}RE(n),Ir(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wf(ar(n.ib,n),6e3));if(1>=kM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ua(n,11)}else if((t.K||n.g==t)&&N1(n),!Hf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ft(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=eN(r,r.J?r.pa:null,r.Y),o.K){OM(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(b1(a),Qf(a)),r.g=o}else YM(r);0<n.j.length&&M1(n)}else"stop"!=l[0]&&"close"!=l[0]||Ua(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ua(n,7):SE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}qf()}catch{}}function wM(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function dae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(f1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(f1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(ye=Yf.prototype).setTimeout=function(t){this.P=t},ye.nb=function(t){t=t.target;const e=this.M;e&&3==ls(t)?e.l():this.Pa(t)},ye.Pa=function(t){try{if(t==this.g)e:{const u=ls(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Z3||this.g&&(this.h.h||this.g.ja()||jM(this.g)))){this.J||4!=u||7==e||qf(),b1(this);var n=this.g.da();this.ca=n;t:if(CM(this)){var r=jM(this.g);t="";var i=r.length,s=4==ls(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ha(this),Xf(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function sae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ir(12),Ha(this),Xf(this);break e}Fl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bE(this,n)}this.S?(IM(this,u,o),Z3&&this.i&&3==u&&(dM(this.U,this.V,"tick",this.mb),this.V.start())):(Fl(this.j,this.m,o,null),bE(this,o)),4==u&&Ha(this),this.i&&!this.J&&(4==u?XM(this.l,this):(this.i=!1,Qf(this)))}else(function Sae(t){const e={};t=(t.g&&2<=ls(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Hf(t[r]))continue;var n=eae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Woe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ir(12)):(this.o=0,Ir(13)),Ha(this),Xf(this)}}}catch{}},ye.mb=function(){if(this.g){var t=ls(this.g),e=this.g.ja();this.C<e.length&&(b1(this),IM(this,t,e),this.i&&4!=t&&Qf(this))}},ye.cancel=function(){this.J=!0,Ha(this)},ye.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function oae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qf(),Ir(17)),Ha(this),this.o=2,Xf(this)):bM(this,this.Y-t)};var AM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof za){this.h=t.h,w1(this,t.j),this.s=t.s,this.g=t.g,A1(this,t.m),this.l=t.l;var e=t.i,n=new eh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DM(this,n),this.o=t.o}else t&&(e=String(t).match(AM))?(this.h=!1,w1(this,e[1]||"",!0),this.s=Jf(e[2]||""),this.g=Jf(e[3]||"",!0),A1(this,e[4]),this.l=Jf(e[5]||"",!0),DM(this,e[6]||"",!0),this.o=Jf(e[7]||"")):(this.h=!1,this.i=new eh(null,this.h))}function Xs(t){return new za(t)}function w1(t,e,n){t.j=n?Jf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function A1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DM(t,e,n){e instanceof eh?(t.i=e,function vae(t,e){e&&!t.j&&(No(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SM(this,r),PM(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Zf(e,mae)),t.i=new eh(e,t.h))}function Ft(t,e,n){t.i.set(e,n)}function D1(t){return Ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}za.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zf(e,TM,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Zf(e,TM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zf(n,"/"==n.charAt(0)?gae:pae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zf(n,_ae)),t.join("")};var TM=/[#\/\?@]/g,pae=/[#\?:]/g,gae=/[#\?]/g,mae=/[#\?@]/g,_ae=/#/g;function eh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function No(t){t.g||(t.g=new Map,t.h=0,t.i&&function fae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function SM(t,e){No(t),e=Vl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RM(t,e){return No(t),e=Vl(t,e),t.g.has(e)}function PM(t,e,n){SM(t,e),0<n.length&&(t.i=null,t.g.set(Vl(t,e),X3(n)),t.h+=n.length)}function Vl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MM(t){this.l=t||Eae,t=$e.PerformanceNavigationTiming?0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=eh.prototype).add=function(t,e){No(this),this.i=null,t=Vl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ye.forEach=function(t,e){No(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},ye.ta=function(){No(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},ye.Z=function(t){No(this);let e=[];if("string"==typeof t)RM(this,t)&&(e=e.concat(this.g.get(Vl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ye.set=function(t,e){return No(this),this.i=null,RM(this,t=Vl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ye.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Eae=10;function NM(t){return!!t.h||!!t.g&&t.g.size>=t.j}function kM(t){return t.h?1:t.g?t.g.size:0}function wE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function AE(t,e){t.g?t.g.add(e):t.h=e}function OM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function FM(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return X3(t.i)}MM.prototype.cancel=function(){if(this.i=FM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xae=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function Cae(){this.g=new xae}function Iae(t,e,n){const r=n||"";try{wM(t,function(i,s){let o=i;Bf(i)&&(o=pE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function T1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function th(t){this.l=t.ec||null,this.j=t.ob||!1}function S1(t,e){Nn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=DE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mn(th,vE),th.prototype.g=function(){return new S1(this.l,this.j)},th.prototype.i=function(t){return function(){return t}}({}),Mn(S1,Nn);var DE=0;function VM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function nh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rh(t)}function rh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ye=S1.prototype).open=function(t,e){if(this.readyState!=DE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rh(this)},ye.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nh(this)),this.readyState=DE},ye.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rh(this)),this.g&&(this.readyState=3,rh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ye.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nh(this):rh(this),3==this.readyState&&VM(this)}},ye.Za=function(t){this.g&&(this.response=this.responseText=t,nh(this))},ye.Ya=function(t){this.g&&(this.response=t,nh(this))},ye.ka=function(){this.g&&nh(this)},ye.setRequestHeader=function(t,e){this.v.append(t,e)},ye.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(S1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wae=$e.JSON.parse;function tn(t){Nn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LM,this.L=this.M=!1}Mn(tn,Nn);var LM="",Aae=/^https?$/i,Dae=["POST","PUT"];function BM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HM(t),R1(t)}function HM(t){t.F||(t.F=!0,Kn(t,"complete"),Kn(t,"error"))}function zM(t){if(t.h&&typeof Y3<"u"&&(!t.C[1]||4!=ls(t)||2!=t.da()))if(t.v&&4==ls(t))_E(t.La,0,t);else if(Kn(t,"readystatechange"),4==ls(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(AM)[1]||null;!i&&$e.self&&$e.self.location&&(i=$e.self.location.protocol.slice(0,-1)),r=!Aae.test(i?i.toLowerCase():"")}n=r}if(n)Kn(t,"complete"),Kn(t,"success");else{t.m=6;try{var s=2<ls(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HM(t)}}finally{R1(t)}}}function R1(t,e){if(t.g){UM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kn(t,"ready");try{n.onreadystatechange=r}catch{}}}function UM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function ls(t){return t.g?t.g.readyState:0}function jM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case LM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $M(t){let e="";return sE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function TE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$M(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ft(t,e,n))}function ih(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GM(t){this.Ga=0,this.j=[],this.l=new y1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ih("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ih("baseRetryDelayMs",5e3,t),this.hb=ih("retryDelaySeedMs",1e4,t),this.eb=ih("forwardChannelMaxRetries",2,t),this.xa=ih("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MM(t&&t.concurrentRequestLimit),this.Ja=new Cae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function SE(t){if(qM(t),3==t.H){var e=t.W++,n=Xs(t.I);if(Ft(n,"SID",t.K),Ft(n,"RID",e),Ft(n,"TYPE","terminate"),sh(t,n),(e=new Yf(t,t.l,e)).L=2,e.v=D1(Xs(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=tN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qf(e)}ZM(t)}function P1(t){t.g&&(PE(t),t.g.cancel(),t.g=null)}function qM(t){P1(t),t.u&&($e.clearTimeout(t.u),t.u=null),N1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function M1(t){if(!NM(t.i)&&!t.m){t.m=!0;var e=t.Na;jf||cM(),$f||(jf(),$f=!0),gE.add(e,t),t.C=0}}function WM(t,e){var n;n=e?e.m:t.W++;const r=Xs(t.I);Ft(r,"SID",t.K),Ft(r,"RID",n),Ft(r,"AID",t.V),sh(t,r),t.o&&t.s&&TE(r,t.o,t.s),n=new Yf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),AE(t.i,n),IE(n,r,e)}function sh(t,e){t.na&&sE(t.na,function(n,r){Ft(e,r,n)}),t.h&&wM({},function(n,r){Ft(e,r,n)})}function KM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ar(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Iae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function YM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jf||cM(),$f||(jf(),$f=!0),gE.add(e,t),t.A=0}}function RE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Wf(ar(t.Ma,t),JM(t,t.A)),t.A++,0))}function PE(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function QM(t){t.g=new Yf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xs(t.wa);Ft(e,"RID","rpc"),Ft(e,"SID",t.K),Ft(e,"AID",t.V),Ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ft(e,"TO",t.qa),Ft(e,"TYPE","xmlhttp"),sh(t,e),t.o&&t.s&&TE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=D1(Xs(e)),n.s=null,n.S=!0,xM(n,t)}function N1(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function XM(t,e){var n=null;if(t.g==e){N1(t),PE(t),t.g=null;var r=2}else{if(!wE(t.i,e))return;n=e.F,OM(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kn(r=E1(),new mM(r,n)),M1(t)}else YM(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Rae(t,e){return!(kM(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Wf(ar(t.Na,t,e),JM(t,t.C)),t.C++,0)))}(t,e)||2==r&&RE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ua(t,5);break;case 4:Ua(t,10);break;case 3:Ua(t,6);break;default:Ua(t,2)}}function JM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ua(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ar(t.pb,t);n||(n=new za("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||w1(n,"https"),D1(n)),function bae(t,e){const n=new y1;if($e.Image){const r=new Image;r.onload=h1(T1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=h1(T1,n,r,"TestLoadImage: error",!1,e),r.onabort=h1(T1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=h1(T1,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ir(2);t.H=0,t.h&&t.h.za(e),ZM(t),qM(t)}function ZM(t){if(t.H=0,t.ma=[],t.h){const e=FM(t.i);(0!=e.length||0!=t.j.length)&&(KP(t.ma,e),KP(t.ma,t.j),t.i.i.length=0,X3(t.j),t.j.length=0),t.h.ya()}}function eN(t,e,n){var r=n instanceof za?Xs(n):new za(n);if(""!=r.g)e&&(r.g=e+"."+r.g),A1(r,r.m);else{var i=$e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new za(null);r&&w1(s,r),e&&(s.g=e),i&&A1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ft(r,n,e),Ft(r,"VER",t.ra),sh(t,r),r}function tN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tn(n&&t.Ha&&!t.va?new th({ob:!0}):t.va)).Oa(t.J),e}function nN(){}function k1(){if(Ol&&!(10<=Number(joe)))throw Error("Environmental error: no available transport.")}function Jr(t,e){Nn.call(this),this.g=new GM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ll(this)}function rN(t){yE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function iN(){EE.call(this),this.status=1}function Ll(t){this.g=t}function Fi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ME(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function yt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(ye=tn.prototype).Oa=function(t){this.M=t},ye.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xE.g(),this.C=function vM(t){return t.h||(t.h=t.i())}(this.u?this.u:xE),this.g.onreadystatechange=ar(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void BM(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$e.FormData&&t instanceof $e.FormData,!(0<=WP(Dae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{UM(this),0<this.B&&((this.L=function Tae(t){return Ol&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ar(this.ua,this)):this.A=_E(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){BM(this,s)}},ye.ua=function(){typeof Y3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},ye.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kn(this,"complete"),Kn(this,"abort"),R1(this))},ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R1(this,!0)),tn.$.N.call(this)},ye.La=function(){this.s||(this.G||this.v||this.l?zM(this):this.kb())},ye.kb=function(){zM(this)},ye.isActive=function(){return!!this.g},ye.da=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ye.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wae(e)}},ye.Ia=function(){return this.m},ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=GM.prototype).ra=8,ye.H=1,ye.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Yf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ZP(s),tM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KM(this,i,e),Ft(n=Xs(this.I),"RID",t),Ft(n,"CVER",22),this.F&&Ft(n,"X-HTTP-Session-Id",this.F),sh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String($M(s)))+"&"+e:this.o&&TE(n,this.o,s)),AE(this.i,i),this.bb&&Ft(n,"TYPE","init"),this.P?(Ft(n,"$req",e),Ft(n,"SID","null"),i.aa=!0,IE(i,n,null)):IE(i,n,e),this.H=2}}else 3==this.H&&(t?WM(this,t):0==this.j.length||NM(this.i)||WM(this))},ye.Ma=function(){if(this.u=null,QM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wf(ar(this.jb,this),t)}},ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ir(10),P1(this),QM(this))},ye.ib=function(){null!=this.v&&(this.v=null,P1(this),RE(this),Ir(19))},ye.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ir(2)):(this.l.info("Failed to ping google.com"),Ir(1))},ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(ye=nN.prototype).Ba=function(){},ye.Aa=function(){},ye.za=function(){},ye.ya=function(){},ye.isActive=function(){return!0},ye.Va=function(){},k1.prototype.g=function(t,e){return new Jr(t,e)},Mn(Jr,Nn),Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ir(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eN(t,null,t.Y),M1(t)},Jr.prototype.close=function(){SE(this.g)},Jr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&M1(e)},Jr.prototype.N=function(){this.g.h=null,delete this.j,SE(this.g),delete this.g,Jr.$.N.call(this)},Mn(rN,yE),Mn(iN,EE),Mn(Ll,nN),Ll.prototype.Ba=function(){Kn(this.g,"a")},Ll.prototype.Aa=function(t){Kn(this.g,new rN(t))},Ll.prototype.za=function(t){Kn(this.g,new iN)},Ll.prototype.ya=function(){Kn(this.g,"b")},Mn(Fi,function Pae(){this.blockSize=-1}),Fi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)ME(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ME(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ME(this,r),i=0;break}}this.h=i,this.i+=e},Fi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Mae={};function NE(t){return-128<=t&&128>t?function Hoe(t,e){var n=Mae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new yt([0|e],0>e?-1:0)}):new yt([0|t],0>t?-1:0)}function us(t){if(isNaN(t)||!isFinite(t))return Bl;if(0>t)return Yn(us(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kE;return new yt(e,0)}var kE=4294967296,Bl=NE(0),OE=NE(1),oN=NE(16777216);function Js(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function _i(t){return-1==t.h}function Yn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new yt(n,~t.h).add(OE)}function O1(t,e){return t.add(Yn(e))}function F1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function oh(t,e){this.g=t,this.h=e}function V1(t,e){if(Js(e))throw Error("division by zero");if(Js(t))return new oh(Bl,Bl);if(_i(t))return e=V1(Yn(t),e),new oh(Yn(e.g),Yn(e.h));if(_i(e))return e=V1(t,Yn(e)),new oh(Yn(e.g),e.h);if(30<t.g.length){if(_i(t)||_i(e))throw Error("slowDivide_ only works with positive integers.");for(var n=OE,r=e;0>=r.X(t);)n=aN(n),r=aN(r);var i=Hl(n,1),s=Hl(r,1);for(r=Hl(r,2),n=Hl(n,2);!Js(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Hl(r,1),n=Hl(n,1)}return e=O1(t,i.R(e)),new oh(i,e)}for(i=Bl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=us(n)).R(e);_i(o)||0<o.X(t);)o=(s=us(n-=r)).R(e);Js(s)&&(s=OE),i=i.add(s),t=O1(t,o)}return new oh(i,t)}function aN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new yt(n,t.h)}function Hl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new yt(i,t.h)}(ye=yt.prototype).ea=function(){if(_i(this))return-Yn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kE+r)*e,e*=kE}return t},ye.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Js(this))return"0";if(_i(this))return"-"+Yn(this).toString(t);for(var e=us(Math.pow(t,6)),n=this,r="";;){var i=V1(n,e).g,s=((0<(n=O1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Js(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ye.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ye.X=function(t){return _i(t=O1(this,t))?-1:Js(t)?0:1},ye.abs=function(){return _i(this)?Yn(this):this},ye.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new yt(n,-2147483648&n[n.length-1]?-1:0)},ye.R=function(t){if(Js(this)||Js(t))return Bl;if(_i(this))return _i(t)?Yn(this).R(Yn(t)):Yn(Yn(this).R(t));if(_i(t))return Yn(this.R(Yn(t)));if(0>this.X(oN)&&0>t.X(oN))return us(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,F1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,F1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,F1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,F1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new yt(n,0)},ye.gb=function(t){return V1(this,t).h},ye.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new yt(n,this.h&t.h)},ye.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new yt(n,this.h|t.h)},ye.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new yt(n,this.h^t.h)},k1.prototype.createWebChannel=k1.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,x1.NO_ERROR=0,x1.TIMEOUT=8,x1.HTTP_ERROR=6,_M.COMPLETE="complete",yM.EventType=Kf,Kf.OPEN="a",Kf.CLOSE="b",Kf.ERROR="c",Kf.MESSAGE="d",Nn.prototype.listen=Nn.prototype.O,tn.prototype.listenOnce=tn.prototype.P,tn.prototype.getLastError=tn.prototype.Sa,tn.prototype.getLastErrorCode=tn.prototype.Ia,tn.prototype.getStatus=tn.prototype.da,tn.prototype.getResponseJson=tn.prototype.Wa,tn.prototype.getResponseText=tn.prototype.ja,tn.prototype.send=tn.prototype.ha,tn.prototype.setWithCredentials=tn.prototype.Oa,Fi.prototype.digest=Fi.prototype.l,Fi.prototype.reset=Fi.prototype.reset,Fi.prototype.update=Fi.prototype.j,yt.prototype.add=yt.prototype.add,yt.prototype.multiply=yt.prototype.R,yt.prototype.modulo=yt.prototype.gb,yt.prototype.compare=yt.prototype.X,yt.prototype.toNumber=yt.prototype.ea,yt.prototype.toString=yt.prototype.toString,yt.prototype.getBits=yt.prototype.D,yt.fromNumber=us,yt.fromString=function sN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yn(sN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=us(Math.pow(e,8)),r=Bl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=us(Math.pow(e,s)),r=r.R(s).add(us(o))):r=(r=r.R(n)).add(us(o))}return r};var Nae=Oi.createWebChannelTransport=function(){return new k1},kae=Oi.getStatEventTarget=function(){return E1()},FE=Oi.ErrorCode=x1,Oae=Oi.EventType=_M,Fae=Oi.Event=Ba,cN=Oi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vae=Oi.FetchXmlHttpFactory=th,L1=Oi.WebChannel=yM,Lae=Oi.XhrIo=tn,Bae=Oi.Md5=Fi,zl=Oi.Integer=yt;const lN="@firebase/firestore";class kn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let Ul="10.5.2";const ko=new xf("@firebase/firestore");function jl(){return ko.logLevel}function te(t,...e){if(ko.logLevel<=ot.DEBUG){const n=e.map(VE);ko.debug(`Firestore (${Ul}): ${t}`,...n)}}function dn(t,...e){if(ko.logLevel<=ot.ERROR){const n=e.map(VE);ko.error(`Firestore (${Ul}): ${t}`,...n)}}function Zr(t,...e){if(ko.logLevel<=ot.WARN){const n=e.map(VE);ko.warn(`Firestore (${Ul}): ${t}`,...n)}}function VE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function be(t="Unexpected state"){const e=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: `+t;throw dn(e),new Error(e)}function Te(t,e){t||be()}function pe(t,e){return t}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class uN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class zae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uae{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te("string"==typeof r.accessToken),new uN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(null===e||"string"==typeof e),new kn(e)}}class jae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $ae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te("string"==typeof n.token),this.R=n.token,new dN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fN{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Yt(0,0))}static max(){return new Pe(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ah{constructor(e,n,r){void 0===n?n=0:n>e.length&&be(),void 0===r?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ah.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ah?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends ah{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Wae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends ah{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return Wae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function gN(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Pe.min(),ge.empty(),-1)}static max(){return new ei(Pe.max(),ge.empty(),-1)}}function BE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ge.comparator(t.documentKey,e.documentKey),0!==n?n:ze(t.largestBatchId,e.largestBatchId))}const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oo(t){return HE.apply(this,arguments)}function HE(){return HE=y(function*(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==mN)throw t;te("LocalStore","Unexpectedly lost primary lease")}),HE.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Fo(t){return"IndexedDbTransactionError"===t.name}let ti=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function lh(t){return null==t}function uh(t){return 0===t&&1/t==-1/0}function wN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new z1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new z1(this.root,e,this.comparator,!1)}getReverseIterator(){return new z1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new z1(this.root,e,this.comparator,!0)}}class z1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=s??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1,Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DN(this.data.getIterator())}getIteratorFrom(e){return new DN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class DN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Br{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Br([])}unionWith(e){let n=new bt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class TN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TN("Invalid base64 string: "+s):s}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const yce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(Te(!!t),"string"==typeof t){let e=0;const n=yce.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zs(t){return"string"==typeof t?Dn.fromBase64String(t):Dn.fromUint8Array(t)}function U1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j1(t){const e=t.mapValue.fields.__previous_value__;return U1(e)?j1(e):e}function dh(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}class Ece{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}const Bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U1(t)?4:MN(t)?9007199254740991:10:be()}function fs(t,e){if(t===e)return!0;const n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dh(t).isEqual(dh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Lo(i.timestampValue),a=Lo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,Zs(t.bytesValue).isEqual(Zs(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return nn(i.geoPointValue.latitude)===nn(s.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nn(i.integerValue)===nn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nn(i.doubleValue),a=nn(s.doubleValue);return o===a?uh(o)===uh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(wN(o)!==wN(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!fs(o[c],a[c])))return!1;return!0}(t,e);default:return be()}var s}function fh(t,e){return void 0!==(t.values||[]).find(n=>fs(n,e))}function zo(t,e){if(t===e)return 0;const n=Ho(t),r=Ho(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=nn(s.integerValue||s.doubleValue),c=nn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return SN(t.timestampValue,e.timestampValue);case 4:return SN(dh(t),dh(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zs(s),c=Zs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ze(a[l],c[l]);if(0!==u)return u}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(nn(s.latitude),nn(o.latitude));return 0!==a?a:ze(nn(s.longitude),nn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=zo(a[l],c[l]);if(u)return u}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Bo.mapValue&&o===Bo.mapValue)return 0;if(s===Bo.mapValue)return 1;if(o===Bo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=ze(c[d],u[d]);if(0!==f)return f;const h=zo(a[c[d]],l[u[d]]);if(0!==h)return h}return ze(c.length,u.length)}(t.mapValue,e.mapValue);default:throw be()}}function SN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ze(t,e);const n=Lo(t),r=Lo(e),i=ze(n.seconds,r.seconds);return 0!==i?i:ze(n.nanos,r.nanos)}function Kl(t){return jE(t)}function jE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zs(t.bytesValue).toBase64():"referenceValue"in t?ge.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jE(n.fields[o])}`;return i+"}"}(t.mapValue):be()}function Wa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $E(t){return!!t&&"integerValue"in t}function hh(t){return!!t&&"arrayValue"in t}function RN(t){return!!t&&"nullValue"in t}function PN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q1(t){return!!t&&"mapValue"in t}function ph(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ph(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ph(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MN(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ph(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(ph(this.value))}}function ON(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new $t([n]);if(q1(r)){const s=ON(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Br(e)}class Vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,Pe.min(),Pe.min(),Pe.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Vt(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new Vt(e,2,n,Pe.min(),Pe.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,Pe.min(),Pe.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uo{constructor(e,n){this.position=e,this.inclusive=n}}function FN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):zo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VN(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ice(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class LN{}class nt extends LN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new bce(e,n,r):"array-contains"===n?new Dce(e,r):"in"===n?new $N(e,r):"not-in"===n?new Tce(e,r):"array-contains-any"===n?new Sce(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new wce(e,r):new Ace(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(zo(n,this.value)):null!==n&&Ho(this.value)===Ho(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends LN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Et(e,n)}matches(e){return Yl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Yl(t){return"and"===t.op}function qE(t){return function BN(t){for(const e of t.filters)if(e instanceof Et)return!1;return!0}(t)&&Yl(t)}function WE(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(qE(t))return t.filters.map(e=>WE(e)).join(",");{const e=t.filters.map(n=>WE(n)).join(",");return`${t.op}(${e})`}}function HN(t,e){return t instanceof nt?(r=t,(i=e)instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&fs(r.value,i.value)):t instanceof Et?function(r,i){return i instanceof Et&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&HN(o,i.filters[a]),!0)}(t,e):void be();var r,i}function UN(t){return t instanceof nt?`${(n=t).field.canonicalString()} ${n.op} ${Kl(n.value)}`:t instanceof Et?function(n){return n.op.toString()+" {"+n.getFilters().map(UN).join(" ,")+"}"}(t):"Filter";var n}class bce extends nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class wce extends nt{constructor(e,n){super(e,"in",n),this.keys=jN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ace extends nt{constructor(e,n){super(e,"not-in",n),this.keys=jN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class Dce extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hh(n)&&fh(n.arrayValue,this.value)}}class $N extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&fh(this.value.arrayValue,n)}}class Tce extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!fh(this.value.arrayValue,n)}}class Sce extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fh(this.value.arrayValue,r))}}class Rce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function KE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rce(t,e,n,r,i,s,o)}function Ka(t){const e=pe(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kl(r)).join(",")),e.ce=n}return e.ce}function mh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ice(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VN(t.startAt,e.startAt)&&VN(t.endAt,e.endAt)}function W1(t){return ge.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class eo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Ql(t){return new eo(t)}function KN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function YE(t){return null!==t.collectionGroup}function Xl(t){const e=pe(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt($t.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new gh(s,r))}),n.has($t.keyField().canonicalString())||e.le.push(new gh($t.keyField(),r))}return e.le}function br(t){const e=pe(t);return e.he||(e.he=function YN(t,e){if("F"===t.limitType)return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new gh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uo(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Xl(t))),e.he}function QE(t,e){const n=t.filters.concat([e]);return new eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Y1(t,e,n){return new eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return mh(br(t),br(e))&&t.limitType===e.limitType}function QN(t){return`${Ka(br(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UN(i)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Kl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xl(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=FN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Xl(r),i)||r.endAt&&!function(o,a,c){const l=FN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Xl(r),i)));var r,i}function JN(t){return(e,n)=>{let r=!1;for(const i of Xl(t)){const s=Pce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Pce(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?zo(c,l):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AN(this.inner)}size(){return this.innerSize}}const Mce=new Nt(ge.comparator);function Hr(){return Mce}const ZN=new Nt(ge.comparator);function yh(...t){let e=ZN;for(const n of t)e=e.insert(n.key,n);return e}function ek(t){let e=ZN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return Eh()}function tk(){return Eh()}function Eh(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nce=new Nt(ge.comparator),kce=new bt(ge.comparator);function Qe(...t){let e=kce;for(const n of t)e=e.add(n);return e}const Oce=new bt(ze);function nk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function rk(t){return{integerValue:""+t}}function ik(t,e){return function vN(t){return"number"==typeof t&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?rk(e):nk(t,e)}class Q1{constructor(){this._=void 0}}function Fce(t,e,n){return t instanceof Zl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U1(s)&&(s=j1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ya?ok(t,e):t instanceof Qa?ak(t,e):function(i,s){const o=sk(i,s),a=ck(o)+ck(i.Ie);return $E(o)&&$E(i.Ie)?rk(a):nk(i.serializer,a)}(t,e)}function Vce(t,e,n){return t instanceof Ya?ok(t,e):t instanceof Qa?ak(t,e):n}function sk(t,e){return t instanceof eu?$E(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Zl extends Q1{}class Ya extends Q1{constructor(e){super(),this.elements=e}}function ok(t,e){const n=lk(e);for(const r of t.elements)n.some(i=>fs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends Q1{constructor(e){super(),this.elements=e}}function ak(t,e){let n=lk(e);for(const r of t.elements)n=n.filter(i=>!fs(i,r));return{arrayValue:{values:n}}}class eu extends Q1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ck(t){return nn(t.integerValue||t.doubleValue)}function lk(t){return hh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Bce{constructor(e,n){this.version=e,this.transformResults=n}}class Gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class J1{}function uk(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new nu(t.key,Gt.none()):new tu(t.key,t.data,Gt.none());{const n=t.data,r=Xn.empty();let i=new bt($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new no(t.key,r,new Br(i.toArray()),Gt.none())}}function Hce(t,e,n){t instanceof tu?function(i,s,o){const a=i.value.clone(),c=hk(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(i,s,o){if(!X1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=hk(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(fk(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ch(t,e,n,r){return t instanceof tu?function(s,o,a,c){if(!X1(s.precondition,o))return a;const l=s.value.clone(),u=pk(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(s,o,a,c){if(!X1(s.precondition,o))return a;const l=pk(s.fieldTransforms,c,o),u=o.data;return u.setAll(fk(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,X1(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function zce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sk(r.transform,i||null);null!=s&&(null===n&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function dk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&$l(r,i,(s,o)=>function Lce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Ya&&i instanceof Ya||r instanceof Qa&&i instanceof Qa?$l(r.elements,i.elements,fs):r instanceof eu&&i instanceof eu?fs(r.Ie,i.Ie):r instanceof Zl&&i instanceof Zl);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class tu extends J1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends J1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hk(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vce(o,a,n[i]))}return r}function pk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fce(s,o,e))}return r}class nu extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JE extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ch(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=uk(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>dk(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>dk(n,r))}}class e8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=Nce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new e8(e,n,r,i)}}class t8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jce{constructor(e,n){this.count=e,this.unchangedNames=n}}var En,ut;function mk(t){if(void 0===t)return dn("GRPC error has no .code"),H.UNKNOWN;switch(t){case En.OK:return H.OK;case En.CANCELLED:return H.CANCELLED;case En.UNKNOWN:return H.UNKNOWN;case En.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case En.INTERNAL:return H.INTERNAL;case En.UNAVAILABLE:return H.UNAVAILABLE;case En.UNAUTHENTICATED:return H.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case En.NOT_FOUND:return H.NOT_FOUND;case En.ALREADY_EXISTS:return H.ALREADY_EXISTS;case En.PERMISSION_DENIED:return H.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case En.ABORTED:return H.ABORTED;case En.OUT_OF_RANGE:return H.OUT_OF_RANGE;case En.UNIMPLEMENTED:return H.UNIMPLEMENTED;case En.DATA_LOSS:return H.DATA_LOSS;default:return be()}}(ut=En||(En={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";const $ce=new zl([4294967295,4294967295],0);function vk(t){const e=function _k(){return new TextEncoder}().encode(t),n=new Bae;return n.update(e),new Uint8Array(n.digest())}function yk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zl([n,r],0),new zl([i,s],0)]}class n8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ih(`Invalid padding: ${n}`);if(r<0)throw new Ih(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ih(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ih(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=zl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(zl.fromNumber(r)));return 1===i.compare($ce)&&(i=new zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=vk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=vk(e),[r,i]=yk(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bh(Pe.min(),i,new Nt(ze),Hr(),Qe())}}class wh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wh(r,n,Qe(),Qe(),Qe())}}class em{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Ek{constructor(e,n){this.targetId=e,this.fe=n}}class xk{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ck{constructor(){this.ge=0,this.pe=bk(),this.ye=Dn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new wh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=bk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Gce{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hr(),this.Qe=Ik(),this.Ke=new Nt(ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(W1(s))if(0===r){const o=new ge(s.path);this.We(n,o,Vt.newNoDocument(o,Pe.min()))}else Te(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zs(r).toUint8Array()}catch(c){if(c instanceof TN)return Zr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new n8(o,i,s)}catch(c){return Zr(c instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&W1(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Vt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new bh(e,n,this.Ke,this.qe,r);return this.qe=Hr(),this.Qe=Ik(),this.Ke=new Nt(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ck,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bt(ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ck),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ik(){return new Nt(ge.comparator)}function bk(){return new Nt(ge.comparator)}const qce={asc:"ASCENDING",desc:"DESCENDING"},Wce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kce={and:"AND",or:"OR"};class Yce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r8(t,e){return t.useProto3Json||lh(e)?e:{value:e}}function ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qce(t,e){return ru(t,e.toTimestamp())}function fn(t){return Te(!!t),Pe.fromTimestamp(function(n){const r=Lo(n);return new Yt(r.seconds,r.nanos)}(t))}function i8(t,e){return(r=t,new lt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Ak(t){const e=lt.fromString(t);return Te(Ok(e)),e}function Ah(t,e){return i8(t.databaseId,e.path)}function ps(t,e){const n=Ak(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Tk(n))}function s8(t,e){return i8(t.databaseId,e)}function Dh(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tk(t){return Te(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sk(t,e,n){return{name:Ah(t,e),fields:n.value.mapValue.fields}}function Pk(t,e){return{documents:[s8(t,e.path)]}}function a8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=s8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=s8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return kk(Et.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:jo((d=l).field),direction:tle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=r8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function Mk(t){let e=function Dk(t){const e=Ak(t);return 4===e.length?lt.emptyPath():Tk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=Nk(d);return f instanceof Et&&qE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new gh(iu((p=f).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,lh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Uo((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Uo(d.values||[],!d.before)}(n.endAt)),function WN(t,e,n,r,i,s,o,a){return new eo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function Nk(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=iu(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=iu(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=iu(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iu(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):void 0!==t.fieldFilter?nt.create(iu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Et.create(n.compositeFilter.filters.map(r=>Nk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be();var n}function tle(t){return qce[t]}function nle(t){return Wce[t]}function rle(t){return Kce[t]}function jo(t){return{fieldPath:t.canonicalString()}}function iu(t){return $t.fromServerFormat(t.fieldPath)}function kk(t){return t instanceof nt?function(n){if("=="===n.op){if(PN(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(RN(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(PN(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(RN(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:nle(n.op),value:n.value}}}(t):t instanceof Et?function(n){const r=n.getFilters().map(i=>kk(i));return 1===r.length?r[0]:{compositeFilter:{op:rle(n.op),filters:r}}}(t):be()}function ile(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ok(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ro{constructor(e,n,r,i,s=Pe.min(),o=Pe.min(),a=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fk{constructor(e){this.ut=e}}function c8(t){const e=Mk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Y1(e,e.limit,"L"):e}class ec{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(nn(e.integerValue));else if("doubleValue"in e){const r=nn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),uh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Zs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?MN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):be()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ge.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ec.St=new ec;class fle{constructor(){this.on=new p8}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ei.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class p8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(lt.comparator)).toArray()}}new Uint8Array(0);class ur{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);class nc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new nc(0)}static Nn(){return new nc(-1)}}class vle{constructor(){this.changes=new to(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ch(r.mutation,i,Br.empty(),Yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=Eh(),a=Eh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof no)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Ch(u.mutation,l,u.mutation.getFieldMask(),Yt.now())):o.set(l.key,Br.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new xle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Eh();let i=new Nt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Br.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=tk();u.forEach(f=>{if(!s.has(f)){const h=uk(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ge.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):YE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(hs());let a=-1,c=s;return o.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:ek(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=yh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const l=(d=n,f=c.child(s),new eo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Vt.newInvalidDocument(u)))});let a=yh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Ch(u.mutation,l,Br.empty(),Yt.now()),vh(n,l)&&(a=a.insert(c,l))}),a})}}class Cle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:fn(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:c8(i.bundledQuery),readTime:fn(i.readTime)}),M.resolve();var i}}class Ile{constructor(){this.overlays=new Nt(ge.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=hs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=hs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class g8{constructor(){this.hr=new bt(Fn.Pr),this.Ir=new bt(Fn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Fn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ge(new lt([])),r=new Fn(n,e),i=new Fn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ge(new lt([])),r=new Fn(n,e),i=new Fn(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Fn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ge.comparator(e.key,n.key)||ze(e.gr,n.gr)}static Tr(e,n){return ze(e.gr,n.gr)||ge.comparator(e.key,n.key)}}class ble{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(Fn.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new ZE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ze);return n.forEach(i=>{const s=new Fn(i,0),o=new Fn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Fn(new ge(s),0);let a=new bt(ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Te(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new Fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Fn(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wle{constructor(e){this.Cr=e,this.docs=new Nt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new ge(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||BE(gN(u),r)<=0||(i.has(u.key)||vh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){be()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ale(this)}getSize(e){return M.resolve(this.size)}}class Ale extends vle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Dle{constructor(e){this.persistence=e,this.Fr=new to(n=>Ka(n),mh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new g8,this.targetCount=0,this.Nr=nc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}class m8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ti(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Dle(this),this.indexManager=new fle,this.remoteDocumentCache=new wle(r=>this.referenceDelegate.Qr(r)),this.serializer=new Fk(n),this.Kr=new Cle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ile,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ble(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Tle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Tle extends Qae{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Gr=new g8,this.zr=null}static jr(e){return new cm(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ge.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class E8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new E8(e,n.fromCache,r,i)}}class Rle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Rle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(jl()<=ot.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(jl()<=ot.DEBUG&&te("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(jl()<=ot.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):M.resolve())}zi(e,n){if(KN(n))return M.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Y1(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Y1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return KN(n)||i.isEqual(Pe.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(jl()<=ot.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.Xi(e,o,n,function pN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(1e9===r?new Yt(n+1,0):new Yt(n,r));return new ei(i,ge.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new bt(JN(e));return n.forEach((i,s)=>{vh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return jl()<=ot.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.Gi.getDocumentsMatchingQuery(e,n,ei.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ple{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Nt(ze),this.ns=new to(s=>Ka(s),mh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function hO(t,e){return x8.apply(this,arguments)}function x8(){return x8=y(function*(t,e){const n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),x8.apply(this,arguments)}function pO(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kle(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uu(t,e,n){return C8.apply(this,arguments)}function C8(){return C8=y(function*(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Fo(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),C8.apply(this,arguments)}function dm(t,e,n){const r=pe(t);let i=Pe.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=pe(c),f=d.ns.get(u);return void 0!==f?M.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?s:Qe())).next(a=>(function vO(t,e,n){let r=t.rs.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function XN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class D8{constructor(){this.activeTargetIds=function XE(){return Oce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xO{constructor(){this.eo=new D8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new D8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vle{ro(e){}shutdown(){}}class CO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pm=null;function S8(){return null===pm?pm=268435456+Math.round(2147483648*Math.random()):pm++,"0x"+pm.toString(16)}const Lle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ble{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const dr="WebChannelConnection";class Hle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=S8(),c=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Zr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ul,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Lle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=S8();return new Promise((o,a)=>{const c=new Lae;c.setWithCredentials(!0),c.listenOnce(Oae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case FE.NO_ERROR:const u=c.getResponseJson();te(dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case FE.TIMEOUT:te(dr,`RPC '${e}' ${s} timed out`),a(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case FE.HTTP_ERROR:const d=c.getStatus();if(te(dr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(m){const D=m.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(D)>=0?D:H.UNKNOWN}(h.status);a(new ne(p,h.message))}else a(new ne(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(H.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{te(dr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(dr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=S8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Nae(),a=kae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Vae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");te(dr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Ble({co:m=>{h?te(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(te(dr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(dr,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,D,I)=>{m.listen(D,B=>{try{I(B)}catch(W){setTimeout(()=>{throw W},0)}})};return g(d,L1.EventType.OPEN,()=>{h||te(dr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,L1.EventType.CLOSE,()=>{h||(h=!0,te(dr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,L1.EventType.ERROR,m=>{h||(h=!0,Zr(dr,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),g(d,L1.EventType.MESSAGE,m=>{var D;if(!h){const I=m.data[0];Te(!!I);const W=I.error||(null===(D=I[0])||void 0===D?void 0:D.error);if(W){te(dr,`RPC '${e}' stream ${i} received error:`,W);const le=W.status;let Re=function(Sn){const ua=En[Sn];if(void 0!==ua)return mk(ua)}(le),Ke=W.message;void 0===Re&&(Re=H.INTERNAL,Ke="Unknown error status: "+le+" with message "+W.message),h=!0,p.Ro(new ne(Re,Ke)),d.close()}else te(dr,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),g(a,Fae.STAT_EVENT,m=>{m.stat===cN.PROXY?te(dr,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===cN.NOPROXY&&te(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function gm(){return typeof document<"u"?document:null}function Fh(t){return new Yce(t,!0)}class R8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class bO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new R8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return y(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return y(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return y(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(dn(n.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(y(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zle extends bO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Jce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:be(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Te(void 0===u||"string"==typeof u),Dn.fromBase64String(u||"")):(Te(void 0===u||u instanceof Uint8Array),Dn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?H.UNKNOWN:mk(l.code);return new ne(u,l.message||"")}(o);n=new xk(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ps(t,r.document.name),s=fn(r.document.updateTime),o=r.document.createTime?fn(r.document.createTime):Pe.min(),a=new Xn({mapValue:{fields:r.document.fields}}),c=Vt.newFoundDocument(i,s,o,a);n=new em(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ps(t,r.document),s=r.readTime?fn(r.readTime):Pe.min(),o=Vt.newNoDocument(i,s);n=new em([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ps(t,r.document);n=new em([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return be();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new jce(i,s);n=new Ek(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?fn(o.readTime):Pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Dh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=W1(c)?{documents:Pk(s,c)}:{query:a8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wk(s,o.resumeToken);const l=r8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=ru(s,o.snapshotVersion.toTimestamp());const l=r8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ele(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Dh(this.serializer),n.removeTarget=e,this.e_(n)}}class Ule extends bO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Zce(t,e){return t&&t.length>0?(Te(void 0!==e),t.map(n=>function(i,s){let o=fn(i.updateTime?i.updateTime:s);return o.isEqual(Pe.min())&&(o=fn(s)),new Bce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=fn(e.commitTime);return this.listener.I_(r,n)}return Te(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Th(t,e){let n;if(e instanceof tu)n={update:Sk(t,e.key,e.value)};else if(e instanceof nu)n={delete:Ah(t,e.key)};else if(e instanceof no)n={update:Sk(t,e.key,e.data),updateMask:ile(e.fieldMask)};else{if(!(e instanceof JE))return be();n={verify:Ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Qce(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:be()),n;var s}(this.serializer,r))};this.e_(n)}}class jle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(H.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Gle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(dn(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(y(function*(){var c;Wo(o)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const d=pe(u);d.C_.add(4),yield du(d),d.M_.set("Unknown"),d.C_.delete(4),yield Vh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Gle(r,i)}}function Vh(t){return M8.apply(this,arguments)}function M8(){return M8=y(function*(t){if(Wo(t))for(const e of t.v_)yield e(!0)}),M8.apply(this,arguments)}function du(t){return N8.apply(this,arguments)}function N8(){return N8=y(function*(t){for(const e of t.v_)yield e(!1)}),N8.apply(this,arguments)}function mm(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),F8(n)?O8(n):hu(n).Ho()&&k8(n,e))}function Lh(t,e){const n=pe(t),r=hu(n);n.D_.delete(e),r.Ho()&&wO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Wo(n)&&n.M_.set("Unknown"))}function k8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).u_(e)}function wO(t,e){t.x_.Oe(e),hu(t).c_(e)}function O8(t){t.x_=new Gce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.M_.g_()}function F8(t){return Wo(t)&&!hu(t).jo()&&t.D_.size>0}function Wo(t){return 0===pe(t).C_.size}function AO(t){t.x_=void 0}function Wle(t){return V8.apply(this,arguments)}function V8(){return V8=y(function*(t){t.D_.forEach((e,n)=>{k8(t,e)})}),V8.apply(this,arguments)}function Kle(t,e){return L8.apply(this,arguments)}function L8(){return L8=y(function*(t,e){AO(t),F8(t)?(t.M_.w_(e),O8(t)):t.M_.set("Unknown")}),L8.apply(this,arguments)}function Yle(t,e,n){return B8.apply(this,arguments)}function B8(){return B8=y(function*(t,e,n){if(t.M_.set("Online"),e instanceof xk&&2===e.state&&e.cause)try{yield(r=y(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _m(t,r)}else if(e instanceof em?t.x_.$e(e):e instanceof Ek?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Pe.min()))try{const r=yield pO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Dn.EMPTY_BYTE_STRING,u.snapshotVersion)),wO(s,c);const d=new ro(u.target,c,l,u.sequenceNumber);k8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield _m(t,r)}var r}),B8.apply(this,arguments)}function _m(t,e,n){return H8.apply(this,arguments)}function H8(){return H8=y(function*(t,e,n){if(!Fo(e))throw e;t.C_.add(1),yield du(t),t.M_.set("Offline"),n||(n=()=>pO(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Vh(t)}))}),H8.apply(this,arguments)}function DO(t,e){return e().catch(n=>_m(t,n,e))}function fu(t){return z8.apply(this,arguments)}function z8(){return z8=y(function*(t){const e=pe(t),n=Ko(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Qle(e);)try{const i=yield kle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Xle(e,i)}catch(i){yield _m(e,i)}TO(e)&&SO(e)}),z8.apply(this,arguments)}function Qle(t){return Wo(t)&&t.b_.length<10}function Xle(t,e){t.b_.push(e);const n=Ko(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function TO(t){return Wo(t)&&!Ko(t).jo()&&t.b_.length>0}function SO(t){Ko(t).start()}function Jle(t){return U8.apply(this,arguments)}function U8(){return U8=y(function*(t){Ko(t).E_()}),U8.apply(this,arguments)}function Zle(t){return j8.apply(this,arguments)}function j8(){return j8=y(function*(t){const e=Ko(t);for(const n of t.b_)e.P_(n.mutations)}),j8.apply(this,arguments)}function eue(t,e,n){return $8.apply(this,arguments)}function $8(){return $8=y(function*(t,e,n){const r=t.b_.shift(),i=e8.from(r,e,n);yield DO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fu(t)}),$8.apply(this,arguments)}function tue(t,e){return G8.apply(this,arguments)}function G8(){return G8=y(function*(t,e){var n;e&&Ko(t).h_&&(yield(n=y(function*(i,s){if(function gk(t){switch(t){default:return be();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();Ko(i).Yo(),yield DO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield fu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),TO(t)&&SO(t)}),G8.apply(this,arguments)}function RO(t,e){return q8.apply(this,arguments)}function q8(){return q8=y(function*(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Wo(n);n.C_.add(3),yield du(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Vh(n)}),q8.apply(this,arguments)}function K8(){return K8=y(function*(t,e){const n=pe(t);e?(n.C_.delete(2),yield Vh(n)):e||(n.C_.add(2),yield du(n),n.M_.set("Unknown"))}),K8.apply(this,arguments)}function hu(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new zle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Wle.bind(null,t),Io:Kle.bind(null,t),a_:Yle.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.O_.Yo(),F8(t)?O8(t):t.M_.set("Unknown")):(yield t.O_.stop(),AO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Ko(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new Ule(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Jle.bind(null,t),Io:tue.bind(null,t),T_:Zle.bind(null,t),I_:eue.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.N_.Yo(),yield fu(t)):(yield t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class Y8{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Y8(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pu(t,e){if(dn("AsyncQueue",`${e}: ${t}`),Fo(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}class gu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=yh(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new gu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class PO{constructor(){this.B_=new Nt(ge.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mu(e,n,gu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class nue{constructor(){this.k_=void 0,this.listeners=[]}}class rue{constructor(){this.queries=new to(e=>QN(e),_h),this.onlineState="Unknown",this.q_=new Set}}function X8(){return X8=y(function*(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=pu(o,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&ex(n)}),X8.apply(this,arguments)}function Z8(){return Z8=y(function*(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Z8.apply(this,arguments)}function iue(t,e){const n=pe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&ex(n)}function sue(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ex(t){t.q_.forEach(e=>{e.next()})}class tx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class kO{constructor(e){this.key=e}}class OO{constructor(e){this.key=e}}class FO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=JN(e),this.aa=new gu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new PO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=vh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),m=!0):this.ha(f,h)||(r.track({type:2,doc:h}),m=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),m=!0):f&&!h&&(r.track({type:1,doc:f}),m=!0,(c||l)&&(a=!0)),m&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new mu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new PO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new OO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new kO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return mu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class cue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lue{constructor(e){this.key=e,this.Ra=!1}}class uue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new to(a=>QN(a),_h),this.fa=new Map,this.ga=new Set,this.pa=new Nt(ge.comparator),this.ya=new Map,this.wa=new g8,this.Sa={},this.ba=new Map,this.Da=nc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function due(t,e){return nx.apply(this,arguments)}function nx(){return nx=y(function*(t,e){const n=function wx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pue.bind(null,e),e.Va.a_=iue.bind(null,e.eventManager),e.Va.Fa=sue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function lu(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ro(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function rx(t,e,n,r,i){return ix.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&mm(n.remoteStore,o)}return i}),nx.apply(this,arguments)}function ix(){return ix=y(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=y(function*(m,D,I,B){let W=D.view.ca(I);W.Zi&&(W=yield dm(m.localStore,D.query,!1).then(({documents:Ke})=>D.view.ca(Ke,W)));const le=B&&B.targetChanges.get(D.targetId),Re=D.view.applyChanges(W,m.isPrimaryClient,le);return px(m,D.targetId,Re.Ta),Re.snapshot}),function g(m,D,I,B){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield dm(t.localStore,e,!0),o=new FO(e,s.ls),a=o.ca(s.documents),c=wh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);px(t,n,l.Ta);const u=new cue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),ix.apply(this,arguments)}function fue(t,e){return sx.apply(this,arguments)}function sx(){return sx=y(function*(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!_h(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lh(n.remoteStore,r.targetId),_u(n,r.targetId)}).catch(Oo))):(_u(n,r.targetId),yield uu(n.localStore,r.targetId,!0))}),sx.apply(this,arguments)}function ox(){return ox=y(function*(t,e,n){const r=function Ax(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=pe(o),l=Yt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Hr(),g=Qe();return c.ss.getEntries(h,u).next(m=>{p=m,p.forEach((D,I)=>{I.isValidDocument()||(g=g.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(m=>{d=m;const D=[];for(const I of a){const B=zce(I,d.get(I.key).overlayedDocument);null!=B&&D.push(new no(I.key,B,ON(B.value.mapValue),Gt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,D,a)}).next(m=>{f=m;const D=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,m.batchId,D)})}).then(()=>({batchId:f.batchId,changes:ek(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Nt(ze)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield io(r,i.changes),yield fu(r.remoteStore)}catch(i){const s=pu(i,"Failed to persist write");n.reject(s)}}),ox.apply(this,arguments)}function VO(t,e){return ax.apply(this,arguments)}function ax(){return ax=y(function*(t,e){const n=pe(t);try{const r=yield function Nle(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,m,D;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Dn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),m=h,D=u,(0===(g=f).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Hr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function gO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Pe.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Te(o.Ra):i.removedDocuments.size>0&&(Te(o.Ra),o.Ra=!1))}),yield io(n,r,e)}catch(r){yield Oo(r)}}),ax.apply(this,arguments)}function LO(t,e,n){const r=pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&ex(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pue(t,e,n){return cx.apply(this,arguments)}function cx(){return cx=y(function*(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Nt(ge.comparator);o=o.insert(s,Vt.newNoDocument(s,Pe.min()));const a=Qe().add(s),c=new bh(Pe.min(),new Map,new Nt(ze),o,a);yield VO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),gx(r)}else yield uu(r.localStore,e,!1).then(()=>_u(r,e,n)).catch(Oo)}),cx.apply(this,arguments)}function gue(t,e){return lx.apply(this,arguments)}function lx(){return lx=y(function*(t,e){const n=pe(t),r=e.batch.batchId;try{const i=yield function Mle(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const m=l.docVersions.get(p);Te(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);hx(n,r,null),fx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield io(n,i)}catch(i){yield Oo(i)}}),lx.apply(this,arguments)}function mue(t,e,n){return ux.apply(this,arguments)}function ux(){return ux=y(function*(t,e,n){const r=pe(t);try{const i=yield function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Te(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);hx(r,e,n),fx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield io(r,i)}catch(i){yield Oo(i)}}),ux.apply(this,arguments)}function fx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function hx(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function _u(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||BO(t,r)})}function BO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Lh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),gx(t))}function px(t,e,n){for(const r of n)r instanceof kO?(t.wa.addReference(r.key,e),vue(t,r)):r instanceof OO?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||BO(t,r.key)):be()}function vue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),gx(t))}function gx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ge(lt.fromString(e)),r=t.Da.next();t.ya.set(r,new lue(n)),t.pa=t.pa.insert(n,r),mm(t.remoteStore,new ro(br(Ql(n.path)),r,"TargetPurposeLimboResolution",ti._e))}}function io(t,e,n){return mx.apply(this,arguments)}function mx(){return mx=y(function*(t,e,n){const r=pe(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=E8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=y(function*(l,u){const d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>M.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Fo(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,m)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),mx.apply(this,arguments)}function yue(t,e){return _x.apply(this,arguments)}function _x(){return _x=y(function*(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield hO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield io(n,r._s)}var s}),_x.apply(this,arguments)}function Eue(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class vm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Fh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function fO(t,e,n,r){return new Ple(t,e,n,r)}(this.persistence,new dO,e.initialUser,this.serializer)}createPersistence(e){return new m8(cm.jr,this.serializer)}createSharedClientState(e){return new xO}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vu{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>LO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yue.bind(null,r.syncEngine),yield function W8(t,e){return K8.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rue}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=new Hle(e.databaseInfo);return new jle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>LO(this.syncEngine,n,0),a=CO.D()?new CO:new Vle,new qle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new uue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(r){const i=pe(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield du(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class ym{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):dn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Nue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=fN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=pu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Em(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield hO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Dx.apply(this,arguments)}function Tx(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Rx(t){return Px.apply(this,arguments)}(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>RO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>RO(e.remoteStore,s)),t._onlineComponents=e}),Sx.apply(this,arguments)}function Px(){return Px=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function GO(t){return"FirebaseError"===t.name?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),yield Em(t,new vm)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Em(t,new vm);return t._offlineComponents}),Px.apply(this,arguments)}function xm(t){return Mx.apply(this,arguments)}function Mx(){return Mx=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield Tx(t,new vu))),t._onlineComponents}),Mx.apply(this,arguments)}function Eu(t){return kx.apply(this,arguments)}function kx(){return kx=y(function*(t){const e=yield xm(t),n=e.eventManager;return n.onListen=due.bind(null,e.syncEngine),n.onUnlisten=fue.bind(null,e.syncEngine),n}),kx.apply(this,arguments)}function XO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const JO=new Map;function Ox(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZO(t){if(!ge.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eF(t){if(ge.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":be()}function rt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class nF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $ue(t,e,n,r){if(!0===e&&!0===r)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=XO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Hae;switch(r.type){case"firstParty":return new $ae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JO.get(n);r&&(te("ComponentProvider","Removing Datastore"),JO.delete(n),r.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jn(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class gs extends Jn{constructor(e,n,r){super(e,n,Ql(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ge(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function que(t,e,...n){if(t=Zt(t),Ox("collection","path",e),t instanceof Bh){const r=lt.fromString(e,...n);return eF(r),new gs(t,null,r)}{if(!(t instanceof hn||t instanceof gs))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return eF(r),new gs(t.firestore,null,r)}}function rF(t,e,...n){if(t=Zt(t),1===arguments.length&&(e=fN.newId()),Ox("doc","path",e),t instanceof Bh){const r=lt.fromString(e,...n);return ZO(r),new hn(t,null,new ge(r))}{if(!(t instanceof hn||t instanceof gs))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return ZO(r),new hn(t.firestore,t instanceof gs?t.converter:null,new ge(r))}}class Wue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new R8(this,"async_queue_retry"),this.iu=()=>{const n=gm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=gm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=gm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new An;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return y(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Fo(n))throw n;te("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,dn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Y8.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return y(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Fx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class kt extends Bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sF(this),this._firestoreClient.terminate()}}function Yue(t,e){const r="string"==typeof t?t:e||"(default)",i=os("object"==typeof t?t:bl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=d9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Gue(t,e,n,r={}){var i;const s=(t=rt(t,Bh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=kn.MOCK_USER;else{a=function Ute(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bg(JSON.stringify({alg:"none",type:"JWT"})),Bg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kn(l)}t._authCredentials=new zae(new uN(a,c))}}(i,...s)}return i}function pn(t){return t._firestoreClient||sF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ece(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XO(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Nue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Dn.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vx{constructor(e){this._methodName=e}}class Lx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const Xue=/^__.*__$/;class Jue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class cF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Im{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return wm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(lF(this.Iu)&&Xue.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Zue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}pu(e,n,r,i=!1){return new Im({Iu:e,methodName:n,gu:r,path:$t.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(t){const e=t._freezeSettings(),n=Fh(t._databaseId);return new Zue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);zx("Data must be an object, but it was:",o,r);const a=pF(r,o);let c,l;if(s.merge)c=new Br(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Uh(e,d,n);if(!o.contains(f))throw new ne(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mF(u,f)||u.push(f)}c=new Br(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Jue(new Xn(a),c,l)}class zh extends Vx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function sc(t,e){if(gF(t=Zt(t)))return zx("Unsupported field value:",e,t),pF(t,e);if(t instanceof Vx)return function(r,i){if(!lF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=sc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=Zt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ik(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Yt.fromDate(r);return{timestampValue:ru(i.serializer,s)}}if(r instanceof Yt){const s=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ru(i.serializer,s)}}if(r instanceof Lx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:wk(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Cm(r)}`)}(t,e)}function pF(t,e){const n={};return AN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const s=sc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function gF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof Lx||t instanceof ic||t instanceof hn||t instanceof Vx)}function zx(t,e,n){if(!gF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Cm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Uh(t,e,n){if((e=Zt(e))instanceof xu)return e._internalPath;if("string"==typeof e)return bm(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const rde=new RegExp("[~\\*/\\[\\]]");function bm(t,e,n){if(e.search(rde)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(H.INVALID_ARGUMENT,a+t+c)}function mF(t,e){return t.some(n=>n.isEqual(e))}class Ux{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ide(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ide extends Ux{data(){return super.data()}}function Am(t,e){return"string"==typeof e?bm(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}class jx{}class vF extends jx{}function sde(t,e,...n){let r=[];e instanceof jx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Iu).length,a=s.filter(c=>c instanceof jh).length;if(o>1||o>0&&a>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jh extends vF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jh(e,n,r)}_apply(e){const n=this._parse(e);return CF(e._query,n),new Jn(e.firestore,e.converter,QE(e._query,n))}_parse(e){const n=Cu(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){xF(d,u);const h=[];for(const p of d)h.push(EF(c,s,p));f={arrayValue:{values:h}}}else f=EF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||xF(d,u),f=function hF(t,e,n,r=!1){return sc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return nt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function ode(t,e,n){const r=e,i=Am("where",t);return jh._create(i,r,n)}class Iu extends jx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Et.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)CF(o,c),o=QE(o,c)}(e._query,n),new Jn(e.firestore,e.converter,QE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dm extends vF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Dm(e,n,r)}_apply(e){return new Jn(e.firestore,e.converter,Y1(e._query,this._limit,this._limitType))}}function ade(t){return function tF(t,e){if(e<=0)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Dm._create("limit",t,"F")}function EF(t,e,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&-1!==n.indexOf("/"))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wa(t,new ge(r))}if(n instanceof hn)return Wa(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function xF(t,e){if(!Array.isArray(t)||0===t.length)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ne(H.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cde{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Lx(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=j1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Te(Ok(r));const i=new qa(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||dn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends Ux{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rm extends bu{data(e={}){return super.data(e)}}class wu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rm(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Rm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Rm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:ude(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ude(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class Yo extends cde{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function dde(t,e,n){t=rt(t,hn);const r=rt(t.firestore,kt),i=function Gx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return $h(r,[Bx(Cu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Gt.none())])}function fde(t,e,n,...r){t=rt(t,hn);const i=rt(t.firestore,kt),s=Cu(i);let o;return o="string"==typeof(e=Zt(e))||e instanceof xu?function fF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Uh(e,r,n)],c=[i];if(s.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Uh(e,s[f])),c.push(s[f+1]);const l=[],u=Xn.empty();for(let f=a.length-1;f>=0;--f)if(!mF(l,a[f])){const h=a[f];let p=c[f];p=Zt(p);const g=o.Ru(h);if(p instanceof zh)l.push(h);else{const m=sc(p,g);null!=m&&(l.push(h),u.set(h,m))}}const d=new Br(l);return new cF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function dF(t,e,n,r){const i=t.pu(1,e,n);zx("Data must be an object, but it was:",i,r);const s=[],o=Xn.empty();Vo(r,(c,l)=>{const u=bm(e,c,n);l=Zt(l);const d=i.Ru(u);if(l instanceof zh)s.push(u);else{const f=sc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Br(s);return new cF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),$h(i,[o.toMutation(t._key,Gt.exists(!0))])}function $h(t,e){return function(r,i){const s=new An;return r.asyncQueue.enqueueAndForget(y(function*(){return function hue(t,e,n){return ox.apply(this,arguments)}(yield function Nx(t){return xm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(pn(t),e)}!function(e,n=!0){Ul=Il,gi(new Qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new kt(new Uae(r.getProvider("auth-internal")),new Gae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),en(lN,"4.3.2",e),en(lN,"4.3.2","esm2017")}();var Nm=function(){return Nm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Nm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ade={includeMetadataChanges:!1};function Yx(t,e){return void 0===e&&(e=Ade),new ue(function(n){var r=function hde(t,...e){var n,r,i;t=Zt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Fx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Fx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof hn)l=rt(t.firestore,kt),u=Ql(t._key.path),c={next:d=>{e[o]&&e[o](function qx(t,e,n){const r=n.docs.get(e._key),i=new Yo(t);return new bu(t,i,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=rt(t,Jn);l=rt(d.firestore,kt),u=d._query;const f=new Yo(l);c={next:h=>{e[o]&&e[o](new wu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function _F(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const m=new ym(g),D=new tx(h,m,p);return f.asyncQueue.enqueueAndForget(y(function*(){return function Q8(t,e){return X8.apply(this,arguments)}(yield Eu(f),D)})),()=>{m.Na(),f.asyncQueue.enqueueAndForget(y(function*(){return function J8(t,e){return Z8.apply(this,arguments)}(yield Eu(f),D)}))}}(pn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Tde(t,e){return void 0===e&&(e={}),function Dde(t){return Yx(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return DF(n,e)}))}function DF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Nm(Nm({},r),((n={})[e.idField]=t.id,n)):r}function kde(t,e){return void 0===e&&(e={}),function Nde(t){return Yx(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return DF(r,e)})}))}class so{constructor(e){return e}}const PF="firestore",Jx=new ve("angularfire2.firestore-instances");function Lde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new so(r)}}const Bde={provide:class Fde{constructor(){return Wg(PF)}},deps:[[new cn,Jx]]},Hde={provide:so,useFactory:function Vde(t,e){const n=qg(PF,t,e);return n&&new so(n)},deps:[[new cn,Jx],Oa]};let zde=(()=>{var t;class e{constructor(){en("angularfire",So.full,"fst")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ht({type:t})),gt(e,"\u0275inj",Ot({providers:[Hde,Bde]})),e})();function Au(t,...e){return{ngModule:zde,providers:[{provide:Jx,useFactory:Lde(t),multi:!0,deps:[dt,bn,bf,wf,[new cn,GP],[new cn,B4],...e]}]}}const Zx=_n(kde,!0),eC=_n(Tde,!0),Qo=_n(que,!0),Li=_n(rF,!0),Du=_n(Yue,!0),MF=_n(ade,!0),tC=_n(sde,!0),Gh=_n(dde,!0),nC=_n(fde,!0),rC=_n(ode,!0);class km{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Tu,iC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(iC||{}),zr=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t}(zr||{});class sC{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Xo{cache(e,n,r=0){const i=new sC(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(sC,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}isExpired(e){const n=localStorage.getItem(e);if(!n)return!0;const r=Object.assign(sC,JSON.parse(n));return r.ttl>0&&Date.now()>r.expiry}remoteMetadata(){return this.get(zr.REMOTE_METADATA)}localMetadata(){return this.get(zr.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Tu=Xo).\u0275fac=function(e){return new(e||Tu)},Tu.\u0275prov=Ie({token:Tu,factory:Tu.\u0275fac,providedIn:"platform"}),gn([Ei(2,cn())],Xo.prototype,"cache",null),gn([Ei(1,cn())],Xo.prototype,"get",null);var Su,oC=V(874);class ac{constructor(){this.localStorageService=X(Xo),this._authState=new Ct,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(zr.USER))return!1;let n=this.localStorageService.get(zr.USER).session.timeToken,r=this.localStorageService.get(zr.USER).session.refreshToken,i=Date.parse(oC.AES.decrypt(n,r).toString(oC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new km(s,this.localStorageService.get(zr.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(zr.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=qP(e).subscribe(r=>{if(null!=r){let i=Zx(tC(Qo(n,"valid-users"),rC("email","==",r.email),MF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:iC.USER},s[0]);o.enabled?(this.localStorageService.cache(zr.USER,{session:{timeToken:oC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new km(!0,o.role)),location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(zr.USER),this._authState.emit(new km(!1,null))})}}signInWithEmailAndPassword(e,n,r){Poe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Moe(e,new Tie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(zr.USER),this._refreshInProgress=!0,this._authState.emit(new km(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ms(t,e){return Fe((n,r)=>{let i=0;n.subscribe(et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function aC(...t){return function jde(){return K0(1)}()(Bn(t,ad(t)))}function NF(...t){const e=ad(t);return Fe((n,r)=>{(e?aC(t,n,e):aC(t,n)).subscribe(r)})}(Su=ac).\u0275fac=function(e){return new(e||Su)},Su.\u0275prov=Ie({token:Su,factory:Su.\u0275fac,providedIn:"platform"}),gn([Ei(0,cn())],ac.prototype,"checkLoginValidity",null);const Gde=(t,e)=>e.some(n=>t instanceof n);let kF,OF;const FF=new WeakMap,cC=new WeakMap,VF=new WeakMap,lC=new WeakMap,uC=new WeakMap;let dC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||VF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Jde(t){return"function"==typeof t?function Xde(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wde(){return OF||(OF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fC(this),e),Jo(FF.get(this))}:function(...e){return Jo(t.apply(fC(this),e))}:function(e,...n){const r=t.call(fC(this),e,...n);return VF.set(r,e.sort?e.sort():[e]),Jo(r)}}(t):(t instanceof IDBTransaction&&function Yde(t){if(cC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cC.set(t,e)}(t),Gde(t,function qde(){return kF||(kF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dC):t)}function Jo(t){if(t instanceof IDBRequest)return function Kde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FF.set(n,t)}).catch(()=>{}),uC.set(e,t),e}(t);if(lC.has(t))return lC.get(t);const e=Jde(t);return e!==t&&(lC.set(t,e),uC.set(e,t)),e}const fC=t=>uC.get(t),efe=["get","getKey","getAll","getAllKeys","count"],tfe=["put","add","delete","clear"],hC=new Map;function LF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hC.get(e))return hC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!efe.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return hC.set(e,s),s}!function Qde(t){dC=t(dC)}(t=>({...t,get:(e,n,r)=>LF(e,n)||t.get(e,n,r),has:(e,n)=>!!LF(e,n)||t.has(e,n)}));const BF="@firebase/installations",pC="0.6.4",HF=1e4,zF=`w:${pC}`,UF="FIS_v2",nfe="https://firebaseinstallations.googleapis.com/v1",rfe=36e5,oo=new Do("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jF(t){return t instanceof ki&&t.code.includes("request-failed")}function gC({projectId:t}){return`${nfe}/projects/${t}/installations`}function $F(t){return{token:t.token,requestStatus:2,expiresIn:afe(t.expiresIn),creationTime:Date.now()}}function mC(t,e){return _C.apply(this,arguments)}function _C(){return _C=y(function*(t,e){const r=(yield e.json()).error;return oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),_C.apply(this,arguments)}function GF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vC(t){return yC.apply(this,arguments)}function yC(){return yC=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),yC.apply(this,arguments)}function afe(t){return Number(t.replace("s","000"))}function EC(){return EC=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gC(t),i=GF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:UF,appId:t.appId,sdkVersion:zF})},c=yield vC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:$F(l.authToken)}}throw yield mC("Create Installation",c)}),EC.apply(this,arguments)}function WF(t){return new Promise(e=>{setTimeout(e,t)})}const dfe=/^[cdef][\w-]{21}$/,xC="";function ffe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function hfe(t){return function ufe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dfe.test(n)?n:xC}catch{return xC}}function Ru(t){return`${t.appName}!${t.appId}`}const Pu=new Map;function KF(t,e){const n=Ru(t);YF(n,e),function mfe(t,e){const n=function QF(){return!cc&&"BroadcastChannel"in self&&(cc=new BroadcastChannel("[Firebase] FID Change"),cc.onmessage=t=>{YF(t.data.key,t.data.fid)}),cc}();n&&n.postMessage({key:t,fid:e}),function XF(){0===Pu.size&&cc&&(cc.close(),cc=null)}()}(n,e)}function YF(t,e){const n=Pu.get(t);if(n)for(const r of n)r(e)}let cc=null;const _fe="firebase-installations-database",vfe=1,lc="firebase-installations-store";let CC=null;function IC(){return CC||(CC=function Zde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jo(o.result),c.oldVersion,c.newVersion,Jo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(_fe,vfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(lc)}})),CC}function Om(t,e){return bC.apply(this,arguments)}function bC(){return bC=y(function*(t,e){const n=Ru(t),i=(yield IC()).transaction(lc,"readwrite"),s=i.objectStore(lc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&KF(t,e.fid),e}),bC.apply(this,arguments)}function wC(t){return AC.apply(this,arguments)}function AC(){return AC=y(function*(t){const e=Ru(t),r=(yield IC()).transaction(lc,"readwrite");yield r.objectStore(lc).delete(e),yield r.done}),AC.apply(this,arguments)}function qh(t,e){return DC.apply(this,arguments)}function DC(){return DC=y(function*(t,e){const n=Ru(t),i=(yield IC()).transaction(lc,"readwrite"),s=i.objectStore(lc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&KF(t,a.fid),a}),DC.apply(this,arguments)}function TC(t){return SC.apply(this,arguments)}function SC(){return SC=y(function*(t){let e;const n=yield qh(t.appConfig,r=>{const i=function yfe(t){return ZF(t||{fid:ffe(),registrationStatus:0})}(r),s=function Efe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(oo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function xfe(t,e){return RC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===xC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),SC.apply(this,arguments)}function RC(){return RC=y(function*(t,e){try{const n=yield function lfe(t,e){return EC.apply(this,arguments)}(t,e);return Om(t.appConfig,n)}catch(n){throw jF(n)&&409===n.customData.serverCode?yield wC(t.appConfig):yield Om(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),RC.apply(this,arguments)}function Cfe(t){return PC.apply(this,arguments)}function PC(){return PC=y(function*(t){let e=yield JF(t.appConfig);for(;1===e.registrationStatus;)yield WF(100),e=yield JF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield TC(t);return r||n}return e}),PC.apply(this,arguments)}function JF(t){return qh(t,e=>{if(!e)throw oo.create("installation-not-found");return ZF(e)})}function ZF(t){return function Ife(t){return 1===t.registrationStatus&&t.registrationTime+HF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function MC(){return MC=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function wfe(t,{fid:e}){return`${gC(t)}/${e}/authTokens:generate`}(t,n),i=function qF(t,{refreshToken:e}){const n=GF(t);return n.append("Authorization",function cfe(t){return`${UF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:zF,appId:t.appId}})},c=yield vC(()=>fetch(r,a));if(c.ok)return $F(yield c.json());throw yield mC("Generate Auth Token",c)}),MC.apply(this,arguments)}function NC(t){return kC.apply(this,arguments)}function kC(){return kC=y(function*(t,e=!1){let n;const r=yield qh(t.appConfig,s=>{if(!tV(s))throw oo.create("not-registered");const o=s.authToken;if(!e&&function Tfe(t){return 2===t.requestStatus&&!function Sfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Afe(t,e){return OC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw oo.create("app-offline");const a=function Rfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Dfe(t,e){return FC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),kC.apply(this,arguments)}function OC(){return OC=y(function*(t,e){let n=yield eV(t.appConfig);for(;1===n.authToken.requestStatus;)yield WF(100),n=yield eV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?NC(t,e):r}),OC.apply(this,arguments)}function eV(t){return qh(t,e=>{if(!tV(e))throw oo.create("not-registered");return function Pfe(t){return 1===t.requestStatus&&t.requestTime+HF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function FC(){return FC=y(function*(t,e){try{const n=yield function bfe(t,e){return MC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Om(t.appConfig,r),n}catch(n){if(!jF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Om(t.appConfig,r)}else yield wC(t.appConfig);throw n}}),FC.apply(this,arguments)}function tV(t){return void 0!==t&&2===t.registrationStatus}function VC(){return VC=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield TC(e);return r?r.catch(console.error):NC(e).catch(console.error),n.fid}),VC.apply(this,arguments)}function LC(){return LC=y(function*(t,e=!1){const n=t;return yield function kfe(t){return BC.apply(this,arguments)}(n),(yield NC(n,e)).token}),LC.apply(this,arguments)}function BC(){return BC=y(function*(t){const{registrationPromise:e}=yield TC(t);e&&(yield e)}),BC.apply(this,arguments)}function UC(t){return oo.create("missing-app-config-values",{valueName:t})}const nV="installations",Bfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Vfe(t){if(!t||!t.options)throw UC("App Configuration");if(!t.name)throw UC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw UC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:os(e,"heartbeat"),_delete:()=>Promise.resolve()}},Hfe=t=>{const n=os(t.getProvider("app").getImmediate(),nV).getImmediate();return{getId:()=>function Mfe(t){return VC.apply(this,arguments)}(n),getToken:i=>function Nfe(t){return LC.apply(this,arguments)}(n,i)}};(function zfe(){gi(new Qr(nV,Bfe,"PUBLIC")),gi(new Qr("installations-internal",Hfe,"PRIVATE"))})(),en(BF,pC),en(BF,pC,"esm2017");const Fm="analytics",Ufe="firebase_id",jfe="origin",$fe=6e4,Gfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jC="https://www.googletagmanager.com/gtag/js",Vn=new xf("@firebase/analytics"),wr=new Do("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wfe(t){if(!t.startsWith(jC)){const e=wr.create("invalid-gtag-resource",{gtagURL:t});return Vn.warn(e.message),""}return t}function rV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $C(){return $C=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield rV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Vn.error(a)}t("config",i,s)}),$C.apply(this,arguments)}function GC(){return GC=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield rV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Vn.error(s)}}),GC.apply(this,arguments)}const nhe=30,iV=new class ihe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function she(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function qC(){return qC=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:she(r)},s=Gfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),qC.apply(this,arguments)}function WC(){return WC=y(function*(t,e=iV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw wr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uhe;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:$fe),sV({appId:r,apiKey:i,measurementId:s},o,a,e)}),WC.apply(this,arguments)}function sV(t,e,n){return KC.apply(this,arguments)}function KC(){return KC=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iV){var s;const{appId:o,measurementId:a}=t;try{yield function che(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function ohe(t){return qC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function lhe(t){if(!(t instanceof ki&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?A4(n,i.intervalMillis,nhe):A4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Vn.debug(`Calling attemptFetch again in ${u} millis`),sV(t,d,r,i)}}),KC.apply(this,arguments)}class uhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let YC,nI;function QC(){return QC=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),QC.apply(this,arguments)}function JC(){return JC=y(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),JC.apply(this,arguments)}function rI(){return rI=y(function*(){if(!mf())return Vn.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield I4()}catch(t){return Vn.warn(wr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),rI.apply(this,arguments)}function iI(){return iI=y(function*(t,e,n,r,i,s,o){var a;const c=function ahe(t){return WC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Vn.error(h)),e.push(c);const l=function _he(){return rI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function the(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jC)&&n.src.includes(t))return n;return null})(s)||function Yfe(t,e){const n=function Kfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Wfe}),r=document.createElement("script"),i=`${jC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),nI&&(i("consent","default",nI),function oV(t){nI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[jfe]="firebase",f.update=!0,null!=d&&(f[Ufe]=d),i("config",u.measurementId,f),YC&&(i("set",YC),function aV(t){YC=t}(void 0)),u.measurementId}),iI.apply(this,arguments)}class yhe{constructor(e){this.app=e}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},cV=[];const lV={};let dV,vs,Vm="dataLayer",sI=!1;function xhe(t,e,n){!function Ehe(){const t=[];if(C4()&&t.push("This is a browser extension environment."),p9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:e});Vn.warn(n.message)}}();const r=t.options.appId;if(!r)throw wr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw wr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[r])throw wr.create("already-exists",{id:r});if(!sI){!function Qfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Vm);const{wrappedGtag:s,gtagCore:o}=function ehe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Zfe(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function Jfe(t,e,n,r,i){return GC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function Xfe(t,e,n,r,i,s){return $C.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Vn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(_s,cV,lV,Vm,"gtag");vs=s,dV=o,sI=!0}return _s[r]=function vhe(t,e,n,r,i,s,o){return iI.apply(this,arguments)}(t,cV,lV,e,dV,Vm,n),new yhe(t)}function Che(t=bl()){const e=os(t=Zt(t),Fm);return e.isInitialized()?e.getImmediate():function Ihe(t,e={}){const n=os(t,Fm);if(n.isInitialized()){const i=n.getImmediate();if(_f(e,n.getOptions()))return i;throw wr.create("already-initialized")}return n.initialize({options:e})}(t)}function bhe(){return oI.apply(this,arguments)}function oI(){return(oI=y(function*(){if(C4()||!p9()||!mf())return!1;try{return yield I4()}catch{return!1}})).apply(this,arguments)}function whe(t,e,n){t=Zt(t),function hhe(t,e,n,r){return JC.apply(this,arguments)}(vs,_s[t.app.options.appId],e,n).catch(r=>Vn.error(r))}function fV(t,e,n,r){t=Zt(t),function dhe(t,e,n,r,i){return QC.apply(this,arguments)}(vs,_s[t.app.options.appId],e,n,r).catch(i=>Vn.error(i))}const hV="@firebase/analytics";!function Ahe(){gi(new Qr(Fm,(e,{options:n})=>xhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),gi(new Qr("analytics-internal",function t(e){try{const n=e.getProvider(Fm).getImmediate();return{logEvent:(r,i,s)=>fV(n,r,i,s)}}catch(n){throw wr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),en(hV,"0.10.0"),en(hV,"0.10.0","esm2017")}();const Wh=b(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:The}=Array,{getPrototypeOf:She,prototype:Rhe,keys:Phe}=Object;function gV(t){if(1===t.length){const e=t[0];if(The(e))return{args:e,keys:null};if(function Mhe(t){return t&&"object"==typeof t&&She(t)===Rhe}(e)){const n=Phe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Nhe}=Array;function mV(t){return Ye(e=>function khe(t,e){return Nhe(e)?t(...e):t(e)}(t,e))}function _V(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function vV(...t){const e=ad(t),n=gw(t),{args:r,keys:i}=gV(t);if(0===r.length)return Bn([],e);const s=new ue(function Ohe(t,e,n=me){return r=>{yV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)yV(e,()=>{const l=Bn(t[c],e);let u=!1;l.subscribe(et(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>_V(i,o):me));return n?s.pipe(mV(n)):s}function yV(t,e,n){t?Ts(n,t,e):e()}function EV(t){return new ue(e=>{nr(t()).subscribe(e)})}function Kh(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function cI(){return Fe((t,e)=>{let n=null;t._refCount++;const r=et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class xV extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new K;const n=this.getSubject();e.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=K.EMPTY)}return e}refCount(){return cI()(this)}}function Mu(t){return t<=0?()=>ji:Fe((e,n)=>{let r=0;e.subscribe(et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lm(t){return Fe((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function CV(t=Fhe){return Fe((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Fhe(){return new Wh}function uc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ms((i,s)=>t(i,s,r)):me,Mu(1),n?Lm(e):CV(()=>new Wh))}function Yh(t,e){return R(e)?Ln(t,e,1):Ln(t,1)}function dc(t){return Fe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(et(n,void 0,void 0,o=>{s=nr(t(o,dc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function lI(t){return t<=0?()=>ji:Fe((e,n)=>{let r=[];e.subscribe(et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qh(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",Xh=Symbol("RouteTitle");class Uhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Nu(t){return new Uhe(t)}function jhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ys(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IV(t[i],e[i]))return!1;return!0}function IV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function bV(t){return t.length>0?t[t.length-1]:null}function Zo(t){return function Dhe(t){return!!t&&(t instanceof ue||R(t.lift)&&R(t.subscribe))}(t)?t:Yd(t)?Bn(Promise.resolve(t)):Ve(t)}const Ghe={exact:function DV(t,e,n){if(!fc(t.segments,e.segments)||!Bm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DV(t.children[r],e.children[r],n))return!1;return!0},subset:TV},wV={exact:function qhe(t,e){return ys(t,e)},subset:function Whe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IV(t[n],e[n]))},ignored:()=>!0};function AV(t,e,n){return Ghe[n.paths](t.root,e.root,n.matrixParams)&&wV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TV(t,e,n){return SV(t,e,e.segments,n)}function SV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fc(i,n)||e.hasChildren()||!Bm(i,n,r))}if(t.segments.length===n.length){if(!fc(t.segments,n)||!Bm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fc(t.segments,i)&&Bm(t.segments,i,r)&&t.children[Xe])&&SV(t.children[Xe],e,s,r)}}function Bm(t,e,n){return e.every((r,i)=>wV[n](t[i].parameters,r.parameters))}class ku{constructor(e=new xt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return Qhe.serialize(this)}}class xt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hm(this)}}class Jh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Nu(this.parameters)),this._parameterMap}toString(){return MV(this)}}function fc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Zh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return new uI},providedIn:"root"}),e})();class uI{parse(e){const n=new a0e(e);return new ku(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${e0(e.root,!0)}`,r=function Zhe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${zm(n)}=${zm(i)}`).join("&"):`${zm(n)}=${zm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Xhe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Qhe=new uI;function Hm(t){return t.segments.map(e=>MV(e)).join("/")}function e0(t,e){if(!t.hasChildren())return Hm(t);if(e){const n=t.children[Xe]?e0(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${e0(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Yhe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[e0(t.children[Xe],!1)]:[`${i}:${e0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${Hm(t)}/${n[0]}`:`${Hm(t)}/(${n.join("//")})`}}function RV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zm(t){return RV(t).replace(/%3B/gi,";")}function dI(t){return RV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Um(t){return decodeURIComponent(t)}function PV(t){return Um(t.replace(/\+/g,"%20"))}function MV(t){return`${dI(t.path)}${function Jhe(t){return Object.keys(t).map(e=>`;${dI(e)}=${dI(t[e])}`).join("")}(t.parameters)}`}const e0e=/^[^\/()?;#]+/;function fI(t){const e=t.match(e0e);return e?e[0]:""}const t0e=/^[^\/()?;=#]+/,r0e=/^[^=?&#]+/,s0e=/^[^&#]+/;class a0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new xt(e,n)),r}parseSegment(){const e=fI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Jh(Um(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function n0e(t){const e=t.match(t0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fI(this.remaining);i&&(r=i,this.capture(r))}e[Um(n)]=Um(r)}parseQueryParam(e){const n=function i0e(t){const e=t.match(r0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function o0e(t){const e=t.match(s0e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PV(n),s=PV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new xt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function NV(t){return t.segments.length>0?new xt([],{[Xe]:t}):t}function kV(t){const e={};for(const r of Object.keys(t.children)){const s=kV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function c0e(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new xt(t.segments.concat(e.segments),e.children)}return t}(new xt(t.segments,e))}function hc(t){return t instanceof ku}function OV(t){let e;const i=NV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new xt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function FV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return hI(i,i,i,n,r);const s=function u0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new LV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new LV(n,e,r)}(e);if(s.toRoot())return hI(i,i,new xt([],{}),n,r);const o=function d0e(t,e,n){if(t.isAbsolute)return new $m(e,!0,0);if(!n)return new $m(e,!1,NaN);if(null===n.parent)return new $m(n,!0,0);const r=jm(t.commands[0])?0:1;return function f0e(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new $m(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?n0(o.segmentGroup,o.index,s.commands):BV(o.segmentGroup,o.index,s.commands);return hI(i,o.segmentGroup,a,n,r)}function jm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function t0(t){return"object"==typeof t&&null!=t&&t.outlets}function hI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:VV(t,e,n);const a=NV(kV(o));return new ku(a,s,i)}function VV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:VV(s,e,n)}),new xt(t.segments,r)}class LV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&jm(r[0]))throw new ee(4003,!1);const i=r.find(t0);if(i&&i!==bV(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $m{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function BV(t,e,n){if(t||(t=new xt([],{})),0===t.segments.length&&t.hasChildren())return n0(t,e,n);const r=function p0e(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(t0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!zV(c,l,o))return s;r+=2}else{if(!zV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new xt(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new xt(t.segments.slice(r.pathIndex),t.children),n0(s,0,i)}return r.match&&0===i.length?new xt(t.segments,{}):r.match&&!t.hasChildren()?pI(t,e,n):r.match?n0(t,0,i):pI(t,e,n)}function n0(t,e,n){if(0===n.length)return new xt(t.segments,{});{const r=function h0e(t){return t0(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=n0(t.children[Xe],e,n);return new xt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=BV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new xt(t.segments,i)}}function pI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(t0(s)){const c=g0e(s.outlets);return new xt(r,c)}if(0===i&&jm(n[0])){r.push(new Jh(t.segments[e].path,HV(n[0]))),i++;continue}const o=t0(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&jm(a)?(r.push(new Jh(o,HV(a))),i+=2):(r.push(new Jh(o,{})),i++)}return new xt(r,{})}function g0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=pI(new xt([],{}),0,r))}),e}function HV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zV(t,e,n){return t==n.path&&ys(e,n.parameters)}const r0="imperative";class Es{constructor(e,n){this.id=e,this.url=n}}class gI extends Es{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ou extends Es{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class s0 extends Es{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o0 extends Es{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Gm extends Es{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UV extends Es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m0e extends Es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _0e extends Es{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v0e extends Es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y0e extends Es{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{}class _I{constructor(e){this.url=e}}class w0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new a0,this.attachRef=null}}let a0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new w0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $V{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=yI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yI(e,this._root).map(n=>n.value)}}function vI(t,e){if(t===e.value)return e;for(const n of e.children){const r=vI(t,n);if(r)return r}return null}function yI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yI(t,n);if(r.length)return r.unshift(e),r}return[]}class ao{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Fu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class GV extends $V{constructor(e,n){super(e),this.snapshot=n,EI(this,e)}toString(){return this.snapshot.toString()}}function qV(t,e){const n=function A0e(t,e){const o=new qm([],{},{},"",{},Xe,e,null,{});return new KV("",new ao(o,[]))}(0,e),r=new ii([new Jh("",{})]),i=new ii({}),s=new ii({}),o=new ii({}),a=new ii(""),c=new Vu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new GV(new ao(c,[]),n)}class Vu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[Xh]))??Ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Nu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Nu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function D0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class qm{get title(){return this.data?.[Xh]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KV extends $V{constructor(e,n){super(n),this.url=e,EI(this,n)}toString(){return YV(this._root)}}function EI(t,e){e.value._routerState=t,e.children.forEach(n=>EI(t,n))}function YV(t){const e=t.children.length>0?` { ${t.children.map(YV).join(", ")} } `:"";return`${t.value}${e}`}function xI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ys(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ys(e.params,n.params)||t.paramsSubject.next(n.params),function $he(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ys(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ys(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function CI(t,e){const n=ys(t.params,e.params)&&function Khe(t,e){return fc(t,e)&&t.every((n,r)=>ys(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||CI(t.parent,e.parent))}let QV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new Ct,this.deactivateEvents=new Ct,this.attachEvents=new Ct,this.detachEvents=new Ct,this.parentContexts=X(a0),this.location=X(Pi),this.changeDetector=X(Da),this.environmentInjector=X(ui),this.inputBinder=X(Wm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new T0e(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]}),e})();class T0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vu?this.route:e===a0?this.childContexts:this.parent.get(e,n)}}const Wm=new ve("");function c0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function R0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return c0(t,r,i);return c0(t,r)})}(t,e,n);return new ao(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>c0(t,a)),o}}const r=function P0e(t){return new Vu(new ii(t.url),new ii(t.params),new ii(t.queryParams),new ii(t.fragment),new ii(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>c0(t,s));return new ao(r,i)}}const II="ngNavigationCancelingError";function JV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=hc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function ZV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[II]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eL(t){return t&&t[II]}let bI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["ng-component"]],standalone:!0,features:[zS],decls:1,vars:0,template:function(r,i){1&r&&It(0,"router-outlet")},dependencies:[QV],encapsulation:2}),e})();function wI(t){const e=t.children&&t.children.map(wI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=bI),n}function Bi(t){return t.outlet||Xe}function l0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class B0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Fu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Fu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new I0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(xI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=l0(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class tL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Km{constructor(e,n){this.component=e,this.route=n}}function H0e(t,e,n){const r=t._root;return u0(r,e?e._root:null,n,[r.value])}function Lu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vj(t){return null!==Z0(t)}(t)?e.get(t):t:r}function u0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fu(e);return t.children.forEach(o=>{(function U0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function j0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fc(t.url,e.url)||!ys(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CI(t,e)||!ys(t.queryParams,e.queryParams);default:return!CI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),u0(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Km(a.outlet.component,o))}else o&&d0(e,a,i),i.canActivateChecks.push(new tL(r)),u0(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>d0(a,n.getContext(o),i)),i}function d0(t,e,n){const r=Fu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{d0(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Km(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function f0(t){return"function"==typeof t}function nL(t){return t instanceof Wh||"EmptyError"===t?.name}const Ym=Symbol("INITIAL_VALUE");function Bu(){return si(t=>vV(t.map(e=>e.pipe(Mu(1),NF(Ym)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===Ym)return Ym;if(!1===n||n instanceof ku)return n}return!0}),ms(e=>e!==Ym),Mu(1)))}function rL(t){return function se(...t){return ke(t)}(Wn(e=>{if(hc(e))throw JV(0,e)}),Ye(e=>!0===e))}class Qm{constructor(e){this.segmentGroup=e||null}}class iL{constructor(e){this.urlTree=e}}function Hu(t){return Kh(new Qm(t))}function sL(t){return Kh(new iL(t))}class lpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ve(r);if(i.numberOfChildren>1||!i.children[Xe])return Kh(new ee(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ku(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new xt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const AI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function upe(t,e,n,r,i){const s=DI(t,e,n);return s.matched?(r=function N0e(t,e){return t.providers&&!t._injector&&(t._injector=HS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ope(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ve(i.map(o=>{const a=Lu(o,t);return Zo(function Y0e(t){return t&&f0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Bu(),rL()):Ve(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...AI}))):Ve(s)}function DI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...AI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jhe)(n,t,e);if(!i)return{...AI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function oL(t,e,n,r){return n.length>0&&function hpe(t,e,n){return n.some(r=>Xm(t,e,r)&&Bi(r)!==Xe)}(t,n,r)?{segmentGroup:new xt(e,fpe(r,new xt(n,t.children))),slicedSegments:[]}:0===n.length&&function ppe(t,e,n){return n.some(r=>Xm(t,e,r))}(t,n,r)?{segmentGroup:new xt(t.segments,dpe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xt(t.segments,t.children),slicedSegments:n}}function dpe(t,e,n,r,i){const s={};for(const o of r)if(Xm(t,n,o)&&!i[Bi(o)]){const a=new xt([],{});s[Bi(o)]=a}return{...i,...s}}function fpe(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&Bi(r)!==Xe){const i=new xt([],{});n[Bi(r)]=i}return n}function Xm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class vpe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new lpe(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=oL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(dc(n=>{if(n instanceof iL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Qm?this.noMatchError(n):n}),Ye(n=>{const r=new qm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new ao(r,n),s=new KV("",i),o=function l0e(t,e,n=null,r=null){return FV(OV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(dc(r=>{throw r instanceof Qm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Bn(i).pipe(Yh(s=>{const o=r.children[s],a=function V0e(t,e){const n=t.filter(r=>Bi(r)===e);return n.push(...t.filter(r=>Bi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Lhe(t,e){return Fe(function Vhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(et(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Lm(null),function Bhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ms((i,s)=>t(i,s,r)):me,lI(1),n?Lm(e):CV(()=>new Wh))}(),Ln(s=>{if(null===s)return Hu(r);const o=aL(s);return function ype(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ve(o)}))}processSegment(e,n,r,i,s,o){return Bn(n).pipe(Yh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(dc(c=>{if(c instanceof Qm)return Ve(null);throw c}))),uc(a=>!!a),dc(a=>{if(nL(a))return function mpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ve([]):Hu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function gpe(t,e,n,r){return!!(Bi(t)===r||r!==Xe&&Xm(e,n,t))&&("**"===t.path||DI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hu(i):Hu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ln(o=>{const a=new xt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=DI(n,i,s);if(!a)return Hu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?sL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ln(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?bV(i).parameters:{};a=Ve({snapshot:new qm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cL(r),Bi(r),r.component??r._loadedComponent??null,r,lL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=upe(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new qm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cL(r),Bi(r),r.component??r._loadedComponent??null,r,lL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(si(c=>null===c?Hu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(si(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=oL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(D=>null===D?null:[new ao(d,D)]));if(0===l.length&&0===g.length)return Ve([new ao(d,[])]);const m=Bi(r)===s;return this.processSegment(u,l,p,g,m?Xe:s,!0).pipe(Ye(D=>[new ao(d,D)]))}))))}getChildConfig(e,n,r){return n.children?Ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function spe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ve(!0):Ve(i.map(o=>{const a=Lu(o,t);return Zo(function G0e(t){return t&&f0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Bu(),rL())}(e,n,r).pipe(Ln(i=>i?this.configLoader.loadChildren(e,n).pipe(Wn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function cpe(t){return Kh(ZV(!1,3))}())):Ve({routes:[],injector:e})}}function Epe(t){const e=t.value.routeConfig;return e&&""===e.path}function aL(t){const e=[],n=new Set;for(const r of t){if(!Epe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=aL(r.children);e.push(new ao(r.value,i))}return e.filter(r=>!n.has(r))}function cL(t){return t.data||{}}function lL(t){return t.resolve||{}}function uL(t){return"string"==typeof t.title||null===t.title}function TI(t){return si(e=>{const n=t(e);return n?Bn(n).pipe(Ye(()=>e)):Ve(e)})}const Jm=new ve("ROUTES");let dL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(rJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Zo(r.loadComponent()).pipe(Ye(fL),Wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Qh(()=>{this.componentLoaders.delete(r)})),s=new xV(i,()=>new Z).pipe(cI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Dpe(t,e,n,r){return Zo(t.loadChildren()).pipe(Ye(fL),Ln(i=>i instanceof LS||Array.isArray(i)?Ve(i):Bn(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Jm,[],{optional:!0,self:!0}).flat()),{routes:o.map(wI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Qh(()=>{this.childrenLoaders.delete(i)})),a=new xV(o,()=>new Z).pipe(cI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function fL(t){return function Tpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Zm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=X(dL),this.environmentInjector=X(ui),this.urlSerializer=X(Zh),this.rootContexts=X(a0),this.inputBindingEnabled=null!==X(Wm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new x0e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new E0e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new ii({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:r0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ms(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),si(o=>{this.currentTransition=o;let a=!1,c=!1;return Ve(o).pipe(Wn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),si(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new o0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),ji}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ve(l).pipe(si(h=>{const p=this.transitions?.getValue();return this.events.next(new gI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?ji:Promise.resolve(h)}),function xpe(t,e,n,r,i,s){return Ln(o=>function _pe(t,e,n,r,i,s,o="emptyOnly"){return new vpe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Wn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new UV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:m,extras:D}=l,I=new gI(h,this.urlSerializer.serialize(p),g,m);this.events.next(I);const B=qV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:B,urlAfterRedirects:p,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},Ve(o)}{const h="";return this.events.next(new o0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),ji}}),Wn(l=>{const u=new m0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:H0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function X0e(t,e){return Ln(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ve({...n,guardsResult:!0}):function J0e(t,e,n,r){return Bn(t).pipe(Ln(i=>function ipe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const c=l0(e)??i,l=Lu(a,c);return Zo(function K0e(t){return t&&f0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(uc())})).pipe(Bu()):Ve(!0)}(i.component,i.route,n,e,r)),uc(i=>!0!==i,!0))}(o,r,i,t).pipe(Ln(a=>a&&function $0e(t){return"boolean"==typeof t}(a)?function Z0e(t,e,n,r){return Bn(e).pipe(Yh(i=>aC(function tpe(t,e){return null!==t&&e&&e(new C0e(t)),Ve(!0)}(i.route.parent,r),function epe(t,e){return null!==t&&e&&e(new b0e(t)),Ve(!0)}(i.route,r),function rpe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function z0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>EV(()=>Ve(o.guards.map(c=>{const l=l0(o.node)??n,u=Lu(c,l);return Zo(function W0e(t){return t&&f0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(uc())})).pipe(Bu())));return Ve(s).pipe(Bu())}(t,i.path,n),function npe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const i=r.map(s=>EV(()=>{const o=l0(e)??n,a=Lu(s,o);return Zo(function q0e(t){return t&&f0(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(uc())}));return Ve(i).pipe(Bu())}(t,i.route,n))),uc(i=>!0!==i,!0))}(r,s,t,e):Ve(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Wn(l=>{if(o.guardsResult=l.guardsResult,hc(l.guardsResult))throw JV(0,l.guardsResult);const u=new _0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ms(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),TI(l=>{if(l.guards.canActivateChecks.length)return Ve(l).pipe(Wn(u=>{const d=new v0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),si(u=>{let d=!1;return Ve(u).pipe(function Cpe(t,e){return Ln(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ve(n);let s=0;return Bn(i).pipe(Yh(o=>function Ipe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!uL(i)&&(s[Xh]=i.title),function bpe(t,e,n,r){const i=function wpe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ve({});const s={};return Bn(i).pipe(Ln(o=>function Ape(t,e,n,r){const i=l0(e)??r,s=Lu(t,i);return Zo(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(uc(),Wn(a=>{s[o]=a}))),lI(1),function Hhe(t){return Ye(()=>t)}(s),dc(o=>nL(o)?ji:Kh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=WV(t,n).resolve,i&&uL(i)&&(t.data[Xh]=i.title),null)))}(o.route,r,t,e)),Wn(()=>s++),lI(1),Ln(o=>s===i.length?Ve(n):ji))})}(r.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Wn(u=>{const d=new y0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),TI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Wn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return vV(u(l.targetSnapshot.root)).pipe(Lm(),Mu(1))}),TI(()=>this.afterPreactivation()),Ye(l=>{const u=function S0e(t,e,n){const r=c0(t,e._root,n?n._root:void 0);return new GV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Wn(()=>{this.events.next(new mI)}),((t,e,n,r)=>Ye(i=>(new B0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Mu(1),Wn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ou(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function zhe(t){return Fe((e,n)=>{nr(t).subscribe(et(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Wn(l=>{throw l}))),Qh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),dc(l=>{if(c=!0,eL(l))this.events.next(new s0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function M0e(t){return eL(t)&&hc(t.url)}(l)?this.events.next(new _I(l.url)):o.resolve(!1);else{this.events.next(new Gm(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return ji}))}))}cancelNavigationTransition(r,i,s){const o=new s0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hL(t){return t!==r0}let pL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[Xh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return X(Spe)},providedIn:"root"}),e})(),Spe=(()=>{var t;class e extends pL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(m4))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return X(Mpe)},providedIn:"root"}),e})();class Ppe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Mpe=(()=>{var t;class e extends Ppe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Gn(t)))(i||t)}}(),t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const SI=new ve("",{providedIn:"root",factory:()=>({})});let Npe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:function(){return X(kpe)},providedIn:"root"}),e})(),kpe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var h0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(h0||{});function Ope(t){throw t}function Fpe(t,e,n){return e.parse("/")}const Vpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=X(M7),this.isNgZoneEnabled=!1,this._events=new Z,this.options=X(SI,{optional:!0})||{},this.pendingTasks=X(mg),this.errorHandler=this.options.errorHandler||Ope,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Fpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=X(Npe),this.routeReuseStrategy=X(Rpe),this.titleStrategy=X(pL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=X(Jm,{optional:!0})?.flat()??[],this.navigationTransitions=X(Zm),this.urlSerializer=X(Zh),this.location=X($y),this.componentInputBindingEnabled=!!X(Wm,{optional:!0}),this.eventsSubscription=new K,this.isNgZoneEnabled=X(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ku,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(mL(i)&&this._events.next(i));if(i instanceof gI)hL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof o0)this.rawUrlTree=s.rawUrl;else if(i instanceof UV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof mI)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof s0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof _I){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hL(s.source)};this.scheduleNavigation(o,r0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Gm&&this.restoreHistory(s,!0),i instanceof Ou&&(this.navigated=!0),mL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),r0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=OV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return FV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=hc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,r0,null,i)}navigate(r,i={skipLocationChange:!1}){return function Bpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Vpe}:!1===i?{...Lpe}:i,hc(r))return AV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return AV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function gL(t,e){t.events.pipe(ms(n=>n instanceof Ou||n instanceof s0||n instanceof Gm||n instanceof o0),Ye(n=>n instanceof Ou||n instanceof o0?h0.COMPLETE:n instanceof s0&&(0===n.code||1===n.code)?h0.REDIRECTING:h0.FAILED),ms(n=>n!==h0.REDIRECTING),Mu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function mL(t){return!(t instanceof mI||t instanceof _I)}class zu{constructor(e){return e}}const IL="analytics",NI="__angularfire_symbol__analyticsIsSupportedValue",bL="__angularfire_symbol__analyticsIsSupported";globalThis[bL]||=bhe().then(t=>globalThis[NI]=t).catch(()=>globalThis[NI]=!1);const e2={async:()=>globalThis[bL],sync:()=>{const t=globalThis[NI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},wL=e2.async,Kpe=_n(Che,!0),p0=_n(fV,!0),Ype=_n(whe,!0);let AL=(()=>{var t;class e{constructor(r,i,s){let o;gt(this,"initialized",void 0),gt(this,"disposables",[]),en("angularfire",So.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),wL().then(()=>{const a=s.get(zu);a?this.disposables=[qP(r).subscribe(c=>{Ype(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(Lf),De(dt),De(bn))}),gt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const DL="firebase_screen_id",kI="outlet",g0="screen_class",TL="screen_name";let age=Math.floor(Math.random()*(2**32-1))-2**31;const OI={},cge=t=>{const e=[t[g0],t[kI]].join("#");if(OI.hasOwnProperty(e))return OI[e];{const n=age++;return OI[e]=n,n}},lge=(t,e,n)=>t.events.pipe(ms(i=>i instanceof jV)).pipe(si(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Ve(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[TL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[kI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===bI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Ve({...u,[g0]:d});if(d){const f=n.resolveComponentFactory(d);return Ve({...u,[g0]:f.selector})}return Ve(null)}),ms(i=>!!i),Ye(i=>({firebase_screen_class:i[g0],[DL]:cge(i),...i})),function Ude(t,e,n,r){return Fe((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new Z);const D=function h(p,g){const m=new ue(D=>{u++;const I=g.subscribe(D);return()=>{I.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return m.key=p,m}(g,m);if(s.next(D),n){const I=et(m,()=>{m.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(nr(n(D)).subscribe(I))}}m.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[kI]),Ln(i=>i.pipe(vw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),NF(void 0),function $de(){return Fe((t,e)=>{let n,r=!1;t.subscribe(et(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[g0],firebase_previous_screen:s[TL],firebase_previous_id:s[DL],...o}:o))));let uge=(()=>{var t;class e{constructor(r,i,s,o,a,c){gt(this,"disposable",void 0),en("angularfire",So.full,"screen-tracking"),wL().then(()=>{const l=c.get(zu);!r||!l||o.runOutsideAngular(()=>{this.disposable=lge(r,i,s).pipe(si(function(){var u=y(function*(d){return a&&(yield a.initialized),p0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(Hi,8),De(m4,8),De(Vd),De(dt),De(AL,8),De(bn))}),gt(e,"\u0275prov",Ie({token:t,factory:t.\u0275fac})),e})();const FI=new ve("angularfire2.analytics-instances");function fge(t){return(e,n)=>{if(!e2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new zu(r)}}const hge={provide:class Wpe{constructor(){return Wg(IL)}},deps:[[new cn,FI]]},pge={provide:zu,useFactory:function dge(t,e){if(!e2.sync())return null;const n=qg(IL,t,e);return n&&new zu(n)},deps:[[new cn,FI],Oa]};let gge=(()=>{var t;class e{constructor(r,i){en("angularfire",So.full,"analytics")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(uge,8),De(AL,8))}),gt(e,"\u0275mod",Ht({type:t})),gt(e,"\u0275inj",Ot({providers:[pge,hge,{provide:P7,useValue:e2.async,multi:!0}]})),e})();function mge(t,...e){return{ngModule:gge,providers:[{provide:FI,useFactory:fge(t),multi:!0,deps:[dt,bn,bf,wf,...e]}]}}let _ge=(()=>{var t;class e{constructor(){this.localStorageService=X(Xo),this._installUpdateEmitter=new Ct}checkForUpdate(r,i){let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&""!==s),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}get installUpdateEmitter(){return this._installUpdateEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),vge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Qd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const yge=["updateNotification"];function Ege(t,e){1&t&&(he(0,"span",25,26),Ne(2,"1"),Ae())}let xge=(()=>{var t;class e{constructor(){this.dgAPI=X(Ao),this.changeDetector=X(Da),this.authService=X(ac),this.changelogService=X(_ge),this.analytics=X(zu),this.initialized=!1;let r=window.location.pathname.split("/");p0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),p0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new ue(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.changelogService.installUpdateEmitter.subscribe(i=>{i&&(this.updateNotification.nativeElement.remove(),this.changeDetector.detectChanges())}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&zs(yge,5),2&r){let s;rs(s=is())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(he(0,"div",0)(1,"ul",1)(2,"li",2),fi(3,Ege,3,0,"span",3),Rn(4,"async"),he(5,"a",4),It(6,"img",5),he(7,"span",6),Ne(8,"home"),Ae()()(),he(9,"li",7)(10,"a",8),It(11,"img",9),he(12,"span",6),Ne(13,"planets"),Ae()()(),he(14,"li",10)(15,"a",11),It(16,"img",12),he(17,"span",6),Ne(18,"radar"),Ae()()(),he(19,"li",13)(20,"a",14),It(21,"img",15),he(22,"span",6),Ne(23,"fleets"),Ae()()(),he(24,"li",16)(25,"a",17),It(26,"img",18),he(27,"span",6),Ne(28,"navigation"),Ae()()(),he(29,"li",19)(30,"a",20),It(31,"img",21),he(32,"span",6),Ne(33,"research"),Ae()()(),he(34,"li",22)(35,"a",23),It(36,"img",24),he(37,"span",6),Ne(38,"alliances"),Ae()()()()()),2&r&&(Me(2),st("tabName","home"),Me(1),st("ngIf",Ri(4,8,i.updateAvailableNotification)),Me(6),st("tabName","planets"),Me(5),st("tabName","radar"),Me(5),st("tabName","fleets"),Me(5),st("tabName","navigation"),Me(5),st("tabName","research"),Me(5),st("tabName","alliances"))},dependencies:[Ra,vge,Og],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const vi_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},VI=new Map,SL={activated:!1,tokenObservers:[]},Cge={initialized:!1,enabled:!1};function rn(t){return VI.get(t)||Object.assign({},SL)}function t2(){return Cge}const LI="https://content-firebaseappcheck.googleapis.com/v1",Age="exchangeDebugToken",RL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Tge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Cl,yield function Sge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Cl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Zn=new Do("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function n2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function BI(t){if(!rn(t).activated)throw Zn.create("use-before-activation",{appName:t.name})}function HI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=r2(n)+"d:"),r&&(o+=r2(r)+"h:"),o+=r2(i)+"m:"+r2(s)+"s",o}function r2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function s2(t,e){return zI.apply(this,arguments)}function zI(){return zI=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Zn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Zn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Zn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),zI.apply(this,arguments)}function PL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${LI}/projects/${n}/apps/${r}:${Age}?key=${i}`,body:{debug_token:e}}}const Nge="firebase-app-check-database",kge=1,m0="firebase-app-check-store",ML="debug-token";let o2=null;function NL(){return o2||(o2=new Promise((t,e)=>{try{const n=indexedDB.open(Nge,kge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(m0,{keyPath:"compositeKey"})}}catch(n){e(Zn.create("storage-open",{originalErrorMessage:n?.message}))}}),o2)}function kL(t,e){return UI.apply(this,arguments)}function UI(){return UI=y(function*(t,e){const r=(yield NL()).transaction(m0,"readwrite"),s=r.objectStore(m0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Zn.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),UI.apply(this,arguments)}function OL(t){return jI.apply(this,arguments)}function jI(){return jI=y(function*(t){const n=(yield NL()).transaction(m0,"readonly"),i=n.objectStore(m0).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(Zn.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),jI.apply(this,arguments)}function FL(t){return`${t.options.appId}-${t.name}`}const _0=new xf("@firebase/app-check");function $I(){return $I=y(function*(t){if(mf()){let e;try{e=yield function Oge(t){return OL(FL(t))}(t)}catch(n){_0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),$I.apply(this,arguments)}function GI(t,e){return mf()?function Fge(t,e){return kL(FL(t),e)}(t,e).catch(n=>{_0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qI(){return qI=y(function*(){let t;try{t=yield function Lge(){return OL(ML)}()}catch{}if(t)return t;{const e=ene();return function Vge(t){return kL(ML,t)}(e).catch(n=>_0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),qI.apply(this,arguments)}function WI(){return t2().enabled}function KI(){return YI.apply(this,arguments)}function YI(){return YI=y(function*(){const t=t2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YI.apply(this,arguments)}const Uge={error:"UNKNOWN_ERROR"};function jge(t){return x4.encodeString(JSON.stringify(t),!1)}function a2(t){return QI.apply(this,arguments)}function QI(){return QI=y(function*(t,e=!1){const n=t.app;BI(n);const r=rn(n);let s,i=r.token;if(i&&!Uu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Uu(c)?i=c:yield GI(n,void 0))}if(!e&&i&&Uu(i))return{token:i.token};let a,o=!1;if(WI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=s2(PL(n,yield KI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield GI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield rn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?_0.warn(c.message):_0.error(c),s=c}return i?s?a=Uu(i)?{token:i.token,internalError:s}:HL(s):(a={token:i.token},r.token=i,yield GI(n,i)):a=HL(s),o&&BL(n,a),a}),QI.apply(this,arguments)}function XI(){return XI=y(function*(t){const e=t.app;BI(e);const{provider:n}=rn(e);if(WI()){const r=yield KI(),{token:i}=yield s2(PL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),XI.apply(this,arguments)}function JI(t,e,n,r){const{app:i}=t,s=rn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Uu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LL(t))}function ZI(t,e){const n=rn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LL(t){const{app:e}=t,n=rn(e);let r=n.tokenRefresher;r||(r=function $ge(t){const{app:e}=t;return new Tge(y(function*(){let r;if(r=rn(e).token?yield a2(t,!0):yield a2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=rn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},RL.RETRIAL_MIN_WAIT,RL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function BL(t,e){const n=rn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Uu(t){return t.expireTimeMillis-Date.now()>0}function HL(t){return{token:jge(Uge),error:t}}class Gge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=rn(this.app);for(const n of e)ZI(this.app,n.next);return Promise.resolve()}}function Jge(t,e){const n=new Cl;rn(t).reCAPTCHAState={initialized:n};const i=function zL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=n2(!1);return s?c2(t,e,s,i,n):function t1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=n2(!1);if(!o)throw new Error("no recaptcha");c2(t,e,o,i,n)}),n.promise}function c2(t,e,n,r,i){n.ready(()=>{(function e1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{rn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{rn(t).reCAPTCHAState.succeeded=!1}}),s=rn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function eb(){return eb=y(function*(t){BI(t);const n=yield rn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=rn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),eb.apply(this,arguments)}class ea{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return y(function*(){var n,r,i;!function qL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Zn.create("throttled",{time:HI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function UL(t){return eb.apply(this,arguments)}(e._app).catch(a=>{throw Zn.create("recaptcha-error")});if(null===(n=rn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Zn.create("recaptcha-error");let o;try{o=yield s2(function Pge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${LI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function GL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=A4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Zn.create("throttled",{time:HI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=os(e,"heartbeat"),Jge(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof ea&&this._siteKey===e._siteKey}}function r1e(t=bl(),e){const n=os(t=Zt(t),"app-check");if(t2().initialized||function zge(){const t=u9(),e=t2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Cl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Hge(){return qI.apply(this,arguments)}())}(),WI()&&KI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Zn.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function i1e(t,e,n){const r=function Ige(t,e){return VI.set(t,e),VI.get(t)}(t,Object.assign({},SL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Bge(t){return $I.apply(this,arguments)}(t).then(i=>(i&&Uu(i)&&(r.token=i,BL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),rn(t).isTokenAutoRefreshEnabled&&JI(r,"INTERNAL",()=>{}),r}const WL="app-check-internal";!function o1e(){gi(new Qr("app-check",t=>function qge(t,e){return new Gge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(WL).initialize()})),gi(new Qr(WL,t=>function Wge(t){return{getToken:e=>a2(t,e),getLimitedUseToken:()=>function VL(t){return XI.apply(this,arguments)}(t),addTokenListener:e=>JI(t,"INTERNAL",e),removeTokenListener:e=>ZI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),en("@firebase/app-check","0.8.0")}();class nb{constructor(e){return e}}const rb=new ve("angularfire2.app-check-instances"),c1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function l1e(t){return(e,n,r)=>{!o4(r)&&c1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new nb(i)}}const u1e={provide:B4,deps:[[new cn,rb]]},d1e={provide:nb,useFactory:function a1e(t,e){const n=qg(k9,t,e);return n&&new nb(n)},deps:[[new cn,rb],Oa,Xi]};let f1e=(()=>{var t;class e{constructor(){en("angularfire",So.full,"app-check")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ht({type:t})),gt(e,"\u0275inj",Ot({providers:[d1e,u1e]})),e})();function ju(t,...e){return{ngModule:f1e,providers:[{provide:rb,useFactory:l1e(t),multi:!0,deps:[dt,bn,Xi,bf,wf,...e]}]}}const $u=_n(r1e,!0);let h1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[xge]}),t.\u0275inj=Ot({imports:[ss,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),mge(()=>Kpe())]}),e})();class p1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class g1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class KL{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class YL{constructor(){this._resources=new g1e,this._workers=new KL,this._soldiers=new KL,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var xn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(xn||{});let QL=(()=>{var t;class e{constructor(){this.dgAPI=X(Ao)}extractStats(){let r=new p1e;return r.stats.set(xn.ALL,new YL),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new YL),r.stats.get(xn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(xn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(xn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(xn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(xn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(xn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case xn.METAL:r.stats.get(xn.ALL).resources.metalStored+=s.stored,r.stats.get(xn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case xn.MINERAL:r.stats.get(xn.ALL).resources.mineralStored+=s.stored,r.stats.get(xn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case xn.FOOD:r.stats.get(xn.ALL).resources.foodStored+=s.stored,r.stats.get(xn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case xn.ENERGY:r.stats.get(xn.ALL).resources.energyStored+=s.stored,r.stats.get(xn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),m1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Hn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ib=(()=>{var t;class e{constructor(){this.decimalPipe=X(El)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Hn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const _1e=function(t){return{"dgt-stats-totals-last-row":t}},yi=function(t){return{"dgt-padding-bottom-xs":t}};function v1e(t,e){if(1&t&&(he(0,"tr",4)(1,"th",5)(2,"span",6),Ne(3),Rn(4,"galaxyNameFormatter"),Ae(),he(5,"span",7),Ne(6),Ae()(),he(7,"td",8)(8,"div",9),It(9,"img",10),he(10,"span",11),Ne(11),Rn(12,"number"),Ae()()(),he(13,"td",12)(14,"div",9)(15,"span",11),Ne(16),Rn(17,"resourceProductionFormatter"),Ae()()(),he(18,"td",13)(19,"div",14),It(20,"img",15),he(21,"span",11),Ne(22),Rn(23,"number"),Ae()()(),he(24,"td",12)(25,"div",14)(26,"span",11),Ne(27),Rn(28,"resourceProductionFormatter"),Ae()()(),he(29,"td",13)(30,"div",16),It(31,"img",17),he(32,"span",11),Ne(33),Rn(34,"number"),Ae()()(),he(35,"td",12)(36,"div",16)(37,"span",11),Ne(38),Rn(39,"resourceProductionFormatter"),Ae()()(),he(40,"td",13)(41,"div",18),It(42,"img",19),he(43,"span",11),Ne(44),Rn(45,"number"),Ae()()(),he(46,"td",20)(47,"div",18)(48,"span",11),Ne(49),Rn(50,"resourceProductionFormatter"),Ae()()(),he(51,"td",21)(52,"div",22),It(53,"img",23),he(54,"span",11),Ne(55),Rn(56,"number"),Ae()()(),he(57,"td",24)(58,"div",25),It(59,"img",26),he(60,"span",11),Ne(61),Rn(62,"number"),Ae()()(),he(63,"td",27)(64,"div",28),It(65,"img",29),he(66,"span",11),Ne(67),Rn(68,"number"),Ae()()()()),2&t){const n=e.$implicit,r=e.index,i=qn();st("ngClass",Or(64,_1e,r==i.panel.stats.size-1)),Me(1),st("ngClass",Or(66,yi,r==i.panel.stats.size-2)),Me(2),Xt(Ri(4,26,n.key)),Me(3),ba("[",n.value.count,"]"),Me(1),st("ngClass",Or(68,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(12,28,n.value.resources.metalStored,"1.0","en-US")),Me(2),st("ngClass",Or(70,yi,r==i.panel.stats.size-2)),Me(3),Xt(Ri(17,32,n.value.resources.metalProduction)),Me(2),st("ngClass",Or(72,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(23,34,n.value.resources.mineralStored,"1.0","en-US")),Me(2),st("ngClass",Or(74,yi,r==i.panel.stats.size-2)),Me(3),Xt(Ri(28,38,n.value.resources.mineralProduction)),Me(2),st("ngClass",Or(76,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(34,40,n.value.resources.foodStored,"1.0","en-US")),Me(2),st("ngClass",Or(78,yi,r==i.panel.stats.size-2)),Me(3),Xt(Ri(39,44,n.value.resources.foodProduction)),Me(2),st("ngClass",Or(80,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(45,46,n.value.resources.energyStored,"1.0","en-US")),Me(2),st("ngClass",Or(82,yi,r==i.panel.stats.size-2)),Me(3),Xt(Ri(50,50,n.value.resources.energyProduction)),Me(2),st("ngClass",Or(84,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(56,52,n.value.resources.ground,"1.0","en-US")),Me(2),st("ngClass",Or(86,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(62,56,n.value.resources.orbit,"1.0","en-US")),Me(2),st("ngClass",Or(88,yi,r==i.panel.stats.size-2)),Me(4),Xt(Co(68,60,n.value.soldiers.total,"1.0","en-US"))}}let y1e=(()=>{var t;class e{constructor(){this.statsPanelService=X(QL)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"table",2),fi(3,v1e,69,90,"tr",3),Rn(4,"keyvalue"),Ae()()()),2&r&&(Me(3),st("ngForOf",Ri(4,1,i.panel.stats)))},dependencies:[DR,t4,El,MR,m1e,ib],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){Tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l2(t){return(l2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function JL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sb(t,e){return function b1e(t){if(Array.isArray(t))return t}(t)||function A1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||ZL(t,e)||function T1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y0(t){return function I1e(t){if(Array.isArray(t))return ob(t)}(t)||function w1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ZL(t)||function D1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZL(t,e){if(t){if("string"==typeof t)return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(t,e)}}function ob(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eB=function(){},ab={},tB={},nB=null,rB={mark:eB,measure:eB};try{typeof window<"u"&&(ab=window),typeof document<"u"&&(tB=document),typeof MutationObserver<"u"&&(nB=MutationObserver),typeof performance<"u"&&(rB=performance)}catch{}var f2,h2,p2,g2,m2,iB=(ab.navigator||{}).userAgent,sB=void 0===iB?"":iB,ta=ab,Lt=tB,oB=nB,d2=rB,lo=!!Lt.documentElement&&!!Lt.head&&"function"==typeof Lt.addEventListener&&"function"==typeof Lt.createElement,aB=~sB.indexOf("MSIE")||~sB.indexOf("Trident/"),uo="___FONT_AWESOME___",cB="fa",lB="svg-inline--fa",pc="data-fa-i2svg",lb="data-fa-pseudo-element",R1e="data-fa-pseudo-element-pending",ub="data-prefix",db="data-icon",uB="fontawesome-i2svg",P1e="async",M1e=["HTML","HEAD","STYLE","SCRIPT"],dB=function(){try{return!0}catch{return!1}}(),Bt="classic",sn="sharp",fb=[Bt,sn];function E0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Bt]}})}var x0=E0((Tn(f2={},Bt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Tn(f2,sn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),f2)),C0=E0((Tn(h2={},Bt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Tn(h2,sn,{solid:"fass",regular:"fasr",light:"fasl"}),h2)),I0=E0((Tn(p2={},Bt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Tn(p2,sn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),p2)),N1e=E0((Tn(g2={},Bt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Tn(g2,sn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),g2)),k1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,fB="fa-layers-text",O1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,F1e=E0((Tn(m2={},Bt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Tn(m2,sn,{900:"fass",400:"fasr",300:"fasl"}),m2)),hB=[1,2,3,4,5,6,7,8,9,10],V1e=hB.concat([11,12,13,14,15,16,17,18,19,20]),L1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],gc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},b0=new Set;Object.keys(C0[Bt]).map(b0.add.bind(b0)),Object.keys(C0[sn]).map(b0.add.bind(b0));var B1e=[].concat(fb,y0(b0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",gc.GROUP,gc.SWAP_OPACITY,gc.PRIMARY,gc.SECONDARY]).concat(hB.map(function(t){return"".concat(t,"x")})).concat(V1e.map(function(t){return"w-".concat(t)})),w0=ta.FontAwesomeConfig||{};Lt&&"function"==typeof Lt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=sb(t,2),r=e[1],i=function z1e(t){return""===t||"false"!==t&&("true"===t||t)}(function H1e(t){var e=Lt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(w0[r]=i)});var pB={styleDefault:"solid",familyDefault:"classic",cssPrefix:cB,replacementClass:lB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};w0.familyPrefix&&(w0.cssPrefix=w0.familyPrefix);var Gu=we(we({},pB),w0);Gu.autoReplaceSvg||(Gu.observeMutations=!1);var Se={};Object.keys(pB).forEach(function(t){Object.defineProperty(Se,t,{enumerable:!0,set:function(n){Gu[t]=n,A0.forEach(function(r){return r(Se)})},get:function(){return Gu[t]}})}),Object.defineProperty(Se,"familyPrefix",{enumerable:!0,set:function(e){Gu.cssPrefix=e,A0.forEach(function(n){return n(Se)})},get:function(){return Gu.cssPrefix}}),ta.FontAwesomeConfig=Se;var A0=[],xs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},G1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function D0(){for(var t=12,e="";t-- >0;)e+=G1e[62*Math.random()|0];return e}function qu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function hb(t){return t.classList?qu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function gB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function pb(t){return t.size!==xs.size||t.x!==xs.x||t.y!==xs.y||t.rotate!==xs.rotate||t.flipX||t.flipY}var Y1e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function mB(){var t=cB,e=lB,n=Se.cssPrefix,r=Se.replacementClass,i=Y1e;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var _B=!1;function gb(){Se.autoAddCss&&!_B&&(function $1e(t){if(t&&lo){var e=Lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Lt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Lt.head.insertBefore(e,r)}}(mB()),_B=!0)}var Q1e={mixout:function(){return{dom:{css:mB,insertCss:gb}}},hooks:function(){return{beforeDOMElementCreation:function(){gb()},beforeI2svg:function(){gb()}}}},fo=ta||{};fo[uo]||(fo[uo]={}),fo[uo].styles||(fo[uo].styles={}),fo[uo].hooks||(fo[uo].hooks={}),fo[uo].shims||(fo[uo].shims=[]);var zi=fo[uo],vB=[],v2=!1;function T0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?gB(t):"<".concat(e," ").concat(function q1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(gB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(T0).join(""),"</").concat(e,">")}function yB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}lo&&((v2=(Lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Lt.readyState))||Lt.addEventListener("DOMContentLoaded",function t(){Lt.removeEventListener("DOMContentLoaded",t),v2=1,vB.map(function(e){return e()})}));var mb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function _b(t){var e=function eme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function EB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function vb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=EB(e);"function"!=typeof zi.hooks.addPack||i?zi.styles[t]=we(we({},zi.styles[t]||{}),s):zi.hooks.addPack(t,EB(e)),"fas"===t&&vb("fa",e)}var y2,E2,x2,Wu=zi.styles,nme=zi.shims,rme=(Tn(y2={},Bt,Object.values(I0[Bt])),Tn(y2,sn,Object.values(I0[sn])),y2),yb=null,xB={},CB={},IB={},bB={},wB={},ime=(Tn(E2={},Bt,Object.keys(x0[Bt])),Tn(E2,sn,Object.keys(x0[sn])),E2);var AB=function(){var e=function(s){return mb(Wu,function(o,a,c){return o[c]=mb(a,s,{}),o},{})};xB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),CB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),wB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Wu||Se.autoFetchSvg,r=mb(nme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});IB=r.names,bB=r.unicodes,yb=C2(Se.styleDefault,{family:Se.familyDefault})};function Eb(t,e){return(xB[t]||{})[e]}function mc(t,e){return(wB[t]||{})[e]}function DB(t){return IB[t]||{prefix:null,iconName:null}}function ra(){return yb}(function j1e(t){A0.push(t)})(function(t){yb=C2(t.styleDefault,{family:Se.familyDefault})}),AB();var xb=function(){return{prefix:null,iconName:null,rest:[]}};function C2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Bt:n;return C0[r][t]||C0[r][x0[r][t]]||(t in zi.styles?t:null)||null}var TB=(Tn(x2={},Bt,Object.keys(I0[Bt])),Tn(x2,sn,Object.keys(I0[sn])),x2);function I2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Tn(e={},Bt,"".concat(Se.cssPrefix,"-").concat(Bt)),Tn(e,sn,"".concat(Se.cssPrefix,"-").concat(sn)),e),o=null,a=Bt;(t.includes(s[Bt])||t.some(function(l){return TB[Bt].includes(l)}))&&(a=Bt),(t.includes(s[sn])||t.some(function(l){return TB[sn].includes(l)}))&&(a=sn);var c=t.reduce(function(l,u){var d=function ome(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function sme(t){return~B1e.indexOf(t)}(i)?null:i}(Se.cssPrefix,u);if(Wu[u]?(u=rme[a].includes(u)?N1e[a][u]:u,o=u,l.prefix=u):ime[a].indexOf(u)>-1?(o=u,l.prefix=C2(u,{family:a})):d?l.iconName=d:u!==Se.replacementClass&&u!==s[Bt]&&u!==s[sn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?DB(l.iconName):{},h=mc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Wu.far&&Wu.fas&&!Se.autoFetchSvg&&(l.prefix="fas")}return l},xb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===sn&&(Wu.fass||Se.autoFetchSvg)&&(c.prefix="fass",c.iconName=mc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=ra()||"fas"),c}var lme=function(){function t(){(function E1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function x1e(t,e,n){e&&JL(t.prototype,e),n&&JL(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=we(we({},n.definitions[a]||{}),o[a]),vb(a,o[a]);var c=I0[Bt][a];c&&vb(c,o[a]),AB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),SB=[],Ku={},Yu={},ume=Object.keys(Yu);function Cb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ku[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function _c(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ku[t]||[]).forEach(function(s){s.apply(null,n)})}function ho(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Yu[t]?Yu[t].apply(null,e):void 0}function Ib(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ra();if(e)return e=mc(n,e)||e,yB(RB.definitions,n,e)||yB(zi.styles,n,e)}var RB=new lme,hme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lo?(_c("beforeI2svg",e),ho("pseudoElements2svg",e),ho("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Se.autoReplaceSvg&&(Se.autoReplaceSvg=!0),Se.observeMutations=!0,function J1e(t){lo&&(v2?setTimeout(t,0):vB.push(t))}(function(){gme({autoReplaceSvgRoot:n}),_c("watch",e)})}},ni={noAuto:function(){Se.autoReplaceSvg=!1,Se.observeMutations=!1,_c("noAuto")},config:Se,dom:hme,parse:{icon:function(e){if(null===e)return null;if("object"===l2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:mc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=C2(e[0]);return{prefix:r,iconName:mc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Se.cssPrefix,"-"))>-1||e.match(k1e))){var i=I2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ra(),iconName:mc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=ra();return{prefix:s,iconName:mc(s,e)||e}}}},library:RB,findIconDefinition:Ib,toHtml:T0},gme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Lt:n;(Object.keys(zi.styles).length>0||Se.autoFetchSvg)&&lo&&Se.autoReplaceSvg&&ni.dom.i2svg({node:r})};function b2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return T0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(lo){var r=Lt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function bb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,m=p.height,D="fak"===i,I=[Se.replacementClass,s?"".concat(Se.cssPrefix,"-").concat(s):""].filter(function(Sn){return-1===d.classes.indexOf(Sn)}).filter(function(Sn){return""!==Sn||!!Sn}).concat(d.classes).join(" "),B={children:[],attributes:we(we({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:I,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},W=D&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};h&&(B.attributes[pc]=""),c&&(B.children.push({tag:"title",attributes:{id:B.attributes["aria-labelledby"]||"title-".concat(u||D0())},children:[c]}),delete B.attributes.title);var le=we(we({},B),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:we(we({},W),d.styles)}),Re=r.found&&n.found?ho("generateAbstractMask",le)||{children:[],attributes:{}}:ho("generateAbstractIcon",le)||{children:[],attributes:{}},qt=Re.attributes;return le.children=Re.children,le.attributes=qt,a?function _me(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Se.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:we(we({},i),{},{id:o}),children:r}]}]}(le):function mme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(pb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=_2(we(we({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(le)}function PB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=we(we(we({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[pc]="");var u=we({},o.styles);pb(i)&&(u.transform=function K1e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&aB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=_2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var wb=zi.styles;function Ab(t){var e=t[0],n=t[1],s=sb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Se.cssPrefix,"-").concat(gc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Se.cssPrefix,"-").concat(gc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Se.cssPrefix,"-").concat(gc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var yme={found:!1,width:512,height:512};function Db(t,e){var n=e;return"fa"===e&&null!==Se.styleDefault&&(e=ra()),new Promise(function(r,i){if(ho("missingIconAbstract"),"fa"===n){var o=DB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&wb[e]&&wb[e][t])return r(Ab(wb[e][t]));(function Eme(t,e){!dB&&!Se.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(we(we({},yme),{},{icon:Se.showMissingIcons&&t&&ho("missingIconAbstract")||{}}))})}var MB=function(){},Tb=Se.measurePerformance&&d2&&d2.mark&&d2.measure?d2:{mark:MB,measure:MB},S0='FA "6.4.2"',NB=function(e){Tb.mark("".concat(S0," ").concat(e," ends")),Tb.measure("".concat(S0," ").concat(e),"".concat(S0," ").concat(e," begins"),"".concat(S0," ").concat(e," ends"))},Sb={begin:function(e){return Tb.mark("".concat(S0," ").concat(e," begins")),function(){return NB(e)}},end:NB},w2=function(){};function kB(t){return"string"==typeof(t.getAttribute?t.getAttribute(pc):null)}function wme(t){return Lt.createElementNS("http://www.w3.org/2000/svg",t)}function Ame(t){return Lt.createElement(t)}function OB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?wme:Ame:n;if("string"==typeof t)return Lt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(OB(o,{ceFn:r}))}),i}var A2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(OB(i),n)}),null===n.getAttribute(pc)&&Se.keepOriginalSource){var r=Lt.createComment(function Dme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~hb(n).indexOf(Se.replacementClass))return A2.replace(e);var i=new RegExp("".concat(Se.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Se.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return T0(a)}).join("\n");n.setAttribute(pc,""),n.innerHTML=o}};function FB(t){t()}function VB(t,e){var n="function"==typeof e?e:w2;if(0===t.length)n();else{var r=FB;Se.mutateApproach===P1e&&(r=ta.requestAnimationFrame||FB),r(function(){var i=function bme(){return!0===Se.autoReplaceSvg?A2.replace:A2[Se.autoReplaceSvg]||A2.replace}(),s=Sb.begin("mutate");t.map(i),s(),n()})}}var Rb=!1;function LB(){Rb=!0}function Pb(){Rb=!1}var D2=null;function BB(t){if(oB&&Se.observeMutations){var e=t.treeCallback,n=void 0===e?w2:e,r=t.nodeCallback,i=void 0===r?w2:r,s=t.pseudoElementsCallback,o=void 0===s?w2:s,a=t.observeMutationsRoot,c=void 0===a?Lt:a;D2=new oB(function(l){if(!Rb){var u=ra();qu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!kB(d.addedNodes[0])&&(Se.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Se.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&kB(d.target)&&~L1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Cme(t){var e=t.getAttribute?t.getAttribute(ub):null,n=t.getAttribute?t.getAttribute(db):null;return e&&n}(d.target)){var f=I2(hb(d.target)),p=f.iconName;d.target.setAttribute(ub,f.prefix||u),p&&d.target.setAttribute(db,p)}else(function Ime(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Se.replacementClass)})(d.target)&&i(d.target)})}}),lo&&D2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function HB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Rme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=I2(hb(t));return i.prefix||(i.prefix=ra()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function ame(t,e){return(CB[t]||{})[e]}(i.prefix,t.innerText)||Eb(i.prefix,_b(t.innerText))),!i.iconName&&Se.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Pme(t){var e=qu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Se.autoA11y&&(n?e["aria-labelledby"]="".concat(Se.replacementClass,"-title-").concat(r||D0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Cb("parseNodeAttributes",{},t),c=e.styleParser?function Sme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return we({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:xs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Nme=zi.styles;function zB(t){var e="nest"===Se.autoReplaceSvg?HB(t,{styleParser:!1}):HB(t);return~e.extra.classes.indexOf(fB)?ho("generateLayersText",t,e):ho("generateSvgReplacementMutation",t,e)}var ia=new Set;function UB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!lo)return Promise.resolve();var n=Lt.documentElement.classList,r=function(d){return n.add("".concat(uB,"-").concat(d))},i=function(d){return n.remove("".concat(uB,"-").concat(d))},s=Se.autoFetchSvg?ia:fb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Nme));s.includes("fa")||s.push("fa");var o=[".".concat(fB,":not([").concat(pc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(pc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=qu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Sb.begin("onTree"),l=a.reduce(function(u,d){try{var f=zB(d);f&&u.push(f)}catch(h){dB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){VB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function kme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;zB(t).then(function(n){n&&VB([n],e)})}function Ome(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Ib(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Ib(i||{})),t(r,we(we({},n),{},{mask:i}))}}fb.map(function(t){ia.add("fa-".concat(t))}),Object.keys(x0[Bt]).map(ia.add.bind(ia)),Object.keys(x0[sn]).map(ia.add.bind(ia)),ia=y0(ia);var Fme=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?xs:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,m=void 0===g?[]:g,D=n.attributes,I=void 0===D?{}:D,B=n.styles,W=void 0===B?{}:B;if(e){var le=e.prefix,Re=e.iconName,Ke=e.icon;return b2(we({type:"icon"},e),function(){return _c("beforeDOMElementCreation",{iconDefinition:e,params:n}),Se.autoA11y&&(f?I["aria-labelledby"]="".concat(Se.replacementClass,"-title-").concat(p||D0()):(I["aria-hidden"]="true",I.focusable="false")),bb({icons:{main:Ab(Ke),mask:c?Ab(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:le,iconName:Re,transform:we(we({},xs),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:I,styles:W,classes:m}})})}},Vme={mixout:function(){return{icon:Ome(Fme)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=UB,n.nodeCallback=kme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return UB(void 0===r?Lt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Db(i,a),u.iconName?Db(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=sb(g,2);h([n,bb({icons:{main:m[0],mask:m[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=_2(n.styles);return c.length>0&&(i.style=c),pb(o)&&(l=ho("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Lme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return b2({type:"layer"},function(){_c("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Se.cssPrefix,"-layers")].concat(y0(s)).join(" ")},children:o}]})}}}},Bme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return b2({type:"counter",content:n},function(){return _c("beforeDOMElementCreation",{content:n,params:r}),function vme(t){var e=t.content,n=t.title,r=t.extra,i=we(we(we({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=_2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Se.cssPrefix,"-layers-counter")].concat(y0(a))}})})}}}},Hme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?xs:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return b2({type:"text",content:n},function(){return _c("beforeDOMElementCreation",{content:n,params:r}),PB({content:n,transform:we(we({},xs),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Se.cssPrefix,"-layers-text")].concat(y0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(aB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Se.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,PB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},zme=new RegExp('"',"ug"),jB=[1105920,1112319];function $B(t,e){var n="".concat(R1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=qu(t.children).filter(function(Ke){return Ke.getAttribute(lb)===e})[0],a=ta.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(O1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?sn:Bt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?C0[f][c[2].toLowerCase()]:F1e[f][l],p=function Ume(t){var e=t.replace(zme,""),n=function tme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=jB[0]&&n<=jB[1],i=2===e.length&&e[0]===e[1];return{value:_b(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,m=p.isSecondary,D=c[0].startsWith("FontAwesome"),I=Eb(h,g),B=I;if(D){var W=function cme(t){var e=bB[t],n=Eb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);W.iconName&&W.prefix&&(I=W.iconName,h=W.prefix)}if(!I||m||o&&o.getAttribute(ub)===h&&o.getAttribute(db)===B)r();else{t.setAttribute(n,B),o&&t.removeChild(o);var le=function Mme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:xs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Re=le.extra;Re.attributes[lb]=e,Db(I,h).then(function(Ke){var qt=bb(we(we({},le),{},{icons:{main:Ke,mask:xb()},prefix:h,iconName:B,extra:Re,watchable:!0})),Sn=Lt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Sn,t.firstChild):t.appendChild(Sn),Sn.outerHTML=qt.map(function(ua){return T0(ua)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function jme(t){return Promise.all([$B(t,"::before"),$B(t,"::after")])}function $me(t){return!(t.parentNode===document.head||~M1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(lb)||t.parentNode&&"svg"===t.parentNode.tagName)}function GB(t){if(lo)return new Promise(function(e,n){var r=qu(t.querySelectorAll("*")).filter($me).map(jme),i=Sb.begin("searchPseudoElements");LB(),Promise.all(r).then(function(){i(),Pb(),e()}).catch(function(){i(),Pb(),n()})})}var qB=!1,WB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Mb={x:0,y:0,width:"100%",height:"100%"};function KB(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function Kme(t){return"g"===t.tag?t.children:[t]}var Yme={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?I2(i.split(" ").map(function(o){return o.trim()})):xb();return s.prefix||(s.prefix=ra()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function W1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:we(we({},Mb),{},{fill:"white"})},g=u.children?{children:u.children.map(KB)}:{},m={tag:"g",attributes:we({},h.inner),children:[KB(we({tag:u.tag,attributes:we(we({},u.attributes),h.path)},g))]},D={tag:"g",attributes:we({},h.outer),children:[m]},I="mask-".concat(a||D0()),B="clip-".concat(a||D0()),W={tag:"mask",attributes:we(we({},Mb),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,D]},le={tag:"defs",children:[{tag:"clipPath",attributes:{id:B},children:Kme(f)},W]};return r.push(le,{tag:"rect",attributes:we({fill:"currentColor","clip-path":"url(#".concat(B,")"),mask:"url(#".concat(I,")")},Mb)}),{children:r,attributes:i}}}};!function dme(t,e){var n=e.mixoutsTo;SB=t,Ku={},Object.keys(Yu).forEach(function(r){-1===ume.indexOf(r)&&delete Yu[r]}),SB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===l2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ku[o]||(Ku[o]=[]),Ku[o].push(s[o])})}r.provides&&r.provides(Yu)})}([Q1e,Vme,Lme,Bme,Hme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=GB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Se.searchPseudoElements&&GB(void 0===r?Lt:r)}}},{mixout:function(){return{dom:{unwatch:function(){LB(),qB=!0}}}},hooks:function(){return{bootstrap:function(){BB(Cb("mutationObserverCallbacks",{}))},noAuto:function(){!function Tme(){D2&&D2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;qB?Pb():BB(Cb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return WB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=WB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:we({},h.outer),children:[{tag:"g",attributes:we({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:we(we({},r.icon.attributes),h.path)}]}]}}}},Yme,{provides:function(e){var n=!1;ta.matchMedia&&(n=ta.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:we(we({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=we(we({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:we(we({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:we(we({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:we(we({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:we(we({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:we(we({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:we(we({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:we(we({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ni});var Zme=ni.parse,e2e=ni.icon;const t2e=["*"],i2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let a2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YB=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),c2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[gr]}),e})(),l2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ji),J(yr))},t.\u0275cmp=Rr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[gr],ngContentSelectors:t2e,decls:1,vars:0,template:function(r,i){1&r&&(function xT(t){const e=Q()[an][rr];if(!e.projection){const r=e.projection=Ad(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?XK(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function CT(t,e=0,n){const r=Q(),i=ct(),s=rl(i,tt+t,16,null,n||null);null===s.projection&&(s.projection=e),D_(),(!r[Ps]||kc())&&32!=(32&s.flags)&&function YG(t,e,n){I5(e[je],0,e,n,tv(t,n,e),_5(n.parent||e[rr],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),u2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Zme.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...i2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=e2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(t9),J(a2e),J(YB),J(c2e,8),J(l2e,8))},t.\u0275cmp=Rr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(cy("innerHTML",i.renderedIconHTML,F5),Di("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[gr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),QB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})(),d2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[y1e]}),t.\u0275inj=Ot({providers:[El,QL],imports:[ss,QB]}),e})(),XB=(()=>{var t;class e{constructor(){this.firestore=X(so),this.dgAPI=X(Ao)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=Qo(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=Zx(tC(i,rC("location","==",r.planetScan.location),MF(1))).subscribe(s=>{let o=Object.assign(new s9,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==or.RESOURCE||r.type==or.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==or.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==or.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==or.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Gh(Li(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):nC(Li(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function f2e(t,e){1&t&&(he(0,"p",3),Ne(1,"Each scan will be cached and shared with your alliance members "),It(2,"img",4),Ae())}let h2e=(()=>{var t;class e{constructor(){this.scanService=X(XB),this.authService=X(ac),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(he(0,"div",0),It(1,"span",1),Ae(),fi(2,f2e,3,0,"p",2)),2&r&&(Me(2),st("ngIf",i.active))},dependencies:[Ra],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),p2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[h2e]}),t.\u0275inj=Ot({providers:[XB],imports:[ss,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),JB=(()=>{var t;class e{constructor(){this.firestore=X(so),this.dgAPI=X(Ao),this.resourceProductionFormatterPipe=X(ib),this.decimalPipe=X(El)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Zx(tC(Qo(this.firestore,"scans-g"+i[0].split(/\./)[0]),rC("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Mt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Mt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Mt.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Mt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Mt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Mt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Mt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Mt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Mt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Mt.MEDICAL_CENTRE)&&(f+=.3),d.includes(Mt.LEISURE_CENTRE)&&(f+=.4),d.includes(Mt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function g2e(t,e){1&t&&(he(0,"p",3),Ne(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),Ae())}let m2e=(()=>{var t;class e{constructor(){this.scanService=X(JB),this.authService=X(ac),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(he(0,"div",0),It(1,"span",1),Ae(),fi(2,g2e,2,0,"p",2)),2&r&&(Me(2),st("ngIf",i.active))},dependencies:[Ra],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),_2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[m2e]}),t.\u0275inj=Ot({providers:[El,ib,JB],imports:[ss,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function v2e(t,e){if(1&t){const n=og();he(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Ne(6,"DGT Login"),Ae()()(),he(7,"tr",3)(8,"td"),It(9,"input",4,5),Ae(),he(11,"td"),It(12,"input",6,7),Ae()(),he(14,"tr",8)(15,"td",2)(16,"button",9),ln("click",function(){Ms(n);const i=ey(10),s=ey(13);return Ns(qn().signInWithEmailAndPassword(i.value,s.value))}),Ne(17,"Login"),Ae(),he(18,"button",10),ln("click",function(){return Ms(n),Ns(qn().signInWithGoogle())}),It(19,"img",11),Ae()()()()()()}}let y2e=(()=>{var t;class e{constructor(){this.authService=X(ac),this.auth=X(Lf),this.firestore=X(so),this.localStorageService=X(Xo),this.changeDetection=X(Da),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new ue(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(zr.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(fi(0,v2e,20,0,"div",0),Rn(1,"async")),2&r&&st("ngIf",Ri(1,1,i.displayLogin))},dependencies:[Ra,Og],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),E2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[y2e]}),t.\u0275inj=Ot({imports:[ss,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var S2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Rye=(()=>{var t;class e{constructor(){this.localStorageService=X(Xo)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(zr.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ji),J(yr))},t.\u0275dir=Oe({type:t}),e})(),vc=(()=>{var t;class e extends bz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Gn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[vt]}),e})();const Cs=new ve("NgValueAccessor"),Nye={provide:Cs,useExisting:Dt(()=>R2),multi:!0},Oye=new ve("CompositionEventMode");let R2=(()=>{var t;class e extends bz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kye(){const t=bo()?bo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ji),J(yr),J(Oye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ln("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ut([Nye]),vt]}),e})();const fr=new ve("NgValidators"),oa=new ve("NgAsyncValidators");function Oz(t){return null!=t}function Fz(t){return Yd(t)?Bn(t):t}function Vz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Lz(t,e){return e.map(n=>n(t))}function Bz(t){return t.map(e=>function Vye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Lb(t){return null!=t?function Hz(t){if(!t)return null;const e=t.filter(Oz);return 0==e.length?null:function(n){return Vz(Lz(n,e))}}(Bz(t)):null}function Bb(t){return null!=t?function zz(t){if(!t)return null;const e=t.filter(Oz);return 0==e.length?null:function(n){return function Pye(...t){const e=gw(t),{args:n,keys:r}=gV(t),i=new ue(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;nr(n[u]).subscribe(et(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?_V(r,a):a),s.complete())}))}});return e?i.pipe(mV(e)):i}(Lz(n,e).map(Fz)).pipe(Ye(Vz))}}(Bz(t)):null}function Uz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Hb(t){return t?Array.isArray(t)?t:[t]:[]}function M2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Gz(t,e){const n=Hb(e);return Hb(t).forEach(i=>{M2(n,i)||n.push(i)}),n}function qz(t,e){return Hb(e).filter(n=>!M2(t,n))}class Wz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ar extends Wz{get formDirective(){return null}get path(){return null}}class aa extends Wz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yz=(()=>{var t;class e extends Kz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(aa,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[vt]}),e})(),zb=(()=>{var t;class e extends Kz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ar,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[vt]}),e})();const R0="VALID",k2="INVALID",Qu="PENDING",P0="DISABLED";function $b(t){return(O2(t)?t.validators:t)||null}function Gb(t,e){return(O2(e)?e.asyncValidators:t)||null}function O2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Zz{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===R0}get invalid(){return this.status===k2}get pending(){return this.status==Qu}get disabled(){return this.status===P0}get enabled(){return this.status!==P0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Gz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Gz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qz(e,this._rawAsyncValidators))}hasValidator(e){return M2(this._rawValidators,e)}hasAsyncValidator(e){return M2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=P0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=R0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R0||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P0:R0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const n=Fz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?P0:this.errors?k2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(k2)?k2:R0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){O2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zye(t){return Array.isArray(t)?Lb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Uye(t){return Array.isArray(t)?Bb(t):t||null}(this._rawAsyncValidators)}}class qb extends Zz{constructor(e,n,r){super($b(n),Gb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Jz(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Xz(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Xu=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>F2}),F2="always";function M0(t,e,n=F2){Wb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Gye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&eU(t,e)})}(t,e),function Wye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function qye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&eU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function $ye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function B2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Wb(t,e){const n=function jz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Uz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function $z(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Uz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();B2(e._rawValidators,i),B2(e._rawAsyncValidators,i)}function eU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Jye={provide:Ar,useExisting:Dt(()=>k0)},N0=(()=>Promise.resolve())();let k0=(()=>{var t;class e extends Ar{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ct,this.form=new qb({},Lb(r),Bb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){N0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),M0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){N0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){N0.then(()=>{const i=this._findContainer(r.path),s=new qb({});(function tU(t,e){Wb(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){N0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){N0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function nU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(J(fr,10),J(oa,10),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ln("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([Jye]),vt]}),e})();function rU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function iU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const sU=class extends Zz{constructor(e=null,n,r){super($b(n),Gb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=iU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){iU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},t4e={provide:aa,useExisting:Dt(()=>Xb)},cU=(()=>Promise.resolve())();let Xb=(()=>{var t;class e extends aa{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new sU,this._registered=!1,this.name="",this.update=new Ct,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Qb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===R2?n=s:function Qye(t){return Object.getPrototypeOf(t.constructor)===vc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Yb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){M0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){cU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function vl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);cU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function V2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ar,9),J(fr,10),J(oa,10),J(Cs,10),J(Da,8),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([t4e]),vt,gr]}),e})(),Jb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),uU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})(),w4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({imports:[uU]}),e})(),TU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xu,useValue:r.callSetDisabledState??F2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({imports:[w4e]}),e})(),D4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Hn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const T4e=["dgtSpinner"],S4e=["dgtMainContainer"];function R4e(t,e){if(1&t&&(he(0,"span",18),Ne(1),Ae()),2&t){const n=qn().$implicit;Me(1),ba("[",n.kickEta,"]")}}const P4e=function(){return["far","circle-xmark"]};function M4e(t,e){if(1&t){const n=og();he(0,"div",19)(1,"form",20,21),ln("ngSubmit",function(i){return Ms(n),Ns(qn(4).onSubmitKickMember(i))}),It(3,"input",22),Rn(4,"kickMemberFormatter"),he(5,"button",23),It(6,"fa-icon",24),Ae()()()}if(2&t){const n=qn().$implicit;Me(3),ny("name",Ri(4,2,n.dgId)),Me(3),st("icon",function KS(t,e,n){const r=mr()+t,i=Q();return i[r]===Ge?es(i,r,n?e.call(n):e()):function jd(t,e){return t[e]}(i,r)}(4,P4e))}}function N4e(t,e){if(1&t&&(he(0,"div",8)(1,"div",9)(2,"span",10),Ne(3),Ae(),he(4,"span",11),Ne(5,"Rank: "),he(6,"span",12),Ne(7),Ae()(),fi(8,R4e,2,1,"span",13),he(9,"span",14),Ne(10,"Score: "),he(11,"span",12),Ne(12),Ae()(),he(13,"span",15),Ne(14,"Combat: "),he(15,"span",12),Ne(16),Ae()(),he(17,"span",16),Ne(18,"Planets: "),he(19,"span",12),Ne(20),Ae()(),fi(21,M4e,7,5,"div",17),Ae()()),2&t){const n=e.$implicit,r=qn(2).ngIf,i=qn();Me(3),Xt(n.name),Me(4),Xt(n.stats.rank),Me(1),st("ngIf",null!=n.kickEta),Me(4),Xt(n.stats.score),Me(4),Xt(n.stats.combatScore),Me(4),Xt(n.stats.planets),Me(1),st("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function k4e(t,e){if(1&t&&(he(0,"div",5,6),fi(2,N4e,22,7,"div",7),Ae()),2&t){const n=qn(2);Me(2),st("ngForOf",n.allianceMembers)}}function O4e(t,e){if(1&t&&(Wd(0),fi(1,k4e,3,1,"div",4),Kd()),2&t){const n=qn();Me(1),st("ngIf",n.active)}}let F4e=(()=>{var t;class e{constructor(r){this.authService=X(ac),this.localStorageService=X(Xo),this.membersPanelService=X(Rye),this.active=!1,this.initialized=!1,this.UserRole=iC,r.addIcons(S2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new ue(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(zr.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(YB))},t.\u0275cmp=Rr({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(zs(T4e,5),zs(S4e,5)),2&r){let s;rs(s=is())&&(i.loadSpinner=s.first),rs(s=is())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(he(0,"div",0,1),It(2,"span",2),Ae(),fi(3,O4e,2,1,"ng-container",3),Rn(4,"async")),2&r&&(Me(3),st("ngIf",Ri(4,1,i.role)))},dependencies:[t4,Ra,Jb,zb,k0,u2e,Og,D4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),V4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[F4e]}),t.\u0275inj=Ot({imports:[ss,TU,QB,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),L4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),B4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[L4e]}),t.\u0275inj=Ot({imports:[ss]}),e})(),H4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),z4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[H4e]}),t.\u0275inj=Ot({imports:[ss]}),e})();function z2(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new ce({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Wh)}});t.subscribe(s)})}class U2{}class j2{}class Is{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Is?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Is;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Is?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class U4e{encodeKey(e){return SU(e)}encodeValue(e){return SU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $4e=/%(\d[a-f0-9])/gi,G4e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function SU(t){return encodeURIComponent(t).replace($4e,(e,n)=>G4e[n]??e)}function $2(t){return`${t}`}class ca{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new U4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function j4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map($2):[$2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ca({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push($2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class q4e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PU(t){return typeof Blob<"u"&&t instanceof Blob}function MU(t){return typeof FormData<"u"&&t instanceof FormData}class O0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function W4e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Is),this.context||(this.context=new q4e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ca,this.urlWithParams=n}serializeBody(){return null===this.body?null:RU(this.body)||PU(this.body)||MU(this.body)||function K4e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ca?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MU(this.body)?null:PU(this.body)?this.body.type||null:RU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ca?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new O0(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Ju=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ju||{});class sw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Is,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ow extends sw{constructor(e={}){super(e),this.type=Ju.ResponseHeader}clone(e={}){return new ow({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zu extends sw{constructor(e={}){super(e),this.type=Ju.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NU extends sw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function aw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cw=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof O0)o=r;else{let l,u;l=s.headers instanceof Is?s.headers:new Is(s.headers),s.params&&(u=s.params instanceof ca?s.params:new ca({fromObject:s.params})),o=new O0(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ve(o).pipe(Yh(l=>this.handler.handle(l)));if(r instanceof O0||"events"===s.observe)return a;const c=a.pipe(ms(l=>l instanceof Zu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ca).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,aw(s,i))}post(r,i,s={}){return this.request("POST",r,aw(s,i))}put(r,i,s={}){return this.request("PUT",r,aw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(U2))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function FU(t,e){return e(t)}function Q4e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const J4e=new ve(""),F0=new ve(""),VU=new ve("");function Z4e(){let t=null;return(e,n)=>{null===t&&(t=(X(J4e,{optional:!0})??[]).reduceRight(Q4e,FU));const r=X(mg),i=r.add();return t(e,n).pipe(Qh(()=>r.remove(i)))}}let LU=(()=>{var t;class e extends U2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=X(mg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(F0),...this.injector.get(VU,[])]));this.chain=s.reduceRight((o,a)=>function X4e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),FU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Qh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(j2),De(ui))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const r6e=/^\)\]\}',?\n/;let HU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Bn(i.\u0275loadImpl()):Ve(null)).pipe(si(()=>new ue(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,D)=>a.setRequestHeader(m,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const m=a.statusText||"OK",D=new Is(a.getAllResponseHeaders()),I=function i6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new ow({headers:D,status:a.status,statusText:m,url:I}),l},d=()=>{let{headers:m,status:D,statusText:I,url:B}=u(),W=null;204!==D&&(W=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=W?200:0);let le=D>=200&&D<300;if("json"===r.responseType&&"string"==typeof W){const Re=W;W=W.replace(r6e,"");try{W=""!==W?JSON.parse(W):null}catch(Ke){W=Re,le&&(le=!1,W={error:Ke,text:W})}}le?(o.next(new Zu({body:W,headers:m,status:D,statusText:I,url:B||void 0})),o.complete()):o.error(new NU({error:W,headers:m,status:D,statusText:I,url:B||void 0}))},f=m=>{const{url:D}=u(),I=new NU({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(I)};let h=!1;const p=m=>{h||(o.next(u()),h=!0);let D={type:Ju.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),"text"===r.responseType&&a.responseText&&(D.partialText=a.responseText),o.next(D)},g=m=>{let D={type:Ju.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:Ju.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(OR))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();const lw=new ve("XSRF_ENABLED"),zU=new ve("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UU=new ve("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jU{}let a6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=wR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Vr),De(Xi),De(zU))},t.\u0275prov=Ie({token:t,factory:t.\u0275fac}),e})();function c6e(t,e){const n=t.url.toLowerCase();if(!X(lw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=X(jU).getToken(),i=X(UU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var la=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(la||{});function Ec(t,e){return{\u0275kind:t,\u0275providers:e}}function l6e(...t){const e=[cw,HU,LU,{provide:U2,useExisting:LU},{provide:j2,useExisting:HU},{provide:F0,useValue:c6e,multi:!0},{provide:lw,useValue:!0},{provide:jU,useClass:a6e}];for(const n of t)e.push(...n.\u0275providers);return function fv(t){return{\u0275providers:t}}(e)}const $U=new ve("LEGACY_INTERCEPTOR_FN");let d6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({providers:[l6e(Ec(la.LegacyInterceptors,[{provide:$U,useFactory:Z4e},{provide:F0,useExisting:$U,multi:!0}]))]}),e})();class _6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class uw{constructor(){this._planets=[]}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total}}}class v6e{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}class dw{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class GU{constructor(e,n){this._turn=e,this._version=n}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version}}}let qU=(()=>{var t;class e{get id(){return this._id}constructor(){this.firestore=X(so),this.dgAPI=X(Ao),this.metadataPath=Qo(this.firestore,"metadata"),this._id=Math.random(),console.log(this.id)}test(){console.log("test: "+this.id)}updateMetadata(r){let i=eC(Li(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new GU(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),nC(Li(this.metadataPath,"players-rankings-turn"),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Gh(Li(this.metadataPath,"players-rankings-turn"),JSON.parse(JSON.stringify(new GU(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var ed;class fw{constructor(){this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this.httpClient=X(cw),this.firestore=X(so),this.dgAPI=X(Ao),this.metadataService=X(qU),this._systemScanEmitter=new Ct,this._planetScanEmitter=new Ct,this.delay=function(){var e=y(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}(),console.log(this.metadataService.id)}scanNavigationScreen(e,n=[]){var r=this;return y(function*(){const i=500+Math.floor(1e3*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map;const f=Qo(r.firestore,"planets-g"+s[u]);if(1===s[u])for(let h=1;h<=r.G1_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));if(s[u]>1&&s[u]<14)for(let h=1;h<=r.INNER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));if(s[u]>=14)for(let h=1;h<=r.OUTER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));r.savePlayerPlanets(d)}r.metadataService.updateMetadata("planets-turn"),c.unsubscribe()})()}savePlayerPlanets(e){const n=Qo(this.firestore,"players-planets");e.forEach((r,i)=>{let s=eC(Li(n,i.toString())).subscribe(o=>{if(o){Object.assign(new uw,o).planets.forEach(l=>{r.planets.some(d=>d.galaxy===l.galaxy)||r.planets.push(l)});let c=0;r.planets.forEach(l=>{c+=l.planets.length}),r.total=c+1,nC(Li(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(l=>console.log(l))}else{let a=0;r.planets.forEach(c=>{a+=c.planets.length}),r.total=a,Gh(Li(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))}s.unsubscribe()})})}totalSystemsNr(e){let n=0;const r=this.filterValidGalaxies(e);for(let i=0;i<r.length;i++)1===r[i]&&(n+=this.G1_SECTORS*this.SYSTEMS),r[i]>1&&r[i]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),r[i]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}parseAndSave(e,n,r,i,s){var o=this;return y(function*(){const a=yield z2(o.httpClient.get(o.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(a,"text/html").querySelectorAll(".navigation .planets").forEach((l,u)=>{setTimeout(()=>{let d=new _6e;const f=l.querySelector(".coords span").textContent.trim(),h=f.split(/\./);if(o.planetScanEmitter.emit(f),d.location=f,d.galaxy=parseInt(h[0]),d.sector=parseInt(h[1]),d.system=parseInt(h[2]),d.planet=parseInt(h[3]),l.classList.contains("neutral")?(d.owner="none",d.playerId=-1,d.alliance="-"):(d.alliance=l.querySelector(".allianceName")?l.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",d.owner=l.querySelector(".playerName").textContent.trim().toLowerCase(),d.playerId=parseInt(l.querySelector(".playerName").attributes.playerId.value.trim())),d.playerId>=0){d.turn=o.dgAPI.gameTurn(),i.has(d.playerId)||i.set(d.playerId,new uw);let p=i.get(d.playerId).planets;p.some(m=>m.galaxy===e)?p.filter(D=>D.galaxy===e&&!D.planets.includes(d.location)).forEach(D=>D.planets.push(d.location)):i.get(d.playerId).planets.push(new v6e(e,[d.location])),i.get(d.playerId).name=d.owner,i.get(d.playerId).playerId=d.playerId,i.get(d.playerId).turn=o.dgAPI.gameTurn(),Gh(Li(s,d.location),JSON.parse(JSON.stringify(d))).catch(m=>console.log(m))}},50*u)})})()}filterValidGalaxies(e){let n=[];if(1===e.length&&149===e[0])n.push(...this.allGalaxies());else if(1===e.length&&213===e[0])for(let r=2;r<=13;r++)n.push(r);else if(1===e.length&&1449===e[0])for(let r=14;r<=49;r++)n.push(r);else for(let r=0;r<e.length;r++)e[r]>0&&e[r]<=this.GALAXIES&&n.push(e[r]);return n}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(ed=fw).\u0275fac=function(e){return new(e||ed)},ed.\u0275prov=Ie({token:ed,factory:ed.\u0275fac,providedIn:"root"}),gn([Ei(1,cn())],fw.prototype,"scanNavigationScreen",null);class WU{get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let y6e=(()=>{var t;class e{constructor(){this.PLAYER_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/players/",this.ALLIANCE_RANKINGS_URL="https://andromeda.darkgalaxy.com/navigation/",this.ALLIANCE_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/alliances/",this.httpClient=X(cw),this.firestore=X(so),this.metadataService=X(qU),this._playersRankingsEmitter=new Ct,this.delay=function(){var r=y(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),console.log(this.metadataService.id)}scanPlayersRankingsScreens(r){var i=this;return y(function*(){const s=1500+Math.floor(1500*Math.random()),o=Qo(i.firestore,"players-rankings"),a=Qo(i.firestore,"players-planets");let c=!0,l=r.subscribe(m=>{c=!m}),u=0,d=new Map,f=yield z2(i.httpClient.get(i.PLAYER_RANKINGS_URL,{responseType:"text"})),h=(new DOMParser).parseFromString(f,"text/html");const p=parseInt(h.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[h.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim());for(let m=1;m<=p;m++)c&&(f=yield z2(i.httpClient.get(i.PLAYER_RANKINGS_URL+m,{responseType:"text"})),h=(new DOMParser).parseFromString(f,"text/html"),h.querySelectorAll(".rankingsList .entry").forEach(D=>{const I=parseInt(D.querySelector(".playerName").attributes.playerId.value.trim());d.has(I)||d.set(I,new WU);let B=d.get(I);B.playerId=I,B.name=D.querySelector(".playerName").textContent.trim().toLowerCase(),B.rank=parseInt(D.querySelector(".rank").textContent.trim().replace(/,/g,"")),B.score=parseInt(D.querySelector(".score").textContent.trim().replace(/,/g,"")),B.combinedScore=B.combatScore+B.score,B.alliance=D.querySelector(".allianceName")?D.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-"}),i._playersRankingsEmitter.emit({action:"load",page:++u,total:2*p}),yield i.delay(s),f=yield z2(i.httpClient.get(i.PLAYER_COMBAT_RANKINGS_URL+m,{responseType:"text"})),h=(new DOMParser).parseFromString(f,"text/html"),h.querySelectorAll(".rankingsList .entry").forEach(D=>{const I=parseInt(D.querySelector(".playerName").attributes.playerId.value.trim());d.has(I)||d.set(I,new WU);let B=d.get(I);B.combatScore=parseInt(D.querySelector(".score").textContent.trim().replace(/,/g,"")),B.combinedScore=B.combatScore+B.score}),i._playersRankingsEmitter.emit({action:"load",page:++u,total:2*p}),yield i.delay(s)),l.unsubscribe();let g=0;d.forEach((m,D)=>{c&&setTimeout(()=>{let I=eC(Li(a,D.toString())).subscribe(B=>{m.planets=Object.assign(new uw,B).total,Gh(Li(o,D.toString()),JSON.parse(JSON.stringify(m))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++g,total:d.size})}).catch(W=>console.log(W)),I.unsubscribe()})},50*g)}),yield i.delay(50*d.size),i.metadataService.updateMetadata("players-rankings-turn")})()}scanAlliancesRankingsScreens(){return y(function*(){})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ie({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),E6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(yr))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&ln("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const x6e=["planetsLoadModal"],C6e=["rankingsLoadModal"],I6e=["planetProgressBar"],b6e=["playersProgressBar"],w6e=["planetCounter"];function A6e(t,e){if(1&t){const n=og();Wd(0),he(1,"div",1)(2,"div",2)(3,"b"),Ne(4,"DGT Admin Panel"),Ae()(),he(5,"div",3)(6,"div",4)(7,"form")(8,"input",5),ln("ngModelChange",function(i){return Ms(n),Ns(qn().controls.galaxies=i)}),Ae(),he(9,"button",6),ln("click",function(){return Ms(n),Ns(qn().scanNavigationScreen())}),Ne(10,"Scan"),Ae()(),he(11,"div",7)(12,"span",8),Ne(13,"Use this with caution. Universe scan it's a very expensive operation for both DG server and DGT database!"),Ae(),he(14,"span",8),Ne(15,"Usage examples:"),Ae(),he(16,"ul")(17,"li"),Ne(18,"1,2 - G01 and G02"),Ae(),he(19,"li"),Ne(20,"34 - G34"),Ae(),he(21,"li"),Ne(22,"special: 213 - first ring (G02-G13)"),Ae(),he(23,"li"),Ne(24,"special: 1449 - second ring (G14-G49)"),Ae(),he(25,"li"),Ne(26,"special: 149 - everything (G01-G49)"),Ae()()()(),he(27,"div",9)(28,"form")(29,"button",6),ln("click",function(){return Ms(n),Ns(qn().scanPlayersRankingScreens())}),Ne(30,"Load Rankings"),Ae()()()()(),he(31,"div",10,11)(33,"div",12)(34,"div",13)(35,"span",14),Ne(36),Ae(),he(37,"span",15,16),Ne(39),Ae()(),he(40,"div",17)(41,"span",18),Ne(42),Ae(),It(43,"span",19,20),Ae(),he(45,"div",21)(46,"button",22),ln("click",function(){return Ms(n),Ns(qn().cancelScan())}),Ne(47,"Cancel"),Ae()()()(),he(48,"div",23,24)(50,"div",12)(51,"div",13)(52,"span",25),Ne(53),Ae()(),he(54,"div",17)(55,"span",18),Ne(56),Ae(),It(57,"span",19,26),Ae(),he(59,"div",21)(60,"button",22),ln("click",function(){return Ms(n),Ns(qn().cancelScan())}),Ne(61,"Cancel"),Ae()()()(),Kd()}if(2&t){const n=qn();Me(8),st("ngModel",n.controls.galaxies),Me(28),Xt(n.loadedSystem),Me(3),Xt(n.loadedPlanet),Me(3),ba("",n.planetPercentage,"%"),Me(11),Xt(n.loadedRankings),Me(3),ba("",n.playersPercentage,"%")}}let D6e=(()=>{var t;class e{constructor(){this.navigationLoaderService=X(fw),this.rankingsLoaderService=X(y6e),this.changeDetection=X(Da),this.cancelScanEmitter=new Ct,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0}scanNavigationScreen(){var r=this;return y(function*(){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.navigationLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.navigationLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.navigationLoaderService.scanNavigationScreen(r.cancelScanEmitter,i),r.cancelScan()})()}scanPlayersRankingScreens(){var r=this;return y(function*(){r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.rankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" players",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.rankingsLoaderService.scanPlayersRankingsScreens(r.cancelScanEmitter),r.cancelScan()})()}cancelScan(){this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(zs(x6e,5),zs(C6e,5),zs(I6e,5),zs(b6e,5),zs(w6e,5)),2&r){let s;rs(s=is())&&(i.planetsLoadModal=s.first),rs(s=is())&&(i.rankingsLoadModal=s.first),rs(s=is())&&(i.planetProgressBar=s.first),rs(s=is())&&(i.playersProgressBar=s.first),rs(s=is())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","load-planets-example"],[1,"usage-warning"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&fi(0,A6e,62,6,"ng-container",0),2&r&&st("ngIf",!0)},dependencies:[Ra,Jb,R2,Yz,zb,Xb,k0,E6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #676767;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#ffffff;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;border-radius:5px;max-width:200px;width:100%;margin:10px auto;height:20px;background:rgb(75,75,75);overflow:hidden}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #767676;border-radius:3px;background:rgb(75,75,75);cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(45,45,45);border:1px solid #545454}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#598b0f}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#fff;font-size:15px}.counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:14px}span.planet-counter[_ngcontent-%COMP%]{transition:all .1s}#load-planets-example[_ngcontent-%COMP%]{display:table}#load-planets-example[_ngcontent-%COMP%]{font-weight:400!important;background:#576740!important;color:#ffffffad!important;font-size:11px;text-align:left;padding:5px;border-radius:3px}#load-planets-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], #load-planets-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{padding:5px;font-weight:700}"]}),e})(),T6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[D6e]}),t.\u0275inj=Ot({imports:[ss,TU,d6e,Dl(()=>Sl(vi_firebase)),Nl(()=>kl()),Au(()=>Du()),ju(()=>$u(Tl(),{provider:new ea(vi_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),S6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Rr({type:t,selectors:[["dgt-alliance-rankings"]],decls:2,vars:0,template:function(r,i){1&r&&(he(0,"p"),Ne(1,"rankings-panel works!"),Ae())}}),e})(),R6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[S6e]}),t.\u0275inj=Ot({imports:[ss]}),e})();const bs=_te();let Ur=window.location.pathname.split(/\//g);bs.bootstrapModule(z4e).catch(t=>console.error(t)),bs.bootstrapModule(B4e).catch(t=>console.error(t)),bs.bootstrapModule(E2e).catch(t=>console.error(t)),bs.bootstrapModule(h1e).catch(t=>console.error(t)),2===Ur.length&&0===Ur[1].trim().length&&bs.bootstrapModule(T6e).catch(t=>console.error(t)),"planets"===Ur[1]&&bs.bootstrapModule(d2e).catch(t=>console.error(t)),"planet"===Ur[1]&&"comms"===(5===Ur.length&&Ur[3])&&bs.bootstrapModule(p2e).catch(t=>console.error(t)),"navigation"===Ur[1]&&6===Ur.length&&!isNaN(+Ur[2])&&!isNaN(+Ur[3])&&!isNaN(+Ur[4])&&bs.bootstrapModule(_2e).catch(t=>console.error(t)),"alliances"===Ur[1]&&bs.bootstrapModule(V4e).catch(t=>console.error(t)),"rankings"===Ur[1]&&"alliances"===Ur[2]&&bs.bootstrapModule(R6e).catch(t=>console.error(t))},42:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher,K=b.algo,k=[],G=[],v=[],w=[],P=[],E=[],T=[],x=[],S=[],A=[];!function(){for(var _=[],C=0;C<256;C++)_[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var z=O^O<<1^O<<2^O<<3^O<<4;k[L]=z=z>>>8^255&z^99,G[z]=L;var de,j=_[L],ce=_[j],oe=_[ce];v[L]=(de=257*_[z]^16843008*z)<<24|de>>>8,w[L]=de<<16|de>>>16,P[L]=de<<8|de>>>24,E[L]=de,T[z]=(de=16843009*oe^65537*ce^257*j^16843008*L)<<24|de>>>8,x[z]=de<<16|de>>>16,S[z]=de<<8|de>>>24,A[z]=de,L?(L=j^_[_[_[oe^j]]],O^=_[_[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],N=K.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),ce=this._keySchedule=[],oe=0;oe<j;oe++)oe<O?ce[oe]=L[oe]:(_=ce[oe-1],oe%O?O>6&&oe%O==4&&(_=k[_>>>24]<<24|k[_>>>16&255]<<16|k[_>>>8&255]<<8|k[255&_]):(_=k[(_=_<<8|_>>>24)>>>24]<<24|k[_>>>16&255]<<16|k[_>>>8&255]<<8|k[255&_],_^=F[oe/O|0]<<24),ce[oe]=ce[oe-O]^_);for(var de=this._invKeySchedule=[],Ce=0;Ce<j;Ce++){if(oe=j-Ce,Ce%4)var _=ce[oe];else _=ce[oe-4];de[Ce]=Ce<4||oe<=4?_:T[k[_>>>24]]^x[k[_>>>16&255]]^S[k[_>>>8&255]]^A[k[255&_]]}}},encryptBlock:function(_,C){this._doCryptBlock(_,C,this._keySchedule,v,w,P,E,k)},decryptBlock:function(_,C){var L=_[C+1];_[C+1]=_[C+3],_[C+3]=L,this._doCryptBlock(_,C,this._invKeySchedule,T,x,S,A,G),L=_[C+1],_[C+1]=_[C+3],_[C+3]=L},_doCryptBlock:function(_,C,L,O,z,j,ce,oe){for(var de=this._nRounds,Ce=_[C]^L[0],q=_[C+1]^L[1],ae=_[C+2]^L[2],me=_[C+3]^L[3],se=4,ke=1;ke<de;ke++){var ue=O[Ce>>>24]^z[q>>>16&255]^j[ae>>>8&255]^ce[255&me]^L[se++],qe=O[q>>>24]^z[ae>>>16&255]^j[me>>>8&255]^ce[255&Ce]^L[se++],Ze=O[ae>>>24]^z[me>>>16&255]^j[Ce>>>8&255]^ce[255&q]^L[se++],Y=O[me>>>24]^z[Ce>>>16&255]^j[q>>>8&255]^ce[255&ae]^L[se++];Ce=ue,q=qe,ae=Ze,me=Y}ue=(oe[Ce>>>24]<<24|oe[q>>>16&255]<<16|oe[ae>>>8&255]<<8|oe[255&me])^L[se++],qe=(oe[q>>>24]<<24|oe[ae>>>16&255]<<16|oe[me>>>8&255]<<8|oe[255&Ce])^L[se++],Ze=(oe[ae>>>24]<<24|oe[me>>>16&255]<<16|oe[Ce>>>8&255]<<8|oe[255&q])^L[se++],Y=(oe[me>>>24]<<24|oe[Ce>>>16&255]<<16|oe[q>>>8&255]<<8|oe[255&ae])^L[se++],_[C]=ue,_[C+1]=qe,_[C+2]=Ze,_[C+3]=Y},keySize:8});b.AES=U._createHelper(N)}(),R.AES)},172:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher;const k=16,G=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,N){let L,_=F,C=N;for(let O=0;O<k;++O)_^=A.pbox[O],C=P(A,_)^C,L=_,_=C,C=L;return L=_,_=C,C=L,C^=A.pbox[k],_^=A.pbox[k+1],{left:_,right:C}}var S=b.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,N){for(let z=0;z<4;z++){A.sbox[z]=[];for(let j=0;j<256;j++)A.sbox[z][j]=v[z][j]}let _=0;for(let z=0;z<k+2;z++)A.pbox[z]=G[z]^F[_],_++,_>=N&&(_=0);let C=0,L=0,O=0;for(let z=0;z<k+2;z+=2)O=E(A,C,L),C=O.left,L=O.right,A.pbox[z]=C,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let j=0;j<256;j+=2)O=E(A,C,L),C=O.left,L=O.right,A.sbox[z][j]=C,A.sbox[z][j+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var N=E(w,A[F],A[F+1]);A[F]=N.left,A[F+1]=N.right},decryptBlock:function(A,F){var N=function T(A,F,N){let L,_=F,C=N;for(let O=k+1;O>1;--O)_^=A.pbox[O],C=P(A,_)^C,L=_,_=C,C=L;return L=_,_=C,C=L,C^=A.pbox[1],_^=A.pbox[0],{left:_,right:C}}(w,A[F],A[F+1]);A[F]=N.left,A[F+1]=N.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=U._createHelper(S)}(),R.Blowfish)},270:function(_e,Ee,V){var $,U,K,k,G,v,P,T,x,A,F,N,C,O,j,ce,de,Ce,R;_e.exports=(R=V(12),V(66),void(R.lib.Cipher||($=R,U=$.lib,K=U.Base,k=U.WordArray,G=U.BufferedBlockAlgorithm,v=$.enc,P=v.Base64,T=$.algo.EvpKDF,x=U.Cipher=G.extend({cfg:K.extend(),createEncryptor:function(q,ae){return this.create(this._ENC_XFORM_MODE,q,ae)},createDecryptor:function(q,ae){return this.create(this._DEC_XFORM_MODE,q,ae)},init:function(q,ae,me){this.cfg=this.cfg.extend(me),this._xformMode=q,this._key=ae,this.reset()},reset:function(){G.reset.call(this),this._doReset()},process:function(q){return this._append(q),this._process()},finalize:function(q){return q&&this._append(q),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function q(ae){return"string"==typeof ae?Ce:ce}return function(ae){return{encrypt:function(me,se,ke){return q(se).encrypt(ae,me,se,ke)},decrypt:function(me,se,ke){return q(se).decrypt(ae,me,se,ke)}}}}()}),U.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=U.BlockCipherMode=K.extend({createEncryptor:function(q,ae){return this.Encryptor.create(q,ae)},createDecryptor:function(q,ae){return this.Decryptor.create(q,ae)},init:function(q,ae){this._cipher=q,this._iv=ae}}),N=A.CBC=function(){var q=F.extend();function ae(me,se,ke){var ue,qe=this._iv;qe?(ue=qe,this._iv=undefined):ue=this._prevBlock;for(var Ze=0;Ze<ke;Ze++)me[se+Ze]^=ue[Ze]}return q.Encryptor=q.extend({processBlock:function(me,se){var ke=this._cipher,ue=ke.blockSize;ae.call(this,me,se,ue),ke.encryptBlock(me,se),this._prevBlock=me.slice(se,se+ue)}}),q.Decryptor=q.extend({processBlock:function(me,se){var ke=this._cipher,ue=ke.blockSize,qe=me.slice(se,se+ue);ke.decryptBlock(me,se),ae.call(this,me,se,ue),this._prevBlock=qe}}),q}(),C=($.pad={}).Pkcs7={pad:function(q,ae){for(var me=4*ae,se=me-q.sigBytes%me,ke=se<<24|se<<16|se<<8|se,ue=[],qe=0;qe<se;qe+=4)ue.push(ke);var Ze=k.create(ue,se);q.concat(Ze)},unpad:function(q){q.sigBytes-=255&q.words[q.sigBytes-1>>>2]}},U.BlockCipher=x.extend({cfg:x.cfg.extend({mode:N,padding:C}),reset:function(){var q;x.reset.call(this);var ae=this.cfg,me=ae.iv,se=ae.mode;this._xformMode==this._ENC_XFORM_MODE?q=se.createEncryptor:(q=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==q?this._mode.init(this,me&&me.words):(this._mode=q.call(se,this,me&&me.words),this._mode.__creator=q)},_doProcessBlock:function(q,ae){this._mode.processBlock(q,ae)},_doFinalize:function(){var q,ae=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ae.pad(this._data,this.blockSize),q=this._process(!0)):(q=this._process(!0),ae.unpad(q)),q},blockSize:4}),O=U.CipherParams=K.extend({init:function(q){this.mixIn(q)},toString:function(q){return(q||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(q){var me=q.ciphertext,se=q.salt;return(se?k.create([1398893684,1701076831]).concat(se).concat(me):me).toString(P)},parse:function(q){var ae,me=P.parse(q),se=me.words;return 1398893684==se[0]&&1701076831==se[1]&&(ae=k.create(se.slice(2,4)),se.splice(0,4),me.sigBytes-=16),O.create({ciphertext:me,salt:ae})}},ce=U.SerializableCipher=K.extend({cfg:K.extend({format:j}),encrypt:function(q,ae,me,se){se=this.cfg.extend(se);var ke=q.createEncryptor(me,se),ue=ke.finalize(ae),qe=ke.cfg;return O.create({ciphertext:ue,key:me,iv:qe.iv,algorithm:q,mode:qe.mode,padding:qe.padding,blockSize:q.blockSize,formatter:se.format})},decrypt:function(q,ae,me,se){return se=this.cfg.extend(se),ae=this._parse(ae,se.format),q.createDecryptor(me,se).finalize(ae.ciphertext)},_parse:function(q,ae){return"string"==typeof q?ae.parse(q,this):q}}),de=($.kdf={}).OpenSSL={execute:function(q,ae,me,se,ke){if(se||(se=k.random(8)),ke)var ue=T.create({keySize:ae+me,hasher:ke}).compute(q,se);else ue=T.create({keySize:ae+me}).compute(q,se);var qe=k.create(ue.words.slice(ae),4*me);return ue.sigBytes=4*ae,O.create({key:ue,iv:qe,salt:se})}},Ce=U.PasswordBasedCipher=ce.extend({cfg:ce.cfg.extend({kdf:de}),encrypt:function(q,ae,me,se){var ke=(se=this.cfg.extend(se)).kdf.execute(me,q.keySize,q.ivSize,se.salt,se.hasher);se.iv=ke.iv;var ue=ce.encrypt.call(this,q,ae,ke.key,se);return ue.mixIn(ke),ue},decrypt:function(q,ae,me,se){se=this.cfg.extend(se),ae=this._parse(ae,se.format);var ke=se.kdf.execute(me,q.keySize,q.ivSize,ae.salt,se.hasher);return se.iv=ke.iv,ce.decrypt.call(this,q,ae,ke.key,se)}}))))},12:function(_e,Ee,V){var R;_e.exports=(R=R||function(b,$){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var K=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function _(){}return function(C){var L;return _.prototype=C,L=new _,_.prototype=null,L}}(),G={},v=G.lib={},w=v.Base={extend:function(_){var C=k(this);return _&&C.mixIn(_),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var C in _)_.hasOwnProperty(C)&&(this[C]=_[C]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},P=v.WordArray=w.extend({init:function(_,C){_=this.words=_||[],this.sigBytes=null!=C?C:4*_.length},toString:function(_){return(_||T).stringify(this)},concat:function(_){var C=this.words,L=_.words,O=this.sigBytes,z=_.sigBytes;if(this.clamp(),O%4)for(var j=0;j<z;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var oe=0;oe<z;oe+=4)C[O+oe>>>2]=L[oe>>>2];return this.sigBytes+=z,this},clamp:function(){var _=this.words,C=this.sigBytes;_[C>>>2]&=4294967295<<32-C%4*8,_.length=b.ceil(C/4)},clone:function(){var _=w.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var C=[],L=0;L<_;L+=4)C.push(K());return new P.init(C,_)}}),E=G.enc={},T=E.Hex={stringify:function(_){for(var C=_.words,L=_.sigBytes,O=[],z=0;z<L;z++){var j=C[z>>>2]>>>24-z%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(_){for(var C=_.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(_.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=E.Latin1={stringify:function(_){for(var C=_.words,L=_.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(C[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(_){for(var C=_.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&_.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},S=E.Utf8={stringify:function(_){try{return decodeURIComponent(escape(x.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return x.parse(unescape(encodeURIComponent(_)))}},A=v.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(_){"string"==typeof _&&(_=S.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var C,L=this._data,O=L.words,z=L.sigBytes,j=this.blockSize,oe=z/(4*j),de=(oe=_?b.ceil(oe):b.max((0|oe)-this._minBufferSize,0))*j,Ce=b.min(4*de,z);if(de){for(var q=0;q<de;q+=j)this._doProcessBlock(O,q);C=O.splice(0,de),L.sigBytes-=Ce}return new P.init(C,Ce)},clone:function(){var _=w.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),N=(v.Hasher=A.extend({cfg:w.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(C,L){return new _.init(L).finalize(C)}},_createHmacHelper:function(_){return function(C,L){return new N.HMAC.init(_,L).finalize(C)}}}),G.algo={});return G}(Math),R)},506:function(_e,Ee,V){var R,U;_e.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64={stringify:function(v){var w=v.words,P=v.sigBytes,E=this._map;v.clamp();for(var T=[],x=0;x<P;x+=3)for(var N=(w[x>>>2]>>>24-x%4*8&255)<<16|(w[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|w[x+2>>>2]>>>24-(x+2)%4*8&255,_=0;_<4&&x+.75*_<P;_++)T.push(E.charAt(N>>>6*(3-_)&63));var C=E.charAt(64);if(C)for(;T.length%4;)T.push(C);return T.join("")},parse:function(v){var w=v.length,P=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<P.length;T++)E[P.charCodeAt(T)]=T}var x=P.charAt(64);if(x){var S=v.indexOf(x);-1!==S&&(w=S)}return function G(v,w,P){for(var E=[],T=0,x=0;x<w;x++)if(x%4){var S=P[v.charCodeAt(x-1)]<<x%4*2,A=P[v.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return U.create(E,T)}(v,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(_e,Ee,V){var R,U;_e.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64url={stringify:function(v,w){void 0===w&&(w=!0);var P=v.words,E=v.sigBytes,T=w?this._safe_map:this._map;v.clamp();for(var x=[],S=0;S<E;S+=3)for(var _=(P[S>>>2]>>>24-S%4*8&255)<<16|(P[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|P[S+2>>>2]>>>24-(S+2)%4*8&255,C=0;C<4&&S+.75*C<E;C++)x.push(T.charAt(_>>>6*(3-C)&63));var L=T.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(v,w){void 0===w&&(w=!0);var P=v.length,E=w?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var x=0;x<E.length;x++)T[E.charCodeAt(x)]=x}var S=E.charAt(64);if(S){var A=v.indexOf(S);-1!==A&&(P=A)}return function G(v,w,P){for(var E=[],T=0,x=0;x<w;x++)if(x%4){var S=P[v.charCodeAt(x-1)]<<x%4*2,A=P[v.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(S|A)<<24-T%4*8,T++}return U.create(E,T)}(v,P,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(_e,Ee,V){var R;_e.exports=(R=V(12),function(){var U=R.lib.WordArray,K=R.enc;function G(v){return v<<8&4278255360|v>>>8&16711935}K.Utf16=K.Utf16BE={stringify:function(v){for(var w=v.words,P=v.sigBytes,E=[],T=0;T<P;T+=2)E.push(String.fromCharCode(w[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(v){for(var w=v.length,P=[],E=0;E<w;E++)P[E>>>1]|=v.charCodeAt(E)<<16-E%2*16;return U.create(P,2*w)}},K.Utf16LE={stringify:function(v){for(var w=v.words,P=v.sigBytes,E=[],T=0;T<P;T+=2){var x=G(w[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(x))}return E.join("")},parse:function(v){for(var w=v.length,P=[],E=0;E<w;E++)P[E>>>1]|=G(v.charCodeAt(E)<<16-E%2*16);return U.create(P,2*w)}}}(),R.enc.Utf16)},66:function(_e,Ee,V){var b,$,U,K,k,v,R;_e.exports=(R=V(12),V(446),V(990),K=($=(b=R).lib).WordArray,v=(k=b.algo).EvpKDF=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var E,T=this.cfg,x=T.hasher.create(),S=K.create(),A=S.words,F=T.keySize,N=T.iterations;A.length<F;){E&&x.update(E),E=x.update(w).finalize(P),x.reset();for(var _=1;_<N;_++)E=x.finalize(E),x.reset();S.concat(E)}return S.sigBytes=4*F,S}}),b.EvpKDF=function(w,P,E){return v.create(E).compute(w,P)},R.EvpKDF)},826:function(_e,Ee,V){var R,K,G;_e.exports=(R=V(12),V(270),K=R.lib.CipherParams,G=R.enc.Hex,R.format.Hex={stringify:function(P){return P.ciphertext.toString(G)},parse:function(P){var E=G.parse(P);return K.create({ciphertext:E})}},R.format.Hex)},990:function(_e,Ee,V){var R,k;_e.exports=(R=V(12),k=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=k.parse(P));var E=w.blockSize,T=4*E;P.sigBytes>T&&(P=w.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),S=this._iKey=P.clone(),A=x.words,F=S.words,N=0;N<E;N++)A[N]^=1549556828,F[N]^=909522486;x.sigBytes=S.sigBytes=T,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,E=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(E))}})))},874:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),R)},37:function(_e,Ee,V){var R;_e.exports=(R=V(12),function(){if("function"==typeof ArrayBuffer){var U=R.lib.WordArray,K=U.init,k=U.init=function(G){if(G instanceof ArrayBuffer&&(G=new Uint8Array(G)),(G instanceof Int8Array||typeof Uint8ClampedArray<"u"&&G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array)&&(G=new Uint8Array(G.buffer,G.byteOffset,G.byteLength)),G instanceof Uint8Array){for(var v=G.byteLength,w=[],P=0;P<v;P++)w[P>>>2]|=G[P]<<24-P%4*8;K.call(this,w,v)}else K.apply(this,arguments)};k.prototype=U}}(),R.lib.WordArray)},873:function(_e,Ee,V){var R;_e.exports=(R=V(12),function(b){var $=R,U=$.lib,K=U.WordArray,k=U.Hasher,G=$.algo,v=[];!function(){for(var S=0;S<64;S++)v[S]=4294967296*b.abs(b.sin(S+1))|0}();var w=G.MD5=k.extend({_doReset:function(){this._hash=new K.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var F=0;F<16;F++){var N=A+F,_=S[N];S[N]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8)}var C=this._hash.words,L=S[A+0],O=S[A+1],z=S[A+2],j=S[A+3],ce=S[A+4],oe=S[A+5],de=S[A+6],Ce=S[A+7],q=S[A+8],ae=S[A+9],me=S[A+10],se=S[A+11],ke=S[A+12],ue=S[A+13],qe=S[A+14],Ze=S[A+15],Y=C[0],ie=C[1],Z=C[2],re=C[3];Y=P(Y,ie,Z,re,L,7,v[0]),re=P(re,Y,ie,Z,O,12,v[1]),Z=P(Z,re,Y,ie,z,17,v[2]),ie=P(ie,Z,re,Y,j,22,v[3]),Y=P(Y,ie,Z,re,ce,7,v[4]),re=P(re,Y,ie,Z,oe,12,v[5]),Z=P(Z,re,Y,ie,de,17,v[6]),ie=P(ie,Z,re,Y,Ce,22,v[7]),Y=P(Y,ie,Z,re,q,7,v[8]),re=P(re,Y,ie,Z,ae,12,v[9]),Z=P(Z,re,Y,ie,me,17,v[10]),ie=P(ie,Z,re,Y,se,22,v[11]),Y=P(Y,ie,Z,re,ke,7,v[12]),re=P(re,Y,ie,Z,ue,12,v[13]),Z=P(Z,re,Y,ie,qe,17,v[14]),Y=E(Y,ie=P(ie,Z,re,Y,Ze,22,v[15]),Z,re,O,5,v[16]),re=E(re,Y,ie,Z,de,9,v[17]),Z=E(Z,re,Y,ie,se,14,v[18]),ie=E(ie,Z,re,Y,L,20,v[19]),Y=E(Y,ie,Z,re,oe,5,v[20]),re=E(re,Y,ie,Z,me,9,v[21]),Z=E(Z,re,Y,ie,Ze,14,v[22]),ie=E(ie,Z,re,Y,ce,20,v[23]),Y=E(Y,ie,Z,re,ae,5,v[24]),re=E(re,Y,ie,Z,qe,9,v[25]),Z=E(Z,re,Y,ie,j,14,v[26]),ie=E(ie,Z,re,Y,q,20,v[27]),Y=E(Y,ie,Z,re,ue,5,v[28]),re=E(re,Y,ie,Z,z,9,v[29]),Z=E(Z,re,Y,ie,Ce,14,v[30]),Y=T(Y,ie=E(ie,Z,re,Y,ke,20,v[31]),Z,re,oe,4,v[32]),re=T(re,Y,ie,Z,q,11,v[33]),Z=T(Z,re,Y,ie,se,16,v[34]),ie=T(ie,Z,re,Y,qe,23,v[35]),Y=T(Y,ie,Z,re,O,4,v[36]),re=T(re,Y,ie,Z,ce,11,v[37]),Z=T(Z,re,Y,ie,Ce,16,v[38]),ie=T(ie,Z,re,Y,me,23,v[39]),Y=T(Y,ie,Z,re,ue,4,v[40]),re=T(re,Y,ie,Z,L,11,v[41]),Z=T(Z,re,Y,ie,j,16,v[42]),ie=T(ie,Z,re,Y,de,23,v[43]),Y=T(Y,ie,Z,re,ae,4,v[44]),re=T(re,Y,ie,Z,ke,11,v[45]),Z=T(Z,re,Y,ie,Ze,16,v[46]),Y=x(Y,ie=T(ie,Z,re,Y,z,23,v[47]),Z,re,L,6,v[48]),re=x(re,Y,ie,Z,Ce,10,v[49]),Z=x(Z,re,Y,ie,qe,15,v[50]),ie=x(ie,Z,re,Y,oe,21,v[51]),Y=x(Y,ie,Z,re,ke,6,v[52]),re=x(re,Y,ie,Z,j,10,v[53]),Z=x(Z,re,Y,ie,me,15,v[54]),ie=x(ie,Z,re,Y,O,21,v[55]),Y=x(Y,ie,Z,re,q,6,v[56]),re=x(re,Y,ie,Z,Ze,10,v[57]),Z=x(Z,re,Y,ie,de,15,v[58]),ie=x(ie,Z,re,Y,ue,21,v[59]),Y=x(Y,ie,Z,re,ce,6,v[60]),re=x(re,Y,ie,Z,se,10,v[61]),Z=x(Z,re,Y,ie,z,15,v[62]),ie=x(ie,Z,re,Y,ae,21,v[63]),C[0]=C[0]+Y|0,C[1]=C[1]+ie|0,C[2]=C[2]+Z|0,C[3]=C[3]+re|0},_doFinalize:function(){var S=this._data,A=S.words,F=8*this._nDataBytes,N=8*S.sigBytes;A[N>>>5]|=128<<24-N%32;var _=b.floor(F/4294967296),C=F;A[15+(N+64>>>9<<4)]=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),A[14+(N+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),S.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var j=O[z];O[z]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var S=k.clone.call(this);return S._hash=this._hash.clone(),S}});function P(S,A,F,N,_,C,L){var O=S+(A&F|~A&N)+_+L;return(O<<C|O>>>32-C)+A}function E(S,A,F,N,_,C,L){var O=S+(A&N|F&~N)+_+L;return(O<<C|O>>>32-C)+A}function T(S,A,F,N,_,C,L){var O=S+(A^F^N)+_+L;return(O<<C|O>>>32-C)+A}function x(S,A,F,N,_,C,L){var O=S+(F^(A|~N))+_+L;return(O<<C|O>>>32-C)+A}$.MD5=k._createHelper(w),$.HmacMD5=k._createHmacHelper(w)}(Math),R.MD5)},228:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.mode.CFB=function(){var b=R.lib.BlockCipherMode.extend();function $(U,K,k,G){var v,w=this._iv;w?(v=w.slice(0),this._iv=void 0):v=this._prevBlock,G.encryptBlock(v,0);for(var P=0;P<k;P++)U[K+P]^=v[P]}return b.Encryptor=b.extend({processBlock:function(U,K){var k=this._cipher,G=k.blockSize;$.call(this,U,K,G,k),this._prevBlock=U.slice(K,K+G)}}),b.Decryptor=b.extend({processBlock:function(U,K){var k=this._cipher,G=k.blockSize,v=U.slice(K,K+G);$.call(this,U,K,G,k),this._prevBlock=v}}),b}(),R.mode.CFB)},584:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.mode.CTRGladman=function(){var b=R.lib.BlockCipherMode.extend();function $(k){if(255==(k>>24&255)){var G=k>>16&255,v=k>>8&255,w=255&k;255===G?(G=0,255===v?(v=0,255===w?w=0:++w):++v):++G,k=0,k+=G<<16,k+=v<<8,k+=w}else k+=1<<24;return k}var K=b.Encryptor=b.extend({processBlock:function(k,G){var v=this._cipher,w=v.blockSize,P=this._iv,E=this._counter;P&&(E=this._counter=P.slice(0),this._iv=void 0),function U(k){return 0===(k[0]=$(k[0]))&&(k[1]=$(k[1])),k}(E);var T=E.slice(0);v.encryptBlock(T,0);for(var x=0;x<w;x++)k[G+x]^=T[x]}});return b.Decryptor=K,b}(),R.mode.CTRGladman)},392:function(_e,Ee,V){var b,$,R;_e.exports=(R=V(12),V(270),R.mode.CTR=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,K){var k=this._cipher,G=k.blockSize,v=this._iv,w=this._counter;v&&(w=this._counter=v.slice(0),this._iv=void 0);var P=w.slice(0);k.encryptBlock(P,0),w[G-1]=w[G-1]+1|0;for(var E=0;E<G;E++)U[K+E]^=P[E]}}),b.Decryptor=$,b),R.mode.CTR)},594:function(_e,Ee,V){var b,R;_e.exports=(R=V(12),V(270),R.mode.ECB=((b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function($,U){this._cipher.encryptBlock($,U)}}),b.Decryptor=b.extend({processBlock:function($,U){this._cipher.decryptBlock($,U)}}),b),R.mode.ECB)},15:function(_e,Ee,V){var b,$,R;_e.exports=(R=V(12),V(270),R.mode.OFB=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,K){var k=this._cipher,G=k.blockSize,v=this._iv,w=this._keystream;v&&(w=this._keystream=v.slice(0),this._iv=void 0),k.encryptBlock(w,0);for(var P=0;P<G;P++)U[K+P]^=w[P]}}),b.Decryptor=$,b),R.mode.OFB)},237:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.pad.AnsiX923={pad:function(b,$){var U=b.sigBytes,K=4*$,k=K-U%K,G=U+k-1;b.clamp(),b.words[G>>>2]|=k<<24-G%4*8,b.sigBytes+=k},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.pad.Iso10126={pad:function(b,$){var U=4*$,K=U-b.sigBytes%U;b.concat(R.lib.WordArray.random(K-1)).concat(R.lib.WordArray.create([K<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.pad.Iso97971={pad:function(b,$){b.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(b,$)},unpad:function(b){R.pad.ZeroPadding.unpad(b),b.sigBytes--}},R.pad.Iso97971)},738:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(270),R.pad.ZeroPadding={pad:function(b,$){var U=4*$;b.clamp(),b.sigBytes+=U-(b.sigBytes%U||U)},unpad:function(b){var $=b.words,U=b.sigBytes-1;for(U=b.sigBytes-1;U>=0;U--)if($[U>>>2]>>>24-U%4*8&255){b.sigBytes=U+1;break}}},R.pad.ZeroPadding)},538:function(_e,Ee,V){var b,$,U,K,k,v,w,R;_e.exports=(R=V(12),V(78),V(990),K=($=(b=R).lib).WordArray,v=(k=b.algo).HMAC,w=k.PBKDF2=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:k.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,E){for(var T=this.cfg,x=v.create(T.hasher,P),S=K.create(),A=K.create([1]),F=S.words,N=A.words,_=T.keySize,C=T.iterations;F.length<_;){var L=x.update(E).finalize(A);x.reset();for(var O=L.words,z=O.length,j=L,ce=1;ce<C;ce++){j=x.finalize(j),x.reset();for(var oe=j.words,de=0;de<z;de++)O[de]^=oe[de]}S.concat(L),N[0]++}return S.sigBytes=4*_,S}}),b.PBKDF2=function(P,E,T){return w.create(T).compute(P,E)},R.PBKDF2)},848:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,k=[],G=[],v=[],w=b.algo.RabbitLegacy=U.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,x=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)S[A]^=x[A+4&7];if(T){var F=T.words,N=F[0],_=F[1],C=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(S[0]^=C,S[1]^=O,S[2]^=L,S[3]^=z,S[4]^=C,S[5]^=O,S[6]^=L,S[7]^=z,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(E,T){var x=this._X;P.call(this),k[0]=x[0]^x[5]>>>16^x[3]<<16,k[1]=x[2]^x[7]>>>16^x[5]<<16,k[2]=x[4]^x[1]>>>16^x[7]<<16,k[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)k[S]=16711935&(k[S]<<8|k[S]>>>24)|4278255360&(k[S]<<24|k[S]>>>8),E[T+S]^=k[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,T=this._C,x=0;x<8;x++)G[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<G[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<G[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<G[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<G[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<G[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<G[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<G[6]>>>0?1:0)|0,this._b=T[7]>>>0<G[7]>>>0?1:0,x=0;x<8;x++){var S=E[x]+T[x],A=65535&S,F=S>>>16;v[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}b.RabbitLegacy=U._createHelper(w)}(),R.RabbitLegacy)},969:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,k=[],G=[],v=[],w=b.algo.Rabbit=U.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,x=0;x<4;x++)E[x]=16711935&(E[x]<<8|E[x]>>>24)|4278255360&(E[x]<<24|E[x]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=S[x+4&7];if(T){var F=T.words,N=F[0],_=F[1],C=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=z,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(E,T){var x=this._X;P.call(this),k[0]=x[0]^x[5]>>>16^x[3]<<16,k[1]=x[2]^x[7]>>>16^x[5]<<16,k[2]=x[4]^x[1]>>>16^x[7]<<16,k[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)k[S]=16711935&(k[S]<<8|k[S]>>>24)|4278255360&(k[S]<<24|k[S]>>>8),E[T+S]^=k[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,T=this._C,x=0;x<8;x++)G[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<G[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<G[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<G[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<G[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<G[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<G[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<G[6]>>>0?1:0)|0,this._b=T[7]>>>0<G[7]>>>0?1:0,x=0;x<8;x++){var S=E[x]+T[x],A=65535&S,F=S>>>16;v[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,E[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,E[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,E[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,E[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,E[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,E[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,E[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}b.Rabbit=U._createHelper(w)}(),R.Rabbit)},195:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,K=b.algo,k=K.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,E=w.sigBytes,T=this._S=[],x=0;x<256;x++)T[x]=x;x=0;for(var S=0;x<256;x++){var A=x%E,N=T[x];T[x]=T[S=(S+T[x]+(P[A>>>2]>>>24-A%4*8&255))%256],T[S]=N}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=G.call(this)},keySize:8,ivSize:0});function G(){for(var w=this._S,P=this._i,E=this._j,T=0,x=0;x<4;x++){var S=w[P=(P+1)%256];w[P]=w[E=(E+w[P])%256],w[E]=S,T|=w[(w[P]+w[E])%256]<<24-8*x}return this._i=P,this._j=E,T}b.RC4=U._createHelper(k);var v=K.RC4Drop=k.extend({cfg:k.cfg.extend({drop:192}),_doReset:function(){k._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)G.call(this)}});b.RC4Drop=U._createHelper(v)}(),R.RC4)},558:function(_e,Ee,V){var R;_e.exports=(R=V(12),function(b){var $=R,U=$.lib,K=U.WordArray,k=U.Hasher,G=$.algo,v=K.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=K.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=K.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=K.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=K.create([0,1518500249,1859775393,2400959708,2840853838]),x=K.create([1352829926,1548603684,1836072691,2053994217,0]),S=G.RIPEMD160=k.extend({_doReset:function(){this._hash=K.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var j=0;j<16;j++){var ce=z+j,oe=O[ce];O[ce]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var ue,qe,Ze,Y,ie,Z,re,wt,Fe,et,Je,de=this._hash.words,Ce=T.words,q=x.words,ae=v.words,me=w.words,se=P.words,ke=E.words;for(Z=ue=de[0],re=qe=de[1],wt=Ze=de[2],Fe=Y=de[3],et=ie=de[4],j=0;j<80;j+=1)Je=ue+O[z+ae[j]]|0,Je+=j<16?A(qe,Ze,Y)+Ce[0]:j<32?F(qe,Ze,Y)+Ce[1]:j<48?N(qe,Ze,Y)+Ce[2]:j<64?_(qe,Ze,Y)+Ce[3]:C(qe,Ze,Y)+Ce[4],Je=(Je=L(Je|=0,se[j]))+ie|0,ue=ie,ie=Y,Y=L(Ze,10),Ze=qe,qe=Je,Je=Z+O[z+me[j]]|0,Je+=j<16?C(re,wt,Fe)+q[0]:j<32?_(re,wt,Fe)+q[1]:j<48?N(re,wt,Fe)+q[2]:j<64?F(re,wt,Fe)+q[3]:A(re,wt,Fe)+q[4],Je=(Je=L(Je|=0,ke[j]))+et|0,Z=et,et=Fe,Fe=L(wt,10),wt=re,re=Je;Je=de[1]+Ze+Fe|0,de[1]=de[2]+Y+et|0,de[2]=de[3]+ie+Z|0,de[3]=de[4]+ue+re|0,de[4]=de[0]+qe+wt|0,de[0]=Je},_doFinalize:function(){var O=this._data,z=O.words,j=8*this._nDataBytes,ce=8*O.sigBytes;z[ce>>>5]|=128<<24-ce%32,z[14+(ce+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(z.length+1),this._process();for(var oe=this._hash,de=oe.words,Ce=0;Ce<5;Ce++){var q=de[Ce];de[Ce]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}return oe},clone:function(){var O=k.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,j){return O^z^j}function F(O,z,j){return O&z|~O&j}function N(O,z,j){return(O|~z)^j}function _(O,z,j){return O&j|z&~j}function C(O,z,j){return O^(z|~j)}function L(O,z){return O<<z|O>>>32-z}$.RIPEMD160=k._createHelper(S),$.HmacRIPEMD160=k._createHmacHelper(S)}(Math),R.RIPEMD160)},446:function(_e,Ee,V){var b,$,U,K,G,v,R;_e.exports=(R=V(12),U=($=(b=R).lib).WordArray,G=[],v=b.algo.SHA1=(K=$.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var E=this._hash.words,T=E[0],x=E[1],S=E[2],A=E[3],F=E[4],N=0;N<80;N++){if(N<16)G[N]=0|w[P+N];else{var _=G[N-3]^G[N-8]^G[N-14]^G[N-16];G[N]=_<<1|_>>>31}var C=(T<<5|T>>>27)+F+G[N];C+=N<20?1518500249+(x&S|~x&A):N<40?1859775393+(x^S^A):N<60?(x&S|x&A|S&A)-1894007588:(x^S^A)-899497514,F=A,A=S,S=x<<30|x>>>2,x=T,T=C}E[0]=E[0]+T|0,E[1]=E[1]+x|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,E=8*this._nDataBytes,T=8*w.sigBytes;return P[T>>>5]|=128<<24-T%32,P[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),P[15+(T+64>>>9<<4)]=E,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=K.clone.call(this);return w._hash=this._hash.clone(),w}}),b.SHA1=K._createHelper(v),b.HmacSHA1=K._createHmacHelper(v),R.SHA1)},811:function(_e,Ee,V){var b,U,K,k,G,R;_e.exports=(R=V(12),V(78),U=(b=R).lib.WordArray,G=(K=b.algo).SHA224=(k=K.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=k._doFinalize.call(this);return v.sigBytes-=4,v}}),b.SHA224=k._createHelper(G),b.HmacSHA224=k._createHmacHelper(G),R.SHA224)},78:function(_e,Ee,V){var R;_e.exports=(R=V(12),function(b){var $=R,U=$.lib,K=U.WordArray,k=U.Hasher,G=$.algo,v=[],w=[];!function(){function T(F){for(var N=b.sqrt(F),_=2;_<=N;_++)if(!(F%_))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var S=2,A=0;A<64;)T(S)&&(A<8&&(v[A]=x(b.pow(S,.5))),w[A]=x(b.pow(S,1/3)),A++),S++}();var P=[],E=G.SHA256=k.extend({_doReset:function(){this._hash=new K.init(v.slice(0))},_doProcessBlock:function(T,x){for(var S=this._hash.words,A=S[0],F=S[1],N=S[2],_=S[3],C=S[4],L=S[5],O=S[6],z=S[7],j=0;j<64;j++){if(j<16)P[j]=0|T[x+j];else{var ce=P[j-15],de=P[j-2];P[j]=((ce<<25|ce>>>7)^(ce<<14|ce>>>18)^ce>>>3)+P[j-7]+((de<<15|de>>>17)^(de<<13|de>>>19)^de>>>10)+P[j-16]}var ae=A&F^A&N^F&N,ke=z+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+w[j]+P[j];z=O,O=L,L=C,C=_+ke|0,_=N,N=F,F=A,A=ke+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ae)|0}S[0]=S[0]+A|0,S[1]=S[1]+F|0,S[2]=S[2]+N|0,S[3]=S[3]+_|0,S[4]=S[4]+C|0,S[5]=S[5]+L|0,S[6]=S[6]+O|0,S[7]=S[7]+z|0},_doFinalize:function(){var T=this._data,x=T.words,S=8*this._nDataBytes,A=8*T.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=b.floor(S/4294967296),x[15+(A+64>>>9<<4)]=S,T.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var T=k.clone.call(this);return T._hash=this._hash.clone(),T}});$.SHA256=k._createHelper(E),$.HmacSHA256=k._createHmacHelper(E)}(Math),R.SHA256)},545:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(802),function(b){var $=R,U=$.lib,K=U.WordArray,k=U.Hasher,v=$.x64.Word,w=$.algo,P=[],E=[],T=[];!function(){for(var A=1,F=0,N=0;N<24;N++){P[A+5*F]=(N+1)*(N+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,j=0,ce=0;ce<7;ce++){if(1&L){var oe=(1<<ce)-1;oe<32?j^=1<<oe:z^=1<<oe-32}128&L?L=L<<1^113:L<<=1}T[O]=v.create(z,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=v.create()}();var S=w.SHA3=k.extend({cfg:k.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var N=this._state,_=this.blockSize/2,C=0;C<_;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=N[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var j=0;j<24;j++){for(var ce=0;ce<5;ce++){for(var oe=0,de=0,Ce=0;Ce<5;Ce++)oe^=(z=N[ce+5*Ce]).high,de^=z.low;var q=x[ce];q.high=oe,q.low=de}for(ce=0;ce<5;ce++){var ae=x[(ce+4)%5],me=x[(ce+1)%5],se=me.high,ke=me.low;for(oe=ae.high^(se<<1|ke>>>31),de=ae.low^(ke<<1|se>>>31),Ce=0;Ce<5;Ce++)(z=N[ce+5*Ce]).high^=oe,z.low^=de}for(var ue=1;ue<25;ue++){var qe=(z=N[ue]).high,Ze=z.low,Y=P[ue];Y<32?(oe=qe<<Y|Ze>>>32-Y,de=Ze<<Y|qe>>>32-Y):(oe=Ze<<Y-32|qe>>>64-Y,de=qe<<Y-32|Ze>>>64-Y);var ie=x[E[ue]];ie.high=oe,ie.low=de}var Z=x[0],re=N[0];for(Z.high=re.high,Z.low=re.low,ce=0;ce<5;ce++)for(Ce=0;Ce<5;Ce++){var wt=x[ue=ce+5*Ce],Fe=x[(ce+1)%5+5*Ce],et=x[(ce+2)%5+5*Ce];(z=N[ue]).high=wt.high^~Fe.high&et.high,z.low=wt.low^~Fe.low&et.low}var z,Je=T[j];(z=N[0]).high^=Je.high,z.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,_=8*A.sigBytes,C=32*this.blockSize;F[_>>>5]|=1<<24-_%32,F[(b.ceil((_+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,j=[],ce=0;ce<z;ce++){var oe=L[ce],de=oe.high,Ce=oe.low;de=16711935&(de<<8|de>>>24)|4278255360&(de<<24|de>>>8),j.push(Ce=16711935&(Ce<<8|Ce>>>24)|4278255360&(Ce<<24|Ce>>>8)),j.push(de)}return new K.init(j,O)},clone:function(){for(var A=k.clone.call(this),F=A._state=this._state.slice(0),N=0;N<25;N++)F[N]=F[N].clone();return A}});$.SHA3=k._createHelper(S),$.HmacSHA3=k._createHmacHelper(S)}(Math),R.SHA3)},913:function(_e,Ee,V){var b,$,U,K,k,G,v,R;_e.exports=(R=V(12),V(802),V(870),U=($=(b=R).x64).Word,K=$.WordArray,v=(k=b.algo).SHA384=(G=k.SHA512).extend({_doReset:function(){this._hash=new K.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=G._doFinalize.call(this);return w.sigBytes-=16,w}}),b.SHA384=G._createHelper(v),b.HmacSHA384=G._createHmacHelper(v),R.SHA384)},870:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(802),function(){var b=R,U=b.lib.Hasher,K=b.x64,k=K.Word,G=K.WordArray,v=b.algo;function w(){return k.create.apply(k,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],E=[];!function(){for(var x=0;x<80;x++)E[x]=w()}();var T=v.SHA512=U.extend({_doReset:function(){this._hash=new G.init([new k.init(1779033703,4089235720),new k.init(3144134277,2227873595),new k.init(1013904242,4271175723),new k.init(2773480762,1595750129),new k.init(1359893119,2917565137),new k.init(2600822924,725511199),new k.init(528734635,4215389547),new k.init(1541459225,327033209)])},_doProcessBlock:function(x,S){for(var A=this._hash.words,F=A[0],N=A[1],_=A[2],C=A[3],L=A[4],O=A[5],z=A[6],j=A[7],ce=F.high,oe=F.low,de=N.high,Ce=N.low,q=_.high,ae=_.low,me=C.high,se=C.low,ke=L.high,ue=L.low,qe=O.high,Ze=O.low,Y=z.high,ie=z.low,Z=j.high,re=j.low,wt=ce,Fe=oe,et=de,Je=Ce,Ye=q,Ui=ae,td=me,ws=se,er=ke,gn=ue,Ei=qe,xc=Ze,nd=Y,Cc=ie,V0=Z,da=re,Dr=0;Dr<80;Dr++){var Tr,ri,Ic=E[Dr];if(Dr<16)ri=Ic.high=0|x[S+2*Dr],Tr=Ic.low=0|x[S+2*Dr+1];else{var bc=E[Dr-15],As=bc.high,fa=bc.low,L0=(fa>>>1|As<<31)^(fa>>>8|As<<24)^(fa>>>7|As<<25),xi=E[Dr-2],Ds=xi.high,ha=xi.low,H0=(ha>>>19|Ds<<13)^(ha<<3|Ds>>>29)^(ha>>>6|Ds<<26),z0=E[Dr-7],U0=E[Dr-16],j0=U0.low;Ic.high=ri=(ri=(ri=((As>>>1|fa<<31)^(As>>>8|fa<<24)^As>>>7)+z0.high+((Tr=L0+z0.low)>>>0<L0>>>0?1:0))+((Ds>>>19|ha<<13)^(Ds<<3|ha>>>29)^Ds>>>6)+((Tr+=H0)>>>0<H0>>>0?1:0))+U0.high+((Tr+=j0)>>>0<j0>>>0?1:0),Ic.low=Tr}var tr,Q2=er&Ei^~er&nd,$0=gn&xc^~gn&Cc,X2=wt&et^wt&Ye^et&Ye,rd=(Fe>>>28|wt<<4)^(Fe<<30|wt>>>2)^(Fe<<25|wt>>>7),id=P[Dr],sd=id.low,Ci=V0+((er>>>14|gn<<18)^(er>>>18|gn<<14)^(er<<23|gn>>>9))+((tr=da+((gn>>>14|er<<18)^(gn>>>18|er<<14)^(gn<<23|er>>>9)))>>>0<da>>>0?1:0),od=rd+(Fe&Je^Fe&Ui^Je&Ui);V0=nd,da=Cc,nd=Ei,Cc=xc,Ei=er,xc=gn,er=td+(Ci=(Ci=(Ci=Ci+Q2+((tr+=$0)>>>0<$0>>>0?1:0))+id.high+((tr+=sd)>>>0<sd>>>0?1:0))+ri+((tr+=Tr)>>>0<Tr>>>0?1:0))+((gn=ws+tr|0)>>>0<ws>>>0?1:0)|0,td=Ye,ws=Ui,Ye=et,Ui=Je,et=wt,Je=Fe,wt=Ci+(((wt>>>28|Fe<<4)^(wt<<30|Fe>>>2)^(wt<<25|Fe>>>7))+X2+(od>>>0<rd>>>0?1:0))+((Fe=tr+od|0)>>>0<tr>>>0?1:0)|0}oe=F.low=oe+Fe,F.high=ce+wt+(oe>>>0<Fe>>>0?1:0),Ce=N.low=Ce+Je,N.high=de+et+(Ce>>>0<Je>>>0?1:0),ae=_.low=ae+Ui,_.high=q+Ye+(ae>>>0<Ui>>>0?1:0),se=C.low=se+ws,C.high=me+td+(se>>>0<ws>>>0?1:0),ue=L.low=ue+gn,L.high=ke+er+(ue>>>0<gn>>>0?1:0),Ze=O.low=Ze+xc,O.high=qe+Ei+(Ze>>>0<xc>>>0?1:0),ie=z.low=ie+Cc,z.high=Y+nd+(ie>>>0<Cc>>>0?1:0),re=j.low=re+da,j.high=Z+V0+(re>>>0<da>>>0?1:0)},_doFinalize:function(){var x=this._data,S=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return S[F>>>5]|=128<<24-F%32,S[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(F+128>>>10<<5)]=A,x.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var x=U.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});b.SHA512=U._createHelper(T),b.HmacSHA512=U._createHmacHelper(T)}(),R.SHA512)},769:function(_e,Ee,V){var R;_e.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,$=b.lib,U=$.WordArray,K=$.BlockCipher,k=b.algo,G=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=k.DES=K.extend({_doReset:function(){for(var N=this._key.words,_=[],C=0;C<56;C++){var L=G[C]-1;_[C]=N[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var j=O[z]=[],ce=w[z];for(C=0;C<24;C++)j[C/6|0]|=_[(v[C]-1+ce)%28]<<31-C%6,j[4+(C/6|0)]|=_[28+(v[C+24]-1+ce)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var oe=this._invSubKeys=[];for(C=0;C<16;C++)oe[C]=O[15-C]},encryptBlock:function(F,N){this._doCryptBlock(F,N,this._subKeys)},decryptBlock:function(F,N){this._doCryptBlock(F,N,this._invSubKeys)},_doCryptBlock:function(F,N,_){this._lBlock=F[N],this._rBlock=F[N+1],x.call(this,4,252645135),x.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=_[C],O=this._lBlock,z=this._rBlock,j=0,ce=0;ce<8;ce++)j|=P[ce][((z^L[ce])&E[ce])>>>0];this._lBlock=z,this._rBlock=O^j}var oe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=oe,x.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[N]=this._lBlock,F[N+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,N){var _=(this._lBlock>>>F^this._rBlock)&N;this._rBlock^=_,this._lBlock^=_<<F}function S(F,N){var _=(this._rBlock>>>F^this._lBlock)&N;this._lBlock^=_,this._rBlock^=_<<F}b.DES=K._createHelper(T);var A=k.TripleDES=K.extend({_doReset:function(){var N=this._key.words;if(2!==N.length&&4!==N.length&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=N.slice(0,2),C=N.length<4?N.slice(0,2):N.slice(2,4),L=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=T.createEncryptor(U.create(_)),this._des2=T.createEncryptor(U.create(C)),this._des3=T.createEncryptor(U.create(L))},encryptBlock:function(F,N){this._des1.encryptBlock(F,N),this._des2.decryptBlock(F,N),this._des3.encryptBlock(F,N)},decryptBlock:function(F,N){this._des3.decryptBlock(F,N),this._des2.encryptBlock(F,N),this._des1.decryptBlock(F,N)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=K._createHelper(A)}(),R.TripleDES)},802:function(_e,Ee,V){var U,K,k,G,R;_e.exports=(R=V(12),K=(U=R.lib).Base,k=U.WordArray,(G=R.x64={}).Word=K.extend({init:function(P,E){this.high=P,this.low=E}}),G.WordArray=K.extend({init:function(P,E){P=this.words=P||[],this.sigBytes=null!=E?E:8*P.length},toX32:function(){for(var P=this.words,E=P.length,T=[],x=0;x<E;x++){var S=P[x];T.push(S.high),T.push(S.low)}return k.create(T,this.sigBytes)},clone:function(){for(var P=K.clone.call(this),E=P.words=this.words.slice(0),T=E.length,x=0;x<T;x++)E[x]=E[x].clone();return P}}),R)},480:()=>{}},_e=>{_e(_e.s=820)}]);