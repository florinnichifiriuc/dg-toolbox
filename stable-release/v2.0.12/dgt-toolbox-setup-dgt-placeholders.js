function setupPlaceHolders(e){setUpPrerequisites(),setUpNavbarReplacement(),setUpChangelog(e),setUpAdminDataLoad(e),setUpPlanetListStatsPanel(e),setUpSharedScansCollector(e),setUpNavigationScanDataPanel(e),setUpAlliancePanel(e),setUpRankings(e),setUpResearchPanel(e)}function setUpPrerequisites(){document.body.prepend(document.createElement("dgt-local-storage-synchronizer")),document.body.prepend(document.createElement("dgt-darkgalaxy-ui-parser")),document.body.prepend(document.createElement("dgt-local-storage-manager"))}function setUpNavbarReplacement(){document.getElementById("content")&&(document.getElementById("content").prepend(document.createElement("dgt-navbar")),document.getElementById("tabpanel").remove())}function setUpChangelog(e){2===e.length&&0===e[1].trim().length&&(document.querySelector("#contentBox .rightContent").id="home-stats",document.querySelector("#contentBox .leftContent").id="news-list",document.getElementById("news-list").prepend(document.createElement("dgt-changelog")))}function setUpAdminDataLoad(e){2===e.length&&0===e[1].trim().length&&document.getElementById("home-stats").append(document.createElement("dgt-admin-load-data-panel"))}function setUpAlliancePanel(e){"alliances"===e[1]&&document.querySelector(".allianceBox")&&document.querySelectorAll(".allianceBox").forEach(e=>{e.querySelector(".plainHeader")&&"member list"===e.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()?(e.querySelector(".playerList").style.display="none",e.querySelector(".plainHeader").style.display="none",e.append(document.createElement("dgt-alliance-members"))):e.querySelector(".plainHeader")&&"alliance announcement"===e.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(e.querySelector(".plainHeader").style.display="none",e.querySelector(".allianceAnnouncement")&&e.querySelector(".allianceAnnouncement").parentElement.classList.add("allianceAnnouncementBox"))})}function setUpResearchPanel(e){"research"===e[1]&&document.querySelector("#contentBox")&&document.querySelector("#contentBox").append(document.createElement("dgt-research-panel"))}function setUpRankings(e){"rankings"===e[1]&&"alliances"===e[2]&&document.querySelector(".rankingsList")&&document.querySelector(".rankingsList").parentElement.append(document.createElement("dgt-alliance-rankings")),"rankings"===e[1]&&"players"===e[2]&&document.querySelector(".rankingsList")&&document.querySelector(".rankingsList").parentElement.prepend(document.createElement("dgt-players-rankings"))}function setUpSharedScansCollector(e){if("planet"===e[1]&&"comms"===(5===e.length&&e[3])){let t=document.querySelector(".opacBackground .opacDarkBackground>form");if(t){if(t.append(document.createElement("dgt-scans-collector")),t.id="planet-scan-form",t.parentElement.id="planet-scan-form-wrapper",t.querySelector(".tableHeader div:nth-child(2)").remove(),document.querySelector("#planet-scan-form-wrapper").nextElementSibling){let a=document.querySelector("#planet-scan-form-wrapper").nextElementSibling.nextElementSibling;a&&(a.id="scanned-planet-wrapper",a.querySelector("#planetHeader").nextElementSibling&&(a.querySelector("#planetHeader").nextElementSibling.remove(),a.querySelector("#planetHeader").nextElementSibling.id="planet-scan-additional"))}if(null!=document.querySelector("#planet-scan-additional .header")&&"fleet list"===document.querySelector("#planet-scan-additional .header").textContent.trim().toLowerCase()&&(t.append(document.createElement("dgt-fleet-scan-details")),document.querySelectorAll("#planet-scan-additional > .left.ofHidden").forEach(e=>{e.classList.add("dgt-fleet"),e.attributes.setNamedItem(document.createAttribute("dgt-fleet-id")),e.attributes.getNamedItem("dgt-fleet-id").value="10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));let t=e.querySelector(".ofHidden:first-child > .right");if(null!=t)e.eta=parseInt(t.textContent.trim().match(/\d+/)[0]),t.innerHTML="ETA "+e.eta;else{let a=document.createElement("div");a.classList.add("right"),a.innerHTML="Planet orbit",e.querySelector(".ofHidden:first-child").prepend(a),e.eta=0}})),null!=document.querySelector("#planet-scan-additional .header")&&"structure list"===document.querySelector("#planet-scan-additional .header").textContent.trim().toLowerCase()){let n=document.createElement("div");n.classList.add("dgt-required-for-invasion","right"),n.innerHTML='<span class="dgt-required-for-invasion-label">Required for invasion:</span><span class="dgt-required-for-invasion-value">0</span>',document.querySelector("#scanned-planet-wrapper .planetHeadSection:nth-child(3) > .ofHidden").append(n)}}}}function setUpPlanetListStatsPanel(e){"planets"===e[1]&&document.getElementById("planetList").prepend(document.createElement("dgt-planet-list-stats-panel"))}function setUpNavigationScanDataPanel(e){"navigation"!==e[1]||6!==e.length||isNaN(+e[2])||isNaN(+e[3])||isNaN(+e[4])||(document.querySelector("div.navigation").prepend(document.createElement("dgt-navigation-scan-data-panel")),document.querySelector(".opacBackground.ofHidden.padding").classList.add("disable-overflow"),document.querySelectorAll("div.navigation .row .planets").forEach(e=>{let t=document.createElement("table");t.classList.add("dgt-navigation-scan"),t.innerHTML='<tbody><tr class="dgt-navigation-scan-coords"><td class="dgt-navigation-scan-coords-label"><img src="https://i.imgur.com/HcC4l22.png" width="17" height="17"></td><td class="dgt-navigation-scan-coords-value"></td></tr><tr class="dgt-navigation-scan-size"><td class="dgt-navigation-scan-size-ground"><img src="https://i.imgur.com/cSsBIwv.jpg" title="Workers" width="17" height="17" /><span></span></td><td class="dgt-navigation-scan-size-orbit"><img src="https://i.imgur.com/7wtJcXw.jpg" title="Workers" width="17" height="17" /><span></span></td></tr><tr class="dgt-navigation-scan-resource metal"><td class="abundance"></td><td class="production"></td></tr><tr class="dgt-navigation-scan-resource mineral"><td class="abundance"></td><td class="production"></td></tr><tr class="dgt-navigation-scan-resource food"><td class="abundance"></td><td class="production"></td></tr><tr class="dgt-navigation-scan-resource energy"><td class="abundance"></td><td class="production"></td></tr></tbody>';let a=e.querySelector("div.text");if(null!=a){let n=document.createElement("span");n.id="dgt-navigation-scan-turn",a.append(n)}e.insertBefore(t,e.querySelector("div.text")),e.querySelector(".dgt-navigation-scan-coords-value").textContent=e.querySelector(".coords>span").textContent.trim(),e.querySelectorAll("br").forEach(e=>{e.remove()});let l=document.createElement("table");l.classList.add("dgt-navigation-scan-population"),l.innerHTML='<tbody><tr class="dgt-navigation-scan-population-data"><td class="dgt-navigation-scan-workers-icon"><img src="https://i.imgur.com/rpxIheY.jpg" title="Workers" width="17" height="17" /></td><td class="dgt-navigation-scan-workers-value"></td><td class="dgt-navigation-scan-workers-gr"></td></tr><tr class="dgt-navigation-scan-population-data"><td class="dgt-navigation-scan-soldiers-icon"><img src="https://i.imgur.com/0varSGq.jpg" title="Soldiers" width="17" height="17" /></td><td class="dgt-navigation-scan-soldiers-value"></td><td class="dgt-navigation-scan-soldiers-ab"></td></tr></tbody>',l.style.display="none",e.append(l);let r=document.createElement("table");r.classList.add("dgt-navigation-scan-structures"),r.innerHTML='<tbody><tr class="dgt-navigation-scan-structures-data"><td colspan="2" class="invasion-label">Invade:</td><td colspan="2" class="invasion-value"></td></tr><tr class="dgt-navigation-scan-structures-data"><td class="st"></td><td class="hb"></td><td class="jg"></td><td class="cs"></td></tr><tr class="dgt-navigation-scan-structures-data"><td class="lw"></td><td class="sy"></td><td class="hw"></td><td class="sd"></td></tr></tbody>',r.style.display="none",e.append(r)}))}
